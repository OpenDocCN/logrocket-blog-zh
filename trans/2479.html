<html>
<head>
<title>New features in UnoCSS: A Tailwind CSS alternative - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>UnoCSS 中的新特性:一个顺风 CSS 替代方案- LogRocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/new-features-unocss-tailwind-css-alternative/#0001-01-01">https://blog.logrocket.com/new-features-unocss-tailwind-css-alternative/#0001-01-01</a></blockquote><div><article class="article-post">
<p>UnoCSS 是一个完全可定制的原子 CSS 引擎，灵感来自于<a href="http://windicss.org/"> Windi CSS </a>、Tailwind CSS 和<a href="https://github.com/tw-in-js/twind"> Twind </a>。UnoCSS 不是一个 CSS 框架，但它是一个可以用来创建框架的引擎。它提供了流行的实用优先 CSS 框架的公共超集，如 Tailwind CSS、Windi CSS 和 Bootstrap。</p>
<p>由于向 CSS 引入了几个令人鼓舞的特性，UnoCSS 正成为人们谈论最多的样式工具之一。例如，UnoCSS 是灵活的，没有核心实用程序，它的功能通过几个预置来提供。</p>
<p>在本教程中，我们将浏览这些新特性，学习如何在我们的应用程序中应用它们。要跟随本教程，您需要以下内容:</p>
<ul>
<li>一个好的文本编辑器</li>
<li>对 CSS 及其框架有很好的理解</li>
</ul>
<p>我们开始吧！</p>
<h2>UnoCSS 入门</h2>
<p>要通过 Vite 安装 UnoCSS，请运行以下命令:</p>
<pre>npm i -D unocss</pre>
<blockquote><p>要深入了解可以用来在应用程序中安装 UnoCSS 的其他包，请查看这个<a href="https://github.com/antfu/unocss/tree/main/packages"> GitHub repo </a>。</p></blockquote>
<p>然后，用下面的代码导入 UnoCSS:</p>
<pre>// vite.config.ts
import Unocss from 'unocss/vite'
export default {
  plugins: [
    Unocss({ /* options */ })
  ]
}
</pre>
<p>最后，在主条目中添加<code>uno.css</code>:</p>
<pre>// main.ts
import 'uno.css'
</pre>
<p>现在我们已经安装了 UnoCSS，让我们看看它带来的新特性，在我们的演示项目中安装每一个。</p>
<h2>UnoCSS 默认和自定义预设</h2>
<p>通过预设，您可以在 UnoCSS 中创建自己的自定义框架。您还可以将您的自定义规则和变体组合成预设，以便与其他人共享。</p>
<p><a href="https://github.com/antfu/unocss/tree/main/packages/preset-uno"> @unocss/preset-uno </a>是默认预设。它是常见的<a href="https://blog.logrocket.com/creating-custom-themes-tailwind-css/">实用优先 CSS 框架的超集，如 Tailwind CSS </a>、WindiCSS 和 Bootstrap。来自这些流行框架的不同实用程序在 UnoCSS 中都是合法使用的:</p>
<pre>.ml-3 { margin-left: 0.75rem; } // TailwindCSS
.ms-2 { margin-inline-start: 0.5rem; } // Bootstrap
.mt-10px { margin-top: 10px; } // WindiCSS
.ma4 { margin: 1rem; } // Tachyons
</pre>
<p>其他预设包括:</p>

<p>要在应用程序中设置预设，请使用以下代码:</p>
<pre>// vite.config.ts
import Unocss from 'unocss/vite'
import { presetUno, presetAttributify } from 'unocss'

export default {
  plugins: [
    Unocss({
      presets: [
        presetAttributify({ /* preset options */}),
        presetUno(),
        // ...custom presets
      ]
    })
  ]
}
</pre>
<p>如果您指定要使用的预设，默认预设将被忽略。您也可以通过将<code>presets</code>设置为空数组来禁用默认预设:</p>
<pre>// vite.config.ts
import Unocss from 'unocss/vite'

export default {
  plugins: [
    Unocss({
      presets: [], // disable default preset
      rules: [
        // your custom rules
      ]
    })
  ]
} 
</pre>
<h2>用户现在可以控制 CSS 范围</h2>
<p>UnoCSS 允许用户控制 CSS 重置，调整他们在 UnoCSS 上使用的框架以适应他们的需求，并打开了 CSS 范围的可能性。</p>
<p>例如，在<a href="https://www.npmjs.com/package/@unocss/vite"> Vite 插件</a>上有一个<code>scoped-vue</code>模式，它为单个组件生成作用域样式。现在，您可以成功地将作用域样式作为组件库进行移动，而不会与用户的 CSS 发生冲突。请参见下图:</p>
<pre>&lt;template&gt;
  &lt;div class="m-2 rounded"&gt;&lt;slot&gt;&lt;/div&gt;
&lt;template&gt;
&lt;!-- the following will be inject in the bundler --&gt;
&lt;style scoped&gt;
.m-2{margin:0.5rem;}
.rounded{border-radius:0.25rem;}
&lt;/style&gt;  
</pre>
<h2>UnoCSS 是完全可定制的</h2>
<p>与其他基于实用程序的 CSS 框架不同，UnoCSS 在任何应用程序中都是完全可定制的。它从 Tailwind CSS 等其他框架中获取预设逻辑，但设计人员可以改变预设代码中的特定属性。</p>
<p>假设在设计应用程序的样式时，您想要添加一个 0.25 <code>rem</code>的元素边距。不用写传统的<code>margin: 0.25rem</code>，可以用<code>m-1</code>来表示:</p>
<pre>rules: [
  ['m-1', { margin: '0.25rem' }]
]
</pre>
<p>现在，如果你想给网页上的任何元素 25 px 的边距，你只需使用<code>m-1</code>。</p>
<h2>UnoCSS 属性模式</h2>
<p>Attribufy 模式是 UnoCSS 中一个惊人的新特性，它允许您用属性或类来组织和分组您的实用程序。它保留了常规的 Tailwind CSS 语法，但使您能够使用带有类和属性的 Tailwind CSS 实用程序。假设您正在使用 Tailwind CSS 的实用程序设计网页上的一个按钮:</p>
<pre class="language-css hljs">&lt;button id="start-btn" class="bg-pink-700 px-9 py-3 text-white text-2xl rounded-lg hover:bg-pink-400"&gt;Start&lt;/button&gt;
</pre>
<p>按钮的代码会变得很长，很难跟上。然而，UnoCSS <a href="https://windicss.org/posts/attributify.html">属性化模式</a>让您可以轻松地将这些实用程序转换为属性:</p>
<pre class="language-css hljs">&lt;button 
id="start-btn" 
bg="pink-700 hover:pink-400"
p="x-9 y-3"
text="white 2xl"
border="rounded-lg"
&gt;
Start
&lt;/button&gt;
```
UnoCSS also provides support for attributes that do not have a particular value. For instance, you can now express 
```
&lt;div class="flex justify-center gap-4" /&gt;
```
as:
```
&lt;div flex justify-center gap-4 /&gt;</pre>
<p>以这种方式使用属性模式为更干净、更有组织的代码铺平了道路。</p>
<h2>UnoCSS 使用纯 CSS 图标</h2>
<p>UnoCSS 使用完全为 CSS 而不是 JavaScript 制作的图标，使得在应用程序中使用图标更加容易。用下面的命令安装从<a href="https://iconify.design/">图标化</a>预置的 UnoCSS 图标:</p>
<pre class="language-shell hljs">npm i -D unocss @unocss/preset-icons @iconify/json
</pre>
<p>安装这个预置后，你会发现一个名为<code>@iconify/json</code>的文件夹，就是保存 Iconify 的图标数据的文件夹。您可以在您的<code>vite.config.js</code>中导入它，如下所示:</p>
<pre>import { defineConfig } from 'vite'
import Unocss from 'unocss'
import UnocssIcons from '@unocss/preset-icons'
export default defineConfig({
  plugins: [
    Unocss({
      // when `presets` is specified, the default preset will be disabled
      // so you could only use the pure CSS icons in addition to your
      // existing app without polluting other CSS 
      presets: [
        UnocssIcons({
          // options
          prefix: 'i-',
          extraProperties: {
            display: 'inline-block'
          }
        }),
        // presetUno() - if you want to use other atomic CSS as well
      ],
    }),
  ],
})
</pre>
<p>您也可以安装单独的图标集。例如，您可以为<a href="https://www.carbondesignsystem.com/guidelines/icons/library/">碳图标</a>安装<code>@iconify-json/carbon</code>，或者为<a href="https://materialdesignicons.com/">材料设计图标</a>安装<code>@iconify-json/mdi</code>。</p>
<h2>UnoCSS 使用自定义变量</h2>
<p><a href="https://windicss.org/utilities/variants.html#variants">变体</a>允许你指定一个实用程序什么时候应该被激活，例如，你可以使用屏幕大小，系统主题，或者任何<code>pseudo-selector</code>比如<code>:checked</code>或者<code>:hover</code>。</p>
<p>您可以使用<code>:seperator</code>指定变量，并在需要时以下列方式组合它们:</p>
<pre class="language-css hljs">md:bg-black-500 sm:hover:bg-grey-300 dark:bg-white
</pre>
<p>假设您想使用 TailwindCSS 的<code>:hover</code>变体。您可以这样做:</p>
<pre class="language-css hljs">variants: [
  // hover:
  (matcher) =&gt; {
    if (!matcher.startsWith('hover:'))
      return matcher
    return {
      // slice `hover:` prefix and passed to the next variants and rules
      matcher: matcher.slice(6),
      selector: s =&gt; `${s}:hover`,
    }
  }
],
rules: [
  [/^m-(\d)$/, ([, d]) =&gt; ({ margin: `${d / 4}rem` })],
]
</pre>
<p>在上面的代码中，<code>match</code>控制变量何时启用。如果生成的 CSS 选择器是一个字符串，它将被用来匹配这个算法。<code>selector</code>提供自定义返回值的选项。</p>
<p>比如我们对<code>hover:m-2</code>进行匹配，就会从用户中取出，发给所有变体进行匹配。然后它返回结果<code>m-2</code>，该结果将用于另一轮匹配变量。如果没有更多的变量被匹配，<code>m-2</code>然后去匹配规则，生成<code>.m-2 { margin: 0.5rem; }</code>。</p>
<p>最后，通过将<code>:hover</code>附加到<code>selector</code>钩子，将转换后的变量应用到生成的 CSS。结果是前面的 CSS:</p>
<pre class="language-css hljs">.hover\:m-2:hover { margin: 0.5rem; }
</pre>
<p><code>m-2</code>只有当用户将鼠标悬停在元素上时才有效。</p>
<h2>UnoCSS 性能</h2>
<p>鉴于 UnoCSS 的灵活性，有理由怀疑它是否比其他 CSS 框架执行得更有效。UnoCSS 开发人员编写了一个简单的基准程序来比较性能，结果如下:</p>
<pre class="language-css hljs">10/21/2021, 2:17:45 PM
1656 utilities | x50 runs
none                            8.75 ms /    0.00 ms 
unocss       v0.0.0            13.72 ms /    4.97 ms (x1.00)
windicss     v3.1.9           980.41 ms /  971.66 ms (x195.36)
tailwindcss  v3.0.0-alpha.1  1258.54 ms / 1249.79 ms (x251.28)
</pre>
<p>这个结果解释了 UnoCSS 可以比 Tailwind 的 JIT 和 Windi CSS 快 200 倍。大约零开销意味着您可以轻松地将 UnoCSS 集成到您预先存在的应用程序中，并使它与其他框架一起工作，而不会有任何性能损失。</p>
<h2>结论</h2>
<p>尽管它很新，但由于其简单性、灵活性和可靠性，UnoCSS 在开发人员社区中的声誉正在迅速增长。使用 UnoCSS，您可以构建像 TailwindCSS、WindiCSS、Tachyons 和您的自定义类库这样的框架。在本文中，我们讨论了开始使用 UnoCSS 的基础知识，回顾了它的优点和基本配置。如有疑问，一定要在下方留言评论！</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>你的前端是否占用了用户的 CPU？</h2><p>随着 web 前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端 CPU 使用、内存使用等感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的 DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试 web 和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>