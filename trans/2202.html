<html>
<head>
<title>daisyUI: Tailwind CSS components for reducing markup - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>daisyUI:用于减少标记的顺风 CSS 组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/daisyui-tailwind-components-react-apps/#0001-01-01">https://blog.logrocket.com/daisyui-tailwind-components-react-apps/#0001-01-01</a></blockquote><div><article class="article-post">
<p>尽管 Tailwind CSS 非常受欢迎，但许多开发人员都很难适应这个框架，这主要是因为随着应用程序的扩展，标记的可读性降低了。</p>
<p>daisyUI 是一个可定制的 Tailwind CSS 组件库，可以防止前端应用程序中的冗长标记。daisyUI 专注于为用户界面定制和创建主题，使用纯 CSS 和 Tailwind 实用程序类，允许开发人员编写干净的 HTML。</p>
<p>在本文中，我们将通过在 React 中构建一个获取和组织照片的图库来探索 daisyUI，了解如何在不编写冗长标记的情况下实现 Tailwind 的性能和定制。</p>
<p>要跟随本教程，您需要以下内容:</p>
<ul>
<li>React 和 JavaScript 的基础知识</li>
<li>Node.js 和 npm 安装在您的计算机上</li>
<li>顺风 CSS 和实用程序类的基础知识</li>
</ul>
<p>我们开始吧！</p>
<blockquote><p>本教程中示例应用程序的代码可以在<a href="https://github.com/iamfortune/daisyUI-photo-gallery-app"> GitHub </a>上找到。</p></blockquote>
<h2>生成新的 React 应用程序</h2>
<p>首先，我们将创建一个新的 React 应用程序，并使用 Create React App 引导它；在您的终端中运行以下命令:</p>
<pre class="language-bash hljs">npx create-react-app daisyui-app
</pre>
<p>虽然我将这个示例项目命名为<code>daisyui-app</code>，但是您可以用您选择的任何名称替换它。接下来，导航到项目目录，通过运行以下命令启动开发服务器:</p>
<pre class="language-bash hljs">cd daisyui-app &amp;&amp; yarn start 
</pre>
<p>上面的命令将打开一个浏览器选项卡，显示默认的样板应用程序。最后，您需要按照本文中列出的步骤为您的应用程序设置 Tailwind CSS。</p>
<h3>安装依赖项</h3>
<p>生成新的 React 项目并为 Create React App 配置 Tailwind CSS 后，让我们在应用程序中安装以下必需的依赖项:</p>
<ul>
<li>daisyUI:为构建和设计我们的应用程序提供组件</li>
<li>Tailwind CSS:为我们的 daisyUI 组件提供实用程序类</li>
<li>PostCSS:用于样式化 JavaScript 插件</li>
<li>Axios:处理 API 请求</li>
</ul>
<p>在您的终端中运行以下代码:</p>
<pre class="language-bash hljs">yarn add daisyui tailwindcss postcss axios
</pre>
<p>接下来，导航到您的<code>tailwind.config.js</code>文件并添加以下代码:</p>
<pre class="language-axios hljs">plugins: [require("daisyui")],
</pre>
<p>上面的代码在我们的 Tailwind CSS 配置中包含了 daisyUI 支持，提供了对 Tailwind 实用程序类的访问，我们将使用这些类来定制我们的 daisyUI 组件样式。</p>
<h2>构建照片库应用程序</h2>
<p>在这一节中，我们将构建应用程序所需的三个组件:一个用于应用程序标题的<code>Intro</code>组件，一个用于应用程序导航栏的<code>Navbar</code>组件，以及一个用于显示和组织照片的<code>Photo</code>组件。</p>
<p>为了访问图像并为我们的应用程序构建组件，我们将使用<a href="https://unsplash.com/"> Unsplash </a>。如果您还没有帐户，请创建一个帐户。</p>
<h3><code>Intro</code>组件</h3>
<p><code>Intro</code>组件将包含一个来自 Unsplash 的图像 URL 和一个应用程序登录页面的背景图像。在您的<code>components/intro/intro.jsx</code>文件中，添加以下代码:</p>
<pre>const Intro = () =&gt; {
    const imgURL =
        "https://images.unsplash.com/photo-1606819717115-9159c900370b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80";
    return (
        &lt;div
            className="hero h-96"
            style={{
                backgroundImage: `url(${imgURL})`,
            }}
        &gt;
            &lt;div className="hero-overlay bg-opacity-60" /&gt;
            &lt;div className="text-center hero-content text-neutral-content"&gt;
                &lt;div className="w-full"&gt;
                    &lt;h1 className="mb-6 text-5xl font-bold"&gt;
                        Hello there, welcome to our daisy gallery
                    &lt;/h1&gt;
                    &lt;p className="text-lg"&gt;
                        Built with images from{" "}
                        &lt;a
                            href="https://unsplash.com/developers"
                            className="hover underline mt-8 bg-white px-2 py-1.5 rounded-sm text-black"
                        &gt;
                            Unsplash API
                        &lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};
export default Intro;</pre>
<p>在上面的代码中，我们创建了一个<code>Intro</code>组件；在内部，我们初始化了一个<code>imgURL</code>，它包含我们的登录页面上的图像的 URL。</p>
<p>接下来，我们使用 Tailwind CSS 类为应用程序的登录页面组件定制了样式。我们还添加了一个到<a href="https://unsplash.com/developers"> Unsplash 开发者 API </a>的链接。现在，您的应用程序应该看起来像下图:</p>
<p><img data-attachment-id="69302" data-permalink="https://blog.logrocket.com/daisyui-tailwind-components-react-apps/unsplash-developers-api-new-daisyui-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png" data-orig-size="645,449" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="unsplash-developers-api-new-daisyui-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app-300x209.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png" decoding="async" class="aligncenter wp-image-69302 size-full jetpack-lazy-image" src="../Images/d663ba1aa0d24e30131182c5c15288b8.png" alt="Unsplash Developers API New Daisyui App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png 645w, https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app-300x209.png 300w" data-lazy-sizes="(max-width: 645px) 100vw, 645px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="69302" data-permalink="https://blog.logrocket.com/daisyui-tailwind-components-react-apps/unsplash-developers-api-new-daisyui-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png" data-orig-size="645,449" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="unsplash-developers-api-new-daisyui-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app-300x209.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png" decoding="async" loading="lazy" class="aligncenter wp-image-69302 size-full" src="../Images/d663ba1aa0d24e30131182c5c15288b8.png" alt="Unsplash Developers API New Daisyui App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png 645w, https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app-300x209.png 300w" sizes="(max-width: 645px) 100vw, 645px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/unsplash-developers-api-new-daisyui-app.png"/></noscript>
<h3>构建一个组件</h3>
<p>现在，让我们构建一个简单的<code>Navbar</code>组件，并使用 daisyUI 的组件类添加定制:</p>
<pre>const Navbar = () =&gt; {

    return (
        &lt;div className="navbar flex-col shadow-lg bg-neutral text-neutral-content"&gt;
            &lt;div className="flex-1 px-2 mx-2"&gt;
                &lt;span className="text-lg font-bold"&gt;Daisy Photo Gallery&lt;/span&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};

export default Navbar;</pre>
<p>在上面的代码中，我们通过使用<code>font-bold</code>为 Navbar 加粗了字体，并使用<code>text-leg</code>组件指定了大字体。</p>
<h3>构建我们的<code>Photo</code>组件</h3>
<p>接下来，我们将构建一个简单的<code>Photo</code>组件来呈现从 Unsplash 获取的图像；为了呈现我们的<code>Photo</code>组件，我们将把它包装在一个<code>figure</code>组件中:</p>
<pre>const Photo = ({ imgURL }) =&gt; {
    return (
        &lt;&gt;
            &lt;div className="card"&gt;
                &lt;figure&gt;
                  &lt;img src={imgURL} alt="unsplash img" /&gt;
                &lt;/figure&gt;
            &lt;/div&gt;
        &lt;/&gt;
    );
};

export default Photo;
</pre>
<p>在上面的代码块中，我们析构了我们的<code>Photo</code>组件，并将它传递给了我们的 Unsplash <code>imgURL</code>。接下来，我们使用 daisyUI 的<code>card</code>组件类为我们的照片创建了一个卡片。最后，我们将图像包装在<code>figure</code>标签中，缩小它们以适合我们的<code>Photo</code>组件容器。</p>
<h2>获取和整理照片</h2>
<p>现在，我们将使用组件从 Unsplash API 中获取随机照片，然后创建类别来组织它们。首先，让我们通过将下面的代码块添加到我们的<code>App.js</code>文件来导入我们的包:</p>
<pre>import { useState, useEffect } from "react";
import axios from "axios";
import Intro from "./components/Intro/Intro";
import Navbar from "./components/Navbar/Navbar";
import Photo from "./components/Photo/Photo";
</pre>
<p>在上面的代码中，我们导入了我们的组件，以及<code>useState</code>和<code>useEffect</code>钩子。接下来，我们将通过添加下面的代码来初始化一个<code>app</code>组件:</p>
<pre>const App = () =&amp;gt; {
    const [selectedCategory, setSelectedCategory] = useState("RANDOM");
    const [photos, setPhotos] = useState([]);
    const [categories] = useState([
        "RANDOM",
        "TECHNOLOGIES",
        "ARTS",
        "SPORTS",
        "GAMES",
    ]);
</pre>
<p>在我们的<code>app</code>组件中，我们使用 React 的<code>useState</code>变量为<code>categories</code>和<code>Photos</code>创建了状态。然后，我们创建了不同类别的数组，包括<code>RANDOM</code>、<code>TECHNOLOGIES</code>、<code>ARTS</code>、<code>SPORTS</code>和<code>GAMES</code>。</p>
<p>现在，让我们编写一个从 Unsplash API 中获取随机照片的函数:</p>
<pre>const fetchRandomPhotos = async () =&amp;gt; {
        try {
            const res = await axios.get("https://api.unsplash.com/photos/random", {
                params: {
                    client_id: process.env.REACT_APP_UNSPLASH_ACCESS_KEY,
                    count: 12,
                },
            });
            const photoArr = res.data?.map((photo) =&amp;gt; photo?.urls?.regular);
            setPhotos(photoArr);
        } catch (error) {
            setPhotos([]);
            console.error(error?.response?.data?.message);
        }
    };
</pre>
<p>在上面的代码块中，我们创建了<code>getRandomPhotos</code>函数，它从我们的 Unsplash API 中获取随机照片。为了设置所有的图像，我们绘制了照片阵列。对于身份验证，我们通过了从 Unsplash Developers API 仪表板获得的<code>client_id</code>。最后，我们指定图像的数量为<code>count: 12</code>。</p>
<p>现在，我们将编写一个基于照片类别返回照片的函数:</p>
<pre>  const fetchPhotoBasedonCategory = async () =&amp;gt; {
        try {
            const res = await axios.get("https://api.unsplash.com/search/photos", {
                params: {
                    client_id: process.env.REACT_APP_UNSPLASH_ACCESS_KEY,
                    query: selectedCategory.toLowerCase(),
                },
            });
            const photoArr = res.data?.results?.map((photo) =&amp;gt; photo?.urls?.regular);
            setPhotos(photoArr);
        } catch (error) {
            setPhotos([])
            console.error(error?.response?.data?.message);
        }
    };
</pre>
<p>类似于我们的<code>getRandomPhotos</code>函数，我们指定了类别，并使用<code>map</code>对照片列表进行排序，只返回用户指定类别中的照片。为了渲染图像，我们从 Unsplash 映射图像数组，只设置指定数量的图像。我们还将所有错误记录到控制台:</p>
<pre>useEffect(() =&gt; {
        if (selectedCategory === "RANDOM") {
            return fetchRandomPhotos();
        }
        fetchPhotoBasedonCategory();
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [selectedCategory]);

    return (
        &lt;&gt;
            &lt;Navbar /&gt;
            &lt;main className="mb-10"&gt;
                &lt;Intro /&gt;
                &lt;nav&gt;
                    &lt;div className="tabs mt-10 justify-center"&gt;
                        {categories.map((category) =&gt; (
                            &lt;p
                                key={category}
                                onClick={() =&gt; setSelectedCategory(category)}
                                role="button"
                                className={`tab tab-bordered 
                            ${selectedCategory === category &amp;&amp; "tab-active"}`}
                            &gt;
                                {category}
                            &lt;/p&gt;
                        ))}
                    &lt;/div&gt;
                &lt;/nav&gt;
                &lt;section className="mt-4 mx-auto w-10/12 relative"&gt;
                    &lt;div className="grid grid-cols-3 justify-center gap-3"&gt;
                        {photos?.length ? (
                            photos.map((photo) =&gt; &lt;Photo key={photo} imgURL={photo} /&gt;)
                        ) : (
                            &lt;p className="mt-10 alert alert-info absolute left-1/2 -ml-20"&gt;
                                No photo at the moment!
                            &lt;/p&gt;
                        )}
                    &lt;/div&gt;
                &lt;/section&gt;
            &lt;/main&gt;
        &lt;/&gt;
    );
};

export default App;</pre>
<p>在上面的代码块中，如果用户选择了<code>random</code>类别，我们使用 React 的<code>useEffect</code>钩子来指定<code>RANDOM</code>。如果用户指定了一个类别，API 将返回所选类别中的图像。</p>
<p>最后，我们呈现了整个应用程序，并向类别部分添加了一个<code>onClick</code>事件。此外，我们添加了一个函数，指定只向用户显示所选类别中的图像。最后，我们添加了一条消息，提示 API 中没有可用的照片。尽管这不太可能，但这是一个很好的实践。</p>
<p>如果操作正确，我们的应用程序应该类似于下图:</p>
<p><img data-attachment-id="69300" data-permalink="https://blog.logrocket.com/daisyui-tailwind-components-react-apps/final-daisyui-unsplash-react-photo-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png" data-orig-size="730,364" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-daisyui-unsplash-react-photo-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png" decoding="async" class="aligncenter wp-image-69300 size-full jetpack-lazy-image" src="../Images/043ece614c1626e4b708df63f19e4224.png" alt="Final Daisyui Unsplash React Photo App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app-300x150.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="69300" data-permalink="https://blog.logrocket.com/daisyui-tailwind-components-react-apps/final-daisyui-unsplash-react-photo-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png" data-orig-size="730,364" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-daisyui-unsplash-react-photo-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png" decoding="async" loading="lazy" class="aligncenter wp-image-69300 size-full" src="../Images/043ece614c1626e4b708df63f19e4224.png" alt="Final Daisyui Unsplash React Photo App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app-300x150.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/final-daisyui-unsplash-react-photo-app.png"/></noscript>
<h2>结论</h2>
<p>通过添加像<code>btn</code>、<code>card</code>和<code>footer</code>这样的组件类，daisyUI 通过允许开发人员编写干净的 HTML，显著改进了 Tailwind CSS。在本教程中，我们探索了用 CSS 变量和 Tailwind CSS 实用程序类构建和定制我们自己的 React 应用程序。</p>
<p>虽然我们的例子主要是构建一个图片库，但是您可以将本教程中的信息应用到您自己的应用程序中，在缩放项目时，享受 Tailwind 的样式性能而不损害代码的可读性。我希望你喜欢这个教程！</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用 LogRocket 消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款 React analytics 解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket 告诉您 React 应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS 异常、前端性能指标和用户交互。然后，LogRocket 使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的 React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试 LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>