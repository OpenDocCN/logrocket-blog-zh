<html>
<head>
<title>Comparing React Native analytics tools - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>比较 React 本地分析工具- LogRocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/comparing-react-native-analytics-tools/#0001-01-01">https://blog.logrocket.com/comparing-react-native-analytics-tools/#0001-01-01</a></blockquote><div><article class="article-post">
<p>通过尝试了解用户行为和应用程序内的交互，分析在改善用户体验方面发挥着重要作用。React Native 与三个主要的分析工具兼容，这些工具有助于改善 React Native 应用程序的体验:微软的 App Center Analytics、谷歌的 Firebase Analytics 和 Segment。</p>
<p>在本帖中，我们将探讨每个工具的优势，以及它们如何帮助开发人员在 React Native 中导航和利用分析。</p>
<h2>微软的应用中心分析</h2>
<p>由<a href="https://blog.logrocket.com/continuous-deployment-of-react-native-app-with-azure-devops/">微软</a>创建的 App Center Analytics 是<a href="https://docs.microsoft.com/en-us/appcenter/sdk/"> App Center SDK </a>的一部分，它可以捕获用户会话并跟踪与应用程序的所有交互，同时收集设备和操作系统信息。</p>
<h3>应用中心分析使用</h3>
<p>要使用 App Center Analytics，我们必须安装<a href="https://docs.microsoft.com/en-us/appcenter/sdk/getting-started/react-native"> App Center React Native SDK </a>。</p>
<p>首先，我们必须在<a href="https://appcenter.ms/"> appcenter.ms </a>上创建一个帐户和一个新应用。<a href="https://docs.microsoft.com/en-us/appcenter/sdk/getting-started/react-native"> React 原生文档</a>展示了如何为 iOS 和 Android 安装软件包和集成 SDK。在这篇文章中，我们将涵盖一个高层次的安装概述。</p>
<h3>应用中心分析安装</h3>
<p>首先使用 Yarn 安装 SDK:</p>
<pre>yarn add appcenter appcenter-analytics appcenter-crashes --exact
</pre>
<p>在<code>app</code>目录下，运行<code>cd ios &amp;&amp; pod install</code> <code>--repo-update</code>安装 iOS 依赖项。</p>
<p>接下来，使用<a href="https://blog.logrocket.com/xcode-for-react-native-developers-tutorial-and-best-practices/"> Xcode </a>创建一个新文件并命名为<code>AppCenter-Config.plist</code>。右键单击根文件夹；选择<strong>添加新文件</strong>和<code>Property List file</code>。</p>
<p><img data-attachment-id="53667" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/create-new-file-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png" data-orig-size="730,462" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new file Xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png" decoding="async" class="aligncenter size-full wp-image-53667 jetpack-lazy-image" src="../Images/55189c1b6f08184436e42dc372afa7e0.png" alt="Create New File In Xcode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode-300x190.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53667" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/create-new-file-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png" data-orig-size="730,462" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new file Xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53667" src="../Images/55189c1b6f08184436e42dc372afa7e0.png" alt="Create New File In Xcode" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode-300x190.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Create-new-file-xcode.png"/></noscript>
<p>打开文件，将下面的代码复制并粘贴到我们刚刚创建的文件中:</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "https://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
    &lt;dict&gt;
    &lt;key&gt;AppSecret&lt;/key&gt;
    &lt;string&gt;{APP_SECRET_VALUE}&lt;/string&gt;
    &lt;/dict&gt;
&lt;/plist&gt;
</pre>
<p>使用我们在 appcenter.ms 中创建的应用程序中的<code>APP_SECRET</code>键更改<code>{APP_SECRET_VALUE}</code>。</p>
<p><code>AppCenter-Config.plist</code>中的内容应该如下图所示:</p>
<p><img data-attachment-id="53665" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/appcenter-config-plist-content/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png" data-orig-size="730,305" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="AppCenter-Config.plist content" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content-300x125.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png" decoding="async" class="aligncenter size-full wp-image-53665 jetpack-lazy-image" src="../Images/2f5adbc04703d59db56fb0410f4cb800.png" alt="AppCenter-Config.plist Content" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content-300x125.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53665" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/appcenter-config-plist-content/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png" data-orig-size="730,305" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="AppCenter-Config.plist content" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content-300x125.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53665" src="../Images/2f5adbc04703d59db56fb0410f4cb800.png" alt="AppCenter-Config.plist Content" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content-300x125.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/AppCenter-Config-plist-content.png"/></noscript>
<p>要初始化 SDK，将这些代码行添加到<code>AppDelegate.m</code>文件的顶部:</p>
<pre>#import &lt;AppCenterReactNative.h&gt;
#import &lt;AppCenterReactNativeAnalytics.h&gt;
#import &lt;AppCenterReactNativeCrashes.h&gt;
</pre>
<p>在<code>didFinishLaunchingWithOptions</code>中，添加以下几行:</p>
<pre>[AppCenterReactNative register];
  [AppCenterReactNativeAnalytics registerWithInitiallyEnabled:true];
  [AppCenterReactNativeCrashes registerWithAutomaticProcessing];
</pre>
<p>现在，单击<strong>构建</strong>图标或键入 Command + B 来构建应用程序。</p>
<h4>Android 的安装差异</h4>
<p>对于 Android 应用程序，在<code>android/app/src/main/assets</code>中添加<code>appcenter-config.json</code>文件。</p>
<p>文件中的内容应该类似于下面的代码；我们还必须用有效的应用程序密码替换<code>{APP_SECRET_VALUE}</code>:</p>
<pre>{
    "app_secret": "{APP_SECRET_VALUE}"
}
</pre>
<p>Android 应用程序的最后一步是将这些行添加到<code>res/values/strings.xml</code>:</p>
<pre>&lt;string name="appCenterCrashes_whenToSendCrashes" moduleConfig="true" translatable="false"&gt;DO_NOT_ASK_JAVASCRIPT&lt;/string&gt;
&lt;string name="appCenterAnalytics_whenToEnableAnalytics" moduleConfig="true" translatable="false"&gt;ALWAYS_SEND&lt;/string&gt;
</pre>
<p>为了使 SDK 正常工作，请避免使用除 AppCenter SDK 之外的任何其他崩溃报告服务。</p>
<h3>使用应用中心分析方法收集数据</h3>
<p>安装完成后，在 React 本机代码中使用<a href="https://docs.microsoft.com/en-us/appcenter/sdk/analytics/react-native#custom-events"> AppCenter 分析方法</a>来收集用户数据。</p>
<p>在本例中，我们将使用<code>trackEvent()</code>方法报告销售额并跟踪用户如何浏览在线商店应用程序。</p>
<p>这个方法在用户采取行动时触发，比如点击<strong>购买</strong>按钮。然后，它报告并跟踪事件，收集关于用户购买的数据，如购买的产品类型、价格和数量。</p>
<p><a href="https://gist.github.com/hayanisaid/a5e51e65acffc7559860638d3c6fc40c">在</a>代码中，<code>trackEvent()</code>的用法如下:</p>
<pre>import {View,Text, TouchableOpacity, TouchableHighlight} from 'react-native';
import Analytics from 'appcenter-analytics';

export default App(){
const __OnBuyButtonPressed=()=&gt;{

  Analytics.trackEvent('Purchase', { price: '9.99', type: 'cloth' });
}
return(
  &lt;View&gt;
        &lt;TouchableHighlight  onPress={__OnBuyButtonPressed}&gt;
          &lt;View
            style={{
              flexDirection: "row",
              justifyContent: "space-around"
            }}
          &gt;
            &lt;Text style={styles.signInButtonTextStyle}&gt;Continue&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
)}
</pre>
<p>自定义事件也可以收集独特的数据。例如，我们可以为导航操作创建一个自定义事件，以查看用户如何在应用程序中导航。</p>
<p>通过收集事件数据并发送到 App Center 仪表盘，我们可以看到所有日志、事件、操作系统数据、设备信息等，从而帮助我们确定如何为用户体验提供最佳服务。</p>
<p>使用 AppCenter Analytics 的另一个好处是，数据可以链接并导出到 Azure，这使用户可以访问 Azure Application Insights 等功能来帮助分析数据。</p>
<h2>Firebase 的谷歌分析</h2>
<p>以前被称为简单的 Firebase Analytics，<a href="https://blog.logrocket.com/storing-retrieving-data-react-native-apps-firebase/">Google Analytics for Firebase</a>也支持 React Native。它使用自定义和预定义的事件来跟踪用户行为，并且可以与 Firebase SDK 集成。</p>
<p>作为移动开发中最受欢迎的云服务之一，Firebase 支持大多数平台，可以在任何地方使用。它很容易与 React Native 集成，其简单的功能使它在开发人员社区中很受欢迎。</p>
<h3>Firebase 使用</h3>
<p>为了在 React Native 中使用 Firebase SDK 功能，我们将安装<code><a href="https://rnfirebase.io/analytics/usage">react-native-firebase</a></code>，这是一个将 Firebase SDK 集成到 React Native 中的开源项目。</p>
<h3>Firebase 设置</h3>
<p>首先，我们必须在<a href="https://console.firebase.google.com/"> Firebase 控制台</a>上创建一个新的应用程序，并生成凭证。在控制台中，选择<strong>创建一个项目</strong>来创建一个新的 app，并按照提示进行操作。</p>
<p>项目创建完成后，点击<strong> iOS </strong>按钮。</p>
<p><img data-attachment-id="53675" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/set-up-firebase-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Set up Firebase iOS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png" decoding="async" class="aligncenter size-full wp-image-53675 jetpack-lazy-image" src="../Images/ee4f7c76080883e3062cb27da59020ea.png" alt="Set Up Firebase iOS" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios-300x158.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53675" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/set-up-firebase-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Set up Firebase iOS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53675" src="../Images/ee4f7c76080883e3062cb27da59020ea.png" alt="Set Up Firebase iOS" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios-300x158.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/set-up-firebase-ios.png"/></noscript>
<p>出现一个新窗口，提示我们输入 iOS 捆绑包标识符的信息 I 来注册我们的应用程序。</p>
<p><img data-attachment-id="53673" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/register-app-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png" data-orig-size="730,391" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Register app page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png" decoding="async" class="aligncenter size-full wp-image-53673 jetpack-lazy-image" src="../Images/06abdfaaf0aad324fb253af3b7bf63ff.png" alt="Register The App Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page-300x161.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53673" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/register-app-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png" data-orig-size="730,391" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Register app page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53673" src="../Images/06abdfaaf0aad324fb253af3b7bf63ff.png" alt="Register The App Page" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page-300x161.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Register-app-page.png"/></noscript>
<p>要获得捆绑包标识符，请在 Xcode 中打开项目，打开<strong> General </strong>选项卡，并复制<strong>捆绑包标识符</strong>字段中的文本。</p>
<p><img data-attachment-id="53670" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/get-bundle-identifier/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png" data-orig-size="730,222" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Get bundle identifier" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png" decoding="async" class="aligncenter size-full wp-image-53670 jetpack-lazy-image" src="../Images/b277160ed6eea1c3bf889d354f719673.png" alt="Get The Bundle Identifier" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier-300x91.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53670" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/get-bundle-identifier/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png" data-orig-size="730,222" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Get bundle identifier" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53670" src="../Images/b277160ed6eea1c3bf889d354f719673.png" alt="Get The Bundle Identifier" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier-300x91.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Get-bundle-identifier.png"/></noscript>
<p>点击<strong>注册 app </strong>，包含 Firebase 凭证的<code>GoogleService-Info.plist</code>文件自动生成；我们现在可以下载文件了。</p>
<p><img data-attachment-id="53685" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/download-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png" data-orig-size="730,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Download file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png" decoding="async" class="aligncenter size-full wp-image-53685 jetpack-lazy-image" src="../Images/79c6006481137c40aff5a57f62992c57.png" alt="Download File" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file-300x178.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53685" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/download-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png" data-orig-size="730,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Download file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53685" src="../Images/79c6006481137c40aff5a57f62992c57.png" alt="Download File" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file-300x178.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Download-file.png"/></noscript>
<p>然后，将文件复制粘贴到 Xcode 中的<code>project</code>目录下。</p>
<p><img data-attachment-id="53686" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/save-file-project-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Save file project directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png" decoding="async" class="aligncenter size-full wp-image-53686 jetpack-lazy-image" src="../Images/bc8880690ba8e9955ec561ff9c00d310.png" alt="Save The File Project In The Directory" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory-300x187.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53686" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/save-file-project-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Save file project directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53686" src="../Images/bc8880690ba8e9955ec561ff9c00d310.png" alt="Save The File Project In The Directory" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory-300x187.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Save-file-project-directory.png"/></noscript>
<h3>将 React 本机依赖项安装到 Firebase 中</h3>
<p>在 Firebase 控制台上创建新的应用程序后，我们就可以安装 React 本机依赖项了。</p>
<p>使用<a href="https://blog.logrocket.com/javascript-package-managers-compared/">纱线或 npm </a>添加包装，如下所示:</p>
<pre>yarn add @react-native-firebase/app
// with npm
npm install @react-native-firebase/app
</pre>
<p>接下来，添加分析模块:</p>
<pre>yarn add @react-native-firebase/analytics
</pre>
<p>如果使用早于 0.60 的 React 原生版本，运行<code>react-native link</code>来链接包。否则，使用新版本将自动链接包。</p>
<p>链接软件包后，通过运行下面的命令在<code>project</code>目录中安装 iOS pods:</p>
<pre>cd iOS &amp;&amp; pod install
</pre>
<p>这将安装 iOS 所需的依赖项。</p>
<p>要初始化 Firebase 应用程序，请将以下代码行添加到<code>AppDelegate.m</code>:</p>
<pre>@import UIKit;
@import Firebase;

@implementation AppDelegate

- (BOOL)application:(UIApplication *)application
    didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  [FIRApp configure];
  return YES;
}
</pre>
<p>现在，点击<strong>构建</strong>图标或者在 Xcode 里面输入 Command + B。如果没有问题，我们可以在 Firebase 控制台的仪表板上看到日志和细节。但是，填充数据可能需要一些时间。</p>
<p><img data-attachment-id="53672" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/logs-insights-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png" data-orig-size="730,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Logs insights dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard-300x181.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png" decoding="async" class="aligncenter size-full wp-image-53672 jetpack-lazy-image" src="../Images/d20900d54bdaa4d665bb96fa49475cfe.png" alt="Logs And Insights Dashboard" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard-300x181.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53672" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/logs-insights-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png" data-orig-size="730,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Logs insights dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard-300x181.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53672" src="../Images/d20900d54bdaa4d665bb96fa49475cfe.png" alt="Logs And Insights Dashboard" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard-300x181.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/logs-insights-dashboard.png"/></noscript>
<h3>为 Firebase 运行谷歌分析</h3>
<p>带有<a href="https://gist.github.com/hayanisaid/00c8631305609a27731c7db47cd5f61a"> React 本机代码</a>的 Google Analytics for Firebase 的基本用法类似于我们在这篇文章中讨论的其他分析工具。然而，不同之处在于方法的名称。</p>
<p>因为 Firebase 有许多带有有意义的事件名称的内置方法，所以开发人员在使用这些方法时会有更轻松、更高效的体验。</p>
<p>React 本机代码的基本用法如下所示。通过模拟用户点击<strong>购买</strong>按钮时的<code>Purchase</code>事件，<code>Analytics().logEvent()</code>方法记录购买细节:</p>
<pre>import Analytics from '@react-native-firebase/analytics';
import {View,Text, TouchableOpacity, TouchableHighlight} from 'react-native';
import Analytics from 'appcenter-analytics';

export default App(){
const __OnBuyButtonPressed= async()=&gt;{
   await Analytics().logEvent('Purchase', { price: '9.99', type: 'cloth' });
}
return(
  &lt;View&gt;
        &lt;TouchableHighlight  onPress={__OnBuyButtonPressed}&gt;
          &lt;View
            style={{
              flexDirection: "row",
              justifyContent: "space-around"
            }}
          &gt;
            &lt;Text style={styles.signInButtonTextStyle}&gt;Continue&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/TouchableHighlight&gt;
      &lt;/View&gt;
)}
</pre>
<p>例如，如果我们的应用程序提供电子商务服务或在线商店，Firebase 提供了<a href="https://rnfirebase.io/reference/analytics#logAddToCart">特定方法来跟踪在线商店事件</a>，如添加到购物车事件，它使用了<code>logAddToCart()</code>方法。</p>
<p>其他方法包括:</p>
<ul>
<li><code>logLogin()</code>跟踪登录事件</li>
<li>应用程序打开时会调用<code>logAppOpen()</code></li>
<li><code>logShare()</code>追踪应用程序中的分享活动</li>
</ul>
<p>你可以在这里找到所有其他<a href="https://rnfirebase.io/reference/analytics#methods">预定义的 Firebase 方法。</a></p>
<p>因为 Firebase 支持许多跨平台的应用程序，所以即使在从一种编程语言切换到另一种编程语言时，Firebase 方法也很容易使用。例如，在 Swift 中使用 Firebase 代码和方法与在 JavaScript 中是一样的，这使得转换更加容易。</p>
<p>为了找到我们将使用的方法，让我们转到下面所示的<strong>事件</strong>选项卡中的事件日志。</p>
<p><img data-attachment-id="53669" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/events-tab/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png" data-orig-size="730,448" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Events tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png" decoding="async" class="aligncenter size-full wp-image-53669 jetpack-lazy-image" src="../Images/923ad4dab551a6e2df31bf013e589c5b.png" alt="The Events Tab" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab-300x184.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53669" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/events-tab/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png" data-orig-size="730,448" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Events tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53669" src="../Images/923ad4dab551a6e2df31bf013e589c5b.png" alt="The Events Tab" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab-300x184.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Events-tab.png"/></noscript>
<p>我们也可以通过<a href="https://analytics.google.com/analytics">谷歌分析</a>本身来观察洞察力。然而，我们必须为 Firebase 设置与谷歌分析帐户相同的帐户。</p>
<p><img data-attachment-id="53671" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/google-analytics-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png" data-orig-size="730,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google Analytics dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png" decoding="async" class="aligncenter size-full wp-image-53671 jetpack-lazy-image" src="../Images/1987ab83fce7da4d6b044a84b6f7ba4b.png" alt="Google Analytics Dashboard" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard-300x148.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53671" data-permalink="https://blog.logrocket.com/comparing-react-native-analytics-tools/google-analytics-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png" data-orig-size="730,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google Analytics dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53671" src="../Images/1987ab83fce7da4d6b044a84b6f7ba4b.png" alt="Google Analytics Dashboard" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard-300x148.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Google-Analytics-dashboard.png"/></noscript>
<h2>细分分析</h2>
<p><a href="https://segment.com/"> Segment </a>是一个数据收集器和分析平台，支持跨平台和流行技术，如 iOS、Android、.NET 和 Python。通过我们选择的主机在任何地方托管数据，Segment 可以将收集的数据发送到其服务器或任何其他受支持的 Segment <a href="https://segment.com/docs/connections/destinations/catalog/">服务</a>如谷歌分析。</p>
<p>通过 Segment，我们可以使用 SQL 查询获取数据，如下所示:</p>
<pre>/*
@copyright https://github.com/segmentio/analytics-react-native
*/
select * from app.order_completed
order by price desc
</pre>
<p>使用段的另一个好处是能够控制数据。例如，如果我们希望<a href="https://segment.com/product/privacy-portal/?ref=nav">关注用户隐私</a>，Segment 允许我们控制和设置应该收集哪些数据的规则，并对特定类型的数据进行分类和限制访问。</p>
<h3>段设置和使用</h3>
<p>要为段安装<a href="https://github.com/segmentio/analytics-react-native"> analytics-react-native 包，我们可以使用 Yarn 或 npm。</a></p>
<p>在本例中，我们将通过在终端中安装以下代码来使用 Yarn:</p>
<pre>yarn add @segment/analytics-react-native-firebase
// install pods
 cd ios &amp;&amp; pod install 
</pre>
<p>要启动并连接细分市场 API，请使用细分市场分析模块在<code>app.js</code>或任何其他文件中添加以下代码:</p>
<pre>await analytics.setup('YOUR_WRITE_KEY', {
  // Record screen views automatically!
  recordScreenViews: true,
  // Record certain application events automatically!
  trackAppLifecycleEvents: true
}) 
</pre>
<p>查看<a href="https://segment.com/docs/connections/find-writekey/">段的文档</a>以生成写密钥。</p>
<p>然后，我们可以定制设置，定义如何收集数据，并启用一些基于平台的功能，如下面的代码所示:</p>
<pre>// @ https://github.com/segmentio/analytics-react-native#cloud-based-connection-modes

import analytics from '@segment/analytics-react-native'
import firebase from '@segment/analytics-react-native-firebase'

analytics
    .setup('writeKey', {
        using: [mixpanel, firebase],
        recordScreenViews: true,
        trackAppLifecycleEvents: true,

        android: {
            flushInterval: 60000, // 60 seconds
            collectDeviceId: true
        },
        ios: {
            trackAdvertising: true,
            trackDeepLinks: true
        }
    })
    .then(() =&gt;
        console.log('Analytics is ready')
    )
    .catch(err =&gt;
        console.error('Something went wrong', err)
    )

analytics.track('Pizza Eaten')
analytics.screen('Home')
</pre>
<p>让我们来分解一些属性及其意义:</p>
<ul>
<li><code>Using</code>是与 Segment 一起使用的一系列外部分析工具，可以将数据发送到第三方分析服务，如 Google Analytics</li>
<li><code>recordScreenViews</code>跟踪用户查看屏幕的次数</li>
<li><code>trackAppLifecycleEvents</code>跟踪应用程序生命周期事件，如应用程序何时安装，应用程序是在后台还是在前台</li>
</ul>
<p>定制设置后，我们可以开始使用<code>Analytics.track()</code>方法调度事件:</p>
<pre>analytics.track('Purchase',null,context:{price:"9.99",productType:"auto"})
analytics.screen('Product')
</pre>
<p>Segment 提供了许多其他跟踪方法，例如<code>analytics.identify()</code>，它将事件附加到特定用户，在跟踪唯一用户时很有帮助:</p>
<pre># /*https://segment.com/docs/connections/sources/catalog/libraries/mobile/react-native/#tracking-methods */
analytics.identify("userId", {
  email: "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f9938a94908d91b99c81989489959cd79a9694">[email protected]</a>"
  name: "John Smith"
})
</pre>
<h2>奖励工具:脸书分析</h2>
<p>由于其早期对 React Native 的直接支持，<a href="https://github.com/facebookarchive/react-native-fbsdk">脸书分析</a>成为最受欢迎的 React Native 分析工具之一。不幸的是，React Native 的脸书 SDK 现已过时，自 2021 年 6 月 30 日起将不再受支持。但是，仍然有一个社区分支可供您选择:<a href="https://github.com/thebergamo/react-native-fbsdk-next/"> react-native-dbsdk-next </a>。</p>
<h2>包扎</h2>
<p>使用这些流行的 React Native 分析工具，每种工具都有好处，但是选择使用哪种工具取决于项目的类型和项目的需求。虽然 Segment 是控制数据和隐私的最佳选择，但 Google Analytics for Firebase 在 React Native 中有更好的支持，App Center Analytics 可以访问 Azure 功能。有了这些分析工具，它们不同的功能使得 React Native 中的应用程序的分析更容易、更高效。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>