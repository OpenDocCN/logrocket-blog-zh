# 分页、加载更多按钮和无限滚动的指南

> 原文：<https://blog.logrocket.com/guide-pagination-load-more-buttons-infinite-scroll/>

几乎每个应用程序都有数据，这些数据必须以某种方式可视化。显示一组数据的常用方法是通过列表，列表很快会变得很长，难以阅读。

显示大型数据集主要有三种方式:使用分页、**加载更多的**按钮、无限滚动。在本教程中，我将介绍这三种方法，并讨论每种方法的优缺点。

## 显示应用程序数据的常用方法

这些方法在动态网页上显示大型数据集，同时提供更快的初始页面加载。例如，Google Web 对其搜索答案使用分页。

![Google Using Pagination](img/1db9e49ff5deddafe0f568304f219bcf.png)

Twitter 和脸书使用无限滚动，用户不断滚动以看到新帖子。无限卷轴在社交媒体渠道上变得特别受欢迎。

在手机上，Google 和 Google Images 不使用分页，而是使用一个 **load more** 按钮来显示搜索结果和图片。

![Google's Show More Results](img/2dbc4cb03ec155263fc68022419dfd94.png)

本文将对这些方法进行比较，并指导您在应用程序中实现它们。

## 使用分页显示数据

![Google Pagination](img/7107fc724378eeb5b5772f3be3bb0ac3.png)

### 使用分页的好处

1.  分页便于导航和搜索。例如，在一个电子商务网站上，你可以很容易地通过点击返回到某个特定页面来找到你以前浏览过的产品
2.  分页对于优先考虑实用性的网站来说是理想的，因为每个结果集都有自己的页面和 URL，很容易记住并与页码共享。有时，一些数据集需要考虑项目排列的特定顺序，而分页允许这样做
3.  这种方法对于那些不是为了让人上瘾而设计的网站来说是很棒的。社交媒体网站会让人上瘾，因为很难停止滚动，但传统的分页迫使用户点击按钮并浏览页面来访问数据，这使得它不那么容易上瘾

### 使用分页的缺点

1.  这是老技术了。自从互联网出现以来，分页就一直存在。所有过时的网站都有，这种类型的分页不再直观
2.  没有人真的会看第一页以外的内容。你曾经查看过谷歌搜索结果的第二页吗？不太可能。点击数字 **1、2、**和**下一个**可能是一件麻烦的事情，这会阻止人们查看更多的结果
3.  分页并不适合移动设备。在移动设备上，用户更喜欢**加载更多的**按钮或者无限滚动，因为手机的屏幕是垂直的
4.  每个新结果都在一个新页面上，导致不必要的加载时间。这可以使用浅层路由和预渲染来解决，但仍然会让用户感到烦恼

### 何时在应用程序中使用分页

如果您正在为 web 构建目录或电子商务网站，请使用分页。然而，如果你正在创建一个移动网站或者一个应用程序，你将会考虑实现一个 **load more** 按钮。

> 观点:如果你在手机上显示列表数据，那么总是避免使用这种方法。这种方法适用于网格。

## 使用应用程序中的加载更多按钮

![Spotify See All](img/56a1a4cc068a131453f27c340edfd974.png)

### 使用“加载更多”按钮的优点

1.  **Load more** 按钮在移动设备上看起来很棒，与分页不同的是， **load more** 机制向现有的结果添加了更多的结果，而没有替换整个结果
2.  为了找到一个结果，用户只需要不断点击 **load more** 就可以了，而不需要记住这个条目在哪个页面
3.  **Load more** 允许您通过用户点击 **load more** 的次数来轻松衡量用户兴趣和参与度
4.  这种方法可以帮助用户更快地到达网站的页脚，这意味着你的网站广告可以获得更多的印象

### 使用“加载更多”按钮的缺点

1.  搜索可能会很困难，因为用户不会记得特定结果的位置。为了找到一些东西，他们将不得不不停地点击**加载更多的**
2.  随着**加载更多**，潜在的印象可能会丢失，因为与无限滚动设置相比，无论你在**加载更多**按钮下隐藏什么内容，都不太可能被查看

### 何时使用加载更多按钮

如果你在移动设备上构建任何没有无限滚动的列表视图，使用 **load more** 方法。如果你的应用程序不是社交媒体应用程序(无限滚动更好实现)，并且你希望数据加载比分页更直观，你也应该使用这种方法。

请记住，在许多应用程序(包括社交媒体)中，用户通过向上滑动来刷新他们的订阅，特别是在 Instagram 中，通过点击**新帖子**。这些是**装载更多**机制的形式，你可以从中获得灵感。

此外，如果你有大量的内容，但希望用户到达页脚或在付费墙后隐藏内容，你应该考虑使用 **load more** ，或者在这种情况下，使用 **load more** 按钮。

## 实现无限滚动

![Infinite Scroll](img/ee8958b66fb30e01f6590e6a3f1d6287.png)

### 使用无限滚动的优点

1.  无限滚动鼓励用户更长时间地使用你的应用。使用无限滚动，没有什么可以阻止用户继续滚动，而且与分页和**加载更多的**方法相比，这样做花费的精力最少
2.  与其他方法相比，无限滚动对用户来说感觉很快。滚动是无缝的，当用户接近视点的末尾时，你总是可以在后台加载更多的内容，所以他们甚至不会意识到新内容是如何以及何时加载的
3.  它对于按时间顺序和基于算法的动态服务内容也很好。有了分页，你的数据必须按照一定的顺序。使用无限滚动意味着您可以灵活地决定如何提供内容以及以何种顺序提供内容，这对于社交媒体应用程序来说非常理想

### 使用无限滚动的缺点

1.  如果你的网站或应用程序上有页脚，它永远不会被看到
2.  使用无限滚动会让你的用户上瘾，这可能对他们的数字生活不利。截至本文撰写之时，[参议院提出了一项法案](https://www.congress.gov/bill/116th-congress/senate-bill/2314/text)，如果通过将禁止无限滚动
    ![Senate Bill](img/106ff9029cc5617175b8baa40e8f7350.png)当然，它不太可能通过，但这揭示了无限滚动在保持用户对你的平台着迷方面的影响力
3.  无限滚动更难导航和搜索。通过分页，您可以记住特定的页码来检索特定的结果。但是随着**加载更多的**和无限滚动，人们将不得不向上滚动很长时间才能找到特定的内容

你可以[在这里](https://blog.logrocket.com/infinite-scroll/)阅读更多关于为什么不应该使用无限滚动的信息。

### 何时使用无限滚动

如果您正在构建一个移动应用程序或社交媒体应用程序，或者只是想让用户不断滚动浏览大量内容(即博客)，您应该使用无限滚动。

## 无限卷轴的工作原理

当用户到达视口的末端时，您加载更多的结果。在普通的 JavaScript 中，它是这样工作的:

```
window.onscroll = function(ev) {
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
        // you're at the bottom of the page, load more content here.
    }
};

// from stackoverflow (stackoverflow.com/questions/9439725/javascript-how-to-detect-if-browser-window-is-scrolled-to-bottom)

```

我画了一张图来帮助解释数据是如何遍历的以及游标是如何工作的:

![Data Diagram](img/bd1e6b040faa7e84ec7c2000d83d5f1f.png)

因此，假设您查询后端 API，数据库中总共有 900，000 个条目。你不会想要获取所有的条目，因为这会降低应用程序的性能。

> 为了简化起见，我们用数字 9 代替 900k。

要显示这些数据，您必须将它分成多个部分。不一定要等间隔显示，但通常是这样的。这是数据库中所有条目的列表。

```
{
  "data": [
    { id: 1 },
    { id: 2 },
    { id: 3 },
    { id: 4 },
    { id: 5 },
    { id: 6 },
    { id: 7 },
    { id: 8 },
    { id: 9 }
  ]
}

```

现在，因为一次获取所有数据是不可行的，所以您可以从后端的数据库中获取数据。

对于第一个结果，您只想获取前三个条目。

要获取第一页，请在数据库中查询“前 3 个条目，后 0 个条目”。对于获取第二页，查询“获取前 3 个条目，后 3 个条目”，依此类推。

你也可以用术语`limit/offset`来代替`first/skip`。

对于分页数据获取，另一种常用的方法叫做游标。使用游标时,“after”值用于获取特定点之后的节点。

![Data Diagram 2](img/a2d4c74ff67f08d04586e049da4efec6.png)

这里有一篇全面的文章解释了为什么你可能想要使用光标而不是`limit/offset`方法。

当后端从数据库中获取选择性数据时，它会发送一个通常如下所示的响应:

```
{
  "data": [
    { id: 4 },
    { id: 5 },
    { id: 6 }
  ],
  "totalCount": 9,
  "fetchedCount": 3,
  "pageInfo": {
    "prevCursor": "prev_4", // <- this is usually converted to base64
    "nextCursor": "after_6", // <- this is usually converted to base64
    "hasNextPage": true // <- are there more pages remaining to fetch?
  }
}

```

然后前端遍历这些游标来获取分页数据的页面。

这个方法对于分页、 **load more** 和无限滚动来说是相似的，所以您可以通过使用上述方法获取数据来实现所有这些。

对于普通分页，您必须同时使用`next`和`previous`光标。对于**加载更多的**和无限滚动，你只需要`next`光标，因为你必须遍历它们来获取更多的数据。

## 结论

通过使用这些分页方法中的一种或多种，以最佳方式显示大型数据集是可能的。快乐编码。

## 使用 [LogRocket](https://lp.logrocket.com/blg/signup) 消除传统错误报告的干扰

[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/signup)

[LogRocket](https://lp.logrocket.com/blg/signup) 是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。

然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。

LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。

关注重要的 bug—[今天就试试 LogRocket】。](https://lp.logrocket.com/blg/signup-issue-free)