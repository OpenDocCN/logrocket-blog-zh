<html>
<head>
<title>Adding emojis to your React app - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>将表情符号添加到 React 应用程序日志博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/adding-emojis-react-app/#0001-01-01">https://blog.logrocket.com/adding-emojis-react-app/#0001-01-01</a></blockquote><div><article class="article-post">
<p>众所周知，Unicode 使互联网成为可能！它在很大程度上解决了不同字符集之间的<a href="https://en.wikipedia.org/wiki/Mojibake#:~:text=Mojibake%20(%E6%96%87%E5%AD%97%E5%8C%96%E3%81%91%3B%20IPA%3A,from%20a%20different%20writing%20system." target="_blank" rel="noopener"> Mojibake </a>(乱码文本)问题。</p>
<p>Unicode 本质上是一个巨大的字典，它的映射(例如 U+058E)指向我们可以使用的符号(֎).在过去，当不同的国家、公司或个人对于哪个字符映射应该对应于哪个符号都有不同的想法时，就会出现问题。</p>
<p>这意味着你会经常尝试阅读网页，比如 thisⅇ↫⋀₿≝┿⣶⤚⹭⺬⨺➄⧻⒏⥱➯⢃⢻⽱⓽⅘␶⋵⿠⟖➝⹣⚠❐≷↼ⲝ┃ℵ⚔☪⸺⧷ⱟℱ⥹⧖⿞⏗ₓ⡐⟄⏪┸⓳⡷⊢⠒┣⋰⡫.</p>
<p>乱七八糟，对吧？</p>
<p>Unicode 兼容现在不仅允许我们可靠地使用除英语之外的其他语言，还允许我们使用其他独特的字符，如<a href="https://unicode.org/charts/PDF/U13000.pdf" target="_blank" rel="noopener">埃及象形文字</a> (𓀀 𓂕 𓁎)、<a href="https://en.wikipedia.org/wiki/Cuneiform_(Unicode_block)" target="_blank" rel="noopener">苏美尔楔形文字</a> (𒀖 𒁝𒃿)或表情符号(😃).</p>
<p>你可以在这里查看 Unicode 字符集<a href="https://unicode.org/emoji/charts/full-emoji-list.html" target="_blank" rel="noopener">中定义的每一个表情符号。</a></p>
<p>事实证明，在某些情况下，使用表情符号<a href="https://www.wordstream.com/blog/ws/2015/11/19/twitter-emoji" target="_blank" rel="noopener">可以将参与度提高 25.4% </a>，这解释了为什么——基于过去十年的 67 亿条推文——<a href="https://blog.emojipedia.org/emoji-use-at-all-time-high/" target="_blank" rel="noopener">表情符号的使用从未如此之高</a>。</p>
<p>但是仅仅知道 Unicode 支持表情符号的一致使用是不够的——关于表情符号还有很多问题，比如:</p>
<ul>
<li>我们如何为它们创建可重用的 React 组件？</li>
<li>我们如何确保屏幕阅读器可以使用表情符号？</li>
<li>使用它们的最佳实践是什么？</li>
<li>我们应该使用表情符号本身还是使用地图？</li>
</ul>
<p>让我们开始吧！⛏️</p>
<h2>React 中的表情符号用法</h2>
<p>在代码库中包含表情符号有多种方式，但有些方式比其他方式更好。<br/>您的一些选择包括:</p>
<ul>
<li>要内联复制和粘贴表情符号:😃</li>
<li>来引用 emoji HTML 实体的 Unicode 标识符/映射，比如:<code>&amp; #x1F603</code>；</li>
<li>要内联复制和粘贴表情符号，然后将其包装在 HTML 元素中:😃</li>
<li>安装一个依赖项来处理它</li>
</ul>
<p>所有这些都可以工作！但是“让它工作”并不总是最佳的解决方案，所以让我们讨论一下每种方法的优缺点。</p>
<h2>在线使用表情符号</h2>
<p>这可能是最简单的解决方案。</p>
<p>复制粘贴表情符号，工作就完成了。</p>
<p>此外，屏幕阅读器足够聪明，知道如何阅读表情符号。因此，简单地这样做就可以让你的应用程序使用表情符号，而且在大多数情况下，它们是可访问的。</p>
<p>但是表情符号通常不像屏幕阅读器描述的那样简单。它们通常有第二个意思。</p>
<p>比如，你知道表情符号的这些“第二含义”吗？</p>
<ol>
<li><a href="https://emojipedia.org/goat/" target="_blank" rel="noopener">🐐</a></li>
<li>🐍</li>
<li>👏</li>
</ol>
<p>山羊表情符号是“最伟大的 T2”和“最伟大的 T4”的首字母缩写，所以人们可能经常会说，有史以来最伟大的说唱歌手(山羊)是图帕克，或者有史以来最伟大的冰球运动员(山羊)是韦恩·格雷兹基。</p>
<p>蛇表情通常用来描述背后捅刀子的人，或者是两面派。</p>
<p>拍手通常用来强调一个观点，比如👏这👏在...之间👏每个👏词。请注意，这种特殊的写作方式对于屏幕阅读器来说是很糟糕的，并且不鼓励让你的内容对屏幕阅读器友好。如果你有兴趣阅读更多关于无障碍表情符号用法的信息，这里的<a href="https://www.tiny.cloud/blog/emojis-and-accessibility/" target="_blank" rel="noopener"/>是一个很好的资源，<a href="https://readabilityguidelines.co.uk/images/emojis/" target="_blank" rel="noopener">这个</a>也是。</p>
<p>但是屏幕阅读器不能传达那个意思。即使他们这样做了，随着语言变化如此之大，定义可能是错误的，需要不断更新。</p>
<p>正是因为这个原因，我建议不要在线使用表情符号。</p>
<p>这是一种被指责的表情符号方式。再说一个。</p>
<h2>使用 HTML 实体 Unicode 映射</h2>
<p>您可以在代码中直接使用来自 Unicode 的十六进制或十进制代码点的表情符号，这样类似于:</p>
<pre>&lt;!DOCTYPE html&gt;
  &lt;div&gt;
    &lt;h1&gt;Unicode Character&lt;/h1&gt;
    &lt;h3 style="display: inline"&gt;(U+1F436)&lt;/h3&gt;
    &lt;h3 style="display: inline"&gt;Dog Face&lt;/h3&gt;
    &lt;h3 style="display: inline"&gt;&amp;#128054;&lt;/h3&gt;
&lt;/div&gt;
</pre>
<p>将呈现以下内容:</p>
<p><img data-attachment-id="77349" data-permalink="https://blog.logrocket.com/adding-emojis-react-app/unicode-characters/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png" data-orig-size="366,138" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Unicode characters" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png" decoding="async" class="aligncenter size-full wp-image-77349 jetpack-lazy-image" src="../Images/09ba36f087c39d6fd67aa022f7212ad0.png" alt="Unicode Characters" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png 366w, https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters-300x113.png 300w" data-lazy-sizes="(max-width: 366px) 100vw, 366px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="77349" data-permalink="https://blog.logrocket.com/adding-emojis-react-app/unicode-characters/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png" data-orig-size="366,138" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Unicode characters" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-77349" src="../Images/09ba36f087c39d6fd67aa022f7212ad0.png" alt="Unicode Characters" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png 366w, https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters-300x113.png 300w" sizes="(max-width: 366px) 100vw, 366px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/unicode-characters.png"/></noscript>
<p>您也可以很容易地找到这些十六进制/十进制表示。这是一个巨大的表情 HTML 十六进制代码列表的例子。</p>
<p>或者你可以通过<a href="https://unicodelookup.com/" target="_blank" rel="noopener">这里</a>的查找表找到它们。</p>
<p>即使使用这种方法仍然不能解决我们提到的第二含义丢失的问题，而且，作为一名开发人员，我认为这很难操作。</p>
<p>像这样在你的代码中看到表情符号要容易得多:<code>😃</code>，而不是像这样读取它们的映射:<code>&amp; #x1F603</code>；</p>
<p>当你直接复制/粘贴一个表情符号时，你马上就知道这个表情符号是什么，以及它被使用的上下文。表情符号更好地保持了它们的语义，我认为它们使用起来更简单。</p>
<h2>将内嵌表情包在 DOM 元素中</h2>
<p>这是最好的方法。你可以简单地用一个基本的 DOM 元素包装一个内嵌表情符号，就像这样:</p>
<pre>&lt;span role="img" aria-label="dog"&gt;🐕&lt;/span&gt;
</pre>
<p>如果你认为屏幕阅读器选择的内容与你的书写不一致，这允许你添加更好的替代文本。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<p>如果你不确定屏幕阅读器会为每个表情符号读什么，你可以在<a href="https://emojipedia.org/" target="_blank" rel="noopener">表情百科</a>上搜索，表情符号的标题就是屏幕阅读器可能会说的。</p>
<p>一些例子是:</p>
<ul>
<li>🥰:笑脸带红心</li>
<li>🌏:全球展示亚洲-澳大利亚</li>
<li>🕴️:西装革履的人悬浮</li>
</ul>
<p>编写高质量的替代文本是很难的，如果你决定稍微改写默认文本以更好地传达你的意思，请记住<a href="https://jakearchibald.com/2021/great-alt-text/" target="_blank" rel="noopener">情绪很重要</a>。</p>
<p>为了实现最佳重用，您可以创建一个非常简单的功能组件，传递所有必要的元数据，<a href="https://medium.com/@seanmcp/%EF%B8%8F-how-to-use-emojis-in-react-d23bbf608bf7" target="_blank" rel="noopener">类似于</a>这样:</p>
<pre>import React from 'react';
const Emoji = props =&gt; (
    &lt;span
        className="emoji"
        role="img"
        aria-label={props.label ? props.label : ""}
        aria-hidden={props.label ? "false" : "true"}
    &gt;
        {props.symbol}
    &lt;/span&gt;
);
export default Emoji;
</pre>
<p>然后<a href="https://medium.com/@seanmcp/%EF%B8%8F-how-to-use-emojis-in-react-d23bbf608bf7" target="_blank" rel="noopener">这个组件</a>可以在整个代码库中以标准化的方式导入和使用:</p>
<pre>&lt;Emoji symbol="🐑" label="sheep"/&gt;
</pre>
<p>通过这种方法，你可以确保在你的代码库中使用表情符号的一致性和可重用性，并且因为默认情况下<code>&lt;span&gt;</code> <a href="https://stackoverflow.com/questions/1611065/span-vs-div-inline-block/1611172#:~:text=A%20span%20is%20by%20default,as%20width%2C%20height%2C%20etc." target="_blank" rel="noopener">显示为内嵌</a>，所以它可以用在文本的正中间，只需要最小的 CSS 修改。</p>
<p>您可以为组件属性提供合理的默认值，比如将<code>aria-hidden</code>默认为<code>false</code>，如果这也适合您的用例的话。</p>
<p>这样做可以确保你的表情符号是可访问的，在这里你可以解释任何第二含义或你想伴随你的表情符号的额外解释。</p>
<h2>安装一个依赖项来处理它</h2>
<p>安装一个依赖项使工作变得更容易，但是如果你需要做一些特定的事情或者作为一个独特的用例，它通常是不可配置的。</p>
<p>有几个很棒的 npm 包可供使用:<a href="https://www.npmjs.com/package/emoji-picker-react" target="_blank" rel="noopener">表情符号-选取器-反应</a>、<a href="https://www.npmjs.com/package/unicode-emoji" target="_blank" rel="noopener"> Unicode 表情符号</a>，或者<a href="https://www.npmjs.com/package/node-emoji" target="_blank" rel="noopener">节点-表情符号</a>。它们都很容易安装，安装方式也很相似。</p>
<p>例如，表情符号 picker react 的设置非常简单。要将它包含在您的依赖项中，只需运行<code>npm i emoji-picker-react</code>。它为你想要选择的表情符号提供了一个下拉选项。</p>
<figure id="attachment_77347" aria-describedby="caption-attachment-77347" class="wp-caption aligncenter"><img data-attachment-id="77347" data-permalink="https://blog.logrocket.com/adding-emojis-react-app/emoji-dropdown-selector/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif" data-orig-size="295,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Emoji dropdown selector" data-image-description="" data-image-caption="&lt;p&gt;An emoji dropdown selector found here.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector-260x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif" decoding="async" class="size-full wp-image-77347 jetpack-lazy-image" src="../Images/bd8eb9cce6f2aac9575210a97b0edcd6.png" alt="Emoji Dropdown Selector" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="77347" data-permalink="https://blog.logrocket.com/adding-emojis-react-app/emoji-dropdown-selector/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif" data-orig-size="295,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Emoji dropdown selector" data-image-description="" data-image-caption="&lt;p&gt;An emoji dropdown selector found here.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector-260x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif" decoding="async" loading="lazy" class="size-full wp-image-77347" src="../Images/bd8eb9cce6f2aac9575210a97b0edcd6.png" alt="Emoji Dropdown Selector" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/emoji-dropdown-selector.gif"/></noscript><figcaption id="caption-attachment-77347" class="wp-caption-text">An emoji dropdown selector found <a href="https://www.npmjs.com/package/emoji-picker-react" target="_blank" rel="noopener">here</a>.</figcaption></figure>
<p>npm 包使用 React 钩子，所以你需要使用 React 16.8 或更高版本！</p>
<p><a href="https://www.npmjs.com/package/emoji-picker-react" target="_blank" rel="noopener">文档</a>对如何包含它也有有用的解释:</p>
<pre>import React, { useState } from 'react';
import Picker from 'emoji-picker-react';

const App = () =&gt; {
  const [chosenEmoji, setChosenEmoji] = useState(null);

  const onEmojiClick = (event, emojiObject) =&gt; {
    setChosenEmoji(emojiObject);
  };

  return (
    &lt;div&gt;
      {chosenEmoji ? (
        &lt;span&gt;You chose: {chosenEmoji.emoji}&lt;/span&gt;
      ) : (
        &lt;span&gt;No emoji Chosen&lt;/span&gt;
      )}
      &lt;Picker onEmojiClick={onEmojiClick} /&gt;
    &lt;/div&gt;
  );
};
</pre>
<h2>结论</h2>
<p>我希望这已经提供了信息！🤓</p>
<p>有多种方法可以将表情符号添加到 React 应用程序中，但考虑到可访问性和可重用性，一个简单的功能组件应该适合几乎所有的用例。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产 React 应用</h2><p>调试 React 应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪 Redux 状态、自动显示 JavaScript 错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的 web 和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket 不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试 React 应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>