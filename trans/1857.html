<html>
<head>
<title>Implementing swiper components in React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在 React Native - LogRocket 博客中实现 swiper 组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/swiper-components-react-native/#0001-01-01">https://blog.logrocket.com/swiper-components-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>如今，我们在任何事情上都使用滑动手势。在我们的屏幕上留下肮脏的污迹感觉很直观。无论你是在寻找约会，浏览外卖，还是查看银行余额——无论你在手机上做什么，你都知道套路:刷，刷，点击！</p>
<p>在本教程中，我们将使用 Expo 为各种用例构建五个不同的 React Native swiper 组件。我们将讨论以下内容:</p>

<p>如果您想继续，我已经为我们讨论的每个组件创建了一个分支:</p>

<p>这里先睹为快，看看我们会做些什么。一如既往，你可以在我的<a href="https://github.com/claysimps/RN-swiper-components" target="_blank" rel="noopener"> GitHub </a>上找到完整的代码。</p>
<p><img data-attachment-id="53810" data-permalink="https://blog.logrocket.com/swiper-components-react-native/carousel-swipe-finished/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Carousel swipe finished" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif" decoding="async" class="aligncenter size-full wp-image-53810 jetpack-lazy-image" src="../Images/6649034a09b443f5c0c1d9cd6f1ced97.png" alt="Carousel Swipe Finished" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53810" data-permalink="https://blog.logrocket.com/swiper-components-react-native/carousel-swipe-finished/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Carousel swipe finished" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53810" src="../Images/6649034a09b443f5c0c1d9cd6f1ced97.png" alt="Carousel Swipe Finished" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/carousel-swipe-finished.gif"/></noscript>
<h2 id="creating-an-expo-project">创建世博项目</h2>
<p>初始化您的项目并选择<code>tabs (TypeScript)</code>(如果您想使用 JavaScript，可以从代码示例中删除类型定义):</p>
<pre>expo init RN-swiper-components &amp;&amp; cd RN-swiper-components
</pre>
<p>现在您只需要启动您喜欢的 IDE，我们就可以开始了。如果您使用的是 VS 代码，您可以用以下方式打开项目:</p>
<pre>code . 
</pre>
<h2 id="building-an-intro-screen">构建介绍屏幕</h2>
<p><img data-attachment-id="53811" data-permalink="https://blog.logrocket.com/swiper-components-react-native/intro-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Intro screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif" decoding="async" class="aligncenter size-full wp-image-53811 jetpack-lazy-image" src="../Images/ddb906321049c2880ad6f65d82550fe9.png" alt="Intro Screen" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53811" data-permalink="https://blog.logrocket.com/swiper-components-react-native/intro-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Intro screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53811" src="../Images/ddb906321049c2880ad6f65d82550fe9.png" alt="Intro Screen" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/intro-screen.gif"/></noscript>
<p>(<a href="https://github.com/claysimps/RN-swiper-components/tree/intro-swipe" target="_blank" rel="noopener"> GitHub 分支</a>)</p>
<p>第一印象很重要，所以让我们创建一个让用户大吃一惊的介绍屏幕。React Native App Intro Slider 是一个易于使用的应用程序介绍库，使用 React Native FlatList:</p>
<pre>expo install react-native-app-intro-slider 
</pre>
<p>我们的介绍幻灯片使用了四张随机图片。你可以添加你自己的并重命名它们，或者在这里下载例子<a href="https://github.com/claysimps/RN-swiper-components/tree/master/assets/images" target="_blank" rel="noopener">，然后将它们添加到<code>assets/images</code>。</a></p>
<p>在您的<code>screens</code>文件夹中，创建一个名为<code>Intro.tsx</code>的文件，并添加以下内容:</p>
<pre>// Intro.tsx
import { StackNavigationProp } from "@react-navigation/stack";
import React, { useRef } from "react";
import {
  View,
  SafeAreaView,
  Text,
  Image,
  StyleSheet,
  StatusBar,
  Pressable,
} from "react-native";
import AppIntroSlider from "react-native-app-intro-slider";
import { RootStackParamList } from "../types";
const data = [
  {
    title: "Hi!",
    text: "Welcome to my swipe components guide",
    image: require("../assets/images/1.jpg"),
    bg: "#59b2ab",
  },
  {
    title: "Coming up...",
    text: "Lot's of cool libraries!",
    image: require("../assets/images/2.jpg"),
    bg: "#febe29",
  },
  {
    title: "Guess what!?",
    text: "This is the first swipe component!",
    image: require("../assets/images/3.jpg"),
    bg: "#22bcb5",
  },
  {
    title: "Time to gimme your data",
    text: "Joking!",
    image: require("../assets/images/4.jpg"),
    bg: "#febe29",
  },
];
type Item = typeof data[0];
type RenderPaginationProps = {
  data: any[];
  activeIndex: number;
  slider: AppIntroSlider | null;
  onIntroCompleted: () =&gt; void;
};
type IntroNavigationProps = StackNavigationProp&lt;RootStackParamList, "Intro"&gt;;
interface IntroProps {
  navigation: IntroNavigationProps;
}
const styles = StyleSheet.create({
  slide: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center",
    backgroundColor: "blue",
  },
  image: {
    width: 320,
    height: 320,
    marginVertical: 32,
  },
  text: {
    color: "rgba(255, 255, 255, 0.8)",
    textAlign: "center",
  },
  title: {
    fontSize: 22,
    color: "white",
    textAlign: "center",
  },
  paginationContainer: {
    position: "absolute",
    bottom: 16,
    left: 16,
    right: 16,
  },
  paginationDots: {
    height: 16,
    margin: 16,
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
  },
  dot: {
    width: 10,
    height: 10,
    borderRadius: 5,
    marginHorizontal: 4,
  },
  buttonContainer: {
    flexDirection: "row",
    marginHorizontal: 24,
  },
  button: {
    flex: 1,
    paddingVertical: 20,
    marginHorizontal: 8,
    borderRadius: 24,
    backgroundColor: "#1cb278",
  },
  buttonText: {
    color: "white",
    fontWeight: "600",
    textAlign: "center",
  },
});
const renderItem = ({ item }: { item: Item }) =&gt; (
  &lt;View
    style={[
      styles.slide,
      {
        backgroundColor: item.bg,
      },
    ]}&gt;
    &lt;Text style={styles.title}&gt;{item.title}&lt;/Text&gt;
    &lt;Image source={item.image} style={styles.image} /&gt;
    &lt;Text style={styles.text}&gt;{item.text}&lt;/Text&gt;
  &lt;/View&gt;
);
const RenderPagination = ({
  activeIndex,
  slider,
  data,
  onIntroCompleted,
}: RenderPaginationProps) =&gt; {
  const handleIntroCompleted = () =&gt; {
    onIntroCompleted();
  };
  return (
    &lt;View style={styles.paginationContainer}&gt;
      &lt;SafeAreaView&gt;
        &lt;View style={styles.paginationDots}&gt;
          {data.length &gt; 1 &amp;&amp;
            data.map((_, i) =&gt; (
              &lt;Pressable
                key={i}
                style={[
                  styles.dot,
                  i === activeIndex
                    ? { backgroundColor: "white" }
                    : { backgroundColor: "rgba(0, 0, 0, 0.2)" },
                ]}
                onPress={() =&gt; slider?.goToSlide(i, true)}
              /&gt;
            ))}
        &lt;/View&gt;
        {activeIndex === data.length - 1 &amp;&amp; (
          &lt;View style={styles.buttonContainer}&gt;
            &lt;Pressable
              onPress={handleIntroCompleted}
              style={[styles.button, { backgroundColor: "#023e3f" }]}&gt;
              &lt;Text style={styles.buttonText}&gt;Log in&lt;/Text&gt;
            &lt;/Pressable&gt;
            &lt;Pressable onPress={handleIntroCompleted} style={styles.button}&gt;
              &lt;Text style={styles.buttonText}&gt;Sign up&lt;/Text&gt;
            &lt;/Pressable&gt;
          &lt;/View&gt;
        )}
      &lt;/SafeAreaView&gt;
    &lt;/View&gt;
  );
};
export const Intro = ({ navigation }: IntroProps) =&gt; {
  const sliderEl = useRef(null);
  const keyExtractor = (item: Item) =&gt; item.title;
  const onIntroCompleted = () =&gt; {
    navigation.navigate("Root");
  };
  return (
    &lt;View style={{ flex: 1 }}&gt;
      &lt;StatusBar translucent backgroundColor="transparent" /&gt;
      &lt;AppIntroSlider
        keyExtractor={keyExtractor}
        renderItem={renderItem}
        renderPagination={(activeIndex) =&gt; (
          &lt;RenderPagination
            data={data}
            activeIndex={activeIndex}
            slider={sliderEl.current}
            onIntroCompleted={onIntroCompleted}
          /&gt;
        )}
        data={data}
        ref={sliderEl}
      /&gt;
    &lt;/View&gt;
  );
};
</pre>
<p>所有神奇的事情都发生在这里，所以让我们深入挖掘。<code>renderItem</code>从<code>data</code>中取出一个物品并将其渲染到列表中:</p>
<pre>&lt;AppIntroSlider
        keyExtractor={keyExtractor} 
        renderItem={renderItem}
        renderPagination={(activeIndex) =&gt; (
          &lt;RenderPagination
            data={data}
            activeIndex={activeIndex}
            slider={sliderEl.current}
            onIntroCompleted={onIntroCompleted}
          /&gt;
        )}
        data={data}
        ref={sliderEl}
      /&gt;
</pre>
<p><code>renderPagination</code>使用相同的<code>data</code>数组来跟踪列表中的当前项目。我们提供来自可变的<code>useRef</code>对象的<code>activeIndex</code>和当前值，以及一个回调函数。</p>
<p><code>renderPagination</code>功能包含幻灯片末尾的注册和登录按钮的逻辑，并在屏幕底部提供小导航点。这个教程是关于滑动的，但是值得注意的是点是可以点击的。</p>
<p>当<code>activeIndex</code>与数组长度匹配时，显示按钮:</p>
<pre> {activeIndex === data.length - 1 &amp;&amp; (
         ...
        )}
</pre>
<p>为了确保 intro 屏幕显示为第一个屏幕，打开导航文件夹中的<code>index.tsx</code>并粘贴以下内容:</p>
<pre>import {
  NavigationContainer,
  DefaultTheme,
  DarkTheme,
} from "@react-navigation/native";
import { createStackNavigator } from "@react-navigation/stack";
import * as React from "react";
import { ColorSchemeName } from "react-native";
import { Intro } from "../screens/Intro";
import NotFoundScreen from "../screens/NotFoundScreen";
import { RootStackParamList } from "../types";
import BottomTabNavigator from "./BottomTabNavigator";
import LinkingConfiguration from "./LinkingConfiguration";
export default function Navigation({
  colorScheme,
}: {
  colorScheme: ColorSchemeName;
}) {
  return (
    &lt;NavigationContainer
      linking={LinkingConfiguration}
      theme={colorScheme === "dark" ? DarkTheme : DefaultTheme}&gt;
      &lt;RootNavigator /&gt;
    &lt;/NavigationContainer&gt;
  );
}

const Stack = createStackNavigator&lt;RootStackParamList&gt;();
function RootNavigator() {
  return (
    &lt;Stack.Navigator screenOptions={{ headerShown: false }}&gt;
      &lt;Stack.Screen name="Intro" component={Intro} /&gt;
      &lt;Stack.Screen name="Root" component={BottomTabNavigator} /&gt;
      &lt;Stack.Screen
        name="NotFound"
        component={NotFoundScreen}
        options={{ title: "Oops!" }}
      /&gt;
    &lt;/Stack.Navigator&gt;
  );
}
</pre>
<p>打开根项目文件夹中的<code>types.tsx</code>，编辑<code>RootStackParamList</code>，如下所示(如果使用 JavaScript，请跳过这一步):</p>
<pre>export type RootStackParamList = {
  Intro: undefined;
  Root: undefined;
  NotFound: undefined;
};
</pre>
<p>现在重启你的应用程序，你就有了你的介绍幻灯片。此时，您可以实现您的注册/登录逻辑并导航到相关屏幕。但我们是来刷卡的，不是来打字的。所以向前向上到下一个组件！</p>
<h2 id="flatlist"><code>FlatList</code></h2>
<p><img data-attachment-id="53812" data-permalink="https://blog.logrocket.com/swiper-components-react-native/swiping-left-right/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Swiping left and right" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif" decoding="async" class="aligncenter size-full wp-image-53812 jetpack-lazy-image" src="../Images/fc822c9a8de1bf4df53d51862781a3ac.png" alt="Swiping Left and Right" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53812" data-permalink="https://blog.logrocket.com/swiper-components-react-native/swiping-left-right/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Swiping left and right" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53812" src="../Images/fc822c9a8de1bf4df53d51862781a3ac.png" alt="Swiping Left and Right" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swiping-left-right.gif"/></noscript>
<p>(<a href="https://github.com/claysimps/RN-swiper-components/tree/FlatList" target="_blank" rel="noopener"> GitHub 分支</a>)</p>
<p>许多 swiper 库都使用它，所以这是一个开始了解我们的方位的好地方。</p>
<p>在 components 文件夹中，创建一个名为<code>FlatList.tsx</code>的文件，并粘贴以下内容:</p>
<pre>import React from "react";
import {
  SafeAreaView,
  View,
  FlatList,
  StyleSheet,
  Text,
  Image,
} from "react-native";
import { DATA } from "../utils";
type ItemProps = typeof DATA[0];
const Item = ({ title, image, id }: ItemProps) =&gt; (
  &lt;View key={id} style={styles.item}&gt;
    &lt;Image style={styles.image} source={{ uri: image }} /&gt;
    &lt;Text style={styles.title}&gt;{title}&lt;/Text&gt;
  &lt;/View&gt;
);
export const FlatListComponent = () =&gt; {
  const renderItem = ({ item }: { item: ItemProps }) =&gt; (
    &lt;Item id={item.id} image={item.image} title={item.title} /&gt;
  );
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={(item) =&gt; item.id}
        horizontal
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  item: {
    backgroundColor: "#2dbded",
    padding: 20,
    marginVertical: 8,
    marginHorizontal: 16,
    height: 200,
    width: 150,
  },
  title: {
    fontSize: 18,
  },
  image: {
    flex: 1,
  },
});
</pre>
<p>FlatList 有一个名为<code>horizontal</code>的属性，它将我们的标准可滚动<code>FlatList</code>变成了一个可滑动(左/右)的组件:</p>
<pre>&lt;FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={(item) =&gt; item.id}
        horizontal
      /&gt;
</pre>
<h2 id="data"><code>DATA</code></h2>
<p>为了提供跨组件的熟悉性，我创建了一个模拟数据函数来为其余组件提供数据。回到你的终端，安装<a href="https://github.com/marak/Faker.js/" target="_blank" rel="noopener"> Faker </a>:</p>
<pre>expo install faker &amp;&amp; yarn add -D @types/faker
</pre>
<p>在项目文件夹的根目录下，创建一个名为<code>utils</code>的文件夹，然后添加以下两个文件:</p>
<p><code>index.ts</code>:</p>
<pre>export { DATA } from "./GenerateImages";
</pre>
<p><code>GenerateImages.tsx</code>:</p>
<pre>import faker from "faker";
const generateImage = () =&gt; ({
  id: faker.datatype.uuid(),
  title: faker.lorem.words(3),
  image: "https://picsum.photos/200/300?random",
});
const generateImages = (numberOfImages: number) =&gt;
  Array.from({ length: numberOfImages }, () =&gt; generateImage());
export const DATA = generateImages(20);
</pre>
<p>Faker 提供随机数据——在我们的例子中，三个单词代表我们的<code>title</code>和一个随机的<code>id</code>。<code>generateImages</code>函数生成了一个包含 20 个对象的数组供我们玩。每个对象都有一个<code>id</code>、<code>title</code>和<code>image</code>属性。</p>
<p>让我们看看我们有什么。转到屏幕文件夹中的<code>TabOneScreen.tsx</code>，添加以下内容:</p>
<pre>import * as React from "react";
import { StyleSheet } from "react-native";
import { FlatListComponent } from "../components/FlatList";
import { View } from "../components/Themed";
export default function TabOneScreen() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;FlatListComponent /&gt;
    &lt;/View&gt;
  );
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
});
</pre>
<h2 id="material-top-tabs"><code>material-top-tabs</code></h2>
<p><img data-attachment-id="53813" data-permalink="https://blog.logrocket.com/swiper-components-react-native/material-top-tabs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif" data-orig-size="430,880" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Material top tabs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs-147x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif" decoding="async" class="aligncenter size-full wp-image-53813 jetpack-lazy-image" src="../Images/b2596144a05c1f42d72f9d8857aa2bd9.png" alt="Material Top Tabs" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53813" data-permalink="https://blog.logrocket.com/swiper-components-react-native/material-top-tabs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif" data-orig-size="430,880" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Material top tabs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs-147x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53813" src="../Images/b2596144a05c1f42d72f9d8857aa2bd9.png" alt="Material Top Tabs" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/material-top-tabs.gif"/></noscript>
<p>(<a href="https://github.com/claysimps/RN-swiper-components/tree/Top-Tabs" target="_blank" rel="noopener"> GitHub 分支</a>)</p>
<p><a href="https://blog.logrocket.com/a-complete-guide-to-react-navigation-5/" target="_blank" rel="noopener"> React 导航</a>是我们初始化项目时配置的。它有一个很棒的顶部标签组件，方便了标签之间的平滑滑动体验。要安装<code><a href="https://www.npmjs.com/package/@react-navigation/material-top-tabs" target="_blank" rel="noopener">material-top-tabs</a></code>:</p>
<pre>expo install @react-navigation/material-top-tabs <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6c1e090d0f1841020d18051a0941180d0e411a05091b2c">[email protected]</a>^2.16.0
</pre>
<p>在 components 文件夹中创建一个名为<code>TopTabsBar.tsx</code>的新文件:</p>
<pre>import { MaterialTopTabBarProps } from "@react-navigation/material-top-tabs";
import React, { FC } from "react";
import { Pressable, View } from "react-native";
import Animated from "react-native-reanimated";

interface TopTabsBarProps extends MaterialTopTabBarProps {}

export const TopTabsBar = ({
  state,
  descriptors,
  navigation,
  position,
}: TopTabsBarProps) =&gt; (
  &lt;View
    style={{
      flexDirection: "row",
    }}&gt;
    {state.routes.map((route, index) =&gt; {
      const { options } = descriptors[route.key];
      const label = options.title !== undefined ? options.title : route.name;
      const isFocused = state.index === index;
      const onPress = () =&gt; {
        const event = navigation.emit({
          type: "tabPress",
          target: route.key,
          canPreventDefault: true,
        });
        if (!isFocused &amp;&amp; !event.defaultPrevented) {
          navigation.navigate(route.name);
        }
      };
      const onLongPress = () =&gt; {
        navigation.emit({
          type: "tabLongPress",
          target: route.key,
        });
      };
      const inputRange = state.routes.map((_: any, i: number) =&gt; i);
      const opacity = Animated.interpolateNode(position, {
        inputRange,
        outputRange: inputRange.map((i: number) =&gt; (i === index ? 1 : 0.2)),
      });
      return (
        &lt;Pressable
          style={{
            flex: 1,
            padding: 10,
          }}
          key={index}
          onPress={onPress}
          onLongPress={onLongPress}&gt;
          &lt;Animated.Text style={{ opacity, textAlign: "center" }}&gt;
            {label}
          &lt;/Animated.Text&gt;
        &lt;/Pressable&gt;
      );
    })}
  &lt;/View&gt;
);
</pre>
<p>请注意未选中屏幕标题的不透明度是如何降低的。当您滑动时，不透明度逐渐变化的效果是通过动画制作<code>Text</code>组件不透明度的样式来创建的——将活跃索引从<code>1</code>(完全不透明度)变为<code>0.2</code>。</p>
<p>现在，我们将创建两个占位符屏幕来测试我们的<code>TopTabBar</code>组件。在屏幕文件夹中，创建以下两个文件:</p>
<p><code>Carousel.tsx</code>:</p>
<pre>import * as React from "react";
import { StyleSheet, Text } from "react-native";
import { View } from "../components/Themed";
export const Carousel = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.separator} /&gt;
      &lt;Text&gt;Swipe left to go to the next tab&lt;/Text&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  separator: {
    marginVertical: 5,
    height: 30,
    width: "80%",
  },
});
</pre>
<p><code>SwipeList.tsx</code>:</p>
<pre>import * as React from "react";
import { StyleSheet, Text } from "react-native";
import { View } from "../components/Themed";
export const SwipeList = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.separator} /&gt;
      &lt;Text style={styles.text}&gt;Swipe right to go back to the first tab&lt;/Text&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
  separator: {
    marginVertical: 5,
    height: 30,
    width: "80%",
  },
  text: {
    textAlign: "center",
  },
});
</pre>
<p>在导航文件夹中，创建一个名为<code>TopTabNavigator.tsx</code>的文件:</p>
<pre>import React from "react";
import { createMaterialTopTabNavigator } from "@react-navigation/material-top-tabs";
import { TopTabsBar } from "../components/TopTabsBar";
import { Carousel } from "../screens/Carousel";
import { SwipeList } from "../screens/SwipeList";
export type TopTabParamList = {
  Carousel: undefined;
  SwipeList: undefined;
};
const { Navigator, Screen } = createMaterialTopTabNavigator&lt;TopTabParamList&gt;();
export const TopTabNavigator = () =&gt; (
  &lt;Navigator
    tabBar={(props) =&gt; &lt;TopTabsBar {...props} /&gt;}
    initialRouteName="Carousel"&gt;
    &lt;Screen
      name="Carousel"
      component={Carousel}
      options={{ title: "Carousel" }}
    /&gt;
    &lt;Screen
      name="SwipeList"
      component={SwipeList}
      options={{ title: "Swipe List" }}
    /&gt;
  &lt;/Navigator&gt;
);
</pre>
<p>用以下内容更新<code>types.tsx</code>:</p>
<pre>export type RootStackParamList = {
  Intro: undefined;
  Root: undefined;
  NotFound: undefined;
};
export type BottomTabParamList = {
  TabOne: undefined;
  TabTwo: undefined;
};
export type TabOneParamList = {
  TabOneScreen: undefined;
};
export type TabTwoParamList = {
  TopTabNavigator: undefined;
};
</pre>
<p>要在<code>TabTwo</code>上显示我们的<code>TopTabNavigator</code>，编辑<code>BottomTabNavigator.tsx</code>，如下所示:</p>
<pre>import { Ionicons } from "@expo/vector-icons";
import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
import { createStackNavigator } from "@react-navigation/stack";
import * as React from "react";
import Colors from "../constants/Colors";
import useColorScheme from "../hooks/useColorScheme";
import TabOneScreen from "../screens/TabOneScreen";
import TabTwoScreen from "../screens/TabTwoScreen";
import { BottomTabParamList, TabOneParamList, TabTwoParamList } from "../types";
import { TopTabNavigator } from "./TopTabNavigator";
const BottomTab = createBottomTabNavigator&lt;BottomTabParamList&gt;();
export default function BottomTabNavigator() {
  const colorScheme = useColorScheme();
  return (
    &lt;BottomTab.Navigator
      initialRouteName="TabOne"
      tabBarOptions={{ activeTintColor: Colors[colorScheme].tint }}&gt;
      &lt;BottomTab.Screen
        name="TabOne"
        component={TabOneNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;BottomTab.Screen
        name="TabTwo"
        component={TabTwoNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
    &lt;/BottomTab.Navigator&gt;
  );
}

function TabBarIcon(props: {
  name: React.ComponentProps&lt;typeof Ionicons&gt;["name"];
  color: string;
}) {
  return &lt;Ionicons size={30} style={{ marginBottom: -3 }} {...props} /&gt;;
}

const TabOneStack = createStackNavigator&lt;TabOneParamList&gt;();
function TabOneNavigator() {
  return (
    &lt;TabOneStack.Navigator&gt;
      &lt;TabOneStack.Screen
        name="TabOneScreen"
        component={TabOneScreen}
        options={{ headerTitle: "Swipe-able FlatList" }}
      /&gt;
    &lt;/TabOneStack.Navigator&gt;
  );
}
const TabTwoStack = createStackNavigator&lt;TabTwoParamList&gt;();
function TabTwoNavigator() {
  return (
    &lt;TabTwoStack.Navigator&gt;
      &lt;TabTwoStack.Screen
        name="TopTabNavigator"
        component={TopTabNavigator}
      /&gt;
    &lt;/TabTwoStack.Navigator&gt;
  );
}
</pre>
<h2 id="react-native-snap-carousel"><code>react-native-snap-carousel</code></h2>
<p><img data-attachment-id="53814" data-permalink="https://blog.logrocket.com/swiper-components-react-native/snap-carousel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Snap carousel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif" decoding="async" class="aligncenter size-full wp-image-53814 jetpack-lazy-image" src="../Images/0909a2653f85cb14205fed95968193bf.png" alt="Snap Carousel" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53814" data-permalink="https://blog.logrocket.com/swiper-components-react-native/snap-carousel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Snap carousel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53814" src="../Images/0909a2653f85cb14205fed95968193bf.png" alt="Snap Carousel" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/snap-carousel.gif"/></noscript>
<p>(<a href="https://github.com/claysimps/RN-swiper-components/tree/carousel" target="_blank" rel="noopener"> GitHub 分支</a>)</p>
<p>凭借 8.6K GitHub stars 和每月超过 50 万的下载量，<code><a href="https://github.com/meliorence/react-native-snap-carousel" target="_blank" rel="noopener">react-native-snap-carousel</a></code>是一个非常受欢迎的库。它有三种内置布局——默认、堆栈和 tinder——我们将一一探究。但是如果这还不够，您可以创建自己的自定义插值。</p>
<p>我们将创建三个屏幕，然后在之前创建的 top tabs 组件中呈现它们。如果这是你一直在等待的，不要再等了:</p>
<pre>expo install react-native-snap-carousel &amp;&amp; yarn add -D @types/react-native-snap-carousel
</pre>
<p>当我们创建<code>FlatList</code>组件时，我们构建了一个名为<code>Item</code>的组件。由于它返回一张带有标题和图像的卡片，现在可能是重构代码并创建一个可重用的<code>Card</code>组件的好时机。</p>
<p>创建<code>components/Card.tsx</code>:</p>
<pre>import React from "react";
import { View, Text, StyleSheet, Image } from "react-native";
import { DATA } from "../utils";
export type CardProps = typeof DATA[0];
export const Card = ({ title, image, id }: CardProps) =&gt; (
  &lt;View key={id} style={styles.container}&gt;
    &lt;View key={id} style={styles.item}&gt;
      &lt;Image style={styles.image} source={{ uri: image }} /&gt;
      &lt;Text style={styles.title}&gt;{title}&lt;/Text&gt;
    &lt;/View&gt;
  &lt;/View&gt;
);
const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
  },
  item: {
    backgroundColor: "#2dbded",
    padding: 20,
    marginVertical: 8,
    marginHorizontal: 16,
    height: 200,
    width: 250,
  },
  title: {
    fontSize: 18,
  },
  image: {
    flex: 1,
  },
});
</pre>
<p>编辑<code>FlatList.tsx</code>以使用新的<code>Card</code>组件:</p>
<pre>import React from "react";
import { SafeAreaView, FlatList, StyleSheet } from "react-native";
import { DATA } from "../utils";
import { CardProps, Card } from "./Card";
export const FlatListComponent = () =&gt; {
  const renderItem = ({ item }: { item: CardProps }) =&gt; (
    &lt;Card id={item.id} image={item.image} title={item.title} /&gt;
  );
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;FlatList
        data={DATA}
        renderItem={renderItem}
        keyExtractor={(item) =&gt; item.id}
        horizontal
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
  },
});
</pre>
<p>现在我们将创建一个可重用的<code>Carousel</code>组件和三个屏幕来显示不同的内置布局。在 components 文件夹中，创建一个名为<code>Carousel.tsx</code>的文件，并添加以下内容:</p>
<pre>import React, { useState, useRef } from "react";
import { View } from "react-native";
import Carousel from "react-native-snap-carousel";
import { DATA } from "../utils";
import { CardProps, Card } from "./Card";
type LayoutProps = { layout?: "default" | "stack" | "tinder" | undefined };
export const CarouselComponent = ({ layout }: LayoutProps) =&gt; {
  const [_, setActiveIndex] = useState&lt;number&gt;(0);
  const carouselEl = useRef(null);
  const handleSnapToItem = (index: number) =&gt; {
    setActiveIndex(index);
  };
  const renderItem = ({ item, index }: { item: CardProps; index: number }) =&gt; (
    &lt;Card key={index} id={item.id} image={item.image} title={item.title} /&gt;
  );
  return (
    &lt;View style={{ flex: 1, alignItems: "center" }}&gt;
      &lt;View
        style={{
          paddingTop: 20,
        }}&gt;
        &lt;Carousel
          layout={layout}
          ref={carouselEl}
          data={DATA}
          sliderWidth={300}
          itemWidth={300}
          renderItem={renderItem}
          onSnapToItem={(index) =&gt; handleSnapToItem(index)}
          layoutCardOffset={18}
          inactiveSlideScale={0.94}
          inactiveSlideOpacity={0.7}
          initialNumToRender={3}
        /&gt;
      &lt;/View&gt;
    &lt;/View&gt;
  );
};
</pre>
<p><code>Carousel</code>组件使用了我们之前创建的相同的<code>Card</code>组件，所以看起来应该很熟悉。如果你想像在<code>Intro</code>幻灯片中那样添加分页，这很简单:</p>
<pre>// #1 Add activeIndex to useState
 const [activeIndex, setActiveIndex] = useState&lt;number&gt;(0);
// #2 create pagination function
const pagination = () =&gt; (
    &lt;Pagination
      dotsLength={DATA.length}
      activeDotIndex={activeIndex}
      containerStyle={{ backgroundColor: "rgba(0, 0, 0, 0.75)" }}
      dotStyle={{
        width: 10,
        height: 10,
        borderRadius: 5,
        marginHorizontal: 8,
        backgroundColor: "rgba(255, 255, 255, 0.92)",
      }}
      inactiveDotStyle={
        {
          // Define styles for inactive dots here
        }
      }
      inactiveDotOpacity={0.4}
      inactiveDotScale={0.6}
    /&gt;
  );

// #3 Return it below your Carousel component. 

return (
    &lt;View style={{ flex: 1, alignItems: "center" }}&gt;
      &lt;View
        style={{
          paddingTop: 20,
        }}&gt;
        &lt;Carousel
          {...}
        /&gt;
        {pagination()}
      &lt;/View&gt;
    &lt;/View&gt;
  );
</pre>
<p>现在<code>Carousel</code>组件都设置好了，是时候消耗它了。在 screens 文件夹中创建三个新文件，并添加以下代码:</p>
<p><code>DefaultCarousel.tsx</code>:</p>
<pre>import * as React from "react";
import { StyleSheet, Text } from "react-native";
import { CarouselComponent } from "../components/Carousel";
import { View } from "../components/Themed";
export const DefaultCarousel = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.separator}&gt;
        &lt;Text style={styles.text}&gt;Swipe left to go to the next tab&lt;/Text&gt;
      &lt;/View&gt;
      &lt;CarouselComponent layout="default" /&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    backgroundColor: "rebeccapurple",
  },
  separator: {
    width: "100%",
    height: 150,
    justifyContent: "center",
  },
  text: {
    textAlign: "center",
  },
});
</pre>
<p><code>StackCarousel.tsx</code>:</p>
<pre>import * as React from "react";
import { StyleSheet, Text } from "react-native";
import { CarouselComponent } from "../components/Carousel";
import { View } from "../components/Themed";
export const StackCarousel = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.separator}&gt;
        &lt;Text style={styles.text}&gt;Swipe right to go to go back&lt;/Text&gt;
      &lt;/View&gt;
      &lt;CarouselComponent layout="stack" /&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    backgroundColor: "rebeccapurple",
  },
  separator: {
    width: "100%",
    height: 150,
    justifyContent: "center",
  },
  text: {
    textAlign: "center",
  },
});
</pre>
<p><code>TinderCarousel.tsx</code>:</p>
<pre>import React from "react";
import { StyleSheet, Text } from "react-native";
import { CarouselComponent } from "../components/Carousel";
import { View } from "../components/Themed";
export const TinderCarousel = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;View style={styles.separator}&gt;
        &lt;Text style={styles.text}&gt;Swipe left or right&lt;/Text&gt;
      &lt;/View&gt;
      &lt;CarouselComponent layout="tinder" /&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    backgroundColor: "rebeccapurple",
  },
  separator: {
    width: "100%",
    height: 150,
    justifyContent: "center",
  },
  text: {
    textAlign: "center",
  },
});
</pre>
<p>转到导航文件夹中的<code>TopTabNavigator</code>,将其编辑为:</p>
<pre>import React from "react";
import { createMaterialTopTabNavigator } from "@react-navigation/material-top-tabs";
import { TopTabsBar } from "../components/TopTabsBar";
import { DefaultCarousel } from "../screens/DefaultCarousel";
import { TinderCarousel } from "../screens/TinderCarousel";
import { StackCarousel } from "../screens/StackCarousel";
export type TopTabParamList = {
  Default: undefined;
  Tinder: undefined;
  Stack: undefined;
};
const { Navigator, Screen } = createMaterialTopTabNavigator&lt;TopTabParamList&gt;();
export const TopTabNavigator = () =&gt; (
  &lt;Navigator
    tabBar={(props) =&gt; &lt;TopTabsBar {...props} /&gt;}
    initialRouteName="Default"&gt;
    &lt;Screen
      name="Default"
      component={DefaultCarousel}
      options={{ title: "Default " }}
    /&gt;
    &lt;Screen
      name="Tinder"
      component={TinderCarousel}
      options={{ title: "Tinder" }}
    /&gt;
    &lt;Screen
      name="Stack"
      component={StackCarousel}
      options={{ title: "Stack" }}
    /&gt;
  &lt;/Navigator&gt;
);
</pre>
<p>转到<code>BottomTabNavigator</code>，用以下内容更新它:</p>
<pre>import { Ionicons } from "@expo/vector-icons";
import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
import { createStackNavigator } from "@react-navigation/stack";
import * as React from "react";
import Colors from "../constants/Colors";
import useColorScheme from "../hooks/useColorScheme";
import TabOneScreen from "../screens/TabOneScreen";
import { BottomTabParamList, TabOneParamList, TabTwoParamList } from "../types";
import { TopTabNavigator } from "./TopTabNavigator";
const BottomTab = createBottomTabNavigator&lt;BottomTabParamList&gt;();
export default function BottomTabNavigator() {
  const colorScheme = useColorScheme();
  return (
    &lt;BottomTab.Navigator
      initialRouteName="TabOne"
      tabBarOptions={{ activeTintColor: Colors[colorScheme].tint }}&gt;
      &lt;BottomTab.Screen
        name="TabOne"
        component={TabOneNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;BottomTab.Screen
        name="TabTwo"
        component={TabTwoNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
    &lt;/BottomTab.Navigator&gt;
  );
}
function TabBarIcon(props: {
  name: React.ComponentProps&lt;typeof Ionicons&gt;["name"];
  color: string;
}) {
  return &lt;Ionicons size={30} style={{ marginBottom: -3 }} {...props} /&gt;;
}
const TabOneStack = createStackNavigator&lt;TabOneParamList&gt;();
function TabOneNavigator() {
  return (
    &lt;TabOneStack.Navigator&gt;
      &lt;TabOneStack.Screen
        name="TabOneScreen"
        component={TabOneScreen}
        options={{ headerTitle: "Swipe-able FlatList" }}
      /&gt;
    &lt;/TabOneStack.Navigator&gt;
  );
}
const TabTwoStack = createStackNavigator&lt;TabTwoParamList&gt;();
function TabTwoNavigator() {
  return (
    &lt;TabTwoStack.Navigator&gt;
      &lt;TabTwoStack.Screen
        name="TopTabNavigator"
        component={TopTabNavigator}
        options={{ headerTitle: "Carousel Swipe" }}
      /&gt;
    &lt;/TabTwoStack.Navigator&gt;
  );
}
</pre>
<h2 id="react-native-swipe-list-view"><code>react-native-swipe-list-view</code></h2>
<p><img data-attachment-id="53816" data-permalink="https://blog.logrocket.com/swiper-components-react-native/swipe-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Swipe list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif" decoding="async" class="aligncenter size-full wp-image-53816 jetpack-lazy-image" src="../Images/65af2cc817eb8db2a93a6b7f7769e8fa.png" alt="Swipe List" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="53816" data-permalink="https://blog.logrocket.com/swiper-components-react-native/swipe-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif" data-orig-size="430,882" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Swipe list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list-146x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-53816" src="../Images/65af2cc817eb8db2a93a6b7f7769e8fa.png" alt="Swipe List" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/swipe-list.gif"/></noscript>
<p>(<a href="https://github.com/claysimps/RN-swiper-components/tree/swipe-able-list" target="_blank" rel="noopener"> GitHub 分支</a>)</p>
<p>如果你正在构建一个带有可滑动列表的应用，这个库就是为你准备的。<code><a href="https://github.com/meliorence/react-native-snap-carousel" target="_blank" rel="noopener">react-native-snap-carousel</a></code>是一个垂直的<code>ListView</code>，带有动画的可滑动行。</p>
<p>事不宜迟，让我们安装它并开始行动:</p>
<pre>expo install react-native-swipe-list-view
</pre>
<p>下一段你需要垃圾桶的图像。从<a href="https://github.com/claysimps/RN-swiper-components/blob/master/assets/images/trash.png" target="_blank" rel="noopener"> GitHub </a>下载并添加到<code>assets/images</code>。</p>
<p>在 components 文件夹中，创建一个名为<code>SwipeList.tsx</code>的文件，并添加以下内容:</p>
<pre>import React, { useState } from "react";
import {
  Image,
  StyleSheet,
  Text,
  TouchableHighlight,
  View,
  TouchableOpacity,
  Alert,
} from "react-native";
import Animated from "react-native-reanimated";
import { SwipeListView } from "react-native-swipe-list-view";
import { DATA } from "../utils";
const initialList = DATA.map((data, index) =&gt; ({ ...data, key: `${index}` }));
const rowSwipeAnimatedValues: any = {};
initialList.forEach((_, i) =&gt; {
  rowSwipeAnimatedValues[`${i}`] = new Animated.Value(0);
});
type Item = typeof initialList[0];
const renderItem = ({ item }: { item: Item }) =&gt; (
  &lt;TouchableHighlight
    onPress={() =&gt; console.log("You touched me")}
    style={styles.rowFront}
    underlayColor={"#AAA"}&gt;
    &lt;View style={styles.item}&gt;
      &lt;Image style={styles.image} source={{ uri: item.image }} /&gt;
      &lt;Text style={styles.text}&gt;
        image: {item.key} {item.title}. swipe left or right
      &lt;/Text&gt;
    &lt;/View&gt;
  &lt;/TouchableHighlight&gt;
);
export const SwipeList = () =&gt; {
  const [listData, setListData] = useState(initialList);
  const closeRow = (rowMap: any, rowKey: string) =&gt; {
    console.log("this is the rowMap: ", rowMap);
    if (rowMap[rowKey]) {
      rowMap[rowKey].closeRow();
    }
  };
  const deleteRow = (rowMap: Map&lt;string, Object&gt;, rowKey: string) =&gt; {
    closeRow(rowMap, rowKey);
    const newData = [...listData];
    const prevIndex = listData.findIndex((item) =&gt; item.key === rowKey);
    newData.splice(prevIndex, 1);
    setListData(newData);
  };
  const alertRow = (rowMap: Map&lt;string, Object&gt;, rowKey: string) =&gt; {
    closeRow(rowMap, rowKey);
    const indexOfFilm: number = listData.findIndex(
      (item) =&gt; item.key === rowKey
    );
    Alert.alert("do something else with this item:", listData[indexOfFilm].key);
  };
  const onRowDidOpen = (rowKey: string) =&gt; {
    console.log("This row opened", rowKey);
  };
  const onSwipeValueChange = ({
    key,
    value,
  }: {
    key: string;
    value: number;
  }) =&gt; {
    rowSwipeAnimatedValues[key].setValue(Math.abs(value));
  };
  const renderHiddenItem = ({ item }: { item: Item }, rowMap: any) =&gt; (
    &lt;View style={styles.rowBack}&gt;
      &lt;TouchableOpacity onPress={() =&gt; alertRow(rowMap, item.key)}&gt;
        &lt;Text&gt;Click&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
      &lt;TouchableOpacity
        style={[styles.backRightBtn, styles.backRightBtnLeft]}
        onPress={() =&gt; closeRow(rowMap, item.key)}&gt;
        &lt;Text style={styles.backTextWhite}&gt;Close&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
      &lt;TouchableOpacity
        style={[styles.backRightBtn, styles.backRightBtnRight]}
        onPress={() =&gt; deleteRow(rowMap, item.key)}&gt;
        &lt;Animated.View
          style={[
            styles.trash,
            {
              transform: [
                {
                  scale: rowSwipeAnimatedValues[item.key].interpolate({
                    inputRange: [45, 90],
                    outputRange: [0, 1],
                    extrapolate: "clamp",
                  }),
                },
              ],
            },
          ]}&gt;
          &lt;Image
            source={require("../assets/images/trash.png")}
            style={styles.trash}
          /&gt;
        &lt;/Animated.View&gt;
      &lt;/TouchableOpacity&gt;
    &lt;/View&gt;
  );
  return (
    &lt;View style={styles.container}&gt;
      &lt;SwipeListView
        data={listData}
        renderItem={renderItem}
        renderHiddenItem={renderHiddenItem}
        leftOpenValue={75}
        rightOpenValue={-150}
        previewRowKey={"0"}
        previewOpenValue={-40}
        previewOpenDelay={3000}
        onRowDidOpen={onRowDidOpen}
        onSwipeValueChange={onSwipeValueChange}
      /&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    backgroundColor: "white",
    flex: 1,
  },
  backTextWhite: {
    color: "#FFF",
  },
  rowFront: {
    alignItems: "center",
    backgroundColor: "#CCC",
    borderBottomColor: "black",
    borderBottomWidth: 1,
    justifyContent: "center",
    height: 50,
  },
  rowBack: {
    alignItems: "center",
    backgroundColor: "#DDD",
    flex: 1,
    flexDirection: "row",
    justifyContent: "space-between",
    paddingLeft: 15,
  },
  backRightBtn: {
    alignItems: "center",
    bottom: 0,
    justifyContent: "center",
    position: "absolute",
    top: 0,
    width: 75,
  },
  backRightBtnLeft: {
    backgroundColor: "blue",
    right: 75,
  },
  backRightBtnRight: {
    backgroundColor: "red",
    right: 0,
  },
  trash: {
    height: 25,
    width: 25,
  },
  item: {
    padding: 10,
    marginVertical: 8,
    marginHorizontal: 16,
    flexDirection: "row",
  },
  image: {
    flex: 1,
    alignContent: "flex-start",
    height: 40,
    width: 50,
  },
  text: {
    flex: 4,
    paddingLeft: 10,
  },
});
</pre>
<p>哇，代码真多！我们来分解一下。</p>
<p>首先，我们向原始的<code>DATA</code>数组对象添加了一个新的<code>key</code>属性。这是因为 React 原生滚动列表视图要求您的<code>DATA</code>数组对象包含一个键属性。否则，您必须向<code>SwipeListView</code>传递一个<code>keyExtractor</code>:</p>
<pre>const initialList = DATA.map((data, index) =&gt; ({ ...data, key: `${index}` }));
</pre>
<p>我们初始化了<code>rowSwipeAnimatedValues</code>，并为我们的<code>initialList</code>数组对象中的每个对象创建了一个新的动画值:</p>
<pre>const rowSwipeAnimatedValues: any = {};
initialList.forEach((_, i) =&gt; {
  rowSwipeAnimatedValues[`${i}`] = new Animated.Value(0);
</pre>
<p>我们使用<code>initialList</code>来初始化传递给<code>SwipeListView</code>组件(<code>data={listData}</code>)的状态。</p>
<p><code>closeRow</code>、<code>deleteRow</code>、<code>alertRow</code>是<code>renderHiddenItem</code>的辅助功能。这是 React 本机滚动列表视图的核心部分。</p>
<p>向右滑动显示该行左侧的一个按钮。您可以通过<code>onPress</code> prop 对它做任何事情，但是对于本教程，它会为该行打开一个警告。如果你向左滑动，你会看到两个隐藏的按钮:一个<strong>关闭</strong>按钮关闭暴露的按钮，一个动画垃圾桶会随着你的滑动而变大。这种效果是通过将<code>Image</code>包裹在动画<code>View</code>中实现的:</p>
<pre>&lt;Animated.View
          style={[
            styles.trash,
            {
              transform: [
                {
                  scale: rowSwipeAnimatedValues[item.key].interpolate({
                    inputRange: [45, 90],
                    outputRange: [0, 1],
                    extrapolate: "clamp",
                  }),
                },
              ],
            },
          ]}&gt;
          &lt;Image
            source={require("../assets/images/trash.png")}
            style={styles.trash}
          /&gt;
        &lt;/Animated.View&gt;
</pre>
<p>现在我们已经构建了组件，是时候让你的屏幕变得漂亮整洁了。再走几步，你就可以回到你的滑动、滑动、点击程序了。</p>
<p>在屏幕文件夹中，创建一个名为<code>SwipeListView.tsx</code>的文件，并将其粘贴到:</p>
<pre>import React from "react";
import { StyleSheet, View } from "react-native";
import { SwipeList } from "../components/SwipeList";
export const SwipeListViewScreen = () =&gt; {
  return (
    &lt;View style={styles.container}&gt;
      &lt;SwipeList /&gt;
    &lt;/View&gt;
  );
};
const styles = StyleSheet.create({
  container: {
    backgroundColor: "white",
    flex: 1,
  },
});
</pre>
<p>将<code>BottomTabNavigator.tsx</code>改为:</p>
<pre>import { Ionicons } from "@expo/vector-icons";
import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
import { createStackNavigator } from "@react-navigation/stack";
import * as React from "react";
import Colors from "../constants/Colors";
import useColorScheme from "../hooks/useColorScheme";
import { SwipeListViewScreen } from "../screens/SwipeListView";
import TabOneScreen from "../screens/TabOneScreen";
import {
  BottomTabParamList,
  TabOneParamList,
  TabTwoParamList,
} from "../types";
import { TopTabNavigator } from "./TopTabNavigator";
export type TabThreeParamList = {
  SwipeListView: undefined;
};
const BottomTab = createBottomTabNavigator&lt;BottomTabParamList&gt;();
export default function BottomTabNavigator() {
  const colorScheme = useColorScheme();
  return (
    &lt;BottomTab.Navigator
      initialRouteName="TabOne"
      tabBarOptions={{ activeTintColor: Colors[colorScheme].tint }}&gt;
      &lt;BottomTab.Screen
        name="TabOne"
        component={TabOneNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;BottomTab.Screen
        name="TabTwo"
        component={TabTwoNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
      &lt;BottomTab.Screen
        name="TabThree"
        component={TabThreeNavigator}
        options={{
          tabBarIcon: ({ color }) =&gt; (
            &lt;TabBarIcon name="ios-code" color={color} /&gt;
          ),
        }}
      /&gt;
    &lt;/BottomTab.Navigator&gt;
  );
}
function TabBarIcon(props: {
  name: React.ComponentProps&lt;typeof Ionicons&gt;["name"];
  color: string;
}) {
  return &lt;Ionicons size={30} style={{ marginBottom: -3 }} {...props} /&gt;;
}
const TabOneStack = createStackNavigator&lt;TabOneParamList&gt;();
function TabOneNavigator() {
  return (
    &lt;TabOneStack.Navigator&gt;
      &lt;TabOneStack.Screen
        name="TabOneScreen"
        component={TabOneScreen}
        options={{ headerTitle: "Swipe-able FlatList" }}
      /&gt;
    &lt;/TabOneStack.Navigator&gt;
  );
}
const TabTwoStack = createStackNavigator&lt;TabTwoParamList&gt;();
function TabTwoNavigator() {
  return (
    &lt;TabTwoStack.Navigator&gt;
      &lt;TabTwoStack.Screen
        name="TopTabNavigator"
        component={TopTabNavigator}
        options={{ headerTitle: "Carousel Swipe" }}
      /&gt;
    &lt;/TabTwoStack.Navigator&gt;
  );
}
const TabThreeStack = createStackNavigator&lt;TabThreeParamList&gt;();
function TabThreeNavigator() {
  return (
    &lt;TabThreeStack.Navigator&gt;
      &lt;TabThreeStack.Screen
        name="SwipeListView"
        component={SwipeListViewScreen}
        options={{ headerTitle: "Swipe List" }}
      /&gt;
    &lt;/TabThreeStack.Navigator&gt;
  );
}
</pre>
<h2>结论</h2>
<p>我们已经介绍了 React 原生应用程序简介滑块、React 原生的平面列表组件、React 导航材料顶部标签、React 原生快照转盘和 React 原生滑动列表视图。到目前为止，您应该对使用 React Native FlatList 的库创建动画 swiper 组件感到非常舒服。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>