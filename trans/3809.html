<html>
<head>
<title>Build a draggable to-do list with React Native Draggable FlatList </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React本机可拖动平面列表构建可拖动的待办事项列表</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/react-native-draggable-flatlist/#0001-01-01">https://blog.logrocket.com/react-native-draggable-flatlist/#0001-01-01</a></blockquote><div><article class="article-post">
<p>拖动列表重新排序是许多待办事项和看板应用程序的常见用例。今天，我们正在使用React Native构建一个类似的可排序待办事项应用程序。这个应用程序允许用户添加、删除和标记待办事项。用户还可以拖动待办事项并对其重新排序，当你想对某些事项进行优先级排序时，这一步尤其有用。</p>
<p>我们将使用<code>react-native-draggable-flatlist</code>构建应用程序。这个库建立在<code><a href="https://github.com/software-mansion/react-native-reanimated">react-native-reanimated</a></code>之上，以60 FPS的速度无缝处理动画。它也得到很好的维护和测试，使它比其他选项更适合。</p>
<p><em>向前跳转:</em></p>

<h2 id="installation-setup">安装和设置</h2>
<p>React Native项目可以使用React Native或Expo启动。</p>
<p>对于这个项目，我们将使用Expo来快速启动项目，因为这是启动React本地项目的最快和最无缝的方式。</p>
<p>运行以下命令创建我们的应用程序:</p>
<pre class="language-javascript hljs">npx create-react-app todo-sortable
</pre>
<p>一旦项目准备就绪，我们就可以安装所需的库<code><a href="https://github.com/computerjazz/react-native-draggable-flatlist">react-native-draggable-flatlist</a></code>。</p>
<p>现在让我们安装<code>react-native-draggable-flatlist</code>:</p>
<pre class="language-javascript hljs">npm install react-native-draggable-flatlist
OR
yarn add react-native-draggable-flatlist
</pre>
<p>这个包依赖于<code>react-native-gesture-handler</code>和<code>react-native-reanimated</code>。让我们继续安装这些软件包:</p>
<pre class="language-javascript hljs">npx expo install react-native-gesture-handler
# OR this command for non expo project
yarn add react-native-gesture-handler
</pre>
<p>该命令将安装世博会支持的<a href="https://docs.expo.dev/versions/latest/sdk/gesture-handler/"> <code>react-native-gesture-handler</code> </a>版本。</p>
<p>我们还需要更新入口文件App.js来支持手势处理程序。转到App.js并更新如下:</p>
<pre class="language-javascript hljs">// import at the top
import "react-native-gesture-handler";

// wrap whole app with &lt;GestureHandlerRootView&gt;
import { GestureHandlerRootView } from "react-native-gesture-handler";

export default function App() {
  return (
    &lt;GestureHandlerRootView&gt;
      &lt;View style={styles.container}&gt;
        &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;
        &lt;StatusBar style="auto" /&gt;
      &lt;/View&gt;
    &lt;/GestureHandlerRootView&gt;
  );
}
</pre>
<p>现在，我们需要安装<a href="https://docs.expo.dev/versions/latest/sdk/reanimated/">React Native realized</a>。</p>
<pre class="language-javascript hljs">npx expo install react-native-reanimated
# OR this command for non expo project
yarn add react-native-reanimated
</pre>
<p>安装完成后，还必须将巴别塔插件添加到<code>babel.config.js</code> <strong> : </strong></p>
<pre class="language-javascript hljs">module.exports = function (api) {
  api.cache(true);
  return {
    presets: ['babel-preset-expo'],
    plugins: ['react-native-reanimated/plugin'],
  };
};
</pre>
<p>现在，我们需要安装一个组件库，这将使我们的开发过程快得多。我用的是<code>react-native-design-system</code>，但是你可以选择任何你喜欢的组件库。</p>
<p>运行以下命令安装软件包:</p>
<pre class="language-bash hljs">yarn add react-native-design-system
</pre>
<p>现在我们已经准备好了样板文件。这是应用程序在这一步的样子:</p>
<p><img data-attachment-id="154891" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/installing-to-do-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png" data-orig-size="560,1214" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Installing to do app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-138x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-472x1024.png" decoding="async" class="aligncenter size-full wp-image-154891 jetpack-lazy-image" src="../Images/d20248997abe7a82fa964f08d6bb2468.png" alt="Installing To Do App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png 560w, https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-138x300.png 138w, https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-472x1024.png 472w" data-lazy-sizes="(max-width: 560px) 100vw, 560px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154891" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/installing-to-do-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png" data-orig-size="560,1214" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Installing to do app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-138x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-472x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-154891" src="../Images/d20248997abe7a82fa964f08d6bb2468.png" alt="Installing To Do App" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png 560w, https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-138x300.png 138w, https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app-472x1024.png 472w" sizes="(max-width: 560px) 100vw, 560px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/installing-to-do-app.png"/></noscript>
<p>现在，让我们深入了解功能！</p>
<h2 id="adding-input-to-dos">为待办事项添加输入</h2>
<p>在我们允许待办事项可拖动之前，我们需要处理添加待办事项。为了实现这一点，我们将使用来自<code>react-native-design-system</code>的<code>Input</code>组件。</p>
<p>首先，我们需要用来自<code>react-native-design-system</code>的<code>ThemeProvider</code>包装我们的应用程序。这是必需的，因为组件的所有样式都依赖于此。</p>
<p>去App.js用<code>ThemeProvider</code>把你的<code>&lt;App/&gt;</code>包起来:</p>
<pre class="language-javascript hljs">import { ThemeProvider, theme } from "react-native-design-system";

const App = () =&gt; {
  return (
    &lt;GestureHandlerRootView style={styles.container}&gt;
      &lt;ThemeProvider theme={theme}&gt;
        &lt;View style={styles.container}&gt;
          &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;
          &lt;StatusBar style="auto" /&gt;
        &lt;/View&gt;
      &lt;/ThemeProvider&gt;
    &lt;/GestureHandlerRootView&gt;
  );
};

export default App;
</pre>
<p>让我们创建一个新的组件来处理待办事项列表。创建一个src文件夹并添加一个<code>TodoList</code>组件:</p>
<pre class="language-javascript hljs">import { View, Text } from "react-native";
import React from "react";

const TodoList = () =&gt; {
  return (
    &lt;View&gt;
      &lt;Text&gt;TodoList&lt;/Text&gt;
    &lt;/View&gt;
  );
};

export { TodoList };
</pre>
<p>现在，我们需要添加一个<code>Input</code>组件，并使用<code>useState()</code>钩子保存用户输入:</p>
<pre class="language-javascript hljs">import { View, Text } from "react-native";
import React from "react";
import { Input } from "react-native-design-system";

const TodoList = () =&gt; {
  const [text, setText] = useState("");

  const handleTextInput = (input) =&gt; {
    setText(input);
  };

  const handleAddTodo = () =&gt; {
    // handle adding todos
  };
  return (
    &lt;View&gt;
      &lt;Input
        value={text}
        outline
        onChangeText={handleTextInput}
        onSubmitEditing={handleAddTodo}
      /&gt;
    &lt;/View&gt;
  );
};

export { TodoList };
</pre>
<p>这将确保我们正确保存用户输入状态。我们将很快使用此状态来创建待办事项。现在我们只需要在App.js中导入这个组件:</p>
<pre class="language-javascript hljs">import { TodoList } from "./src/TodoList";

const App = () =&gt; {
  return (
    &lt;GestureHandlerRootView style={styles.container}&gt;
      &lt;ThemeProvider theme={theme}&gt;
        &lt;TodoList /&gt;
      &lt;/ThemeProvider&gt;
    &lt;/GestureHandlerRootView&gt;
  );
};

export default App;
</pre>
<h2 id="add-to-do-items">添加待办事项</h2>
<p>在开始将待办事项添加到我们的列表之前，我们需要了解数据是如何被<code>react-native-draggable-flatlist</code>库请求的。如果你看一下文档，你会发现它期望数据是一个数组。</p>
<p>让我们想象一下在我们的情况下会是什么样子:</p>
<pre class="language-javascript hljs">const data = [
  {
    key: "123",
    todo: "Buy Grocery",
    isCompleted: false,
  },
  {
    key: "124",
    todo: "Make Omelet",
    isCompleted: false,
  },
  {
    key: "125",
    todo: "Go to the gym",
    isCompleted: false,
  },
];
</pre>
<p>如果你观察上面的数据，我们把数字作为一个键和其他属性放在一起。为了保持密钥的唯一性，我们还可以使用<code>uuid</code>来生成它们。让我们先安装<code>uuid</code>包:</p>
<pre class="language-bash hljs">yarn add uuid react-native-get-random-values
</pre>
<p>我们需要<code>react-native-get-random-values</code>，因为<code>uuid</code>依赖于它。我们来更新App.js文件，导入<code>react-native-get-random-values</code>如下:</p>
<pre class="language-javascript hljs">import "react-native-gesture-handler";
// import the package below
import "react-native-get-random-values";
import { StyleSheet } from "react-native";
// rest of the code
</pre>
<p>让我们开始在数据阵列中添加待办事项:</p>
<pre class="language-javascript hljs">// other imports
import DraggableFlatList, {
  ScaleDecorator,
} from "react-native-draggable-flatlist";
import { v4 as uuidv4 } from "uuid";
// import Header
import { Input, Header } from "react-native-design-system";

const TodoList = () =&gt; {
  const [text, setText] = useState("");
  // add state to save todos
  const [data, setData] = useState([]);

  const handleTextInput = (input) =&gt; {
    setText(input);
  };

  const handleAddTodo = () =&gt; {
    // get the current text value
    const todo = text.trim();
    if (!todo) return;
    // generate unique key id
    const key = uuidv4();
    // add new todo with the unique key we generated
    setData((prevData) =&gt; {
      const newItem = {
        key,
        todo,
        isCompleted: false,
      };
      return [newItem, ...prevData];
    });
    // reset the input field
    setText("");
  };

  const renderItem = () =&gt; {
    // render individual todo items
  };

  return (
    &lt;View&gt;
      &lt;Header&gt;Sortable Todo&lt;/Header&gt;
      &lt;Input
        value={text}
        outline
        onChangeText={handleTextInput}
        onSubmitEditing={handleAddTodo}
      /&gt;
      &lt;DraggableFlatList
        data={data}
        onDragEnd={({ data }) =&gt; setData(data)}
        keyExtractor={(item) =&gt; item.key}
        renderItem={renderItem}
      /&gt;
    &lt;/View&gt;
  );
};
</pre>
<p>注释应该足够清晰，能够解释上面的代码中发生了什么。</p>
<p>我们还添加了一个<code>Header</code>组件，这样我们的应用看起来更好一些。</p>
<p>我们成功地将待办事项添加到数据数组中，该数组将被传递给<code>DraggableFlatList</code>组件。</p>
<p><code>DraggableFlatList</code>组件还实现了一个<code>onDragEnd</code>道具。这确保了一旦用户完成拖动，数组中项目的顺序就会更新。</p>
<p>让我们快速添加将呈现单个待办事项的<code>renderItem</code>实现:</p>
<pre class="language-javascript hljs">// import ListItem above
import { ListItem, Input } from "react-native-design-system";

// update renderItem function
const renderItem = ({ item, drag, isActive }) =&gt; {
  return (
    &lt;ScaleDecorator&gt;
      &lt;ListItem
        size="lg"
        onLongPress={drag}
        disabled={isActive}
        background={isActive ? "gray300" : "white"}
      &gt;
        {item.todo}
      &lt;/ListItem&gt;
    &lt;/ScaleDecorator&gt;
  );
};
</pre>
<p>我们使用来自<code>react-native-design-system</code>的<code>ListItem</code>组件来呈现单个项目。如果你仔细观察，我们已经为<code>onLongPress</code>、<code>disabled</code>和<code>background</code>道具添加了实现。让我们快速浏览一下那里发生了什么:</p>
<ul>
<li><code>onLongPress</code>正在调用<code>drag</code>函数，这将触发<code>drag</code>对<code>DraggableFlatList</code>的功能进行排序</li>
<li><code>disabled</code>确保<code>ListItem</code>在被拖动时保持非活动状态。我们只是在防止意外的敲击</li>
<li><code>background</code>正在切换颜色以表示项目何时被拖动</li>
</ul>
<p>我们几乎完成了我们的核心功能。这是此时应用程序的外观示例:</p>
<p><img data-attachment-id="154897" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/to-do-list-items/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png" data-orig-size="560,1214" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="To do list with items" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-138x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-472x1024.png" decoding="async" class="aligncenter size-full wp-image-154897 jetpack-lazy-image" src="../Images/7f3042208648bf06588a3b2123b7aaac.png" alt="To Do List With Items" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png 560w, https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-138x300.png 138w, https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-472x1024.png 472w" data-lazy-sizes="(max-width: 560px) 100vw, 560px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154897" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/to-do-list-items/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png" data-orig-size="560,1214" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="To do list with items" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-138x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-472x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-154897" src="../Images/7f3042208648bf06588a3b2123b7aaac.png" alt="To Do List With Items" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png 560w, https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-138x300.png 138w, https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items-472x1024.png 472w" sizes="(max-width: 560px) 100vw, 560px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/to-do-list-items.png"/></noscript>
<h2 id="allowing-to-do-items-deleted-marked-complete">允许删除待办事项并将其标记为完成</h2>
<p>尽管我们已经实现了对待办事项的添加和重新排序，但是我们的待办事项应用程序还没有完成。</p>
<p>让我们实现缺失的功能，该功能允许我们将项目标记为完成:</p>
<pre class="language-javascript hljs">// add function to mark todos as completed
const handleMarkAsCompleted = (key) =&gt; {
  setData((prevData) =&gt; {
    prevData.map((item) =&gt; {
      if (item.key === key) {
        item.isCompleted = !item.isCompleted;
      }
      return item;
    });
  });
};

// add strike-through text for completed items
const renderItem = ({ item, drag, isActive }) =&gt; {
  return (
    &lt;ScaleDecorator&gt;
      &lt;ListItem
        size="lg"
        onLongPress={drag}
        disabled={isActive}
        background={isActive ? "gray300" : "white"}
        onPress={() =&gt; handleMarkAsCompleted(item.key)}
        textStyle={{
          textDecorationLine: item.isCompleted ? "line-through" : "none",
        }}
      &gt;
        {item.todo}
      &lt;/ListItem&gt;
    &lt;/ScaleDecorator&gt;
  );
};
</pre>
<p>现在唯一缺少的是删除项目的能力。我们再补充一点:</p>
<pre class="language-javascript hljs">// remove deleted item from data array
const handleDeleteTodo = (key) =&gt; {
  setData((prevData) =&gt; prevData.filter((item) =&gt; item.key !== key));
};

// add a clear button to trigger the deletion
const renderItem = ({ item, drag, isActive }) =&gt; {
  return (
    &lt;ScaleDecorator&gt;
      &lt;ListItem
        size="lg"
        onLongPress={drag}
        disabled={isActive}
        background={isActive ? "gray300" : "white"}
        onPress={() =&gt; handleMarkAsCompleted(item.key)}
        // this Text will trigger the deletion of the todo
        rightIcon={
          &lt;Text
            size="sm"
            color="red500"
            onPress={() =&gt; handleDeleteTodo(item.key)}
          &gt;
            Clear
          &lt;/Text&gt;
        }
        textStyle={{
          textDecorationLine: item.isCompleted ? "line-through" : "none",
        }}
      &gt;
        {item.todo}
      &lt;/ListItem&gt;
    &lt;/ScaleDecorator&gt;
  );
};
</pre>
<p>让我们看看它是否有效:</p>
<p><img data-attachment-id="154895" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/sortable-to-do-list-final-result/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result.gif" data-orig-size="560,1213" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Final result of sortable to do list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result-138x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result-473x1024.gif" decoding="async" class="aligncenter size-full wp-image-154895 jetpack-lazy-image" src="../Images/dee1cb20cd0a5b1acec4aa91a7bd8fef.png" alt="Final Result Of Sortable To Do List" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154895" data-permalink="https://blog.logrocket.com/react-native-draggable-flatlist/attachment/sortable-to-do-list-final-result/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result.gif" data-orig-size="560,1213" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Final result of sortable to do list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result-138x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result-473x1024.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-154895" src="../Images/dee1cb20cd0a5b1acec4aa91a7bd8fef.png" alt="Final Result Of Sortable To Do List" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/sortable-to-do-list-final-result.gif"/></noscript>
<p>成功！</p>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们学习了如何使用React Native和<code>react-native-draggable-flatlist</code>包创建一个可拖动列表。我们能够将待办事项添加到列表中，并根据我们的优先级拖动它们，以及从列表中完全删除它们。查看<a href="https://github.com/iamshadmirza/todo-sortable"> GitHub库</a>以找到完整的源代码。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>