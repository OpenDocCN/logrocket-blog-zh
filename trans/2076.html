<html>
<head>
<title>How to display a SnackBar in Flutter: A tutorial with examples - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在 Flutter 中显示 SnackBar:示例教程</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/#0001-01-01">https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本教程中，我们将向您介绍 Flutter SnackBar 类，这是在 Flutter 中实现材质设计的众多小部件之一。我们将回顾该小部件的一些最重要的特性，概述在 Flutter 应用程序中定制和显示 SnackBar 的步骤，并回顾一些真实世界的示例来展示 SnackBar 在实践中是如何工作的。</p>
<p>为了跟上进度，您应该对<a href="https://blog.logrocket.com/pros-and-cons-of-flutter-app-development/" target="_blank" rel="noopener"> Flutter 应用程序开发</a>有一个基本的了解，并且有一些使用 SDK 构建跨平台应用程序的经验。</p>
<p>事不宜迟，我们开始吧！</p>
<h2>什么是 SnackBar 类？</h2>
<p>SnackBar 是一个 Flutter 小工具，可以让你在应用程序中临时显示一条弹出消息。它通常出现在应用程序屏幕的底部。</p>
<p>例如，您可以使用 SnackBar 小部件让用户知道所选商品何时被添加到购物车或被删除，或者指示表单已发送或图像已成功上传。</p>
<h2>在 Flutter 应用程序中实现 SnackBar 的注意事项</h2>
<p>实施 SnackBar 时，您应该考虑以下特性和/或功能:</p>
<h3>频率</h3>
<p>这需要 SnackBar 在应用程序中显示多长时间。永远记住，零食条不应该分散终端用户对应用程序主要目标的注意力。</p>
<p>这就是为什么 SnackBar 通常放在应用程序屏幕底部的一个原因。SnackBar 在 Flutter 应用程序中显示的推荐持续时间是 4 到 10 秒，不会更长。</p>
<h3>行动</h3>
<p>尽管如前所述，在没有用户交互的情况下，SnackBar 可能会在一段时间后从应用程序的屏幕上消失，但实现某种交互式元素来伴随您的消息是一个很好的做法。</p>
<p>例如，您可以创建一个带有“解除”或“重试”等标签的动作按钮，并将其附加到 SnackBar 小部件。</p>
<h3>信息量</h3>
<p>在 Flutter 应用程序中，SnackBar 小部件最常见也是最重要的用例之一是传达关于应用程序进程的重要信息。举个简单的例子，当用户单击按钮提交表单、上传文件等时，SnackBar 可能会显示类似“Successful”的消息。</p>
<h2>构建、显示和自定义 SnackBar</h2>
<p>要开始构建、显示和设计 SnackBar，首先完成以下步骤:</p>
<ol>
<li>启动 Android Studio 或您选择的其他 IDE</li>
<li>开始一个新的颤振项目</li>
<li>选择<strong> Flutter 应用</strong>并将项目命名为“snackbardemo”</li>
</ol>
<p>注意:如果您在尝试编译和运行代码时遇到“空安全特性”错误，您可以通过将 Flutter 升级到<a href="https://flutter.dev/docs/development/tools/sdk/releases" target="_blank" rel="noopener">版本 2.12 或更高版本</a>来修复它。</p>
<p>要升级到 Flutter 的最新版本，请单击 Android Studio 中的 terminal 选项卡并运行以下命令:</p>
<pre class="language-dart hljs">flutter upgrade
</pre>
<p>接下来，清除除了<code>void main() =&gt; runApp(MyApp());</code>之外的代码，这是 Flutter 在创建新项目时生成的代码。我们这样做是因为我们想从头开始。</p>
<p>现在，您的编辑器中应该有这样的内容:</p>
<pre class="language-dart hljs">import 'package:flutter/material.dart';

void main() =&gt; runApp(MyApp());
</pre>
<p>现在，将<code>MyApp()</code>改为<code>const SnackBarDisplay()</code>:</p>
<pre class="language-dart hljs">void main() =&gt; runApp(SnackBarDisplay());
</pre>
<p><code>void main()</code>是灾难援助反应队项目的主要切入点。Flutter 使用<code>runApp()</code>函数或方法作为 app 的根小部件。</p>
<p>这里，我们正在创建一个小部件，我们将其命名为<code>SnackBarDisplay</code>。这将是我们的应用程序的根。</p>
<p>在<code>void man()</code>后输入下面的代码。<code>SnackBarDisplay</code>扩展了<code>StatelessWidget</code>，使<code>SnackBarDisplay</code>成为一个小部件。</p>
<pre class="language-dart hljs">class SnackBarDisplay extends StatelessWidget {
  const SnackBarDisplay({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Displaying a SnackBar',
      home: Scaffold(
        backgroundColor: (Colors.grey),
        appBar: AppBar(
          title: const Text('Displaying a SnackBar'),
          backgroundColor: Colors.black12,
        ),
        body: const SnackBarPage(),
      ),
    );
  }
}
</pre>
<p>我们正在利用<a href="https://material.io/design" target="_blank" rel="noopener">材料设计</a>库来创建应用程序的结构。Material 是谷歌拥有的一个开源设计系统，用于定制 Android、Flutter、iOS 和 web 应用。如前所述，<a href="https://blog.logrocket.com/new-material-buttons-in-flutter/" target="_blank" rel="noopener"> Flutter 拥有种类繁多的材质 widgets </a>。</p>
<p><code>Scaffold</code>小部件提供了默认的应用程序栏、一个标题和一个 body 属性，其中包含了主屏幕<code>home: Scaffold()</code>的小部件树。显示 SnackBar 需要使用<code>Scaffold</code>小部件。</p>
<p><code>backgroudColor: (Colors.grey)</code>用于改变 Flutter app 的默认背景。</p>
<p>接下来，使用下面的代码创建 SnackBar 部分。在这里，当用户单击按钮时，将显示 SnackBar:</p>
<pre class="language-dart hljs">class SnackBarPage extends StatelessWidget {
  const SnackBarPage({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Center(
      child: ElevatedButton(
        onPressed: () {
          final snackBar = SnackBar(
            content: const Text('Hi, I am a SnackBar!'),
            backgroundColor: (Colors.black12),
            action: SnackBarAction(
              label: 'dismiss',
              onPressed: () {
              },
            ),
          );
          ScaffoldMessenger.of(context).showSnackBar(snackBar);
        },
        child: const Text(
          'Click to Display a SnackBar',
        ),
      ),
    );
  }
}
</pre>
<p>在上面的代码中，我们有 build 小部件— <code>Widget build(BuildContext context)</code> —这里没有任何价值的是<code>BuildContext</code>参数，它指定小部件在哪里构建。</p>
<p>在这个例子中，我们正在构建一个自定义的小部件按钮<code>ElevatedButton</code>，它将位于应用程序屏幕的中央。<code>ElevatedButton</code>是放置在<code>return Center</code>上的子部件。</p>
<p>然后，我们使用<code>ScaffoldMessenger</code>类来显示 SnackBar。</p>
<p>最后，运行程序。您应该会看到类似这样的内容:</p>
<p><img data-attachment-id="64081" data-permalink="https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/flutter-snackbar-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png" data-orig-size="500,1083" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Click to display SnackBar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-139x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-473x1024.png" decoding="async" class="aligncenter size-full wp-image-64081 jetpack-lazy-image" src="../Images/7a5c02b7d68dd1a13ee7a7e6c9131d2f.png" alt="Click to Display SnackBar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png 500w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-139x300.png 139w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-473x1024.png 473w" data-lazy-sizes="(max-width: 500px) 100vw, 500px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="64081" data-permalink="https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/flutter-snackbar-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png" data-orig-size="500,1083" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Click to display SnackBar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-139x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-473x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-64081" src="../Images/7a5c02b7d68dd1a13ee7a7e6c9131d2f.png" alt="Click to Display SnackBar" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png 500w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-139x300.png 139w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo-473x1024.png 473w" sizes="(max-width: 500px) 100vw, 500px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-demo.png"/></noscript>
<p>单击该按钮将显示 SnackBar，并显示以下消息:“嗨，我是 SnackBar！”</p>
<p><img data-attachment-id="64079" data-permalink="https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/flutter-snackbar-message-bottom-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png" data-orig-size="500,1083" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SnackBar message on bottom of screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-139x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-473x1024.png" decoding="async" class="aligncenter size-full wp-image-64079 jetpack-lazy-image" src="../Images/ca6265f80af633c6a73c46a5f8fb98fe.png" alt="SnackBar Message on Bottom of Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png 500w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-139x300.png 139w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-473x1024.png 473w" data-lazy-sizes="(max-width: 500px) 100vw, 500px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="64079" data-permalink="https://blog.logrocket.com/how-to-display-and-customize-a-snackbar-in-flutter/flutter-snackbar-message-bottom-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png" data-orig-size="500,1083" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SnackBar message on bottom of screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-139x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-473x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-64079" src="../Images/ca6265f80af633c6a73c46a5f8fb98fe.png" alt="SnackBar Message on Bottom of Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png 500w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-139x300.png 139w, https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen-473x1024.png 473w" sizes="(max-width: 500px) 100vw, 500px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-snackbar-message-bottom-screen.png"/></noscript>
<h2>结论</h2>
<p>我希望你觉得这篇教程很有见地。Flutter 使得跨移动平台和网络构建应用变得容易。Flutter 的核心是<a href="https://blog.logrocket.com/widgets-the-building-blocks-of-flutter-apps/" target="_blank" rel="noopener"> widgets </a>。SnackBar 小部件可以轻松地与您的用户分享重要的信息，帮助他们充分利用您的 Flutter 应用程序。</p>
<p>你可以通过浏览我们收集的<a href="https://blog.logrocket.com/tag/flutter/" target="_blank" rel="noopener"> Flutter 文章和教程</a>来了解更多关于 Flutter 的知识。</p>
<p>编码快乐！</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>