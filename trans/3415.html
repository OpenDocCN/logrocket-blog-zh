<html>
<head>
<title>Using React Native Snackbar to create custom pop-up messages - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React Native Snackbar创建自定义弹出消息</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/#0001-01-01">https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/#0001-01-01</a></blockquote><div><article class="article-post">
<p>弹出消息在网站上变得非常普遍。您可以使用这些消息根据用户的交互状态向用户显示通知或相关信息，例如，指示加载页面、获取请求等。</p>
<p>Snackbar是一个可以帮助您在React原生项目中实现这一功能的工具。就像<code>toastify-react-native</code>、<code>react-native-toast-message</code>和其他toast库一样，Snackbar帮助你在React原生应用中显示通知或弹出消息。</p>
<p>除了是这个toast库的名称之外，“snackbar”还指一种特定类型的弹出消息，可以用来向用户显示信息。Snackbars从屏幕底部动画显示到视口中，并为用户提供了一个可选的动作按钮。</p>
<p>在本文中，我们将看到如何使用React本机Snackbar包来创建一个非常酷的弹出消息或通知。我们将看到Snackbar为我们提供的特性，以及如何用这个包添加和处理按钮事件。</p>
<p>向前跳:</p>

<h2 id="installing-snackbar-react-native-project">在React本地项目中安装Snackbar</h2>
<p>您可以使用下面的任一代码命令在React本机应用程序中安装该包:</p>
<pre class="language-bash hljs">// Npm
npm i react-native-snackbar

// Yarn
yarn add react-native-snackbar
</pre>
<p>一旦你安装了这个包，你就可以在你的项目中使用Snackbar了。</p>
<h2 id="using-snackbar-react-native-application">在React本机应用程序中使用Snackbar</h2>
<p>要使用Snackbar包，首先将其导入React本机应用程序的组件顶部:</p>
<pre class="language-javascript hljs">/* App.js */
import Snackbar from "react-native-snackbar"
</pre>
<p>在应用程序中导入Snackbar库后，您可能会遇到类似下图的错误:</p>
<p><img data-attachment-id="134734" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img1-typeerror-message-after-importing-snackbar-library/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png" data-orig-size="730,38" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="TypeError-message-after-importing-Snackbar-library" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library-300x16.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png" decoding="async" class="aligncenter size-full wp-image-134734 jetpack-lazy-image" src="../Images/c820e72c8eb2f39d39ac9f22d9fded7a.png" alt="Type Error Message Shown After Importing Snackbar Library" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library-300x16.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="134734" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img1-typeerror-message-after-importing-snackbar-library/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png" data-orig-size="730,38" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="TypeError-message-after-importing-Snackbar-library" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library-300x16.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-134734" src="../Images/c820e72c8eb2f39d39ac9f22d9fded7a.png" alt="Type Error Message Shown After Importing Snackbar Library" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library-300x16.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-TypeError-message-after-importing-Snackbar-library.png"/></noscript>
<p>如果您遇到这个问题，请在应用程序的根目录下创建一个名为<code>_mocks_</code>的文件夹。在该文件夹中，创建一个名为<code>react-native-snackbar.js</code>的文件，并在该文件中添加以下代码:</p>
<pre class="language-javascript hljs">/* react-native-snackbar.js */

module.exports = {
  show: jest.fn()
};
</pre>
<p>之后，清理你的Gradle和build来同步变化:</p>
<pre class="language-javascript hljs">cd android &amp;&amp; ./gradlew clean
</pre>
<p>在上面的代码中，您将移动到您的<code>android</code>文件夹，该文件夹位于React本地文件夹中。然后，<code>./gradlew clean</code>使用Gradle wrapper来清理您的项目，方法是删除您以前的构建目录，重新构建它，并在这个过程中配置您的模块。</p>
<p>这个<a href="https://blog.logrocket.com/addressing-common-errors-react-native/" target="_blank" rel="noreferrer noopener">解决了上面的React Native问题</a>,因为它在创建新的构建目录时同步了我们的新更改。</p>
<p>构建项目并确保一切正常后，您可以简单地在组件中调用Snackbar，如下所示:</p>
<pre class="language-javascript hljs">/* App.js */

Snackbar.show({
  text: 'Hello world',
  duration: Snackbar.LENGTH_SHORT,
});
</pre>
<p>简单吧？您还可以向Snackbar添加一个按钮，并处理按钮事件，以确保当用户触摸该按钮时会发生正确的事情，例如，撤消之前的操作或关闭Snackbar。</p>
<p>看看如何在下面的代码中设置这一点，并注意<code>*/ Do something. */</code>注释，在这里您可以定制您的按钮事件:</p>
<pre class="language-javascript hljs">/* App.js */

Snackbar.show({
  text: 'Hello world',
  duration: Snackbar.LENGTH_INDEFINITE,
  action: {
    text: 'close',
    textColor: 'green',
    onPress: () =&gt; { /* Do something. */ },
  },
});
</pre>
<p>一些toast库提供了几种通知变体。例如，<a href="https://blog.logrocket.com/using-react-toastify-style-toast-messages/" target="_blank" rel="noreferrer noopener"> React-Toastify有</a><code>success</code><code>error</code>等吐司变体。Snackbar不提供这样的功能；它只有一种通知变体。</p>
<p>尽管如此，您始终可以设计弹出消息的样式，以适应您希望传达给用户的任何状态、事件或信息。一般来说，绿色倾向于表示成功通知，而红色通常用于显示错误或警告消息。</p>
<h2 id="setting-up-react-native-snackbar-options">设置React本机Snackbar选项</h2>
<p>Snackbar还有一些选项，如文本、持续时间、行数等，允许您定制通知的样式。我们将了解这些选项是什么，以及在我们的应用程序中在哪里以及如何使用它们。</p>
<h3 id="text-option"><code>text</code>选项</h3>
<p>第一个选项是<code>text</code>选项。它允许您指定要传递给用户的信息，例如成功文本或错误消息。</p>
<pre class="language-javascript hljs">/* Success */
Snackbar.show({
  text: 'Login successful',
  duration: Snackbar.LENGTH_SHORT,
});

/* Error */
Snackbar.show({
  text: 'Sorry, Incorrect login details',
  duration: Snackbar.LENGTH_SHORT,
});
</pre>
<p>在上面的代码中，我们用不同的<code>text</code>选项创建了两个Snackbars】和<code>Sorry, Incorrect login details</code>。<code>text</code>选项总是必需的，因为您是设置您想要传递什么信息的人。</p>
<h3 id="duration-option"><code>duration</code>选项</h3>
<p>您的Snackbar的<code>duration</code>选项指定了您希望您的toast通知显示多长时间。Snackbar提供了三种持续时间选项:<code>SHORT</code>、<code>LONG</code>和<code>INDEFINITE</code>。</p>
<ul>
<li>运行一秒多一点</li>
<li><code>Snackbar_LENGTH_LONG</code>运行大约三秒钟</li>
<li>停留在屏幕上，直到被另一个Snackbar替换或被用户取消</li>
</ul>
<p>默认情况下，持续时间使用<code>Snackbar.LENGTH_SHORT</code>选项，除非您明确指定所需的<code>duration</code>。</p>
<p>看看下面的代码，了解如何实现每个选项:</p>
<pre class="language-javascript hljs">/* Snackbar.LENGTH_SHORT */
Snackbar.show({
  text: 'Login successful',
  duration: Snackbar.LENGTH_SHORT,
});

/* Snackbar.LENGTH_LONG */
Snackbar.show({
  text: 'Login successful',
  duration: Snackbar.LENGTH_LONG,
});

/* Snackbar.LENGTH_INDEFINITE */
Snackbar.show({
  text: 'Login successful',
  duration: Snackbar.LENGTH_INDEFINITE,
});
</pre>
<h3 id="number-of-lines-option"><code>numberOfLines</code>选项</h3>
<p><code>numberOfLines</code>选项指定Snackbar通知在被截断之前允许的行数。例如:</p>
<pre class="language-javascript hljs">/* App.js */

Snackbar.show({
      text: 'Hello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldHello toast worldello toast world ',
      duration: Snackbar.LENGTH_SHORT,
      numberOfLines: 2
    });
</pre>
<p>上面只允许在剩余的文本被截断之前保留两行。省略号是用来表示正文被删去了。您可以在下面看到结果:</p>
<p><img data-attachment-id="134737" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img2-snackbar-message-truncated-two-lines/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg" data-orig-size="730,288" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-message-truncated-two-lines" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines-300x118.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg" decoding="async" class="aligncenter size-full wp-image-134737 jetpack-lazy-image" src="../Images/a5ac12438133039d7d52e080223d674a.png" alt="Example Snackbar Message Shown In Grey Against Black App Background With Repeating &quot;Hello Toast World&quot; Message Shown Truncated After Two Lines; Truncation Is Indicated By Ellipse" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines-300x118.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="134737" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img2-snackbar-message-truncated-two-lines/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg" data-orig-size="730,288" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-message-truncated-two-lines" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines-300x118.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-134737" src="../Images/a5ac12438133039d7d52e080223d674a.png" alt="Example Snackbar Message Shown In Grey Against Black App Background With Repeating &quot;Hello Toast World&quot; Message Shown Truncated After Two Lines; Truncation Is Indicated By Ellipse" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines-300x118.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Snackbar-message-truncated-two-lines.jpeg"/></noscript>
<p>此选项的默认行数是两行。</p>
<h3 id="fontfamily-textcolor-backgroundcolor-options"><code>fontFamily</code>、<code>textColor</code>和<code>backgroundColor</code>选项</h3>
<p>通过使用<code>textColor</code>、<code>backgroundColor</code>和<code>fontFamily</code>选项，您可以在React本机应用程序中对Snackbar进行更多定制。</p>
<ul>
<li><code>textColor</code>允许你改变弹出文本的颜色</li>
<li><code>backgroundColor</code>改变弹出通知的背景颜色</li>
<li><code>fontFamily</code>可用于将字体系列更改为您想要的任何字体</li>
</ul>
<p>默认<code>textColor</code>为<code>White</code>，默认<code>backgroundColor</code>为<code>Darkgrey</code>。</p>
<p>参见下面的<code>textColor</code>和<code>backgroundColor</code>选项:</p>
<pre class="language-javascript hljs">/* App.js */

    Snackbar.show({
      text: 'This is an Error message',
      duration: Snackbar.LENGTH_SHORT,
      numberOfLines: 2,
      textColor: '#fff',
      backgroundColor: '#cc0000'
    });
</pre>
<p><img data-attachment-id="134739" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img3-snackbar-error-message-in-red/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg" data-orig-size="730,347" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-error-message-in-red" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red-300x143.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg" decoding="async" class="aligncenter size-full wp-image-134739 jetpack-lazy-image" src="../Images/36c50c097dfb24655a5128b0f8d5a154.png" alt="Example Of Customizing Snackbar To Indicate Error Message Using Red Color" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red-300x143.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="134739" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img3-snackbar-error-message-in-red/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg" data-orig-size="730,347" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-error-message-in-red" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red-300x143.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-134739" src="../Images/36c50c097dfb24655a5128b0f8d5a154.png" alt="Example Of Customizing Snackbar To Indicate Error Message Using Red Color" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red-300x143.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Snackbar-error-message-in-red.jpeg"/></noscript>
<h3 id="action-option"><code>action</code>选项</h3>
<p><code>action</code>选项允许您创建一个要在Snackbar上处理的动作。它与Snackbar一起显示，并允许用户执行操作。一个示例操作可以是在Snackbar打开后将其关闭或隐藏。</p>
<p>当用户加载一个屏幕或者当用户单击一个视图或按钮时，您可能想要传递重要的信息。在这种情况下，您可能希望一直向用户显示这些信息，直到用户决定手动隐藏或关闭它。</p>
<p>您可以使用<code>Snackbar.dismiss()</code>来删除或消除任何可用或现有的通知，如下所示:</p>
<pre class="language-javascript hljs">/* App.js */

Snackbar.show({
   text: 'Welcome to our Snackbar tutorial! Are you excited?',
   duration: Snackbar.LENGTH_INDEFINITE,
   numberOfLines: 2,
   textColor: '#fff',
   backgroundColor: 'green',
   action: {
     text: 'Hide Pop-up',
     textColor: '#fff',
     onPress: () =&gt; {
        Snackbar.dismiss();
      }
   }
 });
</pre>
<p><img data-attachment-id="134741" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img4-snackbar-welcome-message-in-green-with-hide-pop-up-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-welcome-message-in-green-with-Hide-Pop-up-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button-300x140.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg" decoding="async" class="aligncenter size-full wp-image-134741 jetpack-lazy-image" src="../Images/7ba1ef5a609f03e57450bec9f366434e.png" alt="Example Snackbar Welcome Message Shown In Green Against Black Background With Hide Pop Up Button At Right Side Of Snackbar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button-300x140.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="134741" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img4-snackbar-welcome-message-in-green-with-hide-pop-up-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Snackbar-welcome-message-in-green-with-Hide-Pop-up-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button-300x140.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-134741" src="../Images/7ba1ef5a609f03e57450bec9f366434e.png" alt="Example Snackbar Welcome Message Shown In Green Against Black Background With Hide Pop Up Button At Right Side Of Snackbar" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button-300x140.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Snackbar-welcome-message-in-green-with-Hide-Pop-up-button.jpeg"/></noscript>
<p>如果您点击<code>Hide Pop-up</code>操作按钮，它将关闭Snackbar通知。</p>
<p>您还可以创建一个不同的按钮函数，并在Snackbar中调用它，如下所示:</p>
<pre class="language-javascript hljs">/^ App.js */

  const closePopup = () =&gt; {
    Snackbar.dismiss();
  };

  const showToast = () =&gt; {
    Snackbar.show({
      text: 'Welcome to our Snackbar tutorial! Are you excited?',
      duration: Snackbar.LENGTH_INDEFINITE,
      numberOfLines: 2,
      textColor: '#fff',
      backgroundColor: 'green',
      action: {
        text: 'Close Pop-up',
        textColor: '#fff',
        onPress: () =&gt; closePopup
      }
    });
  };
</pre>
<p>上面的例子就像其他例子一样，我们在动作中调用了我们的<code>Snackbar.dismiss()</code>。但是，您可以决定使用不同的函数来防止代码模糊，也就是说，使您的代码更清晰，而不是在另一个长函数中包含一个长函数。</p>
<p>可以使用上述示例的另一个常见场景是调用不同的Snackbars。在这种情况下，您可以选择一个<code>closePopup</code>函数，并在任何需要的地方调用它。请参见下面的示例以获得进一步的说明:</p>
<pre class="language-javascript hljs">/^ App.js */

  const closePopup = () =&gt; {
    /* you can do something here before closing the Snackbar */
    /* like opening a "Are you sure you want to cancel" modal */
    Snackbar.dismiss();
  };

  const getRequest = () =&gt; {
    axios
      .get(api)
      .then((response) =&gt; {
        // console.log(response)

        Snackbar.show({
          text: "Request was successful",
          duration: Snackbar.LENGTH_INDEFINITE,
          numberOfLines: 2,
          textColor: "#fff",
          backgroundColor: "green",
          action: {
            text: "Close Pop-up",
            textColor: "#fff",
            onPress: () =&gt; closePopup
          }
        });
      })
      .catch((error) =&gt; {
        Snackbar.show({
          text: `Error message: ${error}`,
          duration: Snackbar.LENGTH_INDEFINITE,
          textColor: "#fff",
          backgroundColor: "red",
          action: {
            text: "Close Pop-up",
            textColor: "#fff",
            onPress: () =&gt; closePopup
          }
        });
      });
  };
</pre>
<h2 id="using-snackbar-simple-react-native-app">将所有这些放在一起:在一个简单的React本机应用程序中使用Snackbar</h2>
<p>现在我们已经看到了Snackbar库是如何工作的，让我们把我们所学的放在一起并用它来构建一个非常简单的React本地应用程序。参见下面的完整代码，在代码块下面有更详细的解释:</p>
<pre class="language-javascript hljs">/* App.js */

import React, { useState, useEffect } from 'react';
import { SafeAreaView, StyleSheet, Text, useColorScheme, View, TouchableOpacity } from 'react-native';
import { Colors } from 'react-native/Libraries/NewAppScreen';
import Snackbar from 'react-native-snackbar';

const App = () =&gt; {
  const isDarkMode = useColorScheme() === 'dark';
  const [ loadOptions, setLoadOptions ] = useState(false);
  const backgroundStyle = {
    backgroundColor: isDarkMode ? Colors.darker : Colors.lighter
  };

  useEffect(() =&gt; {
    Snackbar.show({
      text: 'Welcome to our Snackbar tutorial! Are you excited?',
      duration: Snackbar.LENGTH_INDEFINITE,
      textColor: isDarkMode ? Colors.lighter : Colors.darker,
      backgroundColor: isDarkMode,
      action: {
        text: 'Close Pop-up',
        textColor: '#fff',
        onPress: () =&gt; {
          Snackbar.dismiss();
        }
      }
    });
  }, []);

  const showOptions = () =&gt; {
    Snackbar.show({
      text: 'Loading SnackBar Options...',
      duration: Snackbar.LENGTH_SHORT,
      textColor: '#fff',
      backgroundColor: 'green'
    });
    setTimeout(() =&gt; {
      setLoadOptions(true);
    }, 2000);
  };

  return (
    &lt;SafeAreaView style={[ backgroundStyle, styles.sectionContainer ]}&gt;
      &lt;View&gt;
        &lt;Text style={styles.sectionTitle}&gt; A SnackBar Tutorial &lt;/Text&gt;
      &lt;/View&gt;
      &lt;TouchableOpacity onPress={showOptions} style={styles.buttonHighlight}&gt;
        &lt;Text style={styles.button}&gt;Show Snackbar Options&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
      {loadOptions &amp;&amp; (
        &lt;View&gt;
          &lt;Text style={styles.sectionList}&gt;1. Text&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;2. Duration&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;3. Number of Lines&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;4. Text Color&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;5. Background Color&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;6. Font family&lt;/Text&gt;
          &lt;Text style={styles.sectionList}&gt;7. Action&lt;/Text&gt;
        &lt;/View&gt;
      )}
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  sectionContainer: {
    flex: 1,
    paddingHorizontal: 24,
    paddingTop: 24
  },
  sectionTitle: {
    fontSize: 24,
    fontWeight: '600',
    marginBottom: 20
  },
  buttonHighlight: {
    marginVertical: 8,
    fontWeight: '400',
    backgroundColor: '#fff',
    padding: 5,
    borderRadius: 5
  },
  button: {
    fontSize: 24,
    color: '#000',
    textAlign: 'center',
    fontWeight: '700'
  },
  sectionList: {
    fontSize: 22,
    fontWeight: '600',
    marginBottom: 10
  }
});
export default App;
</pre>
<p>在上面的代码中，我们显示了一个Snackbar弹出消息，在页面加载时欢迎用户。这条消息的持续时间是不确定的，所以它不会离开，直到用户取消它。</p>
<p>接下来，单击<code>Show Snackbar</code> <code>Options</code>按钮，我们调用第二个Snackbar，但是这一次我们使用一个短的持续时间来显示<code>Loading SnackBar Options...</code>消息，向用户表明他们的请求正在加载。</p>
<p>然后，第二个Snackbar就在选项列表加载到页面上之前消失，使用户体验和交互性变得很好很酷。</p>
<p>看看下面这些零食吧:</p>
<p><img data-attachment-id="134744" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img5-react-native-app-frontend-demonstrating-two-snackbars/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif" data-orig-size="393,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React-Native-app-frontend-demonstrating-two-Snackbars" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars-162x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif" decoding="async" class="aligncenter size-full wp-image-134744 jetpack-lazy-image" src="../Images/e3535183d73d0df24339f7454a48114a.png" alt="Example Simple Snackbar Tutorial React Native App Frontend Showing Two Snackbar Examples. First Snackbar Shows Welcome Message With Indefinite Duration And Close Pop Up Button. Second Snackbar Appears In Green After Show Snackbar Options Button Is Touched To Show Loading State And Disappears Just Before Snackbar Options Appear To User" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="134744" data-permalink="https://blog.logrocket.com/using-react-native-snackbar-custom-pop-up-messages/attachment/img5-react-native-app-frontend-demonstrating-two-snackbars/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif" data-orig-size="393,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React-Native-app-frontend-demonstrating-two-Snackbars" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars-162x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-134744" src="../Images/e3535183d73d0df24339f7454a48114a.png" alt="Example Simple Snackbar Tutorial React Native App Frontend Showing Two Snackbar Examples. First Snackbar Shows Welcome Message With Indefinite Duration And Close Pop Up Button. Second Snackbar Appears In Green After Show Snackbar Options Button Is Touched To Show Loading State And Disappears Just Before Snackbar Options Appear To User" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-React-Native-app-frontend-demonstrating-two-Snackbars.gif"/></noscript>
<h2 id="conclusion">结论</h2>
<p>我们已经了解了Snackbar库的工作原理和使用方法。它使用起来非常简单，在我们的应用程序中看起来也很酷。</p>
<p>通过练习上面的代码示例，您将很容易掌握在React本机应用程序中使用Snackbar的窍门。这个例子只是展示如何使用Snackbar库来显示定制的弹出消息。你可以在应用程序中的任何地方使用它们。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

 </div>    
</body>
</html>