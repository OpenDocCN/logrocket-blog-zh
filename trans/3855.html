<html>
<head>
<title>How to debug TypeScript in Chrome </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Chrome中调试TypeScript</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-debug-typescript-chrome/#0001-01-01">https://blog.logrocket.com/how-to-debug-typescript-chrome/#0001-01-01</a></blockquote><div><article class="article-post">
<p>软件缺陷是一种编程错误或软件程序的意外行为。调试是指检查和消除软件系统中的错误的过程。程序员使用各种技术进行调试；一些开发人员将输出写入终端，而其他人则使用调试器工具来执行和监控源代码。</p>
<p>Google Chrome网络浏览器提供了一个内置的调试器，带有用于调试JavaScript的DevTools模块。Chrome DevTools实现了对源映射的支持，可以检查Node.js和Deno调试器实例。因此，无论您是在客户端应用程序(即基于TypeScript的React应用程序)中使用TypeScript，还是在服务器端应用程序中使用TypeScript，您都可以使用Chrome进行调试。</p>
<p>在本教程中，我将解释如何在Chrome中调试客户端和服务器端的TypeScript代码。我们将涵盖:</p>


<p>Web浏览器内置了对JavaScript和WebAssembly的支持，但不支持TypeScript。那么，如果Chrome不原生执行TypeScript，我们如何在Chrome中调试TypeScript呢？Chrome和所有标准的网络浏览器都支持处理JavaScript <a href="https://firefox-source-docs.mozilla.org/devtools-user/debugger/how_to/use_a_source_map/index.html">源码图</a>。</p>
<p>JavaScript源代码映射通常将特定JavaScript源代码的特定形式映射到浏览器执行的JavaScript源代码。例如，很难在浏览器中调试一个缩小的JavaScript文件，但是如果您使用一个源地图，您可以在执行其缩小版本时轻松地调试可读的JavaScript文件。类似地，当在Chrome中运行TypeScript文件的transpiled JavaScript版本时，可以调试该文件。</p>
<p>官方的TypeScript编译器<code>tsc</code>可以在trans编译过程中生成源码图，所以现在我们可以编写TypeScript代码，随同源码图一起transpile到JavaScript，在浏览器中调试TypeScript代码，同时执行transpiled的JavaScript代码。</p>
<p>像Node和<a href="https://blog.logrocket.com/what-is-deno/"> Deno </a>这样的服务器端运行时，我们可以运行JavaScript/TypeScript，通过v8监听Chrome DevTools调试器事件。这就是我们如何在Chrome中调试服务器端TypeScript代码！</p>
<h2 id="debugging-any-typescript-file-manual-configuration">调试任何类型脚本文件:手动配置</h2>
<p>当您使用前端框架构建应用程序时，它们的TypeScript模板通常会附带预包含的TypeScript编译器配置，并自动为您生成源映射。但是在某些场景中，我们必须配置TypeScript编译器，生成我们自己的源映射，并使用HTML <code>script</code>标签手动链接我们的transpiled TypeScript文件。</p>
<p>这是学习如何在Chrome中调试TypeScript的好方法，因为手动配置和设置有助于我们理解TypeScript调试的内部机制。让我们准备一个开发环境来调试Chrome中的任何客户端TypeScript文件。</p>
<p>首先，在您喜欢的任何目录中创建新的npm项目，如下所示:</p>
<pre class="language-bash hljs">npm init
# --- or ---
yarn init
</pre>
<p>接下来，安装<code>typescript</code>包:</p>
<pre class="language-bash hljs">npm install typescript
# --- or ---
yarn install typescript
</pre>
<p>现在，生成TypeScript编译器配置文件:</p>
<pre class="language-bash hljs">npx tsc --init
</pre>
<p>默认配置不会启用源映射生成，因此我们需要编辑自动生成的配置文件。取消对<code>tsconfig.json</code>中以下行的注释，以启用源映射生成:</p>
<pre class="language-json hljs">"sourceMap": true,
</pre>
<p>添加一个npm脚本，通过修改您的<code>package.json</code>来生成JavaScript:</p>
<pre class="language-json hljs">"scripts": {
  "build": "npx tsc"
},
</pre>
<p>现在，我们可以使用<code>npm run build</code>或<code>yarn build</code>命令来传输类型脚本文件。我们将调试以下类型脚本代码:</p>
<pre class="language-typescript hljs">function sayHello(name: string): void {
    let message = `Hello ${name}!`;
    console.log(message);
    if(name == 'TypeScript') {
        console.log('.ts');
    }
    else if(name == 'JavaScript') {
        console.log('.js');
    }
}

sayHello('TypeScript');
sayHello('JavaScript');
</pre>
<p>将上述代码添加到<code>main.ts</code>中。接下来，使用<code>index.html</code>中的<code>main.js</code>:</p>
<pre class="language-javascript hljs">&lt;script src="./main.js"&gt;&lt;/script&gt;
</pre>
<p>使用以下命令生成<code>main.js</code>和<code>main.js.map</code>(我们的源地图):</p>
<pre class="language-bash hljs">npm run build
# --- or ---
yarn build
</pre>
<p>使用以下命令提供<code><a href="http://localhost:3000" rel="nofollow">http://localhost:3000</a></code>中的网页内容:</p>
<pre class="language-bash hljs">npx serve
</pre>
<p>上面的代码在端口<code>3000</code>启动一个静态服务器(Vercel的<a href="https://github.com/vercel/serve">服务器</a>)。在Chrome中打开网址，打开DevTools，点击<strong>源</strong>标签。您将看到如下<code>main.ts</code>:</p>
<figure id="attachment_156250" aria-describedby="caption-attachment-156250" class="wp-caption aligncenter"><img data-attachment-id="156250" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/opening-typescript-source-file-chrome-devtools/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="opening-typescript-source-file-chrome-devtools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif" decoding="async" class="wp-image-156250 size-full jetpack-lazy-image" src="../Images/c918fd7447b509de04ddc808810a5836.png" alt="Opening a TypeScript source file in Chrome DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156250" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/opening-typescript-source-file-chrome-devtools/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="opening-typescript-source-file-chrome-devtools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif" decoding="async" loading="lazy" class="wp-image-156250 size-full" src="../Images/c918fd7447b509de04ddc808810a5836.png" alt="Opening a TypeScript source file in Chrome DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-typescript-source-file-chrome-devtools.gif"/></noscript><figcaption id="caption-attachment-156250" class="wp-caption-text">Opening a TypeScript source file in Chrome DevTools</figcaption></figure>
<p>尝试添加断点并重新加载应用程序。您可以像在Chrome中调试JavaScript一样调试TypeScript:</p>
<figure id="attachment_156253" aria-describedby="caption-attachment-156253" class="wp-caption aligncenter"><img data-attachment-id="156253" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/setting-breakpoint-typescript-source-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="setting-breakpoint-typescript-source-file" data-image-description="" data-image-caption="&lt;p&gt;Setting a breakpoint in a TypeScript source file&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif" decoding="async" class="size-full wp-image-156253 jetpack-lazy-image" src="../Images/73c384b26e4fe6e0fb1cc79bfb6f0866.png" alt="Setting a breakpoint in a TypeScript source file" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156253" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/setting-breakpoint-typescript-source-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="setting-breakpoint-typescript-source-file" data-image-description="" data-image-caption="&lt;p&gt;Setting a breakpoint in a TypeScript source file&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif" decoding="async" loading="lazy" class="size-full wp-image-156253" src="../Images/73c384b26e4fe6e0fb1cc79bfb6f0866.png" alt="Setting a breakpoint in a TypeScript source file" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-source-file.gif"/></noscript><figcaption id="caption-attachment-156253" class="wp-caption-text">Setting a breakpoint in a TypeScript source file</figcaption></figure>
<p>Chrome会自动加载源映射，因为TypeScript编译器会将源映射文件名附加到<code>main.js</code>:</p>
<pre class="language-javascript hljs">//# sourceMappingURL=main.js.map
</pre>
<p><code>debugger</code>关键字也适用于TypeScript调试。在<code>console.log(message);</code>语句后添加<code>debugger</code>并重新加载应用程序:</p>
<figure id="attachment_156255" aria-describedby="caption-attachment-156255" class="wp-caption aligncenter"><img data-attachment-id="156255" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/using-debugger-keyword-typescript-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-debugger-keyword-typescript-file" data-image-description="" data-image-caption="&lt;p&gt;Using the &lt;code&gt;debugger&lt;/code&gt; keyword in a TypeScript file&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif" decoding="async" class="size-full wp-image-156255 jetpack-lazy-image" src="../Images/f1f12f36c6d613eecd6db9ea631b1c50.png" alt="Using the debugger keyword in a TypeScript file" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156255" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/using-debugger-keyword-typescript-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-debugger-keyword-typescript-file" data-image-description="" data-image-caption="&lt;p&gt;Using the &lt;code&gt;debugger&lt;/code&gt; keyword in a TypeScript file&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif" decoding="async" loading="lazy" class="size-full wp-image-156255" src="../Images/f1f12f36c6d613eecd6db9ea631b1c50.png" alt="Using the debugger keyword in a TypeScript file" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/using-debugger-keyword-typescript-file.gif"/></noscript><figcaption id="caption-attachment-156255" class="wp-caption-text">Using the <code>debugger</code> keyword in a TypeScript file</figcaption></figure>
<p>出于实验目的，尝试移除源映射文件(<code>main.js.map</code>)并调试<code>main.ts</code>。因为TypeScript调试是基于源映射工作的，所以<code>main.ts</code>文件将从源代码面板中消失。</p>
<p>使用这种方法，可以调试与<a href="https://blog.logrocket.com/tag/webpack/"> webpack </a>或<a href="https://blog.logrocket.com/using-rollup-package-library-typescript-javascript/"> Rollup </a>捆绑在一起的类型脚本代码。通过向web目录添加自动生成的源映射，可以在Chrome中启用调试TypeScript。</p>
<h2 id="debugging-frontend-frameworks-automatic-configuration">前端框架中的调试:自动配置</h2>
<p>之前，我们通过手动配置了解了Chrome中的TypeScript调试是如何工作的。但是正如我们提到的，几乎所有的前端框架/库都提供了预实现的TypeScript模板，它们通常包含编译器配置来生成源映射。这使得当你在开发者模式下运行应用时，Chrome会自动启用TypeScript调试。</p>
<p>现在，我们将使用Create React app的<a href="https://github.com/facebook/create-react-app/tree/main/packages/cra-template-typescript">官方TypeScript模板</a>创建一个React App，以了解如何调试使用现代前端框架构建的TypeScript应用。运行以下命令创建新的TypeScript-React应用程序:</p>
<pre class="language-bash hljs">npx create-react-app my-app --template typescript
#--- or --- 
yarn create react-app my-app --template typescript
</pre>
<p>现在，将以下代码添加到您的<code>App.tsx</code>文件中:</p>
<pre class="language-typescript hljs">import React, { useState } from 'react';
import './App.css';

function App(): JSX.Element {
  const [message, setMessage] = useState('');

  function generateMessage(name: string): string {
    let message: string = `Hello ${name}!`;
    return message;
  }

  function handleClick(): void {
    setMessage(generateMessage('TypeScript'));
  }

  return (
    &lt;div&gt;
      &lt;div&gt;{message}&lt;/div&gt;
      &lt;button onClick={handleClick}&gt;Say hello&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default App;
</pre>
<p>当我们单击<strong> Say hello </strong>按钮时，上面的代码呈现一条问候消息。使用以下命令运行项目，开始调试TypeScript:</p>
<pre class="language-bash hljs">npm start
# --- or ---
yarn start
</pre>
<p>假设需要为<code>App.tsx</code>的第8行设置断点。由于我们有多个源文件，我们可以通过按Control+P轻松导航到<code>App.tsx</code>:</p>
<figure id="attachment_156257" aria-describedby="caption-attachment-156257" class="wp-caption aligncenter"><img data-attachment-id="156257" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/searching-specific-file-chrome-debugger/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="searching-specific-file-chrome-debugger" data-image-description="" data-image-caption="&lt;p&gt;Searching for a specific file in the Chrome debugger&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif" decoding="async" class="size-full wp-image-156257 jetpack-lazy-image" src="../Images/52331ce21a7468231ce8622dcf4f3e4c.png" alt="Searching for a specific file in the Chrome debugger" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156257" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/searching-specific-file-chrome-debugger/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="searching-specific-file-chrome-debugger" data-image-description="" data-image-caption="&lt;p&gt;Searching for a specific file in the Chrome debugger&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif" decoding="async" loading="lazy" class="size-full wp-image-156257" src="../Images/52331ce21a7468231ce8622dcf4f3e4c.png" alt="Searching for a specific file in the Chrome debugger" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/searching-specific-file-chrome-debugger.gif"/></noscript><figcaption id="caption-attachment-156257" class="wp-caption-text">Searching for a specific file in the Chrome debugger</figcaption></figure>
<p>现在，设置断点并单击按钮。对于TypeScript，DevTools调试器按预期工作:</p>
<figure id="attachment_156260" aria-describedby="caption-attachment-156260" class="wp-caption aligncenter"><img data-attachment-id="156260" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/setting-breakpoint-typescript-based-react-app-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="setting-breakpoint-typescript-based-react-app-chrome" data-image-description="" data-image-caption="&lt;p&gt;Setting a breakpoint for a TypeScript-based React app in Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif" decoding="async" class="size-full wp-image-156260 jetpack-lazy-image" src="../Images/3d252009816be0a18dbf0df66276a3cc.png" alt="Setting a breakpoint for a TypeScript-based React app in Chrome" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156260" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/setting-breakpoint-typescript-based-react-app-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="setting-breakpoint-typescript-based-react-app-chrome" data-image-description="" data-image-caption="&lt;p&gt;Setting a breakpoint for a TypeScript-based React app in Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif" decoding="async" loading="lazy" class="size-full wp-image-156260" src="../Images/3d252009816be0a18dbf0df66276a3cc.png" alt="Setting a breakpoint for a TypeScript-based React app in Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/setting-breakpoint-typescript-based-react-app-chrome.gif"/></noscript><figcaption id="caption-attachment-156260" class="wp-caption-text">Setting a breakpoint for a TypeScript-based React app in Chrome</figcaption></figure>
<p>尝试使用<strong>调用堆栈</strong>部分来监控TypeScript函数调用:</p>
<figure id="attachment_156262" aria-describedby="caption-attachment-156262" class="wp-caption aligncenter"><img data-attachment-id="156262" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/inspecting-typescript-function-names-call-stack/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="inspecting-typescript-function-names-call-stack" data-image-description="" data-image-caption="&lt;p&gt;Inspecting TypeScript function names in Call stack&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif" decoding="async" class="size-full wp-image-156262 jetpack-lazy-image" src="../Images/ab3b3d2c0d1ad8302a3955957c5f6fa7.png" alt="Inspecting TypeScript function names in Call stack" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156262" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/inspecting-typescript-function-names-call-stack/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="inspecting-typescript-function-names-call-stack" data-image-description="" data-image-caption="&lt;p&gt;Inspecting TypeScript function names in Call stack&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif" decoding="async" loading="lazy" class="size-full wp-image-156262" src="../Images/ab3b3d2c0d1ad8302a3955957c5f6fa7.png" alt="Inspecting TypeScript function names in Call stack" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inspecting-typescript-function-names-call-stack.gif"/></noscript><figcaption id="caption-attachment-156262" class="wp-caption-text">Inspecting TypeScript function names in Call stack</figcaption></figure>
<p>由于源代码映射，每个调试器功能都适用于TypeScript调试。React scripts模块进行实时的TypeScript编译，因此您可以通过检查Chrome或您的终端来修复TypeScript编程错误。</p>
<p>出于实验目的，让我们向<code>generateMessage</code>函数发送一个整数:</p>
<pre class="language-typescript hljs">function handleClick(): void {
  setMessage(generateMessage(1));
}
</pre>
<p>现在，你会在Chrome和终端上看到TypeScript编译错误:</p>
<figure id="attachment_156264" aria-describedby="caption-attachment-156264" class="wp-caption aligncenter"><img data-attachment-id="156264" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/react-development-environment-shows-typescript-compilation-issues/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-development-environment-shows-typescript-compilation-issues" data-image-description="" data-image-caption="&lt;p&gt;The React development environment shows TypeScript compilation issues&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif" decoding="async" class="size-full wp-image-156264 jetpack-lazy-image" src="../Images/bdcc8188fa738b3fb7d525eda5b43ceb.png" alt="The React development environment shows TypeScript compilation issues" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156264" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/react-development-environment-shows-typescript-compilation-issues/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif" data-orig-size="730,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-development-environment-shows-typescript-compilation-issues" data-image-description="" data-image-caption="&lt;p&gt;The React development environment shows TypeScript compilation issues&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues-300x185.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif" decoding="async" loading="lazy" class="size-full wp-image-156264" src="../Images/bdcc8188fa738b3fb7d525eda5b43ceb.png" alt="The React development environment shows TypeScript compilation issues" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/react-development-environment-shows-typescript-compilation-issues.gif"/></noscript><figcaption id="caption-attachment-156264" class="wp-caption-text">The React development environment shows TypeScript compilation issues</figcaption></figure>
<p>所有流行的前端框架，比如Angular，Vue，Svelte等。，提供TypeScript开发支持，自动生成JavaScript源码图。因此，当使用前端框架工具时，调试TypeScript变得非常容易。</p>
<h2 id="integrating-vs-code-frontend-debugging">集成VS代码进行前端调试</h2>
<p>如果用VS代码写代码，可以用编辑器UI代替Chrome DevTools作为调试器接口。VS代码通过预装的<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.js-debug"> JavaScript调试器</a>扩展为调试JavaScript/TypeScript提供了内置支持。</p>
<p>启动您的web开发服务器(即webpack开发服务器)并使用以下<code>launch.json</code>设置启动Chrome:</p>
<pre class="language-json hljs">{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "chrome",
            "name": "Chrome",
            "request": "launch",
            "url": "http://localhost:3000"
        }
    ]
}
</pre>
<p>当您按F5并开始调试时，可以从编辑器中设置断点。例如，参见我如何调试<code>App.tsx</code>:</p>
<figure id="attachment_156267" aria-describedby="caption-attachment-156267" class="wp-caption aligncenter"><img data-attachment-id="156267" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-typescript-based-react-app-vs-code-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-typescript-based-react-app-vs-code-chrome" data-image-description="" data-image-caption="&lt;p&gt;Debugging a TypeScript-based React app with VS Code and Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif" decoding="async" class="size-full wp-image-156267 jetpack-lazy-image" src="../Images/b3b23d9a8d9ebddab9328a42c371b201.png" alt="Debugging a TypeScript-based React app with VS Code and Chrome" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156267" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-typescript-based-react-app-vs-code-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-typescript-based-react-app-vs-code-chrome" data-image-description="" data-image-caption="&lt;p&gt;Debugging a TypeScript-based React app with VS Code and Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif" decoding="async" loading="lazy" class="size-full wp-image-156267" src="../Images/b3b23d9a8d9ebddab9328a42c371b201.png" alt="Debugging a TypeScript-based React app with VS Code and Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-react-app-vs-code-chrome.gif"/></noscript><figcaption id="caption-attachment-156267" class="wp-caption-text">Debugging a TypeScript-based React app with VS Code and Chrome</figcaption></figure>
<h2 id="debugging-typescript-backend-code">调试TypeScript后端代码</h2>
<p>您可以使用TypeScript编写Node.js和Deno后端项目。我们来讨论一下如何使用Chrome来调试它们。</p>
<h3 id="debugging-typescript-based-node-js-apps">调试基于TypeScript的Node.js应用程序</h3>
<p>与客户端TypeScript开发一样，在使用Node.js运行时执行项目之前，我们必须将TypeScript转换成JavaScript。客户端JavaScript执行使用Chrome内置的v8 JavaScript引擎，因此我们可以像以前一样直接使用DevTools调试器，但Node.js运行时使用自己的v8实例，因此它提供了内置的调试器工具，因为它不能直接使用Chrome的调试器/JavaScript执行环境。</p>
<p>使用我们在客户端调试中遵循的相同步骤创建一个新的npm项目和一个TypeScript配置文件(启用了源映射)。接下来，将以下代码添加到<code>main.ts</code>:</p>
<pre class="language-typescript hljs">function sayHello(name: string): void {
    let message: string = `Hello ${name}!`;
    console.log(message);
    if(name == 'TypeScript') {
        console.log('.ts');
    }
    else if(name == 'JavaScript') {
        console.log('.js');
    }
}

sayHello('TypeScript');
sayHello('JavaScript');
</pre>
<p>将以下脚本添加到您的<code>package.json</code>文件中:</p>
<pre class="language-json hljs">"scripts": {
  "build": "npx tsc",
  "debug": "node inspect main.js"
},
</pre>
<p>生成JavaScript文件和源映射:</p>
<pre class="language-bash hljs">npm run build
# --- or ---
yarn build
</pre>
<p>接下来，使用以下命令启动Node.js调试器:</p>
<pre class="language-bash hljs">npm run debug
# --- or ---
yarn debug
</pre>
<p>上面的npm脚本初始化内置的Node.js调试器实用程序，并开始通过WebSockets监听Chrome DevTools协议消息。因此，我们既可以通过命令行使用内置的Node.js调试器工具，也可以通过Chrome DevTools使用GUI调试器。</p>
<p>运行上述命令后，调试器会自动为第一条可执行语句设置断点，如下所示:</p>
<figure id="attachment_156269" aria-describedby="caption-attachment-156269" class="wp-caption aligncenter"><img data-attachment-id="156269" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/inbuilt-node-js-debugger-utility-stopped-breakpoint/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png" data-orig-size="730,438" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="inbuilt-node-js-debugger-utility-stopped-breakpoint" data-image-description="" data-image-caption="&lt;p&gt;The inbuilt Node.js debugger utility stopped at a breakpoint&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png" decoding="async" class="size-full wp-image-156269 jetpack-lazy-image" src="../Images/12373c9d5a367798dd90973164e74f5d.png" alt="The inbuilt Node.js debugger utility stopped at a breakpoint" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint-300x180.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="156269" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/inbuilt-node-js-debugger-utility-stopped-breakpoint/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png" data-orig-size="730,438" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="inbuilt-node-js-debugger-utility-stopped-breakpoint" data-image-description="" data-image-caption="&lt;p&gt;The inbuilt Node.js debugger utility stopped at a breakpoint&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png" decoding="async" loading="lazy" class="size-full wp-image-156269" src="../Images/12373c9d5a367798dd90973164e74f5d.png" alt="The inbuilt Node.js debugger utility stopped at a breakpoint" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint-300x180.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/inbuilt-node-js-debugger-utility-stopped-breakpoint.png"/></noscript><figcaption id="caption-attachment-156269" class="wp-caption-text">The inbuilt Node.js debugger utility stopped at a breakpoint</figcaption></figure>
<p>内置调试器不支持TypeScript调试，因为它不理解源代码映射——它只是一个带有几个命令的最小调试器。例如，您可以使用以下命令在第5行设置一个断点，并在新添加的断点处停止代码执行:</p>
<pre class="language-plaintext hljs">sb(5)
c
</pre>
<p>你可以在官方文档中找到所有内置的调试器命令。我们不会进一步讨论内置调试器，因为在本教程中我们的重点是Chrome调试器。</p>
<p>让我们在Chrome中调试这个TypeScript项目。使用<code>debug</code> npm脚本运行项目，并转到Chrome上的以下URL:</p>
<pre class="language-plaintext hljs">chrome://inspect
</pre>
<p>现在，打开DevTools调试器GUI，如下所示:</p>
<figure id="attachment_156272" aria-describedby="caption-attachment-156272" class="wp-caption aligncenter"><img data-attachment-id="156272" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/opening-devtools-debugger-node-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="opening-devtools-debugger-node-js" data-image-description="" data-image-caption="&lt;p&gt;Opening the DevTools debugger for Node.js&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif" decoding="async" class="size-full wp-image-156272 jetpack-lazy-image" src="../Images/049a8b76806ef0147ae04b6e051277d2.png" alt="Opening the DevTools debugger for Node.js" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156272" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/opening-devtools-debugger-node-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="opening-devtools-debugger-node-js" data-image-description="" data-image-caption="&lt;p&gt;Opening the DevTools debugger for Node.js&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif" decoding="async" loading="lazy" class="size-full wp-image-156272" src="../Images/049a8b76806ef0147ae04b6e051277d2.png" alt="Opening the DevTools debugger for Node.js" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/opening-devtools-debugger-node-js.gif"/></noscript><figcaption id="caption-attachment-156272" class="wp-caption-text">Opening the DevTools debugger for Node.js</figcaption></figure>
<p>您可以通过Chrome DevTools接口调试TypeScript文件。调试器实用程序反映了您在终端上的调试操作。看下面的预告:</p>
<p> </p>
<p>早些时候，样本React项目在代码更改期间重新编译了修改过的类型脚本代码。可以用<code>tsc --watch</code><a href="https://blog.logrocket.com/configuring-nodemon-with-typescript/"><code>nodemon</code></a>或者<a href="https://github.com/wclr/ts-node-dev"> <code>ts-node-dev</code> </a>对服务器端的TypeScript项目做同样的操作。</p>
<h3 id="debugging-deno-apps">调试Deno应用程序</h3>
<p>Deno是一个安全的TypeScript运行时，我们可以使用它作为Node.js运行时的替代。在Deno中调试TypeScript不需要像基于TypeScript的Node.js应用程序那样进行手动配置，因为Deno本身就支持TypeScript。</p>
<p>首先，确保您的计算机上已经安装了Deno。如果没有，根据<a href="https://deno.land/manual/getting_started/installation">官方安装指南</a>安装最新的Deno运行时版本。</p>
<p>在我们之前创建的基于TypeScript的Node.js项目目录中，使用以下命令启动Deno调试器:</p>
<pre class="language-bash hljs">deno run --inspect-brk main.ts
</pre>
<p>然后，打开DevTools并开始调试:</p>
<figure id="attachment_156276" aria-describedby="caption-attachment-156276" class="wp-caption aligncenter"><img data-attachment-id="156276" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-typescript-based-node-js-project-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-typescript-based-node-js-project-chrome" data-image-description="" data-image-caption="&lt;p&gt;Debugging a TypeScript-based Node.js project in Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif" decoding="async" class="size-full wp-image-156276 jetpack-lazy-image" src="../Images/4aab0578ee1d040ac77d135b5d41d553.png" alt="Debugging a TypeScript-based Node.js project in Chrome" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156276" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-typescript-based-node-js-project-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-typescript-based-node-js-project-chrome" data-image-description="" data-image-caption="&lt;p&gt;Debugging a TypeScript-based Node.js project in Chrome&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif" decoding="async" loading="lazy" class="size-full wp-image-156276" src="../Images/4aab0578ee1d040ac77d135b5d41d553.png" alt="Debugging a TypeScript-based Node.js project in Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-typescript-based-node-js-project-chrome.gif"/></noscript><figcaption id="caption-attachment-156276" class="wp-caption-text">Debugging a TypeScript-based Node.js project in Chrome</figcaption></figure>
<h2 id="integrating-vs-code-backend-debugging">集成VS代码进行后端调试</h2>
<p>您可以按F5并调试Node.js应用程序，而无需额外的扩展，因为内置的调试器扩展支持Node.js调试。</p>
<p>对于Deno，您可以安装<a href="https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno"> Deno扩展</a>进行自动<code>launch.json</code>配置，或者手动使用以下<code>launch.json</code>设置:</p>
<pre class="language-json hljs">{
    "version": "0.2.0",
    "configurations": [
      {
        "name": "Deno",
        "type": "node",
        "request": "launch",
        "cwd": "${workspaceFolder}",
        "runtimeExecutable": "deno",
        "runtimeArgs": ["run", "--inspect-brk", "-A", "${file}"],
        "attachSimplePort": 9229
      }
    ]
 }
</pre>
<p>查看我如何用VS代码调试TypeScript文件:</p>
<figure id="attachment_156278" aria-describedby="caption-attachment-156278" class="wp-caption aligncenter"><img data-attachment-id="156278" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-deno-apps-typescript-with-chrome-devtools/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-deno-apps-typescript-with-chrome-devtools" data-image-description="" data-image-caption="&lt;p&gt;Debugging Deno apps in TypeScript with Chrome DevTools&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif" decoding="async" class="size-full wp-image-156278 jetpack-lazy-image" src="../Images/2d59cea6348aac40be27ff3f0d16b653.png" alt="Debugging Deno apps in TypeScript with Chrome DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="156278" data-permalink="https://blog.logrocket.com/how-to-debug-typescript-chrome/attachment/debugging-deno-apps-typescript-with-chrome-devtools/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif" data-orig-size="730,446" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debugging-deno-apps-typescript-with-chrome-devtools" data-image-description="" data-image-caption="&lt;p&gt;Debugging Deno apps in TypeScript with Chrome DevTools&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools-300x183.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif" decoding="async" loading="lazy" class="size-full wp-image-156278" src="../Images/2d59cea6348aac40be27ff3f0d16b653.png" alt="Debugging Deno apps in TypeScript with Chrome DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/debugging-deno-apps-typescript-with-chrome-devtools.gif"/></noscript><figcaption id="caption-attachment-156278" class="wp-caption-text">Debugging Deno apps in TypeScript with Chrome DevTools</figcaption></figure>
<h2>结论</h2>
<p>调试的主要目标是通过监控源代码执行和手动审查代码来识别软件缺陷。在大多数web开发调试活动中，我们可以通过阅读代码和使用众所周知的调试器实用工具来识别bug。但是，在一些复杂的场景中，我们必须生成许多测试用例，并使用高级调试器功能。</p>
<p>大多数web开发人员使用标准控制台API(即<code>console.log</code>)进行调试；其他人从Chrome DevTools调试器或VS代码的调试器UI开始。当你开始追踪一个bug时，从从上到下分析代码开始。如果您还没有发现错误，那么如果逻辑流程不复杂，就尝试记录运行时值。如果逻辑流程复杂，从Chrome调试器或VS代码调试器UI开始可以节省时间。</p>
<p>在本教程中，我们讨论了如何使用Chrome调试用TypeScript编写的浏览器、Node.js和Deno应用程序。我们还讨论了如何使用VS代码的调试器UI。</p>
<p>您可以根据自己的需求和个人偏好定制和使用这些调试技术。类似于前端框架的TypeScript模板，您可以使用<a href="https://github.com/jsynowiec/node-typescript-boilerplate"> <code>node-typescript-boilerplate</code>模板</a>通过预配置的调试环境更快地创建基于TypeScript的Node.js项目。或者，您可以按照我们在本教程中讨论的步骤创建自己的模板。</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:全面了解您的网络和移动应用</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放问题，就像问题发生在您自己的浏览器中一样。LogRocket不需要猜测错误发生的原因，也不需要向用户询问截图和日志转储，而是让您重放会话以快速了解哪里出错了。它可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。</p>
<p>除了记录Redux操作和状态，LogRocket还记录控制台日志、JavaScript错误、堆栈跟踪、带有头+正文的网络请求/响应、浏览器元数据和自定义日志。它还使用DOM来记录页面上的HTML和CSS，甚至为最复杂的单页面和移动应用程序重新创建像素级完美视频。</p>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>