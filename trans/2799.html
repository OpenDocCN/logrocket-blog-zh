<html>
<head>
<title>The best styling options for Next.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Next.js - LogRocket 博客的最佳样式选项</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/best-styling-options-nextjs/#0001-01-01">https://blog.logrocket.com/best-styling-options-nextjs/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Next.js 由 Vercel 创建，是一个基于 React 的 JavaScript 框架。凭借其提供<a href="https://blog.logrocket.com/ssg-vs-ssr-in-next-js/" target="_blank" rel="noopener">静态和服务器渲染</a>的能力，它在开发者中的受欢迎程度迅速上升。</p>
<p>不太为人所知的是，Next.js 提供了许多在应用程序中支持 CSS 的方法。无论您更喜欢带有类的实用 CSS 还是 JS 中的 CSS，Next.js 都能满足您的需求。在本教程中，您将发现在 Next.js 应用程序中实现样式的几种方法。让我们实现一个样式化的文本，当用户悬停在它上面时，它会变成红色:</p>
<p><img data-attachment-id="99511" data-permalink="https://blog.logrocket.com/best-styling-options-nextjs/text-highlighting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif" data-orig-size="600,152" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Text highlighting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting-300x76.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif" decoding="async" class="aligncenter size-full wp-image-99511 jetpack-lazy-image" src="../Images/a1ef75220c41b908666fb28dc513b93d.png" alt="Text Highlighting" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="99511" data-permalink="https://blog.logrocket.com/best-styling-options-nextjs/text-highlighting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif" data-orig-size="600,152" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Text highlighting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting-300x76.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-99511" src="../Images/a1ef75220c41b908666fb28dc513b93d.png" alt="Text Highlighting" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/text-highlighting.gif"/></noscript>
<h2>在 Next.js 中使用全局 CSS 样式</h2>
<p>在 Next.js 应用程序<a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-global-css)" target="_blank" rel="noopener">中编写 CSS 最简单的方法是通过它的全局样式表</a>。每个新创建的 Next.js 项目都有一个<code>styles</code>文件夹，其中有一个<code>global.css</code>样式表。</p>
<p>因此，您可以立即开始编写 CSS，不需要任何设置。例如，在<code>styles/global.css</code>中，您可以添加以下内容:</p>
<pre class="language-css hljs">    .paragraph {
      font-size: 16px;
      text-align: center;
    }

    .paragraph:hover {
      color: red;
    }
</pre>
<p>在<code>global.css</code>中创建的样式将应用于你的整个应用程序。</p>
<p>为此，这个样式表只能在<code>_app.js,</code>中导入，因为<code>App</code>组件会初始化 Next.js 页面中的所有页面。</p>
<p>在新的 Next.js 项目中，已经为您完成了，但是如果您的<code>pages</code>文件夹中还没有<code>_app.js</code>文件，请创建一个。完成后，导入新的全局样式表:</p>
<pre class="language-css hljs">//In _app.js, import your global stylesheets
    import '../styles/globals.css'

    function MyApp({ Component, pageProps }) {
      return &lt;Component {...pageProps} /&gt;
    }

    export default MyApp
</pre>
<p>然后，您可以在应用程序中使用这些类。例如，在您的主页上的<code>pages/index.js</code>:</p>
<pre class="language-css hljs">    export default function Home() {
      return (
        &lt;p className="paragraph"&gt;I am styled with a global css stylesheet&lt;/p&gt;
      )
    }
</pre>
<h3>在 CSS 中使用全局样式的好处</h3>
<ul>
<li>不需要设置</li>
<li>非常适合 POC 等小型项目</li>
</ul>
<h3>骗局</h3>
<ul>
<li>所有样式都包含在一个文件中</li>
<li>随着项目的增长，很难进行扩展</li>
</ul>
<h2>在 Next.js 中使用 CSS 模块</h2>
<p>刚开始时，全局样式表非常方便，但随着应用程序的增长，这个文件可能变得不太容易管理。</p>
<p>此外，Next.js 是一个基于组件的框架，这意味着为各个组件拆分样式更容易。例如，如果您有一个页脚组件，导入一个包含该组件样式的样式表会更容易，但仅此而已。进入 CSS 模块！</p>
<p>如果你不熟悉，<a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-css-modules" target="_blank" rel="noopener"> CSS 模块允许你通过为特定风格的组件</a>创建文件来隔离你的 CSS。它们非常容易使用，因为它们是简单的 CSS，但是扩展名是<code>module.css</code>。和前面的方法一样，它不需要设置，可以和全局样式表一起使用。</p>
<p>下面是一个<code>Home.module.css</code>的例子:</p>
<pre class="language-css hljs">    //Home.module.css
    .paragraph {
      font-size: 16px;
      text-align: center;
    }

    .paragraph:hover {
      color: red;
    }
</pre>
<p>在组件<code>pages/index.js</code>中，您可以导入样式表并使用它:</p>
<pre class="language-css hljs">  import styles from '../styles/Home.module.css'
   export default function Home() {
      return (
        &lt;p className={styles.paragraph}&gt;I am styled with CSS modules&lt;/p&gt;
      )
    }
</pre>
<h3>使用 CSS 模块进行样式设计的优点</h3>
<ul>
<li>不需要设置</li>
<li>组件可以拆分样式</li>
<li>可用于全局样式</li>
<li>与全局样式不同，避免了类之间的冲突</li>
</ul>
<h3>骗局</h3>
<ul>
<li>无动态样式(例如，基于加载、错误、成功等状态。)</li>
</ul>
<h2>使用 Sass 的 Next.js 样式</h2>
<p>如果基本的 CSS 是不够的，你发现自己在寻找一个 CSS 框架，没有比 Sass 看得更远。它将自己描述为“<a href="https://sass-lang.com/" target="_blank" rel="noopener">具有超能力的 CSS</a>”，这是一个与 CSS 兼容的流行框架，提供了许多很酷的特性，如变量、嵌套和混合。<a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-sass" target="_blank" rel="noopener">这是我们的示例项目</a>的 GitHub 回购。</p>
<p>在 Next.js 中使用 Sass 非常简单。您所要做的就是安装库:</p>
<pre class="language-css hljs">   npm install sass
    # or
    yarn add sass
</pre>
<p>一旦完成，您就可以开始编写 Sass 代码了。不要忘记<code>.scss</code>或<code>.sass</code>文件扩展名！这里有一个<code>styles/Home.module.scss</code>中 Sass 代码的例子:</p>
<pre class="language-css hljs">    //Home.module.scss
    $hover-color: red;

    .paragraph {
      font-size: 16px;
      text-align: center;
    }

    .paragraph:hover {
      color: $hover-color;
    }
</pre>
<p>类似于使用 CSS 模块，一旦我们完成了 CSS 的编写，我们将导入新的文件来设计我们的应用程序。</p>
<pre class="language-css hljs">  import styles from '../styles/Home.module.scss'
    export default function Home() {
      return (
        &lt;p className={styles.paragraph}&gt;I am styled with SASS&lt;/p&gt;
      )
    }
</pre>
<p>优点:</p>
<ul>
<li>使用 Next.js 轻松设置</li>
<li>CSS 兼容</li>
<li>复杂样式需求的有趣特性，如变量、嵌套等。</li>
</ul>
<p>缺点:</p>
<ul>
<li>学习 SASS 新功能所浪费的时间</li>
</ul>
<h2><code>More complex than CSS</code>造型与风格——JSX</h2>
<p>如果您喜欢实用 CSS，前面的三种方法涵盖了最好的样式选项。但是也许你更像是一个 CSS-in-JS 类型的人。在这种情况下，<a href="https://github.com/vercel/styled-jsx" target="_blank" rel="noopener">风格的 JSX </a>可能是你的菜。</p>
<p>Styled-JSX 由 Next.js 的创始人韦尔塞尔创建，允许开发人员在他们的 JavaScript 代码中编写 CSS。没有设置的必要，它开箱即用。</p>
<p><a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-styled-jsx" target="_blank" rel="noopener">这里有一个风格化的例子——JSX</a>:</p>
<pre class="language-css hljs">    export default function Home() {
      return (
        &lt;div className="paragraph"&gt;
          &lt;style jsx&gt;{`
            .paragraph {
              font-size: 16px;
              text-align: center;
            }

            .paragraph:hover {
              color: red;
            }
          `}&lt;/style&gt;
          &lt;p&gt;I am a component styled with Styled-JSX&lt;/p&gt;
        &lt;/div&gt;
      )
    }
</pre>
<h3>对 Next.js 使用 Sass 的优点</h3>
<ul>
<li>不需要设置</li>
<li>动态造型</li>
<li>可移植性:您的代码(CSS 和 JS)包含在一个文件中，因此可以很容易地移动</li>
</ul>
<h3>骗局</h3>
<ul>
<li>不像其他 CSS-in-JS 库那样支持(Github 上的 7k stars 与样式化组件的 36k)</li>
<li>当混合使用 CSS 和 JS 时，代码的可读性会更差</li>
</ul>
<h2>使用样式组件</h2>
<p>风格化的 JSX 开始时很方便，但是随着应用程序的增长很难调试。因此，您可能会被<a href="https://blog.logrocket.com/8-awesome-features-of-styled-components/" target="_blank" rel="noopener">样式化组件</a>所诱惑。</p>
<p>Styled-components 非常实用，因为它是为 React 创建的。它允许开发人员创建自动注入样式的组件。您还可以利用道具进行动态造型(例如，用于禁用或悬停状态)。点击查看示例项目<a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-styled-components" target="_blank" rel="noopener">。</a></p>
<p>要在 Next.js 中使用它，首先安装库:</p>
<pre class="language-css hljs">    npm i styled-components
    # or
    yarn add styled-components
</pre>
<p>使用样式化组件的唯一缺点是它是为 React 设计的，这意味着它适合客户端渲染。目前，服务器端渲染不支持开箱即用。</p>
<p>然而，这很容易通过创建一个新的<code> pages/_document.js</code>文件并添加以下内容来解决:</p>
<pre class="language-css hljs"> import Document, { Head, Html, Main, NextScript } from 'next/document'
    import { ServerStyleSheet } from 'styled-components'

    export default class MyDocument extends Document {
      render() {
        return (
          &lt;Html lang="en"&gt;
            &lt;Head&gt;&lt;/Head&gt;
            &lt;body&gt;
              &lt;Main /&gt;
              &lt;NextScript /&gt;
            &lt;/body&gt;
          &lt;/Html&gt;
        )
      }

      static async getInitialProps(ctx) {
        const sheet = new ServerStyleSheet()
        const originalRenderPage = ctx.renderPage

        try {
          ctx.renderPage = () =&gt;
            originalRenderPage({
              enhanceApp: (App) =&gt; (props) =&gt;
                sheet.collectStyles(&lt;App {...props} /&gt;),
            })

          const initialProps = await Document.getInitialProps(ctx)
          return {
            ...initialProps,
            styles: (
              &lt;&gt;
                {initialProps.styles}
                {sheet.getStyleElement()}
              &lt;/&gt;
            ),
          }
        } finally {
          sheet.seal()
        }
      }
    }
</pre>
<p>完成后，您可以将该库导入到您的组件中并开始使用它。例如，在<code>pages/index.js</code>中，您可以为您的主页创建一个<code>Paragraph</code>样式的组件:</p>
<pre class="language-css hljs"> import styled from 'styled-components'
    const Paragraph = styled.p`
      font-size: 16px;
      text-align: center;

      &amp;:hover {
        color: ${props =&gt; props.hoverColor};
      }
    `

    export default function Home() {
      return &lt;Paragraph hoverColor="red"&gt;I am a component made with Styled Components&lt;/Paragraph&gt;
    }
</pre>
<h3>在 Next.js 中使用样式化组件的优点</h3>
<ul>
<li>使用 React 构建，拥有大量社区支持</li>
<li>基于道具的动态造型</li>
<li>像 React 组件一样可定制和可重用(即，<code>&lt;Title /&gt;</code>而不是<code>&lt;h2 className="title"/&gt;</code>)</li>
</ul>
<h3>骗局</h3>
<ul>
<li>像 Next.js 这样的服务器端渲染框架所必需的额外配置</li>
<li>习惯这些功能需要一点学习过程</li>
<li>编译时，样式化组件类变得随机(即<code>css-1kybr8i</code>)，使得调试更加困难</li>
</ul>
<h2>情绪</h2>
<p>另一个用 React 创建的 CSS 框架是<a href="https://emotion.sh/docs/introduction" target="_blank" rel="noopener"> Emotion </a>。它提供了 CSS prop(将样式直接传递给元素)和样式组件。Emotion 的另一个好处是服务器端渲染可以开箱即用。<a href="https://github.com/mariesta/nextjs-styling-options/tree/main/with-emotion" target="_blank" rel="noopener">点击这里查看 GitHub</a>。</p>
<p>要在 Next.js 应用程序中使用 Emotion，首先需要安装库:</p>
<pre class="language-css hljs">    npm install --save @emotion/react
    #or
    yarn add @emotion/react
</pre>
<p>要使用样式化组件，您还应该安装所需的库:</p>
<pre class="language-css hljs">    npm install --save @emotion/styled
    # or
    yarn add @emotion/styled
</pre>
<p>然后，您可以直接开始编写您的样式组件。在<code> pages/index.js</code>中，这里是一个<code>Paragraph</code>组件的例子:</p>
<pre class="language-css hljs">    import styled from '@emotion/styled'

    const Paragraph = styled.p`
      font-size: 16px;
      text-align: center;

      &amp;:hover {
        color: ${props =&gt; props.hoverColor};
      }
    `

    export default function Home() {
      return &lt;Paragraph hoverColor="red"&gt;I am a component made with Emotion (Styled Components)&lt;/Paragraph&gt;
    }
</pre>
<h3>使用情感的好处</h3>
<ul>
<li>Next.js 的服务器端支持和简单设置</li>
<li>使用@emotion/styled，您可以获得样式化组件的所有优点</li>
<li>许多不同需求的软件包:CSS，styled，Jest，native 等。</li>
</ul>
<h3>骗局</h3>
<ul>
<li>像样式化组件一样，Emotion 生成随机的类名，使得用元素检查器进行调试更加困难</li>
<li>需要一点时间来适应这些功能</li>
</ul>
<h2>用顺风 CSS 设计 Next.js 的样式</h2>
<p>使用 PostCSS，Next.js 还提供了对流行工具的支持，比如 Tailwind CSS。通过安装 Tailwind 作为 PostCSS 插件，它将扫描你的代码并为你生成正确的样式表。它不仅速度快，而且还提供了一个实用程序类列表供您选择(例如，间距、文本大小等等)。</p>
<p>要在 Next.js 中使用它，首先安装<code>tailwindcss</code>、<code>postcss</code>和<code>autoprefixer</code>作为对等依赖项:</p>
<pre class="language-css hljs">    npm install -D tailwindcss postcss autoprefixer
</pre>
<p>运行<code>tailwindcss</code> init 来生成所需的文件:</p>
<pre class="language-css hljs">    npx tailwindcss init -p
</pre>
<p>该命令生成了两个文件:</p>
<ul>
<li><code>postcss.config.js,</code>你不需要碰它</li>
<li>
<p><code>tailwind.config.js</code></p>
</li>
</ul>
<p>在后者中，添加您的模板路径。这些配置将告诉 Tailwind CSS 扫描哪些代码来生成样式表:</p>
<pre class="language-css hljs">    module.exports = {
      content: [
        "./pages/**/*.{js,ts,jsx,tsx}",
        "./components/**/*.{js,ts,jsx,tsx}",
      ],
      theme: {
        extend: {},
      },
      plugins: [],
    }
</pre>
<p>在<code>styles/global.css</code>中，添加顺风 CSS 指令:</p>
<pre class="language-css hljs">    @tailwind base;
    @tailwind components;
    @tailwind utilities;
</pre>
<p>如果您正在使用新创建的 Next.js 项目，这将为您完成，但是，如果不是，请确保<code>pages/_app.js</code>导入您的<code>styles/global.css</code>样式表:</p>
<pre class="language-css hljs">    import '../styles/globals.css'

    function MyApp({ Component, pageProps }) {
      return &lt;Component {...pageProps} /&gt;
    }

    export default MyApp
</pre>
<p>你现在可以开始使用 Tailwind CSS 了。在<code>pages/index.js</code>中，如果你想创建一个悬停状态的居中段落，你可以这样做:</p>
<pre class="language-css hljs">    export default function Home() {
      return (
        &lt;p class="text-center text-lg hover:text-red-600"&gt;
          I am a component made with Tailwind CSS
        &lt;/p&gt;
      )
    }
</pre>
<h3>使用顺风 CSS 的好处</h3>
<ul>
<li>许多预定义的类，包括填充、边距、颜色等等</li>
<li>一旦熟悉了这些类，设计过程就会变得更快</li>
<li>通过移除未使用的 CSS，编译后的 CSS 会自动优化</li>
</ul>
<h3>骗局</h3>
<ul>
<li>没有内容和结构的分离，因为 CSS 和 HTML 是结合在一起的</li>
<li>学习所有不同的课程需要时间</li>
</ul>
<h2>结论</h2>
<p>选择一个样式选项取决于许多因素:项目的大小、时间，更重要的是，个人偏好。幸运的是，无论您喜欢实用 CSS 还是 CSS-in-JS，Next.js 都提供了对 CSS 的内置支持。</p>
<p>在本教程中，您会发现其中的一些。首先，您学习了如何使用全局样式表或 CSS 模块编写 CSS。对于有更复杂需求的开发人员，您还看到了如何在 Next.js 中使用 Sass。</p>
<p>然后，对于那些喜欢 CSS-in-JS 的人，我们介绍了一些方法，比如样式化 JSX、样式化组件和情感。</p>
<p>最后，您还了解了 Next.js 提供了对带有 PostCSS 的 Tailwind CSS 等工具的支持，这有利于希望访问带有数千个预构建 CSS 类的设计系统的开发人员。感谢阅读！</p>
<div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产 Next.js 应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示 JavaScript 错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的 DVR，记录下你的 Next.js 应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket 还可以监控应用程序的性能，报告客户端 CPU 负载、客户端内存使用等指标。</p><p>LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。</p><p>让您调试 Next.js 应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>