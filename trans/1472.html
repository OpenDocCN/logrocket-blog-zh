<html>
<head>
<title>How to use react-native-picker-select - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使用 react-native-picker-select-log rocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-use-react-native-picker-select/#0001-01-01">https://blog.logrocket.com/how-to-use-react-native-picker-select/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按</strong> </em> <em>:本帖更新于 2022 年 1 月 27 日，旨在改进额外 Android 道具的实现，并整体更新教程。</em></p>
<p>一个<code>picker</code>是一个<code>select</code>元素或组件的移动等价物，用于提供一个下拉或多项选择选项。</p>
<p>React 原生内核曾经支持<a href="https://reactnative.dev/docs/picker" target="_blank" rel="noopener">一个内置的<code>Picker</code>组件</a>，但是这已经被弃用，不再推荐使用。但是，建议使用任何一个<a href="https://reactnative.directory/?search=picker" target="_blank" rel="noopener">社区包</a>，而<code>react-native-picker-select</code>就是这些包中的一个。</p>
<h2>什么是<code>react-native-picker-select</code>？</h2>
<p><a href="https://github.com/lawnstarter/react-native-picker-select" target="_blank" rel="noopener"> <code>react-native-picker-select</code> </a>是一个 React 原生选取器组件，模仿 Android 和 iOS 的原生<code>select</code>界面。尽管它模仿了原生的<code>select</code>界面，但它允许开发者按照他们认为合适的方式定制界面。</p>
<p>对于 iOS，默认情况下，<code>react-native-picker-select</code>组件只是包装了一个无样式的<code>TextInput</code>组件。开发者可以传递样式来定制它的外观和感觉。但是，对于 Android，默认使用默认选取器。</p>
<p>Android 用户可以通过将<code>false</code>传递给<code>useNativeAndroidPickerStyle</code>道具来强制它使用无样式的<code>TextInput</code>。现在可以通过传递样式来进行进一步的定制。</p>
<p>功能齐全，并配有许多道具，这使得它非常灵活和强大。让我们在下一节开始使用它。</p>
<h2>入门指南</h2>
<p>与所有 npm 软件包一样，安装应该很简单。然而，<code>react-native-picker-select</code>带有一个陷阱，尤其是当你使用<code>expo</code>的时候。</p>
<p>要安装它，只需运行:</p>
<pre class="language-bash hljs">npm i react-native-picker-select
</pre>
<p>这应该可以，但有时会出现下面的错误:</p>
<pre class="language-bash hljs">requireNativeComponent "RNCPicker" was not found in the UIManager error
</pre>
<p>您可以通过运行以下命令来解决此错误:</p>
<pre class="language-bash hljs">// React Native CLI
npm install @react-native-community/picker
npx pod-install

// Expo users
expo install @react-native-community/picker
</pre>
<p>根据您的环境，运行这些命令中的任何一个都可以解决问题。<br/>安装后，<code>cd</code>进入 app 目录并运行:</p>
<pre class="language-bash hljs">npm install or yarn install
</pre>
<p>这将安装所有需要的依赖项。然后运行:</p>
<pre class="language-bash hljs">npm start or yarn start
</pre>
<p>这将为您的应用程序启动一个开发服务器，完成我们的开发环境设置。</p>
<p>现在我们已经设置好了我们的环境，我们可以直接进入如何详细使用<code>react-native-picker-select</code>库。</p>
<h2>使用<code>react-native-picker-select</code>组件</h2>
<p>如果您不想经历设置开发环境的麻烦，我已经为您创建了一个初学者应用程序。只需运行以下命令来克隆它:</p>
<pre class="language-bash hljs">git clone https://github.com/lawrenceagles/react-native-picker-demo
</pre>
<p><code>cd</code>进入应用程序文件夹，按照之前的说明启动应用程序。迎接我们的是一个<code>hello world</code>和一个<code>select</code>组件，如下所示。</p>
<p><img data-attachment-id="91788" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/hello-world-metro-bundler/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello-world-metro-bundler" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png" decoding="async" class="aligncenter size-full wp-image-91788 jetpack-lazy-image" src="../Images/208262f998a6bc6a1d0c581c3a197e41.png" alt="&quot;Hello, world!&quot; in the Metro bundler" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler-300x175.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91788" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/hello-world-metro-bundler/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello-world-metro-bundler" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91788" src="../Images/208262f998a6bc6a1d0c581c3a197e41.png" alt="&quot;Hello, world!&quot; in the Metro bundler" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler-300x175.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/hello-world-metro-bundler.png"/></noscript>
<p>上面的 app 展示了<code>react-native-picker-select</code>包最基本的用法。请考虑下面的代码:</p>
<pre class="language-javascript hljs"> import React from "react";
 import RNPickerSelect from "react-native-picker-select";
 import { StyleSheet, Text, View } from "react-native";
 export default function App () {
     return (
         &lt;View style={styles.container}&gt;
             &lt;Text&gt;Hello World!&lt;/Text&gt;
             &lt;RNPickerSelect
                 onValueChange={(value) =&gt; console.log(value)}
                 items={[
                     { label: "JavaScript", value: "JavaScript" },
                     { label: "TypeScript", value: "TypeScript" },
                     { label: "Python", value: "Python" },
                     { label: "Java", value: "Java" },
                     { label: "C++", value: "C++" },
                     { label: "C", value: "C" },
                 ]}
             /&gt;
         &lt;/View&gt;
     );
 }
 const styles = StyleSheet.create({
     container : {
         flex            : 1,
         backgroundColor : "#fff",
         alignItems      : "center",
         justifyContent  : "center",
     },
 });
</pre>
<p>要使用<code>react-native-picker-select</code>，我们必须导入<code>RNPickerSelect</code>组件:</p>
<pre class="language-bash hljs">import RNPickerSelect from "react-native-picker-select";
</pre>
<p>然后在我们的代码中重用这个组件来呈现<code>select</code>视图。它有无数的道具，其中两个是必需的:</p>
<ul>
<li><code>items</code>道具</li>
<li><code>onValueChange</code>道具</li>
</ul>
<p>我们现在将逐一介绍。</p>
<h3><code>items</code>道具</h3>
<pre class="language-javascript hljs">[
    { label: "JavaScript", value: "JavaScript" },
    { label: "TypeScript", value: "TypeScript" },
    { label: "Python", value: "Python" },
    { label: "Java", value: "Java" },
    { label: "C++", value: "C++" },
    { label: "C", value: "C" },
]
</pre>
<p>这是一个对象数组。每个项目都是一个具有<code>label</code>和<code>value</code>属性的对象。当用户点击<code>select</code>组件时，这些项目作为选项呈现给用户。</p>
<p>考虑下图:</p>
<p><img data-attachment-id="91790" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/select-component-clicked/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-component-clicked" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png" decoding="async" class="aligncenter size-full wp-image-91790 jetpack-lazy-image" src="../Images/e038a3bb4f68cb31f1bdd06983c79739.png" alt="View of the select component when clicked" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked-300x210.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91790" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/select-component-clicked/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-component-clicked" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91790" src="../Images/e038a3bb4f68cb31f1bdd06983c79739.png" alt="View of the select component when clicked" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked-300x210.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/select-component-clicked.png"/></noscript>
<h3><code>onValueChange</code>道具</h3>
<pre class="language-javascript hljs">onValueChange={(value) =&gt; console.log(value)}
</pre>
<p>这是一个回调函数，返回选中的<code>value</code>和它的<code>index</code>，这很有用，因为我们可以用这个回调返回的数据做很多工作。</p>
<p>现在，我们只是将选择的值记录到控制台。但是我们可以用这些数据做一些非常有趣的事情，比如更新组件的状态。</p>
<h2>用<code>useState</code>和<code>items</code>和<code>onValueChange</code>道具更新状态</h2>
<p>我们可以用选定的数据设置组件的状态，如下面的代码所示:</p>
<pre class="language-javascript hljs">onValueChange={(value) =&gt; setState(value)}
</pre>
<p>因此，我们可以使用这些数据进行进一步的计算。考虑下面的代码:</p>
<pre class="language-javascript hljs">import React, { useState } from "react";
import RNPickerSelect from "react-native-picker-select";
import { StyleSheet, Text, View } from "react-native";

export default function App () {
    const [ language, setLanguage ] = useState("");
    return (
        &lt;View style={styles.container}&gt;
            &lt;Text&gt;
                {language ?
                  `My favourite language is ${language}` :
                    "Please select a language"
                }
            &lt;/Text&gt;
            &lt;RNPickerSelect
                onValueChange={(language) =&gt; setLanguage(language)}
                items={[
                    { label: "JavaScript", value: "JavaScript" },
                    { label: "TypeScript", value: "TypeScript" },
                    { label: "Python", value: "Python" },
                    { label: "Java", value: "Java" },
                    { label: "C++", value: "C++" },
                    { label: "C", value: "C" },
                ]}
              style={pickerSelectStyles}
            /&gt;
        &lt;/View&gt;
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        backgroundColor: '#fff',
        alignItems: 'center',
        justifyContent: 'center'
    }
});

const pickerSelectStyles = StyleSheet.create({
    inputIOS: {
        fontSize: 16,
        paddingVertical: 12,
        paddingHorizontal: 10,
        borderWidth: 1,
        borderColor: 'gray',
        borderRadius: 4,
        color: 'black',
        paddingRight: 30 // to ensure the text is never behind the icon
    },
    inputAndroid: {
        fontSize: 16,
        paddingHorizontal: 10,
        paddingVertical: 8,
        borderWidth: 0.5,
        borderColor: 'purple',
        borderRadius: 8,
        color: 'black',
        paddingRight: 30 // to ensure the text is never behind the icon
    }
});
</pre>
<p>在上面的代码中，当用户从<code>select</code>组件中选择一个值时，我们从<code>onValueChange</code>回调函数中检索该值，并更新<code>language</code>状态，如下所示:</p>
<pre class="language-javascript hljs">onValueChange={(language) =&gt; setLanguage(language)}
</pre>
<p>这将触发重新渲染，并使用所选语言更新视图。但是，如果没有选择语言，将向用户呈现默认文本:</p>
<pre class="language-javascript hljs">&lt;Text&gt;
  {language ? `My favourite language is ${language}` : "Please select a language"}
&lt;/Text&gt;
</pre>
<p>值得注意的是，这只是一个用来演示<code>react-native-picker-select</code>用法的小应用程序。在复杂的情况下，状态中的数据可以用于更有用的目的，比如改变应用程序的显示语言。</p>
<p>考虑下图:</p>
<p><img data-attachment-id="91792" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/change-display-state/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png" data-orig-size="730,427" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="change-display-state" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png" decoding="async" class="aligncenter size-full wp-image-91792 jetpack-lazy-image" src="../Images/f737d3ebc40e750603e2347e4df66cce.png" alt="Change the displayed list item using state" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state-300x175.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91792" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/change-display-state/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png" data-orig-size="730,427" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="change-display-state" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91792" src="../Images/f737d3ebc40e750603e2347e4df66cce.png" alt="Change the displayed list item using state" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state-300x175.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/change-display-state.png"/></noscript>
<h2>Optional <code>react-native-picker-select</code> props</h2>
<p>还有其他可选道具，但对于基本用法，以上两个是必需的。让我们来看看一些值得注意的可选道具:</p>
<ul>
<li><code>placeholder</code>道具</li>
<li><code>useNativeAndroidPickerStyle</code>道具</li>
</ul>
<h3><code>placeholder</code>道具</h3>
<p>考虑下图。在选择任何项目之前，我们看到在<code>select component</code>中显示的<code>select an item…</code>默认值。</p>
<p><img data-attachment-id="91794" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/using-placeholder-prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png" data-orig-size="730,462" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-placeholder-prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png" decoding="async" class="aligncenter size-full wp-image-91794 jetpack-lazy-image" src="../Images/b6fcb75f48af288a51896076a96bf298.png" alt="Using the placeholder prop" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop-300x190.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91794" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/using-placeholder-prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png" data-orig-size="730,462" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-placeholder-prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91794" src="../Images/b6fcb75f48af288a51896076a96bf298.png" alt="Using the placeholder prop" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop-300x190.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/using-placeholder-prop.png"/></noscript>
<p>这是正在使用的<code>placeholder</code>道具。它是一个同时具有<code>label</code>和<code>value</code>属性的对象。但是，这个对象的值是<code>null</code>，标签的值是<code>"select an item..."</code>，如下所示:</p>
<pre class="language-javascript hljs">{label: "select an item...", value: null } // the placeholder prop
</pre>
<p>我们可以通过传递一个自定义的<code>placeholder</code>对象使我们的应用程序更具交互性，就像这样:</p>
<pre class="language-javascript hljs">&lt;View style={styles.container}&gt;
  &lt;Text&gt;Hello World!&lt;/Text&gt;
  &lt;RNPickerSelect
      placeholder={{ label: "Select you favourite language", value: null }}
      onValueChange={(value) =&gt; console.log(value)}
      items={[
          { label: "JavaScript", value: "JavaScript" },
          { label: "TypeScript", value: "TypeScript" },
          { label: "Python", value: "Python" },
          { label: "Java", value: "Java" },
          { label: "C++", value: "C++" },
          { label: "C", value: "C" },
      ]}
  /&gt;
&lt;/View&gt;
</pre>
<p>这向我们的用户显示了更恰当的信息。</p>
<p><img data-attachment-id="91796" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/use-placeholder-language-better-ux/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png" data-orig-size="730,485" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="use-placeholder-language-better-ux" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux-300x199.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png" decoding="async" class="aligncenter size-full wp-image-91796 jetpack-lazy-image" src="../Images/da5e9bf03141b4ff82b18568dd818bf1.png" alt="Using the placeholder prop gives us a chance to provide a better UX" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux-300x199.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91796" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/use-placeholder-language-better-ux/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png" data-orig-size="730,485" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="use-placeholder-language-better-ux" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux-300x199.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91796" src="../Images/da5e9bf03141b4ff82b18568dd818bf1.png" alt="Using the placeholder prop gives us a chance to provide a better UX" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux-300x199.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/use-placeholder-language-better-ux.png"/></noscript>
<p>您也可以完全禁用占位符。如果您想这样做，只需传递一个空对象:</p>
<pre class="language-javascript hljs">placeholder={{}} // disables the placeholder message
</pre>
<h3><code>useNativeAndroidPickerStyle</code>道具</h3>
<p>这是一个专门针对 Android 设备的 Android 专用道具。它需要一个<code>boolean</code>值，就像我们之前讨论的那样。</p>
<p>默认情况下，<code>react-native-picker-select</code>模拟原生 Android <code>select</code>。为了防止这种情况，我们可以通过<code>false</code>，强制呈现的<code>select</code>组件使用非样式化的<code>TextInput</code>，使其在默认情况下表现得更像其对应的<code>iOS</code>。</p>
<p>考虑下面的代码和图像:</p>
<pre class="language-javascript hljs">&lt;View style={styles.container}&gt;
  &lt;Text&gt;Hello World!&lt;/Text&gt;
  &lt;RNPickerSelect
      onValueChange={(value) =&gt; console.log(value)}
      useNativeAndroidPickerStyle={false}
      placeholder={{ label: "Select your favourite language", value: null }}
      items={[
          { label: "JavaScript", value: "JavaScript" },
          { label: "TypeScript", value: "TypeScript" },
          { label: "Python", value: "Python" },
          { label: "Java", value: "Java" },
          { label: "C++", value: "C++" },
          { label: "C", value: "C" },
      ]}
  /&gt;
&lt;/View&gt;
</pre>
<p><img data-attachment-id="91798" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/react-native-picker-select-with-usenativeandroidpickerstyle-false/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png" data-orig-size="730,481" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-picker-select-with-usenativeandroidpickerstyle-false" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png" decoding="async" class="aligncenter size-full wp-image-91798 jetpack-lazy-image" src="../Images/c3942c141ee5968561532f0d6a44f552.png" alt="Using react-native-picker-select with the useNativeAndroidPickerStyle prop set to false" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false-300x198.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="91798" data-permalink="https://blog.logrocket.com/how-to-use-react-native-picker-select/react-native-picker-select-with-usenativeandroidpickerstyle-false/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png" data-orig-size="730,481" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-picker-select-with-usenativeandroidpickerstyle-false" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-91798" src="../Images/c3942c141ee5968561532f0d6a44f552.png" alt="Using react-native-picker-select with the useNativeAndroidPickerStyle prop set to false" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false-300x198.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-native-picker-select-with-usenativeandroidpickerstyle-false.png"/></noscript>
<p>你可以在这里获得所有道具<a href="https://www.npmjs.com/package/react-native-picker-select#props" target="_blank" rel="noopener">的更多细节。</a></p>
<h2>使用<code>react-native-picker-select</code>进行造型</h2>
<p><code>react-native-picker-select</code>具有各种各样的属性，可以作为设计的目标。所有这些都必须嵌套在<code>style</code> prop 下。其中一些属性是特定于平台的。</p>
<p>您可以通过分别定位<code>inputIOS</code>和<code>inputAndroid</code>属性来为 iOS 和 Android 设备设计<code>select</code>组件的样式。</p>
<p>考虑代码:</p>
<pre class="language-javascript hljs">const customPickerStyles = StyleSheet.create({
  inputIOS: {
    fontSize: 14,
    paddingVertical: 10,
    paddingHorizontal: 12,
    borderWidth: 1,
    borderColor: 'green',
    borderRadius: 8,
    color: 'black',
    paddingRight: 30, // to ensure the text is never behind the icon
  },
  inputAndroid: {
    fontSize: 14,
    paddingHorizontal: 10,
    paddingVertical: 8,
    borderWidth: 1,
    borderColor: 'blue',
    borderRadius: 8,
    color: 'black',
    paddingRight: 30, // to ensure the text is never behind the icon
  },
});
</pre>
<p>这是可行的，但是因为默认情况下<code>iOS select</code>组件包装了非样式化的<code>TextInput</code>，所以它提供了比 Android <code>select</code>组件更多的样式对象。</p>
<p>Android 平台默认不提供<code>inputAndroidContainer</code>、<code>inputAndroid</code>和<code>placeholder</code>等样式对象。然而，您可以通过将<code>false</code>传递给<code>useNativeAndroidPickerStyle</code>来启用它们。</p>
<p>您可以在<code>react-native-picker-select</code>文档中获得<a href="https://www.npmjs.com/package/react-native-picker-select#styling" target="_blank" rel="noopener">更多关于样式</a>的细节，并查看更多<a href="https://github.com/lawnstarter/react-native-picker-select#styling" target="_blank" rel="noopener">样式实现。</a></p>
<h2>最后的想法</h2>
<p><code>react-naive-picker-select</code>是一个非常强大且易于使用的 React 本地组件。<br/>虽然它不是一个成熟的表单处理组件，但是它做得很好。它可以使在 React 本地应用程序中实现<code>select</code>字段成为一项简单而有趣的任务。</p>
<p>如果你需要更多关于这个令人敬畏的组件的信息，请访问他们的<a href="https://www.npmjs.com/package/react-native-picker-select" target="_blank" rel="noopener">文档</a>。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>