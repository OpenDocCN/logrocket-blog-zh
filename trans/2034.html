<html>
<head>
<title>A deep dive into React Native FlatList - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Native FlatList - LogRocket 博客的深度探讨</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/deep-dive-react-native-flatlist/#0001-01-01">https://blog.logrocket.com/deep-dive-react-native-flatlist/#0001-01-01</a></blockquote><div><article class="article-post">
<p>考虑这样一种情况，您想要显示来自 API 的项目列表。例如，Coffee API 的响应如下所示:</p>
<p><img data-attachment-id="62548" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/coffee-api-list-response/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png" data-orig-size="499,434" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API list response" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response-300x261.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png" decoding="async" class="size-full wp-image-62548 aligncenter jetpack-lazy-image" src="../Images/f06bcfaf9a8490a27a87de763f90926b.png" alt="Coffee API List Response" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png 499w, https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response-300x261.png 300w" data-lazy-sizes="(max-width: 499px) 100vw, 499px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62548" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/coffee-api-list-response/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png" data-orig-size="499,434" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API list response" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response-300x261.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png" decoding="async" loading="lazy" class="size-full wp-image-62548 aligncenter" src="../Images/f06bcfaf9a8490a27a87de763f90926b.png" alt="Coffee API List Response" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png 499w, https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response-300x261.png 300w" sizes="(max-width: 499px) 100vw, 499px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-list-response.png"/></noscript>
<p>向客户端显示的一种可能方式是对这个数组使用<code>map</code>方法，如下所示:</p>
<pre>const data = getDataFromAPI(); 
return (
  &lt;View style={styles.container}&gt;
    {data &amp;&amp; (
      &lt;View&gt;
        &lt;Text&gt; Your data has loaded! Here is the result:&lt;/Text&gt;
        {data.map((item) =&gt; (
          &lt;Text key={item.id}&gt; {item.name}&lt;/Text&gt;
        ))}
      &lt;/View&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p>这里，我们使用条件呈现来检查数据是否已经加载。如果为真，我们将通知用户并在屏幕上显示列表。</p>
<p>这将是输出:</p>
<p><img data-attachment-id="62546" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/coffee-api-data-loaded-list-not-visible/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png" data-orig-size="332,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API data loaded but list is not visible" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible-300x259.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png" decoding="async" class="size-full wp-image-62546 aligncenter jetpack-lazy-image" src="../Images/071f353fce170db406c100cb9afb8a8a.png" alt="Coffee API Data Loaded but List is Not Visible" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png 332w, https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible-300x259.png 300w" data-lazy-sizes="(max-width: 332px) 100vw, 332px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62546" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/coffee-api-data-loaded-list-not-visible/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png" data-orig-size="332,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API data loaded but list is not visible" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible-300x259.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png" decoding="async" loading="lazy" class="size-full wp-image-62546 aligncenter" src="../Images/071f353fce170db406c100cb9afb8a8a.png" alt="Coffee API Data Loaded but List is Not Visible" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png 332w, https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible-300x259.png 300w" sizes="(max-width: 332px) 100vw, 332px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/coffee-api-data-loaded-list-not-visible.png"/></noscript>
<p>代码应该有效。那么为什么我们的列表不可见呢？</p>
<p>这就是<code><a href="https://reactnative.dev/docs/flatlist">FlatList</a></code>缓解这个问题的地方。这是一个 React 原生组件，允许您使用最少的代码轻松呈现列表。</p>
<p>以下是我们将要介绍的内容:</p>

<h2 id="flatlist-syntax"><code>FlatList</code>语法</h2>
<p><code>FlatList</code>使用以下语法:</p>
<pre>import { FlatList } from "react-native";
&lt;FlatList
  data={
    //the array to render
  }
  keyExtractor={
    // Extract keys for each item in the array
  }
  renderItem={
    //each item from the array will be rendered here
  }
/&gt;;
</pre>
<ul>
<li>在<code>data</code>属性中，您将输入您想要显示的数组。这可以是来自 API 的 JSON 数据</li>
<li><code>keyExtractor</code>道具将为数组<br/><em/>中的每一项检索一个唯一的键，如果你的数组包含一个<code>key</code>或<code>id</code>字段，你不需要包含这个道具。默认情况下，<code>FlatList</code>会寻找<code>key</code>或<code>id</code>属性。</li>
<li>将告诉 React Native 如何呈现列表中的项目</li>
</ul>
<h2 id="sample-usage">示例用法</h2>
<p>现在我们已经讨论了语法，让我们用它来呈现我们的列表:</p>
<pre>//the data array contains our array of items. 
const data = [{id:1, title:"Black", description:""},... ]; 
const Item = ({ title, description }) =&gt; (
  &lt;View&gt;
    &lt;Text style={styles.title}&gt;{title} &lt;/Text&gt;
    &lt;Text&gt;{description} &lt;/Text&gt;
  &lt;/View&gt;
);

const renderItem = ({ item }) =&gt; (
  &lt;Item title={item.title} description={item.description} /&gt;
);
return (
  &lt;View style={styles.container}&gt;
    {data &amp;&amp; (
      &lt;FlatList
        data={data}
        renderItem={renderItem}
        keyExtractor={(item) =&gt; item.id}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p>让我们一点一点地解构这段代码:</p>
<ul>
<li><code>Item</code>组件将接受两个道具:<code>title</code>和<code>description</code>。该组件会将它们显示在用户界面上</li>
<li><code>renderItem</code>函数将为数组中的每一项呈现<code>Item</code>组件。因此，这将显示每个对象的<code>title</code>和<code>description</code>字段</li>
<li>此外，<code>keyExtractor</code>属性告诉 React Native 应该使用<code>id</code>字段作为键</li>
<li>最后，我们使用条件呈现来呈现带有<code>FlatList</code> React 本地元素的数据</li>
</ul>
<p><img data-attachment-id="62568" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/sample-flatlist-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png" data-orig-size="317,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample FlatList with Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api-231x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png" decoding="async" class="size-full wp-image-62568 aligncenter jetpack-lazy-image" src="../Images/4e821481dd5eef082968e442f27ca08f.png" alt="Sample FlatList with Coffee API" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png 317w, https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api-231x300.png 231w" data-lazy-sizes="(max-width: 317px) 100vw, 317px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62568" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/sample-flatlist-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png" data-orig-size="317,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample FlatList with Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api-231x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png" decoding="async" loading="lazy" class="size-full wp-image-62568 aligncenter" src="../Images/4e821481dd5eef082968e442f27ca08f.png" alt="Sample FlatList with Coffee API" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png 317w, https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api-231x300.png 231w" sizes="(max-width: 317px) 100vw, 317px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-flatlist-coffee-api.png"/></noscript>

<p>在上面的代码示例中，注意我们使用了一个名为<code>keyExtractor</code>的 FlatList 属性。该属性对于在指定索引处提取给定项目的标识符非常有用。</p>
<p>默认情况下，<code>keyExtractor</code>使用<code>item.key</code>或<code>item.id</code>键作为数组中的标识符。</p>
<p>这里有几个例子:</p>
<pre>const shoppingList = [
  { id: 1, item: "Eggs" },
  { id: 2, item: "Milk" },
  { id: 3, item: "Bread" },
];
//here, the identifier for 'shoppingList' is 'id'. By default, keyExtractor uses 'key' or 'id' properties, therefore including the keyExtractor prop is not necessary
return &lt;FlatList data={shoppingList} /&gt;;

const namesList = [
  { cardNumber: "1A1", name: "Hussain" },
  { cardNumber: "1A2", name: "Sabrina" },
];
//here, we need to include the keyExtractor prop. Otherwise, our code will throw an error.
return &lt;FlatList data={namesList} keyExtractor={(item) =&gt; item.cardNumber} /&gt;;
</pre>
<h3 id="data-prop"><code>data</code>道具</h3>
<p>FlatList 的<code>data</code>属性是一个必需的属性，它接受我们想要在屏幕上显示的一组项目。</p>
<p>下面是一个简短的代码示例，详细展示了它的用法:</p>
<pre>const namesList = [{cardNumber: "1A1", name:"Jules"}, {cardNumber: "1A2", name: "Rue"},{cardNumber:"1A3", name:"Fezco"}];
//our data can be a simple array:
return (&lt;FlatList data={namesList} keyExtractor={(item)=&gt; item.cardNumber}/&gt;)
//Alternatively, we can fetch data from an API and render it like so:

const [applesList, setAppleList] = useState(null)
setAppleList(fetchFromAPI()); //fetch data from an API and store it into the 'applesList' Hook
return (&lt;FlatList data={applesList} keyExtractor={(item)=&gt; item.key}/&gt;)
</pre>
<h3 id="renderitem-prop"><code>renderItem</code>道具</h3>
<p><code>renderItem</code>是一个回调函数，负责设计我们的列表视图。这允许我们使用 CSS 代码来增强我们的平面列表的外观。</p>
<p>这里有一个<code>renderItem</code>的例子:</p>
<pre>const data = [
  { id: 1, title: "First item" },
  { id: 2, title: "Second item" },
];
const renderItem = ({ item }) =&gt; {
  //the app will represent each list item via a Text component
  return &lt;Text style={styles.item}&gt; {item.title}&lt;/Text&gt;;
};

&lt;FlatList
  data={data} //pass in our data array
  renderItem={renderItem} //tell React to use our renderItem function that we defined earlier
/&gt;;
//use CSS to decorate our list
const styles = StyleSheet.create({
  item: {
    backgroundColor: "blue",
    color: "white",
    padding: 2,
    margin: 2,
  },
});
</pre>
<p><img data-attachment-id="95005" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-renderitem-prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png" data-orig-size="324,227" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Native FlatList renderItem prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png" decoding="async" class="size-full wp-image-95005 aligncenter jetpack-lazy-image" src="../Images/93984faae68a7a18d7635af7a4a6d18f.png" alt="React Native FlatList renderItem Prop" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png 324w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop-300x210.png 300w" data-lazy-sizes="(max-width: 324px) 100vw, 324px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="95005" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-renderitem-prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png" data-orig-size="324,227" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Native FlatList renderItem prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png" decoding="async" loading="lazy" class="size-full wp-image-95005 aligncenter" src="../Images/93984faae68a7a18d7635af7a4a6d18f.png" alt="React Native FlatList renderItem Prop" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png 324w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop-300x210.png 300w" sizes="(max-width: 324px) 100vw, 324px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-renderitem-prop.png"/></noscript>
<h2 id="displaying-data-api">显示来自 API 的数据</h2>
<p>在现实世界中，React 本地开发人员可能不得不处理将 API 数据呈现到列表中的问题。</p>
<p>在下面的代码中，我们从<a href="https://sampleapis.com/api-list/coffee">Coffee API</a>获取数据，并将其插入到我们的 FlatList 组件中:</p>
<pre>export default function App() {
  const [data, setData] = useState(null);

  const getData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
  };
  //on first mount, fetch data.
  useEffect(() =&gt; {
    getData();
  }, []);

  const Item = ({ title, description, index }) =&gt; (
    &lt;View&gt;
      &lt;Text style={styles.title}&gt;
        {index}. {title}
      &lt;/Text&gt;
      &lt;Text&gt; {description} &lt;/Text&gt;
    &lt;/View&gt;
  );

  const renderItem = ({ item, index }) =&gt; (
    &lt;Item description={item.description} title={item.title} index={index} /&gt;
  );

  return (
    &lt;View style={styles.container}&gt;
      {data &amp;&amp; (
        &lt;FlatList
          data={data}
          renderItem={renderItem}
        /&gt;
      )}
    &lt;/View&gt;
  );
}
</pre>
<p>从这段代码中可以得出一些推论:</p>
<ul>
<li>当第一次呈现<code>App</code>组件时，React 调用<code>getData</code>方法。这将向 API 发出一个<code>GET</code>请求</li>
<li>在<code>renderItem</code>函数中，我们也使用了<code>index</code>参数。这是对应于数组中当前项的索引</li>
<li>注意，我们没有使用<code>keyExtractor</code>道具。这是因为一个<code>id</code>字段已经存在，所以<code>FlatList</code>将使用它作为键</li>
</ul>
<p><img data-attachment-id="62554" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-displaying-data-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif" data-orig-size="306,509" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList displaying data from an API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api-180x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif" decoding="async" class="size-full wp-image-62554 aligncenter jetpack-lazy-image" src="../Images/a7236277a6029ef5287520f3aca2c746.png" alt="RN FlatList Displaying Data from an API" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62554" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-displaying-data-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif" data-orig-size="306,509" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList displaying data from an API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api-180x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif" decoding="async" loading="lazy" class="size-full wp-image-62554 aligncenter" src="../Images/a7236277a6029ef5287520f3aca2c746.png" alt="RN FlatList Displaying Data from an API" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-displaying-data-api.gif"/></noscript>
<h2 id="flatlist-customization"><code>FlatList</code>定制</h2>
<h3>标题组件</h3>
<p>FlatList 也支持标题组件。如果您希望在联系人清单的顶部显示搜索栏，这将非常方便。</p>
<p>道具可以帮你做到这一点:</p>
<pre>import { Divider } from "react-native-elements";

const header = () =&gt; {
  return (
    &lt;View&gt;
      &lt;Text style={styles.title}&gt; Coffee list&lt;/Text&gt;
      &lt;Divider orientation="vertical" /&gt;
    &lt;/View&gt;
  );
};

return (
  &lt;View style={styles.container}&gt;
    {data &amp;&amp; (
      &lt;FlatList
        ListHeaderComponent={header}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p>在上面的代码块中，我们首先创建了一个<code>header</code>函数，然后将它传递给我们的<code>ListHeaderComponent</code> prop。这将在<code>FlatList</code>组件的顶部输出一个简单的<code>Text</code>和<code>Divider</code>组件。</p>
<p><img data-attachment-id="62552" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/flatlist-header-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png" data-orig-size="320,258" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList header component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component-300x242.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png" decoding="async" class="size-full wp-image-62552 aligncenter jetpack-lazy-image" src="../Images/394a5b8f8bc565b443d67c1ea87924ad.png" alt="FlatList Header Component" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png 320w, https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component-300x242.png 300w" data-lazy-sizes="(max-width: 320px) 100vw, 320px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62552" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/flatlist-header-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png" data-orig-size="320,258" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList header component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component-300x242.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png" decoding="async" loading="lazy" class="size-full wp-image-62552 aligncenter" src="../Images/394a5b8f8bc565b443d67c1ea87924ad.png" alt="FlatList Header Component" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png 320w, https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component-300x242.png 300w" sizes="(max-width: 320px) 100vw, 320px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-header-component.png"/></noscript>
<h3>页脚组件</h3>
<p>考虑这样一种情况，用户已经向下滚动了一整圈，并且想要返回向上滚动。在这里，显示一个可以让客户端自动返回的按钮是明智的。在这种情况下，您可以为列表追加一个页脚组件。这将表明列表已经结束。</p>
<p>你可以通过<code>ListFooterComponent</code>道具这样做:</p>
<pre>//This will be our footer component
const endComponent = () =&gt; {
  return (
    &lt;View&gt;
      &lt;Divider orientation="vertical" /&gt;
      &lt;Text style={styles.text}&gt; List ended&lt;/Text&gt;
    &lt;/View&gt;
  );
};

return (
  &lt;View style={styles.container}&gt;
    {data &amp;&amp; (
      &lt;FlatList
        ListFooterComponent={endComponent}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p><img data-attachment-id="62550" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/flatlist-footer-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif" data-orig-size="272,465" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList footer component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component-175x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif" decoding="async" class="size-full wp-image-62550 aligncenter jetpack-lazy-image" src="../Images/7f72b34cbb4f4240aca60415693e9376.png" alt="FlatList Footer Component" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62550" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/flatlist-footer-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif" data-orig-size="272,465" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList footer component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component-175x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif" decoding="async" loading="lazy" class="size-full wp-image-62550 aligncenter" src="../Images/7f72b34cbb4f4240aca60415693e9376.png" alt="FlatList Footer Component" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flatlist-footer-component.gif"/></noscript>
<h3>分离器</h3>
<p>分隔符组件帮助用户区分列表中的每个元素。这有助于更好的用户体验和界面。</p>
<p>要做到这一点，像这样使用<code>ItemSeparatorComponent</code>道具:</p>
<pre>const separator = () =&gt; {
  return &lt;Divider orientation="vertical" /&gt;;
};

return (
  &lt;View style={styles.container}&gt;
    {data &amp;&amp; (
      &lt;FlatList
        ItemSeparatorComponent={separator}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p><img data-attachment-id="62560" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-separators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png" data-orig-size="377,388" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList separators" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators-291x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png" decoding="async" class="size-full wp-image-62560 aligncenter jetpack-lazy-image" src="../Images/bac5b2f56d2df45e2d5485febfd39f78.png" alt="RN FlatList Separators" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png 377w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators-291x300.png 291w" data-lazy-sizes="(max-width: 377px) 100vw, 377px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62560" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-separators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png" data-orig-size="377,388" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList separators" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators-291x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png" decoding="async" loading="lazy" class="size-full wp-image-62560 aligncenter" src="../Images/bac5b2f56d2df45e2d5485febfd39f78.png" alt="RN FlatList Separators" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png 377w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators-291x300.png 291w" sizes="(max-width: 377px) 100vw, 377px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-separators.png"/></noscript>
<h3>处理空列表</h3>
<p>假设你在 React Native 里建了一个笔记 app。如果用户没有记录，显示“没有找到笔记”消息是合适的。</p>
<p>为此，<code>ListEmptyComponent</code>道具很有用:</p>
<pre>const data = []; //empty array
const handleEmpty = () =&gt; {
  return &lt;Text style={styles.title}&gt; No data present!&lt;/Text&gt;;
};
return (
  &lt;View style={styles.container}&gt;
    {!data &amp;&amp; &lt;Text&gt; Loading&lt;/Text&gt;}
    {data &amp;&amp; (
      &lt;FlatList
        ListEmptyComponent={handleEmpty}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p><img data-attachment-id="62556" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-empty-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png" data-orig-size="329,289" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList empty list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list-300x264.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png" decoding="async" class="size-full wp-image-62556 aligncenter jetpack-lazy-image" src="../Images/e1e68f513fe3a9e9c347d2876d1f763a.png" alt="RN FlatList Empty List" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png 329w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list-300x264.png 300w" data-lazy-sizes="(max-width: 329px) 100vw, 329px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62556" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-empty-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png" data-orig-size="329,289" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList empty list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list-300x264.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png" decoding="async" loading="lazy" class="size-full wp-image-62556 aligncenter" src="../Images/e1e68f513fe3a9e9c347d2876d1f763a.png" alt="RN FlatList Empty List" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png 329w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list-300x264.png 300w" sizes="(max-width: 329px) 100vw, 329px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-empty-list.png"/></noscript>
<h2 id="flatlist-navigation-methods"><code>FlatList</code>导航方式</h2>
<p><code>FlatList</code>还包括一些滚动相关操作的实用功能。</p>
<h3>滚动到结尾</h3>
<p>假设您有一个包含数百个条目的列表。在这里，最好显示一个按钮，让用户一直往下走。这将带来更好的用户体验，因为用户不必手动滚动到底部，从而节省时间。</p>
<p>要实现这一点，您可以像这样使用<code>scrollToEnd</code>方法:</p>
<pre>const list = useRef(null);

const press = () =&gt; {
  list.current.scrollToEnd({ animated: true });
};
const header = () =&gt; {
  return &lt;Button onPress={() =&gt; press()} title="Go to end" /&gt;;
};

return (
  &lt;View style={styles.container}&gt;
    {!data &amp;&amp; &lt;Text&gt; Loading&lt;/Text&gt;}
    {data &amp;&amp; (
      &lt;FlatList
        ref={list}
        ListHeaderComponent={header}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p>在这段代码中，我们创建了一个<code>useRef</code>钩子，它将允许我们访问<code>FlatList</code>的实用函数。当用户点击<code>Button</code>元素时，应用程序将执行<code>scrollToEnd</code>方法。</p>
<p><img data-attachment-id="62566" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-scrolltoend-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif" data-orig-size="281,562" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList scroll to end button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif" decoding="async" class="size-full wp-image-62566 aligncenter jetpack-lazy-image" src="../Images/d8c0c7cda64ea24050abacf730907545.png" alt="FlatList Scroll to End Button" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62566" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-scrolltoend-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif" data-orig-size="281,562" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="FlatList scroll to end button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif" decoding="async" loading="lazy" class="size-full wp-image-62566 aligncenter" src="../Images/d8c0c7cda64ea24050abacf730907545.png" alt="FlatList Scroll to End Button" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-scrolltoend-button.gif"/></noscript>
<h3>导航到特定的索引项</h3>
<p>我们甚至可以通过像这样调用<code>scrollToIndex</code>方法来滚动到特定的项目:</p>
<pre>const list = useRef(null);

const press = () =&gt; {
  //scroll to the 12th item in the index.
  list.current.scrollToIndex({ animated: true, index: 12 });
};

const header = () =&gt; {
  return &lt;Button onPress={() =&gt; press()} title="Go to 12th index" /&gt;;
};

return (
  &lt;View style={styles.container}&gt;
    {!data &amp;&amp; &lt;Text&gt; Loading&lt;/Text&gt;}
    {data &amp;&amp; (
      &lt;FlatList
        ref={list}
        ListHeaderComponent={header}
        data={data}
        renderItem={renderItem}
      /&gt;
    )}
  &lt;/View&gt;
);
</pre>
<p>在这个代码片段中，我们告诉 React，如果用户单击按钮，那么它应该将用户重定向到数组中的第十二个项目。</p>
<p><img data-attachment-id="62564" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-navigate-specific-index/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif" data-orig-size="303,562" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Navigating to a specific index" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index-162x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif" decoding="async" class="size-full wp-image-62564 aligncenter jetpack-lazy-image" src="../Images/c6b6a5e321b56d87fe8c851d54469bb1.png" alt="Navigating to a Specific Index" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62564" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-navigate-specific-index/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif" data-orig-size="303,562" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Navigating to a specific index" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index-162x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif" decoding="async" loading="lazy" class="size-full wp-image-62564 aligncenter" src="../Images/c6b6a5e321b56d87fe8c851d54469bb1.png" alt="Navigating to a Specific Index" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-navigate-specific-index.gif"/></noscript>
<h2 id="best-practices">最佳实践</h2>
<h3>避免匿名函数</h3>
<p>尽量避免在你的<code>FlatList</code>中使用匿名函数。React 本地团队建议这样做，以便函数不会在每次显示列表时重新创建自己。这可以节省内存和 CPU 资源:</p>
<pre>//correct way: no anonymous functions
const renderItem = ({ item, index }) =&gt; (
  &lt;Text&gt;
    {index}. {item.title}
  &lt;/Text&gt;
);
{
  data &amp;&amp; (
    &lt;FlatList
      data={data}
      keyExtractor={(item) =&gt; item.id}
      renderItem={renderItem}
    /&gt;
  );
}
//the wrong way. Steer clear from this:
{
  data &amp;&amp; (
    &lt;FlatList
      data={data}
      keyExtractor={(item) =&gt; item.id}
      renderItem={({ item, index }) =&gt; (
        &lt;Text&gt;
          {index}.{item.title}
        &lt;/Text&gt;
      )}
    /&gt;
  );
}
</pre>
<h3>较轻的部件</h3>
<p>组件越重，占用的内存就越多。在列表项上显示尽可能少的信息。作为奖励，这使你的用户界面看起来更干净。</p>
<p>即使您确实有需要显示大量文本的项目，您也可以使用<a href="https://blog.logrocket.com/navigating-react-native-apps-using-react-navigation/"> React 导航</a>。如果用户点击任何一个项目，React 会将他们引导到一个单独的页面，显示其余的详细信息。这里有一个例子:</p>
<p><img data-attachment-id="62562" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-too-much-text/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png" data-orig-size="301,618" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList with too much text" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text-146x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png" decoding="async" class="alignnone size-full wp-image-62562 aligncenter jetpack-lazy-image" src="../Images/51a119fa63de357ab65c8ca49dda4eea.png" alt="RN FlatList with Too Much Text" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png 301w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text-146x300.png 146w" data-lazy-sizes="(max-width: 301px) 100vw, 301px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62562" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-too-much-text/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png" data-orig-size="301,618" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList with too much text" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text-146x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-62562 aligncenter" src="../Images/51a119fa63de357ab65c8ca49dda4eea.png" alt="RN FlatList with Too Much Text" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png 301w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text-146x300.png 146w" sizes="(max-width: 301px) 100vw, 301px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-too-much-text.png"/></noscript><img data-attachment-id="62558" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-readmore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png" data-orig-size="293,627" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList with Read More" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore-140x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png" decoding="async" class="alignnone size-full wp-image-62558 aligncenter jetpack-lazy-image" src="../Images/d6c04179143eb8e7f3604231d0f43277.png" alt="RN FlatList with Read More" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png 293w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore-140x300.png 140w" data-lazy-sizes="(max-width: 293px) 100vw, 293px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="62558" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/rn-flatlist-readmore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png" data-orig-size="293,627" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="RN FlatList with Read More" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore-140x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-62558 aligncenter" src="../Images/d6c04179143eb8e7f3604231d0f43277.png" alt="RN FlatList with Read More" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png 293w, https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore-140x300.png 140w" sizes="(max-width: 293px) 100vw, 293px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/rn-flatlist-readmore.png"/></noscript>
<h2 id="common-problems-questions">常见问题和疑问</h2>
<h3>图像不会渲染</h3>
<p>要解决这个问题，请检查您是从本地存储还是从网络(一个 API)加载图像。React Native 的<code>Image</code>模块对于每个用例都有稍微不同的语法。</p>
<p>下面的代码示例呈现文件系统中的图像:</p>
<pre>const apiData = [
  {
    id: 1,
    title: "The Simpsons",
    year: 1989,
    image: require("./simpson.jpg"), 
  },
  {
    id: 2,
    title: "SpongeBob SquarePants ",
    year: 1999,
    image: require("./spongebob.jpg"),
  },
];

const renderItem = ({ item, index }) =&gt; (
  &lt;View&gt;
    &lt;Text style={styles.title}&gt;{item.title} &lt;/Text&gt;
    &lt;Text&gt; {item.year}&lt;/Text&gt;
    &lt;Image
      style={{ height: 300, width: 300}}
      source={item.image}
      resizeMode="contain"
    /&gt;
  &lt;/View&gt;
);
return (
  &lt;View style={styles.container}&gt;
    &lt;FlatList
      data={apiData}
      keyExtractor={(item) =&gt; item.id.toString()}
      renderItem={renderItem}
    /&gt;
  &lt;/View&gt;
);
</pre>
<p>注意，我们使用的是<code>require</code>方法。这告诉 React Native 从本地文件系统获取图像。</p>
<p><img data-attachment-id="63603" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/render-images-rn-flatlist/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png" data-orig-size="328,668" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Render images with RN FlatList" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist-147x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png" decoding="async" class="size-full wp-image-63603 aligncenter jetpack-lazy-image" src="../Images/d537d6bceb02a746e0d935d15c1f66bb.png" alt="Render Images with RN FlatList" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png 328w, https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist-147x300.png 147w" data-lazy-sizes="(max-width: 328px) 100vw, 328px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63603" data-permalink="https://blog.logrocket.com/deep-dive-react-native-flatlist/render-images-rn-flatlist/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png" data-orig-size="328,668" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Render images with RN FlatList" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist-147x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png" decoding="async" loading="lazy" class="size-full wp-image-63603 aligncenter" src="../Images/d537d6bceb02a746e0d935d15c1f66bb.png" alt="Render Images with RN FlatList" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png 328w, https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist-147x300.png 147w" sizes="(max-width: 328px) 100vw, 328px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/render-images-rn-flatlist.png"/></noscript>
<p>要显示来自网络的图像，使用<code>prop</code>的<code>uri</code>属性，如下所示:</p>
<pre>const apiData = [
  {
    id: 1,
    title: "The Simpsons",
    year: 1989,
    //url for image
    image:
      "https://m.media-amazon.com/images/M/MV5BYjFkMTlkYWU<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="16624c41507e586f26265b24507b5a427e7f59424f624f42447f4f7c407a4c414f6e587b5c7d4e7d536f4e7d506775517273474e406f5842576f59527d61594756">[email protected]</a>@._V1_SY1000_CR0,0,666,1000_AL_.jpg",
  },
  {
    id: 2,
    title: "SpongeBob SquarePants ",
    year: 1999,
    image:
      "https://nick.mtvnimages.com/uri/mgid:arc:content:nick.com:9cd2df6e-63c7-43da-8bde-8d77af9169c7?quality=0.7",
  },
];
const renderItem = ({ item, index }) =&gt; (
  &lt;View&gt;
    &lt;Text style={styles.title}&gt;{item.title} &lt;/Text&gt;
    &lt;Text&gt; {item.year}&lt;/Text&gt;
    &lt;Image
      style={{ height: 300, width: 300 }}
      source={{ uri: item.image }} //using uri property
      resizeMode="contain"
    /&gt;
  &lt;/View&gt;
);
return (
  &lt;View style={styles.container}&gt;
      &lt;FlatList
        data={apiData}
        keyExtractor={(item) =&gt; item.id.toString()}
        renderItem={renderItem}
      /&gt;
  &lt;/View&gt;
);
</pre>
<h3>颠倒列表</h3>
<p>要颠倒物品顺序，只需使用<code>inverted</code>道具:</p>
<pre>return (
  &lt;View style={styles.container}&gt;
    &lt;FlatList
      data={apiData}
      keyExtractor={(item) =&gt; item.id}
      renderItem={renderItem}
      inverted //reverses the list
    /&gt;
  &lt;/View&gt;
);
</pre>
<h3>当变量改变时，列表应该重新呈现</h3>
<p>要解决这个问题，请使用<code>extraData</code>道具。这将告诉<code>FlatList</code>每当选择的变量更新时进行渲染:</p>
<pre>var changedData = 0;
//other logic-related code..
 return (
    &lt;View style={styles.container}&gt;
        &lt;FlatList
          data={apiData}
          extraData={changedData}
          keyExtractor={(item) =&gt; item.id}
          renderItem={renderItem}
        /&gt;
    &lt;/View&gt;
  );
</pre>
<p>这将告诉 React Native 监听<code>changedData</code>变量的变化。当检测到变化时，React 将重新呈现列表。</p>
<h3>渲染大量项目时的性能问题</h3>
<p>您可以使用<code>maxToRenderPerBatch</code>道具。这指定了每批渲染的项目数，这是每次滚动显示的下一组项目:</p>
<pre>return (
  &lt;FlatList 
    data={data}
    extraData={changedData}
    keyExtractor={(item) =&gt; item.id}
    renderItem={renderItem}
    maxToRenderPerBatch={5} //render only 5 items per scroll.
)
</pre>
<h3>为什么不用一个<code>ScrollView</code>来代替？</h3>
<p><code>ScrollView</code>组件一次性呈现所有项目。这对于小列表来说可能没问题，但是对于包含数百个条目的列表来说就不合适了。</p>
<p>比如拿一个记笔记的 app 来说。如果您的应用程序渲染组件并一次查看所有组件，这将导致内存使用量增加。</p>
<p>模块以不同的方式处理事情。它将只在项目即将出现时呈现它们，并在它们不在视图中时删除它们。这导致了较低的内存使用率。</p>
<p>简而言之，<code>FlatList</code>使用延迟加载，这对于优化来说更好。</p>
<h2>结论</h2>
<p>在本文中，我们介绍了 React Native 的<code>FlatList</code>用法、有用的功能和定制选项。如果你想在你的<a href="https://blog.logrocket.com/top-react-native-boilerplates-for-2021/"> React 本地应用</a>中呈现列表，这是一个至关重要的组件。这是一个绝对轻而易举地使用，是坚如磐石。</p>
<p>感谢您的阅读！快乐编码。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>