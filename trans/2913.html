<html>
<head>
<title>Build an image generator with Flutter and Go - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用 Flutter 和 Go - LogRocket 博客构建一个图像生成器</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-image-generator-flutter-go/#0001-01-01">https://blog.logrocket.com/build-image-generator-flutter-go/#0001-01-01</a></blockquote><div><article class="article-post">
<h2 id="introduction">介绍</h2>
<p>Golang 是当今发展最快的编程语言之一。它由谷歌开发，据说和 C 一样快，但具有 Python 的简单性。</p>
<p>另一方面，Flutter 是一个 Dart 框架，允许您构建跨平台的移动应用程序。用 Flutter 编写的应用程序可以在 Android、iOS、web 上运行，最近也可以在桌面上运行。在本文中，我们将了解如何构建一个从 Golang 后端读取数据的 Flutter 应用程序。</p>
<h2 id="prerequisites">先决条件</h2>
<p>要做到这一点，您需要安装以下几样东西:</p>
<ul>
<li>flutter——这是我们选择的移动框架</li>
<li>golang——我们将使用 Go 作为后端</li>
<li>Heroku-我们将在 Heroku 上托管我们的应用程序，因此您需要创建一个帐户。确保也安装 Heroku CLI</li>
<li>关于 Flutter 和 Go 的知识——这不是一个初学者教程，所以你需要有一些关于如何在 Flutter 和 Golang 中编码的知识</li>
</ul>
<h2 id="why-flutter-and-golang">为什么旋舞 Golang？</h2>
<p>Flutter 允许我们使用相同的代码库构建运行在移动、web 和桌面上的跨平台应用程序。</p>
<p>现在，让我们来看看 Golang 如此受欢迎的一些原因，以及为什么您可能希望在您的下一个项目中使用它:</p>
<ul>
<li>这是一门容易学得很快的语言</li>
<li>Golang 对于构建微服务很有用</li>
<li>Golang 有一个活跃的开发者社区</li>
<li>Golang 编译成一个可以在任何环境下运行的二进制文件</li>
<li>因为 Go 是编译成机器代码的，所以它自然会胜过解释型语言或具有虚拟运行时的语言</li>
</ul>
<h2 id="building-the-backend">构建后端</h2>
<p>这个应用程序的后端非常简单。我们只有一个端点根据路径返回随机图像。为了生成随机图像，我们将使用一个名为<code>cameron</code>的库。</p>
<p>在您的项目根目录和一个<code>server.go</code>文件中创建一个后端文件夹，添加以下代码:</p>
<pre class="language-go hljs">package main

import (
   "bytes"
   "fmt"
   "image/png"
   "log"
   "net/http"
   "os"

   "github.com/aofei/cameron"
)

func main() {
   port := os.Getenv("PORT")
   if port == "" {
       port = "3000"
   }
   log.Println("Starting server on port", port)
   log.Fatalln(http.ListenAndServe(fmt.Sprintf(":%v", port), http.HandlerFunc(identicon)))
}

func identicon(rw http.ResponseWriter, req *http.Request) {
   buf := bytes.Buffer{}
   png.Encode(&amp;buf, cameron.Identicon([]byte(req.RequestURI), 540, 60))
   rw.Header().Set("Content-Type", "image/png")
   buf.WriteTo(rw)
}
</pre>
<p>我们从导入我们需要的包开始，包括<code>cameron</code>包。在我们的 main 方法中，我们从环境变量中获取应用程序端口，如果没有设置，我们将端口设置为<code>3000</code>。</p>
<p>然后，我们调用<code>http.ListenAndServe</code>函数，并传入一个处理程序，该处理程序在每次点击端点时调用<code>identicon</code>函数。<code>identicon</code>函数接收 HTTP 请求和响应，并使用<code>cameron</code>库从请求的路径生成一个随机图像。</p>
<p>现在，运行命令<code>go mod init go-flutter</code>来初始化当前目录中的 Go 模块。接下来，运行<code>go mod tidy</code>来安装我们的应用程序所依赖的所有包。最后，运行命令<code>go run server.go</code>来启动 Golang 服务器。</p>
<p><img data-attachment-id="106046" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/start-golang-server/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png" data-orig-size="730,62" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Start up the Golang server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server-300x25.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png" decoding="async" class="aligncenter size-full wp-image-106046 jetpack-lazy-image" src="../Images/b4c0e687222569693df7ae9c1e568a3d.png" alt="Start Up The Golang Server" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server-300x25.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106046" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/start-golang-server/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png" data-orig-size="730,62" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Start up the Golang server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server-300x25.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106046" src="../Images/b4c0e687222569693df7ae9c1e568a3d.png" alt="Start Up The Golang Server" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server-300x25.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/start-golang-server.png"/></noscript>
<p>导航至<code><a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a></code>查看应用程序。您应该会看到一个随机生成的图像。</p>
<p><img data-attachment-id="106048" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/random-image-generated/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png" data-orig-size="730,397" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Random image generated" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated-300x163.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png" decoding="async" class="aligncenter size-full wp-image-106048 jetpack-lazy-image" src="../Images/00cbff8ca11d241be93c73530b7a58a5.png" alt="Random Image Generated" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated-300x163.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106048" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/random-image-generated/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png" data-orig-size="730,397" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Random image generated" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated-300x163.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106048" src="../Images/00cbff8ca11d241be93c73530b7a58a5.png" alt="Random Image Generated" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated-300x163.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/random-image-generated.png"/></noscript>
<p>在我们将应用程序连接到后端之前，我们需要在线公开托管它。创建一个名为<code>Procfile</code>的文件，并添加以下内容:</p>
<p><img data-attachment-id="106050" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/create-procfile/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png" data-orig-size="666,256" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create Procfile" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png" decoding="async" class="aligncenter size-full wp-image-106050 jetpack-lazy-image" src="../Images/c2cbe4759a991a165966e0e002c70f15.png" alt="Create Procfile" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png 666w, https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile-300x115.png 300w" data-lazy-sizes="(max-width: 666px) 100vw, 666px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106050" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/create-procfile/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png" data-orig-size="666,256" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create Procfile" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106050" src="../Images/c2cbe4759a991a165966e0e002c70f15.png" alt="Create Procfile" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png 666w, https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile-300x115.png 300w" sizes="(max-width: 666px) 100vw, 666px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-procfile.png"/></noscript>
<p>现在将后端文件提交给 git，通过运行<code>heroku login</code>登录 Heroku，并运行命令<code>Heroku create &lt;app_name&gt;</code>创建一个新的应用程序。</p>
<p><img data-attachment-id="106052" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/create-new-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png" data-orig-size="730,131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app-300x54.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png" decoding="async" class="aligncenter size-full wp-image-106052 jetpack-lazy-image" src="../Images/b1d19390c2c7f0f6f57b87b85101eca0.png" alt="Create New App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app-300x54.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106052" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/create-new-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png" data-orig-size="730,131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app-300x54.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106052" src="../Images/b1d19390c2c7f0f6f57b87b85101eca0.png" alt="Create New App" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app-300x54.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/create-new-app.png"/></noscript>
<p>导航至 Heroku 仪表盘查看您的应用，并按照<strong>部署</strong>选项卡上的说明部署应用。</p>
<p><img data-attachment-id="106054" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/deploy-app-on-heroku-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Deploy app on Heroku dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard-300x159.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png" decoding="async" class="aligncenter size-full wp-image-106054 jetpack-lazy-image" src="../Images/5cf0e20c877a5fe8b7afb502b067ad9e.png" alt="Deploy App On Heroku Dashboard" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard-300x159.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106054" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/deploy-app-on-heroku-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Deploy app on Heroku dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard-300x159.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106054" src="../Images/5cf0e20c877a5fe8b7afb502b067ad9e.png" alt="Deploy App On Heroku Dashboard" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard-300x159.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/deploy-app-on-heroku-dashboard.png"/></noscript>
<p>点击<code>Open app</code>在浏览器中查看应用程序。</p>
<h2 id="building-the-flutter-app">构建 Flutter 应用</h2>
<p>好了，现在后端已经部署好了，让我们来构建 Flutter 应用程序。在您的项目根目录中，运行命令<code>flutter create &lt;app_name&gt;</code>来创建一个新的 Flutter 应用程序。用以下代码替换<code>main.dart</code>文件中的代码:</p>
<pre class="language-dart hljs">import 'package:flutter/material.dart';

void main() {
 runApp(const MyApp());
}

class MyApp extends StatelessWidget {
 const MyApp({Key? key}) : super(key: key);

 // This widget is the root of your application.
 @override
 Widget build(BuildContext context) {
   return MaterialApp(
     debugShowCheckedModeBanner: false,
     title: 'Flutter Demo',
     theme: ThemeData(
       primarySwatch: Colors.blue,
     ),
     home: const MyHomePage(title: 'Image Generator'),
   );
 }
}

class MyHomePage extends StatefulWidget {
 const MyHomePage({Key? key, required this.title}) : super(key: key);

 final String title;

 @override
 State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();
}

class _MyHomePageState extends State&lt;MyHomePage&gt; {
 final TextEditingController _formController = TextEditingController();
 String _text = "";

 void _changeSeed() {
   setState(() {
     _text = _formController.text;
   });
 }

 @override
 Widget build(BuildContext context) {
   return Scaffold(
     appBar: AppBar(
       title: Text(widget.title),
     ),
     body: SingleChildScrollView(
       child: Padding(
         padding: const EdgeInsets.all(8.0),
         child: Center(
           child: Column(
             mainAxisAlignment: MainAxisAlignment.center,
             children: &lt;Widget&gt;[
               const Padding(
                 padding: EdgeInsets.all(8.0),
                 child: Text(
                   'Enter a seed text',
                 ),
               ),
               TextFormField(
                 decoration: InputDecoration(
                     border: OutlineInputBorder(
                         borderRadius: BorderRadius.circular(10))),
                 controller: _formController,
               ),
               Container(
                 margin: const EdgeInsets.all(40.0),
                 width: 540,
                 height: 540,
                 decoration: BoxDecoration(
                     image: DecorationImage(
                         image: NetworkImage(
                             "https://&lt;your_app_name&gt;.herokuapp.com/" + _text))),
               )
             ],
           ),
         ),
       ),
     ),
     floatingActionButton: FloatingActionButton(
       onPressed: _changeSeed,
       tooltip: 'Refresh',
       child: const Icon(Icons.refresh),
     ), // This trailing comma makes auto-formatting nicer for build methods.
   );
 }
}
</pre>
<p>首先，我们调用<code>runApp</code>方法来启动 Flutter 应用程序，并传入<code>MyApp</code>小部件。在<code>HomePage</code>小部件中，我们创建了一个函数来改变我们从<code>input</code>小部件中获取的文本。然后，我们返回一个<code>Scaffold</code>小部件，其中包含我们在应用程序中使用的文本字段、图像容器和浮动操作按钮。</p>
<p>确保将<code><a href="https://.herokuapp.com" rel="nofollow">https://.herokuapp.com</a></code>替换为 Golang 后端的 URL。现在启动您的 Android 模拟器，运行命令<code>flutter run</code>在模拟器中构建并安装应用程序。</p>
<p><img data-attachment-id="106056" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/run-flutter-command-android-emulator/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png" data-orig-size="548,664" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Run Flutter command in Android Emulator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator-248x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png" decoding="async" class="aligncenter size-full wp-image-106056 jetpack-lazy-image" src="../Images/7cb2dd4b7dc3e8f50f2a84cc87b45230.png" alt="Run Flutter Command In Android Emulator" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png 548w, https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator-248x300.png 248w" data-lazy-sizes="(max-width: 548px) 100vw, 548px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="106056" data-permalink="https://blog.logrocket.com/build-image-generator-flutter-go/run-flutter-command-android-emulator/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png" data-orig-size="548,664" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Run Flutter command in Android Emulator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator-248x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-106056" src="../Images/7cb2dd4b7dc3e8f50f2a84cc87b45230.png" alt="Run Flutter Command In Android Emulator" srcset="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png 548w, https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator-248x300.png 248w" sizes="(max-width: 548px) 100vw, 548px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/04/run-flutter-command-android-emulator.png"/></noscript>
<p>在输入字段中输入文本，然后单击刷新按钮生成新图像。</p>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们看了如何构建一个连接到 Golang 后端的 Flutter 应用程序，同时讨论了我们应该使用 Golang 和 Flutter 的一些原因。</p>
<p>虽然 Golang 是一种相对较新的语言，但它已经流行了很多年，并迅速成为构建 web 后端的首选工具。Flutter 也是一个用于构建跨平台 web 应用程序的工具。将这两者结合在一起，你会得到一个强大的组合。</p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>