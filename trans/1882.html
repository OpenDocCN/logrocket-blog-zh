<html>
<head>
<title>Code testing and linting using AVA and XO - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>代码测试和林挺使用 AVA 和 XO - LogRocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/#0001-01-01">https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p>在过去的几年中，web 开发编码技术已经发生了变化，开发人员已经开始采用各种 JavaScript 框架，因为它们具有多种功能，而不是像 Java 和 PHP 这样的传统编程语言。下一个大问题是如何测试在这些新框架上编写的代码。</p>
<p>你知道哪个是最好的 JavaScript 测试框架吗？几乎不可能说某个特定的测试工具是最好的，但是 JEST、Mocha、Karma 和 AVA 等名字通常被认为是性能最好的。</p>
<p>大多数测试人员没有意识到 AVA 的力量。这篇文章将解释 AVA 的基础知识并帮助你理解它的不同特性，包括如何创建测试用例文件。这可以帮助您为您的特定测试用例选择正确的工具。</p>
<p>除了 AVA，我还会谈到林挺和 XO，一个新的林挺工具。这篇文章应该让您更好地了解什么是林挺，以及它在测试时是如何有益的。</p>
<h2>自动话频警报器(automatic voice alarm)ˌ视听教具(audiovisual aids)</h2>
<p><a href="https://github.com/avajs/ava"> AVA </a>是 Node.js 的开源测试运行器，它使代码测试变得简单方便，测试用例更加稳定、易读和有组织。它是由 Sindre Sorhus 和 Kevin mrtensson 在 2014 年开发的。</p>
<p>AVA 为测试用例提供了详细的错误输出，这个特性叫做“神奇断言”，它以一种简单而信息丰富的方式处理并显示错误。它还支持新的语言功能。它将完全控制权交给了测试人员，其简单的语法使其相对于同类的其他工具更受欢迎。</p>
<h2>AVA 的特色</h2>
<p>下面列出了 AVA 的一些最佳特征。</p>
<h3>并行测试运行</h3>
<p>默认情况下，AVA 并行执行测试用例，这比其他工具花费的时间要少。并行运行迫使测试人员确保所有的测试完全相互独立，这总是一个好的实践。</p>
<h3>唯一</h3>
<p>AVA 的另一个伟大的特性是你可以选择只运行你正在进行的一个测试。如果您有许多失败的测试用例，并且您想要一个接一个地修复它们，这是非常有用的。</p>
<h3>观看模式</h3>
<p>AVA 能够识别受影响的测试文件，并且只在那些特定的文件中重新运行测试。这是可能的，由于“手表模式”的功能，这是了不起的。如果你改变了一个测试用例文件，它将只重新运行那个文件。如果你改变了一个源文件，它将重新运行所有依赖于它的测试用例。</p>
<h3>插件支持</h3>
<p>AVA 包含了自己的插件，设计灵活，可配置用于不同的用例。</p>
<h3>过程隔离功能</h3>
<p>对于每个测试文件，AVA 启动一个新的 Node.js 进程，这意味着您可以安全地修改全局状态，而不会影响不相关的测试。它还可以一起运行多个测试文件，每个文件都有自己的进程。</p>
<h3>明显的支持</h3>
<p>Observable support 是一种数据类型，可用于对基于推的数据源进行建模，例如套接字、DOM 事件和计时器间隔等。如果您想发出一组流数据值，最好使用它。它可以由更高阶的组合构成，并且直到观察者订阅后才开始发送数据。</p>
<h3>编辑器插件</h3>
<p>AVA 有很多插件可以连接不同的文本编辑器，比如 Sublime、Atom 和 VS Code。</p>
<h2>AVA 的缺点</h2>
<p>和其他工具一样，AVA 也有一些缺点。</p>
<p>一个主要的缺点是 AVA 不支持浏览器测试，这限制了它的使用。幸运的是，AVA 开发团队正在努力解决这个问题。</p>
<p>AVA 也没有任何对 DOM 的内置支持。因为这是一个相对较新的工具，艾娃仍然有许多开放的问题。</p>
<p>社区仍在增长，但仍然很小，所以与其他测试框架相比，文档或教程更少。</p>
<h2>安装 AVA</h2>
<p>AVA 的安装过程很快，你只需要遵循一些简单的步骤。在开始之前，您必须安装 Node.js 以便安装 AVA。</p>
<p>然后，在命令提示符下输入以下代码:</p>
<pre>mkdir ava_folder
cd    ava_folder
npm init ava
</pre>
<p>这将创建一个名为<code>ava_folder</code>的文件夹。下一行代码<code>cd ava_folder</code>将移到该文件夹中，最后一个命令将安装 AVA。文件夹里会有一些新文件。</p>
<p>要验证安装，打开<code>package.json</code>文件，如果它包含下面的代码(版本除外)，那么一切都应该设置好了:</p>
<p><img data-attachment-id="55130" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/ava-installation-success/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" data-orig-size="271,183" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ava-installation-success" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" decoding="async" class="size-full wp-image-55130 aligncenter jetpack-lazy-image" src="../Images/9b64cac04a4eb6ea941d7d3e1fefb1c3.png" alt="Screenshot of code indicating successful installation of AVA" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55130" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/ava-installation-success/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" data-orig-size="271,183" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ava-installation-success" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png" decoding="async" loading="lazy" class="size-full wp-image-55130 aligncenter" src="../Images/9b64cac04a4eb6ea941d7d3e1fefb1c3.png" alt="Screenshot of code indicating successful installation of AVA" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/ava-installation-success.png"/></noscript>
<p>如果你更喜欢使用纱线，那么遵循下面的命令:</p>
<pre>yarn add ava --dev
</pre>
<p>您也可以使用以下命令手动安装 AVA:</p>
<pre>npm install --save-dev ava
</pre>
<h2>创建您的测试文件</h2>
<p>要创建测试文件，打开安装 AVA 的根目录，并创建一个名为<code>SampleTest.js</code>的文件。</p>
<p>出于测试目的，在文件中编写以下代码:</p>
<pre>const SampleTest= require('ava');

SampleTest('foo', t =&gt; {
                         t.pass();
                        }
           );
SampleTest('bar', async t =&gt; {
                              const bar = Promise.resolve('bar');
                              t.is(await bar, 'bar');
                             });
</pre>
<h2>运行测试文件</h2>
<p>一旦创建了测试文件，下一个问题就是如何执行它们。您可以使用以下命令来执行:</p>
<pre>npm SampleTest
</pre>
<p>如前所述，AVA 有一个智能手表模式。要在启用监视模式的情况下运行测试，请使用以下命令:</p>
<pre>npx ava --watch
</pre>
<h2>向测试文件传递参数</h2>
<p>AVA 提供了一个将命令行参数传递给测试文件的选项。</p>
<p>通过 npm 脚本调用 AVA 时，您需要两个<code>--</code>参数终止符:</p>
<pre>npm SampleTest -- -- --hello world
</pre>
<h2>最上乘的白兰地酒（特陈级）</h2>
<p>XO 是一个强大的林挺工具。如果你不熟悉林挺工具，不用担心，我会在这里解释它们。</p>
<p>林挺通过分析源代码来标记编程错误、bug、风格错误和可疑结构，从而帮助您改进代码。Linters 可以让你和你的代码更有效率，节省你的时间和金钱。</p>
<h2>XO 的特点</h2>
<p>XO 因其众多特性而成为棉绒中最受欢迎的选择之一。在编写 JavaScript 代码时，它可以避免和控制语法中的愚蠢错误。将 XO 添加到项目文件夹是一项简单的任务，可以通过执行一个单行命令来实现。</p>
<p>最好的特性之一是它用简单的命令<code>xo --fix</code>自动修复了许多问题。</p>
<p>XO 的另一个很棒的品质就是支持不同的插件。一些编辑器插件包括 Sublime Text、Atom、Vim、TextMate 2、VSCode、Emacs 和 WebStorm。XO 还支持 ESLint 插件，如<code>unicorn</code>、<code>import</code>、<code>ava</code>、<code>node</code>等等。</p>
<p>类型脚本文件(。ts，d.ts 和。tsx)由 XO 支持。假设您有许多要配置的文件——没有必要指定 lint 的文件路径，因为 XO lint 会全部配置。js 文件(通常被忽略的路径除外)。</p>
<p>XO 在数据库方面有强大的支持。它可以为数据库模式或自定义查询生成 Go 代码。它是一个命令行工具，通过使用元数据和 SQL 自省查询来识别模式中的类型和关系，并根据发现的关系应用一组标准的 Go 模板。</p>
<p>目前，它可以为不同的数据库(如 PostgreSQL、Oracle、MySQL、Microsoft SQL Server 和 SQLite3)生成表、存储过程、枚举和定制 SQL 查询的类型。</p>
<h2>安装 XO</h2>
<p>XO 需要 Node.js，建议先安装 Node.js 再安装 XO。</p>
<p>要通过控制台安装，请使用以下命令:</p>
<pre>npm install — global xo
</pre>
<p>您也可以在命令提示符下使用以下命令手动安装 XO:</p>
<pre>npm init xo
</pre>
<p>一旦它被安装在一个特定的目录中，找到 package.json 文件。如果文件包含与下图相同的代码(版本除外)，则安装成功:</p>
<p><img data-attachment-id="55134" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/xo-installation-success/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png" data-orig-size="482,230" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="XO-installation-success" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png" decoding="async" class="size-full wp-image-55134 aligncenter jetpack-lazy-image" src="../Images/71caaedd925e013fcfc5dfd0ea28498b.png" alt="Screenshot of code after successful installation of XO" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png 482w, https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success-300x143.png 300w" data-lazy-sizes="(max-width: 482px) 100vw, 482px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55134" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/xo-installation-success/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png" data-orig-size="482,230" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="XO-installation-success" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png" decoding="async" loading="lazy" class="size-full wp-image-55134 aligncenter" src="../Images/71caaedd925e013fcfc5dfd0ea28498b.png" alt="Screenshot of code after successful installation of XO" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png 482w, https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success-300x143.png 300w" sizes="(max-width: 482px) 100vw, 482px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/XO-installation-success.png"/></noscript>
<h2>使用 XO 进行代码测试</h2>
<p>在本节中，您将学习如何使用 XO 测试 Node.js 代码。出于演示目的，我们将为一个将两个数字相加的应用程序编写测试用例，并使用 Visual Studio 插件来运行测试。</p>
<p>首先，创建一个用于编写代码的文件夹。在下面的截图中，你可以看到我创建了一个名为<code>TESTSAMPLEXO</code>的文件夹。</p>
<p>在 Visual Studio 的终端中运行以下命令:</p>
<pre>Npm init -y
</pre>
<p>一旦上面的命令被执行，<code>package.json</code>文件应该看起来像这个截图:</p>
<p><img data-attachment-id="55135" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/packagejson-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png" data-orig-size="535,263" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot-300x147.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png" decoding="async" class="size-full wp-image-55135 aligncenter jetpack-lazy-image" src="../Images/67d9796cf2044a085a70d10ac207691d.png" alt="Screenshot of package.json installed correctly" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png 535w, https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot-300x147.png 300w" data-lazy-sizes="(max-width: 535px) 100vw, 535px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55135" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/packagejson-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png" data-orig-size="535,263" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot-300x147.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png" decoding="async" loading="lazy" class="size-full wp-image-55135 aligncenter" src="../Images/67d9796cf2044a085a70d10ac207691d.png" alt="Screenshot of package.json installed correctly" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png 535w, https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot-300x147.png 300w" sizes="(max-width: 535px) 100vw, 535px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/packagejson-screenshot.png"/></noscript>
<p>现在在前面步骤中创建的同一个文件夹中创建一个测试文件<code>sum.js</code>。应该是这样的:</p>
<p><img data-attachment-id="55136" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/sumjs-installed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png" data-orig-size="506,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sumjs-installed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed-300x112.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png" decoding="async" class="size-full wp-image-55136 aligncenter jetpack-lazy-image" src="../Images/3f350c0c65ab89ebc5cf7efec09614a9.png" alt="Screenshot of Sum.js file " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png 506w, https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed-300x112.png 300w" data-lazy-sizes="(max-width: 506px) 100vw, 506px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55136" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/sumjs-installed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png" data-orig-size="506,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sumjs-installed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed-300x112.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png" decoding="async" loading="lazy" class="size-full wp-image-55136 aligncenter" src="../Images/3f350c0c65ab89ebc5cf7efec09614a9.png" alt="Screenshot of Sum.js file " srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png 506w, https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed-300x112.png 300w" sizes="(max-width: 506px) 100vw, 506px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/sumjs-installed.png"/></noscript>
<p>下一步是在目录中添加 XO(<code>TESTSAMPLEXO</code><strong>)</strong>。为此，请执行以下命令:</p>
<pre>npm init xo
</pre>
<p>需要在同一个目录下再创建一个名为<code>sum.text.js</code>(在我的例子中)的文件。编写测试用例，如下图所示:</p>
<p><img data-attachment-id="55137" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/test-case-code-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png" data-orig-size="643,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="test-case-code-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot-300x88.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png" decoding="async" class="size-full wp-image-55137 aligncenter jetpack-lazy-image" src="../Images/fda4f8414bb638bc385794e9d19c2290.png" alt="Screenshot of test case code in which two numbers will be added together" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png 643w, https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot-300x88.png 300w" data-lazy-sizes="(max-width: 643px) 100vw, 643px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55137" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/test-case-code-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png" data-orig-size="643,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="test-case-code-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot-300x88.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png" decoding="async" loading="lazy" class="size-full wp-image-55137 aligncenter" src="../Images/fda4f8414bb638bc385794e9d19c2290.png" alt="Screenshot of test case code in which two numbers will be added together" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png 643w, https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot-300x88.png 300w" sizes="(max-width: 643px) 100vw, 643px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/test-case-code-screenshot.png"/></noscript>
<p>最后，是时候执行测试命令了。使用下面的语法来执行测试用例:</p>
<pre>npm test
</pre>
<p>如果在运行命令时出现错误，请按照显示的说明逐一清除它们。</p>
<p>每次清除错误后，必须在命令提示符或终端执行命令<code>npm test</code>，测试输出如下所示:</p>
<p><img data-attachment-id="55138" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/test-output-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png" data-orig-size="497,208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Test-output-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png" decoding="async" class="size-full wp-image-55138 aligncenter jetpack-lazy-image" src="../Images/39e40a4d929e4f245b996eec779957bf.png" alt="Screenshot of failed test" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png 497w, https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot-300x126.png 300w" data-lazy-sizes="(max-width: 497px) 100vw, 497px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="55138" data-permalink="https://blog.logrocket.com/code-testing-and-linting-using-ava-and-xo/attachment/test-output-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png" data-orig-size="497,208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Test-output-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png" decoding="async" loading="lazy" class="size-full wp-image-55138 aligncenter" src="../Images/39e40a4d929e4f245b996eec779957bf.png" alt="Screenshot of failed test" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png 497w, https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot-300x126.png 300w" sizes="(max-width: 497px) 100vw, 497px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/Test-output-screenshot.png"/></noscript>
<h2 id="conclusion">结论</h2>
<p>在本文中，您了解了 JavaScript 测试工具 AVA 和林挺工具 XO。现在您已经熟悉了这些工具的强大功能。</p>
<p>XO 是一个有用的工具，可以改进和精炼代码，并在错误变成大问题之前将其捕获。</p>
<p>如前所述，AVA 确实值得一试。它结合了 Jasmine 的易用性和磁带的简单性。它支持前端和后端 JavaScript 应用程序，并且可以让测试 JS 代码变得轻而易举。</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>