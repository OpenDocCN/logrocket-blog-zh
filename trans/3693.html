<html>
<head>
<title>How to add pagination to your Next.js app </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何将分页添加到Next.js应用程序中</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/add-pagination-next-js-app/#0001-01-01">https://blog.logrocket.com/add-pagination-next-js-app/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://blog.logrocket.com/next-js-13-new-app-directory/"> Next.js </a>是构建生产就绪型React应用程序的最简单、最流行的方法之一。近年来，Next.js经历了指数级增长，许多公司都采用它来构建自己的应用程序。在本文中，我们将学习如何在Next.js应用程序中添加分页。我们将讨论如何建立一个Next.js项目，使用<code>getStaticProps</code>方法从API端点获取数据，以及实现分页本身。</p>
<p><em>向前跳转:</em></p>

<h2 id="initiating-next-js-project">启动我们的Next.js项目</h2>
<p>首先，我们将使用命令<code>npx create-next-app next-pagination</code>创建一个<a href="https://blog.logrocket.com/next-js-13-new-app-directory/">新的Next.js </a>应用程序。然后，我们可以使用命令<code>cd next-pagination</code>进入项目目录，并运行<code>yarn dev or npm run dev</code>在开发服务器上启动项目。对于这个项目，我们将使用<a href="https://blog.logrocket.com/tag/css/">普通CSS </a>进行造型，因为它更注重功能。</p>
<h2 id="data-fetching-get-static-props">使用<code>getStaticProps</code>获取数据</h2>
<p>用于实现分页的数据将来自于<code><a href="https://jsonplaceholder.typicode.com/posts">{JSON} Placeholder API</a></code>。将使用<code>getStaticProps</code>函数提取数据。</p>
<p><code>getStaticProps</code>函数总是在服务器上运行，Next.js会在构建时使用<code>getStaticProps</code>返回的props预渲染页面。<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">获取API </a>将用于从前面提到的API端点获取数据:</p>
<pre class="language-javascript hljs">import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
import Pagination from "../src/components/Pagination";
import { useState, useEffect } from "react";
import { paginate } from "../src/helpers/paginate";

export default function Home({ data }) {
console.log(data)
  return (
   &lt;div className={styles.container}&gt;
     &lt;Head&gt;
       &lt;title&gt;Create Next App&lt;/title&gt;
       &lt;meta name="description" content="Generated by create next app" /&gt;
       &lt;link rel="icon" href="/favicon.ico" /&gt;
     &lt;/Head&gt;

     &lt;p&gt;NextJS X Pagination&lt;/p&gt;

export const getStaticProps = async () =&gt; {
 const res = await fetch("https://jsonplaceholder.typicode.com/todos");
 const data = await res.json();

 return {
   props: { data },
 };
};
</pre>
<p>从props返回的数据将在<code>home</code>组件中被析构，因此它可以被记录在控制台中。这将确认数据已被提取。因此，在控制台中，我们应该有一个包含一组<code>100</code>对象的post，正如JSON Typicode网站中指定的那样:</p>
<p><img data-attachment-id="145695" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-json/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png" data-orig-size="730,52" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination JSON" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json-300x21.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png" decoding="async" class="aligncenter size-full wp-image-145695 jetpack-lazy-image" src="../Images/e301c34534db3df948fbb4f6b11e7d2f.png" alt="Next.js Pagination JSON" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json-300x21.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145695" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-json/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png" data-orig-size="730,52" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination JSON" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json-300x21.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145695" src="../Images/e301c34534db3df948fbb4f6b11e7d2f.png" alt="Next.js Pagination JSON" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json-300x21.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-json.png"/></noscript>
<p>现在，我们可以在网页上呈现这些数据，并查看它们在用户界面上的外观:</p>
<pre class="language-javascript hljs">import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
export default function Home({ data }) {
 return (
   &lt;div className={styles.container}&gt;
     &lt;Head&gt;
       &lt;title&gt;Create Next App&lt;/title&gt;
       &lt;meta name="description" content="Generated by create next app" /&gt;
       &lt;link rel="icon" href="/favicon.ico" /&gt;
     &lt;/Head&gt;

     &lt;p&gt;
       &lt;strong&gt;NextJS x Pagination&lt;/strong&gt;
     &lt;/p&gt;
     {data.map((item) =&gt; {
       return &lt;p key={item.id}&gt;{item.title}&lt;/p&gt;;
     })}
   &lt;/div&gt;
 );
}

export const getStaticProps = async () =&gt; {
 const res = await fetch("https://jsonplaceholder.typicode.com/todos");
 const data = await res.json();

 return {
   props: { data },
 };
};
</pre>
<p><img data-attachment-id="145697" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/pagination-next-js-example-gif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Pagination in Next.js example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif" decoding="async" class="aligncenter size-full wp-image-145697 jetpack-lazy-image" src="../Images/b6aca0e85a9e56408c1e458706704681.png" alt="Pagination in Next.js Example" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145697" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/pagination-next-js-example-gif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Pagination in Next.js example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145697" src="../Images/b6aca0e85a9e56408c1e458706704681.png" alt="Pagination in Next.js Example" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-example-gif.gif"/></noscript>

<p>对于<code>Pagination</code>组件的实现，我们将创建一个<code>src</code>和<code>component</code>文件夹。在<code>component</code>中，我们将创建一个<code>Pagination.js</code>文件，该文件将在<code>index.js</code>文件中渲染:</p>
<pre class="language-javascript hljs">const Pagination = () =&gt; {
 return (
   &lt;div&gt;Pagination&lt;/div&gt;
 )
}
export default Pagination
</pre>
<p><code>index.js</code>中渲染的<code>Pagination</code>会有四个道具:<code>items</code>、<code>currentPage</code>、<code>pageSize</code>、<code>onPageChange</code>。<code>items</code>将是我们从API获得的数据的长度，在本例中是<code>100</code>:</p>
<p><img data-attachment-id="145699" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/pagination-next-js-rendered/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png" data-orig-size="730,52" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination rendered example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered-300x21.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png" decoding="async" class="aligncenter size-full wp-image-145699 jetpack-lazy-image" src="../Images/bb3d1385a7f7a870fcaf51b7a09fbc38.png" alt="Next.js Pagination Rendered Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered-300x21.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145699" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/pagination-next-js-rendered/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png" data-orig-size="730,52" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination rendered example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered-300x21.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145699" src="../Images/bb3d1385a7f7a870fcaf51b7a09fbc38.png" alt="Next.js Pagination Rendered Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered-300x21.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/pagination-next-js-rendered.png"/></noscript>
<p>因为我们希望从<code>1-10</code>分页，所以<code>pageSize</code>将被设置为<code>10</code>，并且因为页面将从第一页开始，所以<code>currentPage</code>将被存储在具有默认值<code>1</code>的状态中。</p>
<p><code>onPageChange</code>将是一个设置当前页面的函数，例如，从第一页移动到第二页:</p>
<pre class="language-javascript hljs">import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
import Pagination from "../src/components/Pagination";
import { useState } from "react";

export default function Home({ data }) {
 const [currentPage, setCurrentPage] = useState(1);
 const pageSize = 10;

 const onPageChange = (page) =&gt; {
   setCurrentPage(page);
 };

 return (
   &lt;div className={styles.container}&gt;
     &lt;Head&gt;
       &lt;title&gt;Create Next App&lt;/title&gt;
       &lt;meta name="description" content="Generated by create next app" /&gt;
       &lt;link rel="icon" href="/favicon.ico" /&gt;
     &lt;/Head&gt;

     &lt;p&gt;
       &lt;strong&gt;NextJS x Pagination&lt;/strong&gt;
     &lt;/p&gt;
     {data.map((item) =&gt; {
       return &lt;p key={item.id}&gt;{item.title}&lt;/p&gt;;
     })}
    &lt;Pagination
       items={data.length} // 100
       currentPage={currentPage} // 1
       pageSize={pageSize} // 10
       onPageChange={onPageChange}
        /&gt;
   &lt;/div&gt;
 );
}

export const getStaticProps = async () =&gt; {
 const res = await fetch("https://jsonplaceholder.typicode.com/todos");
 const data = await res.json();

 return {
   props: { data },
 };
};
</pre>
<p>然后，我们将在<code>Pagination</code>中析构这四个属性，并将它们用于分页实现:</p>
<pre class="language-javascript hljs">import styles from "../../styles/Home.module.css";

const Pagination = ({ items, pageSize, currentPage, onPageChange }) =&gt; {
 const pagesCount = Math.ceil(items / pageSize); // 100/10

 if (pagesCount === 1) return null;
 const pages = Array.from({ length: pagesCount }, (_, i) =&gt; i + 1);
console.log(pages)

 return (
   &lt;div&gt;
     &lt;div&gt;Pagination&lt;/div&gt;
   &lt;/div&gt;
 );
};

export default Pagination;
</pre>
<p><code>items</code>将被<code>pageSize</code>除，并存储在一个<code>pagesCount</code>变量中。静态方法<code>Array.from()</code>将用于从长度<code>pagesCount</code>创建一个新的<code>Array</code>实例，即<code>10</code>。</p>
<p>让我们在控制台中记录<code>pages</code>，看看我们有什么:</p>
<p><img data-attachment-id="145703" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-console-pagination/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png" data-orig-size="730,45" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console logged in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination-300x18.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png" decoding="async" class="aligncenter size-full wp-image-145703 jetpack-lazy-image" src="../Images/0df1e17753ca288e7f89d4e4824fa4c2.png" alt="Console Logged in Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination-300x18.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145703" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-console-pagination/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png" data-orig-size="730,45" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console logged in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination-300x18.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145703" src="../Images/0df1e17753ca288e7f89d4e4824fa4c2.png" alt="Console Logged in Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination-300x18.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-console-pagination.png"/></noscript>
<p>现在，我们可以映射<code>pages array</code>并在其中呈现值<code>(1-10)</code>。对于每个将实现<code>onClick</code>函数的值，都有一个<code>anchor</code>元素:</p>
<pre class="language-javascript hljs">const Pagination = ({ items, pageSize, currentPage, onPageChange }) =&gt; {
 const pagesCount = Math.ceil(items / pageSize); // 100/10

 if (pagesCount === 1) return null;
 const pages = Array.from({ length: pagesCount }, (_, i) =&gt; i + 1);

  return (
   &lt;div&gt;
     &lt;ul className={styles.pagination}&gt;
       {pages.map((page) =&gt; (
         &lt;li
           key={page}
           className={
             page === currentPage ? styles.pageItemActive : styles.pageItem
           }
         &gt;
           &lt;a className={styles.pageLink} onClick={() =&gt; onPageChange(page)}&gt;
             {page}
           &lt;/a&gt;
         &lt;/li&gt;
       ))}
     &lt;/ul&gt;
   &lt;/div&gt;
 );
};

export default Pagination;
</pre>
<p><code>pagination</code>框的样式将在<code>Home.module.css</code>中完成:</p>
<pre class="language-css hljs">.container {
 padding: 0 2rem;
}

.pagination {
 display: flex;
 justify-content: space-between;
 align-items: center;
 list-style: none;
}

.pageLink {
 cursor: pointer;
}

/* pagination pageItem */
.pageItem {
 display: flex;
 justify-content: center;
 align-items: center;
 width: 2rem;
 height: 2rem;
 border: 1px solid #eaeaea;
 border-radius: 0.5rem;
 cursor: pointer;
}

/* pagination page item when active */
.pageItemActive {
 display: flex;
 justify-content: center;
 align-items: center;
 width: 2rem;
 height: 2rem;
 border: 1px solid #eaeaea;
 border-radius: 0.5rem;
 cursor: pointer;
 background-color: red;
}
</pre>
<p>一旦我们向下滚动到<code>posts</code>数据的末尾，我们应该会看到来自<code>1-10</code>的盒子被渲染。<code>onPageChange</code>函数通过<code>page(1-10)</code>的参数传递给<code>anchor</code>元素，所以当<strong>框</strong>的任意部分被点击时，它会将当前页面设置为被点击的<strong>页面</strong> <strong>编号</strong>。</p>
<p>记住，<code>index.js</code>文件中的<code>onPageChange</code>函数:</p>
<pre class="language-javascript hljs"> const onPageChange = (page) =&gt; {
   setCurrentPage(page);
 };
</pre>
<p>现在，让我们看看我们有什么:</p>
<p><img data-attachment-id="145706" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png" data-orig-size="730,398" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png" decoding="async" class="aligncenter size-full wp-image-145706 jetpack-lazy-image" src="../Images/86ba9fd9fc3df4f463d1f670daa25086.png" alt="Next.js Pagination Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-300x164.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145706" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png" data-orig-size="730,398" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145706" src="../Images/86ba9fd9fc3df4f463d1f670daa25086.png" alt="Next.js Pagination Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-300x164.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example.png"/></noscript>

<p>现在，我们已经能够在我们的应用程序中实现分页，但我们仍然有100篇文章呈现在第一页，而不是10篇。为了实现这一点，我们将在<code>paginate.js</code>文件中创建一个<code>helper</code>函数:</p>
<pre class="language-javascript hljs">export const paginate = (items, pageNumber, pageSize) =&gt; {
 const startIndex = (pageNumber - 1) * pageSize;
 return items.slice(startIndex, startIndex + pageSize);
};
</pre>
<p><code>paginate</code>文件将有三个参数:<code>items</code>、<code>pageNumber</code>和<code>pageSize</code>。该函数将在<code>index.js</code>文件中被调用，参数将按如下方式传递:</p>
<pre class="language-javascript hljs">const paginatedPosts = paginate(data, currentPage, pageSize);
</pre>
<p>这里，<code>data</code>作为<code>items</code>传递，T1是从API端点返回的数据数组。<code>currentPage</code>代表<code>pageNumber</code>，<code>pageSize</code>作为<code>pageSize</code>传入。</p>
<p>在<code>pagination</code>函数中，首先通过从<code>1</code>中减去<code>currentPage</code>数并乘以<code>pageSize(10)</code>来提取<code>startIndex</code>。然后，我们对<code>items</code>进行切片。这是我们最初从<code>startIndex</code>得到的数据数组，直到我们得到<code>startIndex</code> + <code>pageSize</code>值。</p>
<p>例如，在第一页上，<code>pageNumber</code>将是<code>1</code>，因此<code>startIndex</code>将是:<code>1-1 * 10 gives 0</code>。</p>
<p>那么，<code>startIndex (0) + pageSize</code>(在<code>index.js</code>中声明为<code>10</code>)就会产生<code>10</code>。因此，切片从<code>0</code>的<code>Array length</code>开始，一直到<code>9</code>。</p>
<p>让我们将<code>paginatedPosts</code>记录到控制台，看看我们有什么:</p>
<p><img data-attachment-id="145708" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/paginated-post-next-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js paginated post example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png" decoding="async" class="aligncenter size-full wp-image-145708 jetpack-lazy-image" src="../Images/1d0888fc2506619e521dbe2cb0df9fb1.png" alt="Next.js Paginated Post Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js-300x55.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145708" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/paginated-post-next-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js paginated post example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145708" src="../Images/1d0888fc2506619e521dbe2cb0df9fb1.png" alt="Next.js Paginated Post Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js-300x55.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/paginated-post-next-js.png"/></noscript>
<p>我们可以查看网页上现有的内容:</p>
<p><img data-attachment-id="145711" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-example-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png" data-orig-size="730,332" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination second example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png" decoding="async" class="aligncenter size-full wp-image-145711 jetpack-lazy-image" src="../Images/42d9bbd7aa41f17842b7433215dd1750.png" alt="Next.js Pagination Second Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2-300x136.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145711" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-example-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png" data-orig-size="730,332" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js pagination second example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145711" src="../Images/42d9bbd7aa41f17842b7433215dd1750.png" alt="Next.js Pagination Second Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2-300x136.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-example-2.png"/></noscript>
<p>我们可以对所有页面进行分页:</p>
<p><img data-attachment-id="145715" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js paginated final product" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif" decoding="async" class="aligncenter size-full wp-image-145715 jetpack-lazy-image" src="../Images/31eea74a65b258cff1a0e13da767e0f3.png" alt="Next.js Paginated Final Product" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="145715" data-permalink="https://blog.logrocket.com/add-pagination-next-js-app/attachment/next-js-pagination-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js paginated final product" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-145715" src="../Images/31eea74a65b258cff1a0e13da767e0f3.png" alt="Next.js Paginated Final Product" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/next-js-pagination-final.gif"/></noscript>
<p>我们做到了！</p>
<h1>结论</h1>
<p>感谢您的阅读！我希望这篇教程能给你在Next.js应用程序中添加分页所需的知识。您可以根据您的用例定制样式，因为本教程主要关注实现功能的逻辑。你可以在我的<a href="https://github.com/Taofiqq/nextjs-paginate">存储库</a>中找到这个项目的完整代码，在这里你可以在Vercel <a href="https://nextjs-paginate.vercel.app/">上找到部署的项目。编码快乐！</a></p><div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产Next.js应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的DVR，记录下你的Next.js应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用程序的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p><p>让您调试Next.js应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>