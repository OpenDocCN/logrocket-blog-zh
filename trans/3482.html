<html>
<head>
<title>Using Payload CMS to build a blog - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Payload CMS构建博客- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-payload-cms-build-blog/#0001-01-01">https://blog.logrocket.com/using-payload-cms-build-blog/#0001-01-01</a></blockquote><div><article class="article-post">
<p>无头CMSs是现代web开发的重要组成部分。与传统的CMS相比，它们提供了更多的功能和灵活性。</p>
<p>无头CMS的工作原理是“切割”普通CMS的头部——换句话说，前端，负责网站或应用程序的外观和感觉。最终结果是一个只管理内容和数据的系统，并允许我们使用最符合我们需求的前端。</p>
<p>在本教程中，我们将探索一个名为Payload 的<a href="https://payloadcms.com/" target="_blank" rel="noreferrer noopener">强大而灵活的无头CMS。我们将涵盖:</a></p>

<h2 id="what-payload-cms">什么是有效载荷CMS？</h2>
<p>Payload是一个主要基于配置的无头CMS和应用程序框架，这使得它非常容易使用和定制。</p>
<p>Payload CMS提供的基于功能的访问控制可以处理您需要的任何访问控制模式。Payload还提供了文档级和字段级挂钩，允许轻松集成和最大的灵活性。以下是其他一些主要的有效载荷能力:</p>
<ul>
<li>100%打字稿</li>
<li>为每个数据模型自动生成<a href="https://blog.logrocket.com/understanding-using-interfaces-typescript/" target="_blank" rel="noreferrer noopener">类型脚本接口</a></li>
<li>干净和最小的<a href="https://blog.logrocket.com/create-react-admin-panel/" target="_blank" rel="noreferrer noopener">反应管理面板</a></li>
<li>选择使用自己的组件</li>
<li>自动为您的应用程序生成API</li>
<li>内置本地化</li>
<li>内置认证</li>
<li>文件上传支持</li>
<li>功能强大的字段集，可处理任何类型的数据建模</li>
<li>默认情况下附带一个Mongo数据库</li>
<li>基于块的布局构建适合于创建任何类型的块编辑器</li>
</ul>
<p>Payload通过实现配置、集合、全局、字段、挂钩和访问控制的概念，实现了上面列出的所有优秀特性。在了解如何开始使用有效负载CMS之前，让我们先定义这些概念。</p>
<p>有效负载使用配置文件，配置文件负责CMS可以做的几乎所有事情。例子包括定义数据模型、定制验证、挂钩逻辑、认证等等。</p>
<p>有效负载将内容分组到集合中。每个集合根据定义的字段自动创建一个MongoDB集合。</p>
<p>全局与集合非常相似，主要区别在于集合被设计成包含许多文档，而全局更像是一个单一的、可重用的模板。当您想要定义页眉、页脚、导航和菜单、应用程序范围的本地化字符串以及您可能需要的任何其他“全局”数据时，全局变量就很方便了。</p>
<p>有效负载使用字段作为其构建块。集合和全局变量中都使用字段来定义它们存储的数据类型。有效载荷提供了从简单到复杂的广泛领域。</p>
<p>此外，Payload为添加定制逻辑和与第三方工具和服务集成提供了许多挂钩。</p>
<p>最后，Payload附带了细粒度的访问控制，它强大、灵活，同时易于实现。</p>
<h2 id="getting-started-payload-cms">有效负载CMS入门</h2>
<p>在我们开始使用Payload之前，您需要确保已经在您的机器上安装了【Mongo和节点。</p>
<p>开始使用Payload就像在您选择的目录中运行以下命令一样简单:</p>
<pre class="language-bash hljs">npx create-payload-app
</pre>
<p>这将指导您创建一个新的有效负载应用程序。以下是您需要的信息:</p>
<p><img data-attachment-id="137385" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img1-creating-new-payload-blog-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png" data-orig-size="730,693" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating-new-Payload-blog-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project-300x285.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png" decoding="async" class="aligncenter size-full wp-image-137385 jetpack-lazy-image" src="../Images/b95ea510e08276caea828f951138fd57.png" alt="Terminal Showing Prompts For Information To Set Up New Payload Blog Project" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project-300x285.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137385" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img1-creating-new-payload-blog-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png" data-orig-size="730,693" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating-new-Payload-blog-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project-300x285.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137385" src="../Images/b95ea510e08276caea828f951138fd57.png" alt="Terminal Showing Prompts For Information To Set Up New Payload Blog Project" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project-300x285.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img1-Creating-new-Payload-blog-project.png"/></noscript>
<p>请注意，如果您第一次运行上述命令，它可能会要求您安装<code>create-payload-app</code>，然后才允许您继续。</p>
<p>出于本教程的目的，请确保您已经选择了<code>blog</code>作为项目模板，选择了<code>typescript</code>作为语言。</p>
<p>请注意，安装本身可能需要一些时间。</p>
<p>安装完成后，导航到应用程序目录。当您运行<code>yarn dev</code>命令时，您应该会看到类似如下的内容:</p>
<p><img data-attachment-id="137388" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img2-payload-app-directory-after-setup/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png" data-orig-size="730,349" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-app-directory-after-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png" decoding="async" class="aligncenter size-full wp-image-137388 jetpack-lazy-image" src="../Images/ba233abca3fff70cb609dcffba05152a.png" alt="Payload App Directory After Completing Installation And Running Yarn Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup-300x143.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137388" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img2-payload-app-directory-after-setup/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png" data-orig-size="730,349" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-app-directory-after-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137388" src="../Images/ba233abca3fff70cb609dcffba05152a.png" alt="Payload App Directory After Completing Installation And Running Yarn Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup-300x143.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img2-Payload-app-directory-after-setup.png"/></noscript>
<p>现在转到<a href="http://localhost:3000/admin" rel="nofollow">http://localhost:3000/admin</a>来创建第一个用户。当您创建完第一个用户帐户(应该是您自己的个人资料)后，登录到管理面板。您应该看到以下内容:</p>
<p><img data-attachment-id="137390" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img3-payload-admin-panel-localhost-3000/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png" data-orig-size="730,494" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-admin-panel-localhost-3000" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png" decoding="async" class="aligncenter size-full wp-image-137390 jetpack-lazy-image" src="../Images/1d8d4af51eaf2a13367af406728a78da.png" alt="Payload Admin Panel Shown At Localhost 3000 With Four Collections Displayed: Categories, Posts, Tags, Users" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000-300x203.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137390" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img3-payload-admin-panel-localhost-3000/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png" data-orig-size="730,494" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-admin-panel-localhost-3000" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137390" src="../Images/1d8d4af51eaf2a13367af406728a78da.png" alt="Payload Admin Panel Shown At Localhost 3000 With Four Collections Displayed: Categories, Posts, Tags, Users" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000-300x203.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img3-Payload-admin-panel-localhost-3000.png"/></noscript>
<p>如您所见，有四个为您自动创建的集合。这些为一些简单的博客功能提供了一个良好的起点。</p>
<p>如果您点击左下角的圆形头像按钮切换到您的用户帐户，您将看到以下页面:</p>
<p><img data-attachment-id="137394" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img4-payload-blog-app-user-account-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-app-user-account-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png" decoding="async" class="aligncenter size-full wp-image-137394 jetpack-lazy-image" src="../Images/428b713a79bdad0be4589a402d6f434b.png" alt="Payload Blog App User Account Page With User's Name Displayed At Top, Email Displayed Underneath (Redacted In Image)" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137394" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img4-payload-blog-app-user-account-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-app-user-account-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137394" src="../Images/428b713a79bdad0be4589a402d6f434b.png" alt="Payload Blog App User Account Page With User's Name Displayed At Top, Email Displayed Underneath (Redacted In Image)" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img4-Payload-blog-app-user-account-page.png"/></noscript>
<p>您的用户帐户页面只是一个简单的页面，上面有您在创建第一个新用户时输入的姓名和电子邮件。现在，让我们切换到您的代码编辑器，探索项目结构，看起来应该是这样的:</p>
<p><img data-attachment-id="137396" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img5-payload-blog-app-project-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png" data-orig-size="365,511" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-app-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure-214x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png" decoding="async" class="aligncenter size-full wp-image-137396 jetpack-lazy-image" src="../Images/45e94b04318859ac9a84da74040ca2cc.png" alt="Payload Blog App Project Structure Shown In Code Editor" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png 365w, https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure-214x300.png 214w" data-lazy-sizes="(max-width: 365px) 100vw, 365px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137396" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img5-payload-blog-app-project-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png" data-orig-size="365,511" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-app-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure-214x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137396" src="../Images/45e94b04318859ac9a84da74040ca2cc.png" alt="Payload Blog App Project Structure Shown In Code Editor" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png 365w, https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure-214x300.png 214w" sizes="(max-width: 365px) 100vw, 365px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img5-Payload-blog-app-project-structure.png"/></noscript>
<p>如您所见，有一个包含四个文件的<code>collections</code>目录。这四个文件对应于admin中的四个集合。这些是<a href="https://payloadcms.com/docs/configuration/overview" target="_blank" rel="noreferrer noopener">有效负载CMS配置文件</a>，我们现在将它们导入到主<code>payload.config.ts</code>文件中，如下所示:</p>
<pre class="language-typescript hljs">import { buildConfig } from 'payload/config';
import path from 'path';
import Categories from './collections/Categories';
import Posts from './collections/Posts';
import Tags from './collections/Tags';
import Users from './collections/Users';

export default buildConfig({
  serverURL: 'http://localhost:3000',
  admin: {
    user: Users.slug,
  },
  collections: [
    Categories,
    Posts,
    Tags,
    Users,
  ],
  typescript: {
    outputFile: path.resolve(__dirname, 'payload-types.ts')
  },
  graphQL: {
    schemaOutputFile: path.resolve(__dirname, 'generated-schema.graphql'),
  },
});
</pre>
<p>从技术上来说，我们可以将集合的所有代码直接包含在<code>payload.config.ts</code>文件中。然而，为了使事情更容易管理，我们把它们分割成单独的文件。然后，我们只需导入它们并将它们包含在一个特殊的<code>collections</code>数组中。</p>
<p>现在让我们探索一下<code>server.ts</code>文件的内容:</p>
<pre class="language-typescript hljs">import express from 'express';
import payload from 'payload';
require('dotenv').config();

const app = express();
// Redirect root to Admin panel
app.get('/', (_, res) =&gt; {
  res.redirect('/admin');
});
// Initialize Payload
payload.init({
  secret: process.env.PAYLOAD_SECRET,
  mongoURL: process.env.MONGODB_URI,
  express: app,
  onInit: () =&gt; {
    payload.logger.info(`Payload Admin URL: ${payload.getAdminURL()}`)
  },
})
// Add your own express routes here
app.listen(3000);
</pre>
<p>有效载荷<a href="https://blog.logrocket.com/express-js-5-migration-guide/" target="_blank" rel="noreferrer noopener">需要一个快速服务器</a>，它是自动为你创建的。为了初始化有效负载，调用了<code>init()</code>方法。</p>
<p>需要<code>init()</code>方法的前三个选项。第一个和第二个选项分别是密钥和Mongo数据库。在安装过程中，您应该已经在<code>.env</code>文件中输入了这些信息。第三个选项将应用程序与Express服务器连接起来。</p>
<p><code>init()</code>方法的最后一个选项是一个名为<code>onInit</code>的函数，意思是“初始化时”，它将一个有效负载实例作为它的参数。</p>
<p>您可以在有效负载CMS文档的<a href="https://payloadcms.com/docs/getting-started/installation#server" target="_blank" rel="noreferrer noopener">服务器部分看到其余可用的命令。</a></p>
<h2 id="building-blog-features-payload-cms">使用有效负载CMS构建博客功能</h2>
<p>有趣的部分来了。在这一节中，我们将探索如何用新的特性和功能来扩展我们的博客。</p>
<p>大多数现代博客需要某种媒体管理来在帖子中包含图片。所以，让我们先给我们的博客添加一些简单的媒体支持。</p>

<p>要添加媒体支持，请在<code>collections</code>目录中创建包含以下内容的新<code>Media.ts</code>文件:</p>
<pre class="language-typescript hljs">import { CollectionConfig } from 'payload/types';

const Media: CollectionConfig = {
  slug: 'media',
  admin: {
    useAsTitle: 'title',
  },
  access: {
    read: () =&gt; true,
  },
  fields: [
    {
      name: "alt",
      type: "text",
    },
  ],
  upload: {
    staticURL: "/media",
    staticDir: "media",
    mimeTypes: ["image/*"],
  },
}
export default Media;
</pre>
<p>这里，我们首先导入了<code>CollectionConfig</code>类型，并使用它来创建媒体配置。</p>
<p><a href="https://payloadcms.com/docs/configuration/collections" target="_blank" rel="noreferrer noopener">每个集合都需要</a> <code>slug</code>和<code>fields</code>属性。<code>slug</code>属性用来引用这个集合。<code>fields</code>属性用于构建UI块，帮助我们管理应用的内容。</p>
<p>在本例中，我们给我们的集合添加了一段<code>media</code>并添加了一个简单的文本字段，用于输入上传图像的alt文本。</p>
<p>为了添加特定于管理员的配置，我们使用了<code>admin</code>属性。在我们的例子中，<code>useAsTitle</code>定义了哪个字段将被用作集合的主键。</p>
<p><code>access</code>属性提供访问控制功能，用于定义特定用户的确切权限。在我们的例子中，我们授权所有用户阅读媒体集合。</p>
<p>最后，为了确保我们的应用程序中的媒体支持功能，我们使用了<code>upload</code>属性。每个支持 <code><a href="https://payloadcms.com/docs/upload/overview" target="_blank" rel="noreferrer noopener">upload</a></code> <a href="https://payloadcms.com/docs/upload/overview" target="_blank" rel="noreferrer noopener">功能</a>的<a href="https://payloadcms.com/docs/upload/overview" target="_blank" rel="noreferrer noopener">有效负载集合都需要<code>staticURL</code>和<code>staticDir</code>属性，它们定义了应用程序媒体的基本路径和用于媒体存储的文件夹目录。这里我们也使用<code>mimeTypes</code>属性来定义用户只能上传图片。</a></p>
<p>现在我们已经完成了向我们的博客添加媒体支持。我们将在下一节中看到如何在其他集合中使用它。</p>
<p>在<code>Media</code>页面中，我们现在可以通过点击<code>Create New</code>按钮来添加新图像。然后，我们可以选择一个文件或将其拖放到指定区域。我们还可以在媒体文件中添加替代文本。请看下面这些功能的样子:</p>
<p><img data-attachment-id="137398" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img6-payload-blog-media-page-create-new/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png" data-orig-size="730,366" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Media-page-Create-New" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png" decoding="async" class="aligncenter size-full wp-image-137398 jetpack-lazy-image" src="../Images/5f05da754c6e9105ce950b8cab2a9bac.png" alt="Payload Blog Media Page Shown After Selecting Create New Button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New-300x150.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137398" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img6-payload-blog-media-page-create-new/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png" data-orig-size="730,366" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Media-page-Create-New" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137398" src="../Images/5f05da754c6e9105ce950b8cab2a9bac.png" alt="Payload Blog Media Page Shown After Selecting Create New Button" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New-300x150.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img6-Payload-blog-Media-page-Create-New.png"/></noscript>
<p>当我们上传了一些媒体时，这个集合看起来是这样的:</p>
<p><img data-attachment-id="137400" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img7-payload-blog-media-page-content-uploaded/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png" data-orig-size="730,404" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Media-page-content-uploaded" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png" decoding="async" class="aligncenter size-full wp-image-137400 jetpack-lazy-image" src="../Images/528cee820f2c7eb59528706b0bfd2c0c.png" alt="Payload Blog Media Collection With Two Uploaded Items Displayed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded-300x166.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137400" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img7-payload-blog-media-page-content-uploaded/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png" data-orig-size="730,404" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Media-page-content-uploaded" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137400" src="../Images/528cee820f2c7eb59528706b0bfd2c0c.png" alt="Payload Blog Media Collection With Two Uploaded Items Displayed" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded-300x166.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img7-Payload-blog-Media-page-content-uploaded.png"/></noscript>
<h3 id="creating-post-blocks">创建post块</h3>
<p>有效负载提供的最强大的字段之一是Blocks字段。您可以使用该字段来创建甚至组合单个可重用块。</p>
<p>在下一节中，我们将通过为博客文章创建一个简单的块编辑器来扩展<code>Posts</code>集合，首先创建三个必要的块:内容、引用和提醒。</p>
<p>首先，创建一个新的<code>blocks</code>目录，并添加一个包含以下内容的<code>Content.ts</code>文件:</p>
<pre class="language-typescript hljs">import { Block } from 'payload/types';

const Content: Block = {
  slug: 'content',
  fields: [
  {
    name: 'content',
    type: 'richText'
  },
  ]
};
export default Content;
</pre>
<p>这创建了一个只有一个字段的基本内容块，它提供了一个<a href="https://payloadcms.com/docs/fields/rich-text" target="_blank" rel="noreferrer noopener">富文本编辑器</a>。我们在这里使用<code>Block</code>类型来定义<code>Content</code>块的配置。</p>
<p>对于下一个块，创建一个包含以下内容的<code>Quote.ts</code>文件:</p>
<pre class="language-typescript hljs">import { Block } from 'payload/types';

const Quote: Block = {
  slug: 'quote',
  imageURL: 'http://localhost:3000/media/quote.png',
  imageAltText: 'Quote block',
  fields: [
    {
      name: 'quote',
      type: 'textarea',
    },
    {
      name: 'author',
      type: 'text',
    },
  ]
};
export default Quote;
</pre>
<p>这里，我们创建了一个包含两个字段的报价块:一个Textarea字段用于报价本身，另一个文本字段用于报价作者。</p>
<p>同时，<code>imageURL</code>和<code>imageAltText</code>属性定义了当我们从弹出面板中选择块时要显示的缩略图。稍后我们将看到这一点。</p>
<p>对于最后一个块，创建一个包含以下内容的<code>Alert.ts</code>文件:</p>
<pre class="language-typescript hljs">import { Block } from 'payload/types';

const Alert: Block = {
  slug: 'alert',
  fields: [
    {
      name: 'type',
      type: 'select',
      options: [
        {
          value: 'info',
          label: 'Info',
        },
        {
          value: 'success',
          label: 'Success',
        },
        {
          value: 'warning',
          label: 'Warning',
        },
        {
          value: 'danger',
          label: 'Danger',
        },
      ],
    },
    {
      name: 'message',
      type: 'textarea',
    },
  ]
};
export default Alert;
</pre>
<p>这里，<a href="https://payloadcms.com/docs/fields/select" target="_blank" rel="noreferrer noopener">使用了一个选择字段</a>来定义不同的警报类型，并使用了一个文本区域字段来输入警报消息。</p>
<p>好了，积木准备好了。现在让我们看看如何使用它们。</p>
<h3 id="adding-post-features">添加帖子功能</h3>
<p>现在我们准备扩展创建博客文章的功能。</p>
<p>打开<code>Posts.ts</code>文件，将其内容替换为以下内容:</p>
<pre class="language-typescript hljs">import { CollectionConfig } from 'payload/types';
import Quote from '../blocks/Quote';
import Content from '../blocks/Content';
import Alert from '../blocks/Alert';

const Posts: CollectionConfig = {
  slug: 'posts',
  admin: {
    defaultColumns: ['title', 'author', 'category', 'tags', 'status'],
    useAsTitle: 'title',
  },
  access: {
    read: () =&gt; true,
  },
  fields: [
    {
      name: 'postMeta',
      type: 'group',
      fields: [
        {
          name: 'title',
          type: 'text',
          required: true,
          minLength: 20,
          maxLength: 100,
        },
        {
          name: 'description',
          type: 'textarea',
          required: true,
          minLength: 40,
          maxLength: 160,
        },
        {
          name: 'keywords',
          label: 'Keywords',
          type: 'text',
        },
      ],
    },
    {
      name: 'title',
      type: 'text',
      required: true,
    },
    {
      type: 'tabs',
      tabs: [
        {
          label: 'Post Media',
          fields: [
            {
              name: 'postImage',
              type: 'upload',
              relationTo: 'media',
              required: true,
            },
          ],
        },
        {
          label: 'Post Layout',
          fields: [
            {
              name: 'layout',
              type: 'blocks',
              blocks: [
                Quote,
                Content,
                Alert
              ],
            },
          ]
        }
      ]
    },
// add sidebar fields here
  ],
}
export default Posts;
</pre>
<p>这里，我们首先导入前面创建的块。</p>
<p>接下来，我们使用<code>defaultColumns</code>属性来定义在呈现集合时哪些列将在管理面板中可见。</p>
<p>然后<a href="https://payloadcms.com/docs/fields/group" target="_blank" rel="noreferrer noopener">使用分组字段</a>为帖子的元数据创建一组特性，并使用<code>required</code>、<code>minLength</code>和<code>maxLength</code>属性添加一些简单的验证。我们还定义了一个用于编辑文章标题的字段。</p>
<p>最后，我们<a href="https://payloadcms.com/docs/fields/tabs" target="_blank" rel="noreferrer noopener">创建了两个标签</a> — <code>Post Media</code>和<code>Post Layout</code>。</p>
<p><code>Post Media</code>选项卡<a href="https://payloadcms.com/docs/fields/upload" target="_blank" rel="noreferrer noopener">使用上传字段</a>，通过使用<code>relationTo</code>属性将它与之前创建的媒体收藏连接起来。</p>
<p><code>Post Layout</code>选项卡<a href="https://payloadcms.com/docs/fields/blocks" target="_blank" rel="noreferrer noopener">使用Blocks字段</a>并注册我们创建的块，将它们添加到<code>blocks</code>数组中。</p>
<p>以上所有配置都设置了文章编辑页面主区域中显示的编辑字段。要在侧边栏区域添加一些字段，请添加以下代码:</p>
<pre class="language-typescript hljs">{
  name: 'status',
  type: 'select',
  options: [
    {
      value: 'draft',
      label: 'Draft',
    },
    {
      value: 'published',
      label: 'Published',
    },
  ],
  defaultValue: 'draft',
  admin: {
    position: 'sidebar',
  }
},
{
  name: 'publishedDate',
  type: 'date',
  admin: {
    position: 'sidebar',
  }
},
{
  name: 'author',
  type: 'relationship',
  relationTo: 'users',
  admin: {
    position: 'sidebar',
  }
},
{
  name: 'category',
  type: 'relationship',
  relationTo: 'categories',
  admin: {
    position: 'sidebar',
  }
},
{
  name: 'tags',
  type: 'relationship',
  relationTo: 'tags',
  hasMany: true,
  admin: {
    position: 'sidebar',
  }
},
</pre>
<p>为了移动侧边栏区域中的字段，我们使用了<code>admin</code>属性，并将其子属性<code>position</code>设置为<code>sidebar</code>。</p>
<p>我们在这里添加了几个不同的字段:</p>
<p>选择字段允许我们定义帖子的状态—草稿或已发布。我们使用了<code>defaultValue</code>属性来设置新帖子的默认状态。</p>
<p><a href="https://payloadcms.com/docs/fields/date" target="_blank" rel="noreferrer noopener">日期字段</a>允许我们设置文章的发表日期。</p>
<p>我们还添加了三个<a href="https://payloadcms.com/docs/fields/relationship" target="_blank" rel="noreferrer noopener">关系字段</a>来定义文章的作者、类别和标签。</p>
<p>仅此而已。现在让我们探索一下到目前为止我们已经构建了什么。查看您的<code>Posts</code>收藏:</p>
<p><img data-attachment-id="137402" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img8-payload-blog-posts-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png" data-orig-size="730,321" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Posts-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png" decoding="async" class="aligncenter size-full wp-image-137402 jetpack-lazy-image" src="../Images/2c2e901eeea6f429890ef56a6e89a223.png" alt="Payload Blog Empty Posts Collection With Search Bar And Button To Create New Post" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection-300x132.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137402" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img8-payload-blog-posts-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png" data-orig-size="730,321" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Posts-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137402" src="../Images/2c2e901eeea6f429890ef56a6e89a223.png" alt="Payload Blog Empty Posts Collection With Search Bar And Button To Create New Post" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection-300x132.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img8-Payload-blog-Posts-collection.png"/></noscript>
<p>点击<code>Create new Post</code>按钮后，您会看到以下内容:</p>
<p><img data-attachment-id="137404" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img9-payload-blog-create-new-post-result/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Create-New-Post-result" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png" decoding="async" class="aligncenter size-full wp-image-137404 jetpack-lazy-image" src="../Images/56d1418b17bae2ae3e5117bf0ec951b8.png" alt="Payload Blog Page Shown After Selecting Create New Post With Post Meta Fields And Sidebar Options" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137404" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img9-payload-blog-create-new-post-result/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Create-New-Post-result" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137404" src="../Images/56d1418b17bae2ae3e5117bf0ec951b8.png" alt="Payload Blog Page Shown After Selecting Create New Post With Post Meta Fields And Sidebar Options" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img9-Payload-blog-Create-New-Post-result.png"/></noscript>
<p>这个截屏显示了页面的Post Meta部分和侧边栏字段。我已经填写了其中的一些来演示如何使用它们。</p>
<p>注意，Author字段在这里显示了用户名—在本例中是<code>Ivaylo Gerchev</code>。但是，默认情况下，该字段使用用户的电子邮件。要改变这一点，打开<code>Users.ts</code>文件并将<code>useAsTitle</code>属性更改为<code>name</code>，如下所示:</p>
<pre class="language-typescript hljs">admin: {
  useAsTitle: 'name', // changed to name from email
},
</pre>
<p>现在，当您转到<code>Users</code>集合时，主键将是用户名，它将用于<code>Author</code>字段:</p>
<p><img data-attachment-id="137406" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img10-payload-blog-users-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Users-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png" decoding="async" class="aligncenter size-full wp-image-137406 jetpack-lazy-image" src="../Images/cac5bde3eb76d6e28a8b0542212104dc.png" alt="Payload Blog Users Collection Displaying One Created User With Primary Key Of User's Name" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection-300x135.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137406" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img10-payload-blog-users-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Users-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137406" src="../Images/cac5bde3eb76d6e28a8b0542212104dc.png" alt="Payload Blog Users Collection Displaying One Created User With Primary Key Of User's Name" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection-300x135.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img10-Payload-blog-Users-collection.png"/></noscript>
<p>现在，让我们回到创建我们的新职位。当我们向下滚动时，我们可以找到文章标题的字段以及我们之前创建的<code>Post Media</code>和<code>Post Layout</code>选项卡:</p>
<p><img data-attachment-id="137408" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img11-payload-blog-create-new-post-title-field-media-layout-tabs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Create-New-Post-title-field-media-layout-tabs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png" decoding="async" class="aligncenter size-full wp-image-137408 jetpack-lazy-image" src="../Images/4b6eae58872357045abc470e0831cb9f.png" alt="Additional Options Under Create New Post Including Title Field And Tabs For Adding Media And Editing Layout" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137408" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img11-payload-blog-create-new-post-title-field-media-layout-tabs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Create-New-Post-title-field-media-layout-tabs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137408" src="../Images/4b6eae58872357045abc470e0831cb9f.png" alt="Additional Options Under Create New Post Including Title Field And Tabs For Adding Media And Editing Layout" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img11-Payload-blog-Create-New-Post-title-field-media-layout-tabs.png"/></noscript>
<p>当我们通过<code>Post Media</code>选项卡上传帖子的图片时，图片会显示如下:</p>
<p><img data-attachment-id="137410" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img12-payload-blog-create-new-post-add-media/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-add-media" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png" decoding="async" class="aligncenter size-full wp-image-137410 jetpack-lazy-image" src="../Images/bcc17ed97d8ca78a1d948deca09e12f8.png" alt="Result Of Uploading Image To Blog Post Via Post Media Tab With Image Preview And File Details Displayed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137410" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img12-payload-blog-create-new-post-add-media/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-add-media" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137410" src="../Images/bcc17ed97d8ca78a1d948deca09e12f8.png" alt="Result Of Uploading Image To Blog Post Via Post Media Tab With Image Preview And File Details Displayed" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img12-Payload-blog-create-new-post-add-media.png"/></noscript>
<p>当我们切换到<code>Post Layout</code>选项卡时，我们会看到一个圆圈中的加号，旁边是一些文本<code>Add Block</code>:</p>
<p><img data-attachment-id="137412" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img13-payload-blog-create-new-post-add-block-post-layout/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-add-block-post-layout" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png" decoding="async" class="aligncenter size-full wp-image-137412 jetpack-lazy-image" src="../Images/4818aae3a8c8978bc1416a2ffb869a6b.png" alt="Post Layout Tab While Adding New Payload Blog Post Showing Button For Adding Block To Post Layout" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137412" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img13-payload-blog-create-new-post-add-block-post-layout/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-add-block-post-layout" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137412" src="../Images/4818aae3a8c8978bc1416a2ffb869a6b.png" alt="Post Layout Tab While Adding New Payload Blog Post Showing Button For Adding Block To Post Layout" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img13-Payload-blog-create-new-post-add-block-post-layout.png"/></noscript>
<p>点击<code>Add Block</code>按钮将显示一个弹出面板，其中包含我们之前添加的所有可用模块:</p>
<p><img data-attachment-id="137414" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img14-payload-blog-create-new-post-layout-popup-available-blocks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-popup-available-blocks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png" decoding="async" class="aligncenter size-full wp-image-137414 jetpack-lazy-image" src="../Images/144cb2fc0c5bd89a10f64821b853f711.png" alt="Popup Of Previously Created Blocks Available To Add To Payload Blog Post: Quote Block With Associated Image, Content And Alert Blocks With Default Image" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137414" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img14-payload-blog-create-new-post-layout-popup-available-blocks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-popup-available-blocks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137414" src="../Images/144cb2fc0c5bd89a10f64821b853f711.png" alt="Popup Of Previously Created Blocks Available To Add To Payload Blog Post: Quote Block With Associated Image, Content And Alert Blocks With Default Image" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img14-Payload-blog-create-new-post-layout-popup-available-blocks.png"/></noscript>
<p>您可以看到，这里显示了我们为报价块定义的图像。没有定义图像的块使用默认图像。此外，如果您有许多块，您可以选择搜索特定的块。</p>
<p>让我们来看看这些积木是如何工作的。在下一个屏幕截图中，我添加了一个报价组件:</p>
<p><img data-attachment-id="137417" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img15-payload-blog-create-new-post-layout-quote-block/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-quote-block" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png" decoding="async" class="aligncenter size-full wp-image-137417 jetpack-lazy-image" src="../Images/300206672da6777769358ddf7ff263f3.png" alt="Creating New Blog Post With Quote Block In Layout" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137417" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img15-payload-blog-create-new-post-layout-quote-block/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-quote-block" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137417" src="../Images/300206672da6777769358ddf7ff263f3.png" alt="Creating New Blog Post With Quote Block In Layout" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img15-Payload-blog-create-new-post-layout-quote-block.png"/></noscript>
<p>在下一个截图中，我在报价后添加了一个内容块:</p>
<p><img data-attachment-id="137420" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img16-payload-blog-create-new-post-layout-content-block/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-content-block" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png" decoding="async" class="aligncenter size-full wp-image-137420 jetpack-lazy-image" src="../Images/1ff6465dbf5ea39c19d418069a6011e6.png" alt="Adding Content Block After Quote Block While Creating New Blog Post" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137420" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img16-payload-blog-create-new-post-layout-content-block/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-create-new-post-layout-content-block" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137420" src="../Images/1ff6465dbf5ea39c19d418069a6011e6.png" alt="Adding Content Block After Quote Block While Creating New Blog Post" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img16-Payload-blog-create-new-post-layout-content-block.png"/></noscript>
<p>正如您所看到的，Payload允许您构建一个定制的块编辑器，这为一些配置的内容结构化提供了很大的灵活性。</p>
<p>现在，当您保存文章并转到文章集合时，您可以看到您刚刚创建的文章:</p>
<p><img data-attachment-id="137422" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img17-payload-blog-posts-collection-created-post/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png" data-orig-size="730,356" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Posts-collection-created-post" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post-300x146.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png" decoding="async" class="aligncenter size-full wp-image-137422 jetpack-lazy-image" src="../Images/2904cbd1710d628e762238ed0e7cbe05.png" alt="Posts Collection Displaying One Post Just Created" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post-300x146.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137422" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img17-payload-blog-posts-collection-created-post/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png" data-orig-size="730,356" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Posts-collection-created-post" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post-300x146.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137422" src="../Images/2904cbd1710d628e762238ed0e7cbe05.png" alt="Posts Collection Displaying One Post Just Created" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post-300x146.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img17-Payload-blog-Posts-collection-created-post.png"/></noscript>
<h3 id="adding-pages-support">添加对创建新页面的支持</h3>
<p>通常，除了博客文章之外，一个博客至少还会有几个其他页面，比如联系页面、关于页面等等。现在让我们为我们的博客添加页面创建功能。</p>
<p>在<code>collections</code>目录下，创建一个包含以下内容的<code>Pages.ts</code>文件:</p>
<pre class="language-typescript hljs">import { CollectionConfig } from 'payload/types'

const Pages: CollectionConfig = {
  slug: 'pages',
  admin: {
    defaultColumns: ['title', 'status'],
    useAsTitle: 'title',
  },
  access: {
    read: () =&gt; true,
  },
  fields: [
    {
      name: 'pageMeta',
      type: 'group',
      fields: [
        {
          name: 'title',
          type: 'text',
          required: true,
          minLength: 20,
          maxLength: 100,
        },
        {
          name: 'description',
          type: 'textarea',
          required: true,
          minLength: 40,
          maxLength: 160,
        },
        {
          name: 'keywords',
          label: 'Keywords',
          type: 'text',
        },
      ],
    },
    {
      name: 'title',
      type: 'text',
      required: true,
    },
    {
      name: 'content',
      type: 'richText',
      required: true,
    },
    {
      name: 'status',
      type: 'select',
      options: [
        {
          value: 'draft',
          label: 'Draft',
        },
        {
          value: 'published',
          label: 'Published',
        },
      ],
      defaultValue: 'draft',
      admin: {
        position: 'sidebar',
      }
    }
  ],
}
export default Pages;
</pre>
<p>以上其实是<code>posts</code>配置的简化版；我们定义了一个页面元部分，然后是标题和内容字段。在管理侧边栏中，我们只放置了一个状态字段。</p>
<p>让我们看看我们对添加新页面的支持。以下是页面元编辑部分:</p>
<p><img data-attachment-id="137424" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img18-payload-blog-home-page-meta-editing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Home-page-meta-editing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png" decoding="async" class="aligncenter size-full wp-image-137424 jetpack-lazy-image" src="../Images/dc22c92bd36ab38236070c2551382f9b.png" alt="Payload Blog Home Page Meta Editing Section" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137424" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img18-payload-blog-home-page-meta-editing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Home-page-meta-editing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137424" src="../Images/dc22c92bd36ab38236070c2551382f9b.png" alt="Payload Blog Home Page Meta Editing Section" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img18-Payload-blog-Home-page-meta-editing.png"/></noscript>
<p>以下是标题和内容编辑部分:</p>
<p><img data-attachment-id="137426" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img19-payload-blog-home-page-title-content-editing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Home-page-title-content-editing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png" decoding="async" class="aligncenter size-full wp-image-137426 jetpack-lazy-image" src="../Images/7aa1d0cafd8a677b310670de01b7f842.png" alt="Payload Blog Home Page Title And Content Editing Sections" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137426" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img19-payload-blog-home-page-title-content-editing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Home-page-title-content-editing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137426" src="../Images/7aa1d0cafd8a677b310670de01b7f842.png" alt="Payload Blog Home Page Title And Content Editing Sections" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img19-Payload-blog-Home-page-title-content-editing.png"/></noscript>
<p>以下是我使用该功能创建的示例页面:</p>
<p><img data-attachment-id="137428" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img20-payload-blog-sample-home-about-pages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-sample-Home-About-pages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png" decoding="async" class="aligncenter size-full wp-image-137428 jetpack-lazy-image" src="../Images/2456f14e27e52b5ffa9efb03013a43c2.png" alt="Payload Blog Pages Listing With Sample Home And About Pages Shown" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages-300x155.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137428" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img20-payload-blog-sample-home-about-pages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-sample-Home-About-pages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137428" src="../Images/2456f14e27e52b5ffa9efb03013a43c2.png" alt="Payload Blog Pages Listing With Sample Home And About Pages Shown" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages-300x155.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img20-Payload-blog-sample-Home-About-pages.png"/></noscript>
<p>在下面的截图中，您可以看到我们在配置中定义为<code>default</code>的列被自动选择并显示在管理中。点击<code>Columns</code>按钮，您可以看到:</p>
<p><img data-attachment-id="137430" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img21-payload-blog-custom-pages-default-columns/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-custom-Pages-default-Columns" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png" decoding="async" class="aligncenter size-full wp-image-137430 jetpack-lazy-image" src="../Images/a100fd97f82af8b9888bef0e05635752.png" alt="Payload Blog Custom Pages Admin With Default Columns Shown Selected And Additional Column Options Shown Unselected" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137430" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img21-payload-blog-custom-pages-default-columns/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-custom-Pages-default-Columns" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137430" src="../Images/a100fd97f82af8b9888bef0e05635752.png" alt="Payload Blog Custom Pages Admin With Default Columns Shown Selected And Additional Column Options Shown Unselected" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img21-Payload-blog-custom-Pages-default-Columns.png"/></noscript>
<h3 id="adding-navigation-global">添加导航全局</h3>
<p>到目前为止，我们已经探索了用于创建集合的有效负载CMS特性。但是正如我在开始提到的，Payload为更具体的目标提供了另一个很好的特性:<a href="https://payloadcms.com/docs/configuration/globals" target="_blank" rel="noreferrer noopener">创建全局变量的能力</a>。</p>
<p>在这一节中，我们将探索如何创建一个最常见的全局用例:创建一个站点导航菜单。在下一节中，我们将学习如何为我们的博客创建一个标题部分，这是另一个常见的用例。</p>
<p>首先，创建新的<code>globals</code>目录，其中包含一个包含以下内容的<code>Navigation.ts</code>文件:</p>
<pre class="language-typescript hljs">import { GlobalConfig } from 'payload/types';

const Navigation: GlobalConfig = {
  slug: 'navigation',
  fields: [
    {
      name: 'menuItems',
      type: 'array',
      required: true,
      maxRows: 8,
      fields: [
        {
          name: 'page',
          type: 'relationship',
          relationTo: 'pages',
          required: true,
          unique: true,
        }
      ]
    },
  ]
}
export default Navigation;
</pre>
<p>定义一个全局实体与定义一个集合非常相似。在上面的代码中，我们使用了<code>GlobalConfig</code>类型，而不是之前使用的<code>CollectionConfig</code>类型。</p>
<p>我们还<a href="https://payloadcms.com/docs/fields/array" target="_blank" rel="noreferrer noopener">使用了一个数组字段</a>来添加创建菜单项列表的功能。对于这些菜单项，我们使用关系字段从现有页面中获取和选择。</p>
<p>下面是它的实际运行情况:</p>
<p><img data-attachment-id="137436" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img22-payload-blog-edit-navigation-global-menu-items/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-edit-Navigation-global-menu-items" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png" decoding="async" class="aligncenter size-full wp-image-137436 jetpack-lazy-image" src="../Images/e1522b3d79931dcd48b5328b7c73c420.png" alt="Result Of Using Array Field To Enable Editing Payload Blog Navigation Global Menu Items With Two Menu Items Displayed As Demonstration" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137436" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img22-payload-blog-edit-navigation-global-menu-items/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-edit-Navigation-global-menu-items" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137436" src="../Images/e1522b3d79931dcd48b5328b7c73c420.png" alt="Result Of Using Array Field To Enable Editing Payload Blog Navigation Global Menu Items With Two Menu Items Displayed As Demonstration" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img22-Payload-blog-edit-Navigation-global-menu-items.png"/></noscript>
<p>通过点击<code>Add Menu Item</code>按钮，您可以选择一个现有页面添加到导航菜单中。在这里，我选择了<code>Home</code>和<code>About</code>。</p>
<p>当我们使用数组编辑字段时，我们有一些选项来管理数组。当我们单击字段右侧的省略号图标按钮时，这些选项可用，如下所示:</p>
<p><img data-attachment-id="137439" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img23-payload-blog-navigation-global-array-management-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Navigation-global-array-management-options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png" decoding="async" class="aligncenter size-full wp-image-137439 jetpack-lazy-image" src="../Images/dd3da9d7f7aab76b5cb45a99e5817626.png" alt="Editing Payload Blog Navigation Global Using Array Management Options Found By Clicking Ellipsis Icon Button Shown To Right Of Array Item" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137439" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img23-payload-blog-navigation-global-array-management-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Navigation-global-array-management-options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137439" src="../Images/dd3da9d7f7aab76b5cb45a99e5817626.png" alt="Editing Payload Blog Navigation Global Using Array Management Options Found By Clicking Ellipsis Icon Button Shown To Right Of Array Item" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img23-Payload-blog-Navigation-global-array-management-options.png"/></noscript>

<p>对于第二个全局，创建一个包含以下内容的<code>Header.ts</code>文件:</p>
<pre class="language-typescript hljs">import { GlobalConfig } from 'payload/types';

const Header: GlobalConfig = {
  slug: 'header',
  fields: [
    {
      name: 'styles',
      type: 'array',
      fields: [
        {
          name: 'cssLink',
          type: 'text',
        }
      ]
    },
    {
      name: 'scripts',
      type: 'array',
      fields: [
        {
          name: 'jsLink',
          type: 'text',
        }
      ]
    },
  ]
}
export default Header;
</pre>
<p>在上面的代码中，我们使用两个数组分别为CSS和JavaScript链接创建了两个列表。</p>
<p>为此，您需要在<code>payload.configts</code>文件中添加一个<code>globals</code>数组。将下面的代码放在<code>collections</code>数组下面:</p>
<pre class="language-typescript hljs">globals: [
  Navigation,
  Header
],
</pre>
<p>下面是它的实际效果:</p>
<p><img data-attachment-id="137441" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img24-payload-blog-header-global-customization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Header-global-customization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png" decoding="async" class="aligncenter size-full wp-image-137441 jetpack-lazy-image" src="../Images/02065567d5fd54513d6350887ce79c98.png" alt="Payload Blog Header Global Shown Being Edited With Custom Styles And Scripts" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137441" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img24-payload-blog-header-global-customization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-Header-global-customization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137441" src="../Images/02065567d5fd54513d6350887ce79c98.png" alt="Payload Blog Header Global Shown Being Edited With Custom Styles And Scripts" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img24-Payload-blog-Header-global-customization.png"/></noscript>
<p>如您所见，现在您可以添加样式或脚本的链接，这将是全球可用的，类似于CodePen。</p>
<p>最后，在我们所有的编辑完成后，管理面板应该看起来像这样:</p>
<p><img data-attachment-id="137444" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img25-payload-blog-admin-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-admin-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png" decoding="async" class="aligncenter size-full wp-image-137444 jetpack-lazy-image" src="../Images/81510bf0cd9a302a4287131b6282199f.png" alt="Final Payload Blog Admin Panel After Adding Users And Media Collections As Well As Navigation And Header Globals" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final-300x208.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137444" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img25-payload-blog-admin-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png" data-orig-size="730,506" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-blog-admin-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final-300x208.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137444" src="../Images/81510bf0cd9a302a4287131b6282199f.png" alt="Final Payload Blog Admin Panel After Adding Users And Media Collections As Well As Navigation And Header Globals" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final-300x208.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img25-Payload-blog-admin-final.png"/></noscript>
<p>恭喜你。您刚刚使用Payload CMS创建了一个简单但功能强大的博客内容管理系统。</p>
<h3 id="exploring-api-functionality">探索API功能</h3>
<p>我想提到的最后一点是，Payload自动为每个集合项提供了一个API端点。例如，当您编辑一个特定的页面时，您可以单击右下角的API URL链接来获取该页面的JSON数据。请参见下面的示例:</p>
<p><img data-attachment-id="137446" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img26-payload-collection-api-functionality-json-data/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-collection-API-functionality-JSON-data" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png" decoding="async" class="aligncenter size-full wp-image-137446 jetpack-lazy-image" src="../Images/f090b37c6a4703d59ea3334a74ddac43.png" alt="Sample Json Data For Page Shown At Localhost 3000 To Demonstrate Payload Collection Api Functionality" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data-300x166.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137446" data-permalink="https://blog.logrocket.com/using-payload-cms-build-blog/attachment/img26-payload-collection-api-functionality-json-data/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Payload-collection-API-functionality-JSON-data" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137446" src="../Images/f090b37c6a4703d59ea3334a74ddac43.png" alt="Sample Json Data For Page Shown At Localhost 3000 To Demonstrate Payload Collection Api Functionality" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data-300x166.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/img26-Payload-collection-API-functionality-JSON-data.png"/></noscript>
<p>在上图中，您可以看到我们之前创建的主页的数据。</p>
<h2 id="conclusion">结论</h2>
<p>在这篇介绍Payload CMS的教程中，我们通过构建一个简单的博客管理系统，探索了Payload的许多优秀特性。尽管看起来很简单，但Payload非常强大和灵活。</p>
<p>对于更复杂的有效载荷示例，请在Github 中探索<a href="https://demo.payloadcms.com/?_gl=1*hwt42k*_ga*MTU4NTg1ODI5LjE2NTkwODgxODU.*_ga_FLQ5THRMZQ*MTY2MDg1MDc2MC4yMy4xLjE2NjA4NTA5ODMuMC4wLjA." target="_blank" rel="noreferrer noopener">公共演示</a>及其<a href="https://github.com/payloadcms/public-demo" target="_blank" rel="noreferrer noopener">代码。你也可以看看一个</a><a href="https://github.com/payloadcms/nextjs-custom-server" target="_blank" rel="noreferrer noopener">和Next.js </a>一起使用的有效载荷的例子。</p>
<p>最后，查看来自有效载荷CMS 的<a href="https://payloadcms.com/docs/getting-started/what-is-payload" target="_blank" rel="noreferrer noopener">官方文档，以获取更深入的信息和指导。</a></p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>