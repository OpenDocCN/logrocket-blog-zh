<html>
<head>
<title>Hyperledger Sawtooth: A gentle introduction - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>超级账本锯齿:一个温和的介绍</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/hyperledger-sawtooth-introduction/#0001-01-01">https://blog.logrocket.com/hyperledger-sawtooth-introduction/#0001-01-01</a></blockquote><div><article class="article-post">
<h2 id="introduction">介绍</h2>
<p>Hyperledger 锯齿是 Hyperledger 旗下的一个开源项目。它是一个企业级的区块链系统，用于创建和操作分布式分类帐应用程序和网络，特别是供企业使用。</p>
<p>Hyperledger 锯齿被称为企业区块链即服务平台，可以运行定制的智能合同和逻辑，而无需了解核心系统的底层设计。它还支持各种共识算法，包括实用的拜占庭容错(PBFT)和运行时间证明(PoET)，让用户根据具体要求以最合适的方式设计区块链的性能。</p>
<p>Hyperledger 是一个由 Linux 项目、IBM、Intel 和 SAP 等组织发起的开发小组。</p>
<h2 id="sawtooth-singularities">锯齿奇点</h2>
<h3 id="sawtooth-consensus-algorithms">锯齿共识算法</h3>
<p>区块链体系结构的稳固性，以及最普遍的公共分类账的稳固性，其核心是共识算法。最传统的一个是坂本共识算法[2],其被设计来克服拜占庭容错(BFT)共识的限制。Hyperledger 锯齿提供了三种不同的共识机制:诗人、PBFT 和 Raft。</p>
<h4 id="sawtooth-poet">锯齿诗人</h4>
<p>运行时间的锯齿证明(PoET)是一种 Nakamoto 风格的共识[2]算法，旨在支持大型网络群体。PoET 依靠“公平抽签”机制来选择哪个节点将添加下一个块:每个节点生成一个随机等待时间，在此期间节点必须休眠。等待时间最短的节点将首先醒来并赢得彩票，从而被允许向区块链提交新的块。当然，PoET 的能效更高，因为节点不会浪费能量来放置块。</p>
<h4 id="sawtooth-pbft">锯齿 PBFT</h4>
<p>锯齿实用拜占庭容错(PBFT)(相对于原始 PBFT [3]的修改版本)是一种基于投票的共识算法，提供拜占庭容错。随着节点被添加到集合中，它带来了消息计数呈指数增长的缺点。</p>
<p>一旦领导节点提出要添加的新块，节点之间就开始交换一系列消息。该算法提供了对一定百分比的恶意节点的可证明的抵抗力，该抵抗力取决于实现。</p>
<h4 id="sawtooth-raft">锯齿筏</h4>
<p>Raft 是一种基于领导者的共识算法，提供崩溃容错(CFT):系统的基石是领导者，领导者被认为总是诚实行事。领导者添加的块没有被伪造，它的更新是可信的。</p>
<p>领导者具有一群节点，这些节点将简单地传播来自领导者的更新，并且在给定超时后领导者发生崩溃的情况下，在追随者中选出新的领导者。</p>
<p>这种算法对 CFT 有一种天然的弹性。例如，在六个节点的网络上，选举新领导者的法定人数是四(比六个可用节点的一半多一个)。</p>
<p>Raft 的优势是比 PBFT 和 PoET 更高效(也是从能源的角度来看)，因为没有节点间添加块的竞争，浪费 CPU 时间；只要领导者启动并运行，更新就会简单地传播。</p>
<h4 id="dev-mode-consensus">开发模式共识</h4>
<p>让我们简短地描述一下由 Sawtooth 提供的 devmode consensus 算法，以便让开发人员了解如何从头开始编写 consensus 算法。</p>
<p>正如你们中最聪明的人已经理解的那样，Dev 模式是一种只在开发模式中使用的共识算法:它没有崩溃容忍度，并且使用简单的简化随机领导者选择。</p>
<h3 id="discussion">关于这些算法的更多信息</h3>
<p>出于某些原因，上述算法偏离了经典的 PoW 共识:</p>
<ul>
<li>锯齿是为节点提交的块之间的协作是最终的场景而设计的，不像抽奖式的一致算法，如工作证明(PoW)或耗时证明(PoET)</li>
<li>pBFT 通常被认为是一种不可扩展的算法。这种感觉通常是由 node == server 的概念引起的，在企业生产环境中部署 pBFT 时不应该是这种情况</li>
<li>pBFT 应该用于企业组织的联合体，其中每个组织代表网络上的一个节点 node == organization。然后，这些组织节点中的每一个都应该在节点的端点后拥有实例集群和负载平衡器，以扩展计算能力并确保快速响应时间</li>
</ul>
<h2 id="a-sample-application-deploy-a-single-node-sawtooth-installation">一个示例应用程序:部署一个单节点锯齿安装</h2>
<p>在本段中，我们将从部署一个单节点锯齿安装开始，从一个非常简单的 Docker 文件开始，为了简单起见，该文件只包含演示所需的基本组件。</p>
<p>特别是，我们将部署一个验证器设置，它运行一个验证器、一个 REST API、dev 模式共识引擎和三个事务处理器。该环境使用开发模式共识和并行事务处理。</p>
<figure id="attachment_99925" aria-describedby="caption-attachment-99925" class="wp-caption aligncenter"><img data-attachment-id="99925" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/sawtooth-node/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png" data-orig-size="601,252" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sawtooth node" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png" decoding="async" class="wp-image-99925 size-full jetpack-lazy-image" src="../Images/65270ba533b991a3ad18b6fca67c2613.png" alt="Sawtooth Node" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png 601w, https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node-300x126.png 300w" data-lazy-sizes="(max-width: 601px) 100vw, 601px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="99925" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/sawtooth-node/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png" data-orig-size="601,252" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sawtooth node" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png" decoding="async" loading="lazy" class="wp-image-99925 size-full" src="../Images/65270ba533b991a3ad18b6fca67c2613.png" alt="Sawtooth Node" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png 601w, https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node-300x126.png 300w" sizes="(max-width: 601px) 100vw, 601px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-node.png"/></noscript><figcaption id="caption-attachment-99925" class="wp-caption-text"><a href="https://sawtooth.hyperledger.org/docs/1.2/app_developers_guide/creating_sawtooth_network.html" target="_blank" rel="noopener">Sawtooth documentation</a></figcaption></figure>
<p>为了更好地理解这与一个更强大的设置有何不同，让我们将它与一个有四个验证器节点的设置进行比较:</p>
<figure id="attachment_99927" aria-describedby="caption-attachment-99927" class="wp-caption aligncenter"><img data-attachment-id="99927" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/four-validator-node-setting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png" data-orig-size="598,465" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Four Validator Node Setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting-300x233.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png" decoding="async" class="wp-image-99927 size-full jetpack-lazy-image" src="../Images/24b7e846f7343992c93477a878d8c86b.png" alt="Four Validator Node Setting" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png 598w, https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting-300x233.png 300w" data-lazy-sizes="(max-width: 598px) 100vw, 598px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="99927" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/four-validator-node-setting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png" data-orig-size="598,465" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Four Validator Node Setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting-300x233.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png" decoding="async" loading="lazy" class="wp-image-99927 size-full" src="../Images/24b7e846f7343992c93477a878d8c86b.png" alt="Four Validator Node Setting" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png 598w, https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting-300x233.png 300w" sizes="(max-width: 598px) 100vw, 598px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/four-validator-node-setting.png"/></noscript><figcaption id="caption-attachment-99927" class="wp-caption-text"><a href="https://sawtooth.hyperledger.org/docs/1.2/app_developers_guide/creating_sawtooth_network.html" target="_blank" rel="noopener">Sawtooth documentation</a></figcaption></figure>
<p>关于更现实的设置，另一个简化是我们将使用上面描述的 dev 模式一致性算法。一旦系统工作，我将解释如何将它改为更合理的共识算法。</p>
<h3 id="the-repository-and-setup">存储库和设置</h3>
<p>为了您的方便，我们在 GitHub 上提供了一个资源库:您只需从<a href="https://github.com/rosdec/single" target="_blank" rel="noopener">https://github.com/rosdec/single</a>克隆到您选择的目录中。请记住，建议的设置是在选择的 Linux 下进行的，但是经过更多的努力，它将很容易在 Windows 或 Mac OS 下工作。</p>
<p>使用 Node 12，因为有些库对节点版本很挑剔。安装依赖项，一切都将准备好运行(进一步的详细说明在 repo 上的自述文件中)。</p>
<p>示例应用程序有一个非常简单的输出，其背后的整个逻辑并不复杂:它只是将有效负载(一个字符串)存储在区块链的一个特定地址中，并检索它以检查一切是否按预期工作。</p>
<p><img data-attachment-id="99930" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/sawtooth-blockchain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png" data-orig-size="730,79" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sawtooth blockchain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain-300x32.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png" decoding="async" class="aligncenter size-full wp-image-99930 jetpack-lazy-image" src="../Images/e57ef338cc868c9fe3fe0fed088a22b7.png" alt="Sawtooth Blockchain" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain-300x32.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="99930" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/sawtooth-blockchain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png" data-orig-size="730,79" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sawtooth blockchain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain-300x32.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-99930" src="../Images/e57ef338cc868c9fe3fe0fed088a22b7.png" alt="Sawtooth Blockchain" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain-300x32.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/sawtooth-blockchain.png"/></noscript>
<p>更仔细地检查代码将有助于理解在引擎盖下发生了什么，也将让我们抓住锯齿背后的想法。</p>
<h3 id="source-code-inspection">源代码检查</h3>
<p>示例应用程序的核心可以分为两部分:处理器(文件 processor/processor.js)和交互(文件 interact.js)。</p>
<p>该处理器是一个示例事务处理器，它表达了 Hyperledger 锯齿的全部潜力:您可以定义什么是事务以及它如何与区块链存储交互。</p>
<p>这是相对于传统区块链(例如以太坊和比特币)的一个巨大飞跃，在传统中，交易有一种固定的与存储交互的方式，主要是在两个或更多账户之间移动以太网或比特币。</p>
<p>在锯齿中，你可以用任何你喜欢的语言编写你自己的处理器。在示例应用程序中，我们的处理器将简单地将事务负载(一个字符串)存储在一个特定的地址中(第 42 行)。但是你可以设计更复杂的交互方式，在事务级别放置更多的逻辑，而不是，例如，智能契约。</p>
<p><img data-attachment-id="99934" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/smart-contract-with-sawtooth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png" data-orig-size="730,166" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Smart contract with Sawtooth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth-300x68.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png" decoding="async" class="aligncenter size-full wp-image-99934 jetpack-lazy-image" src="../Images/6c127af41c90571b46d488b09379c96e.png" alt="Smart Contract With Sawtooth" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth-300x68.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="99934" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/smart-contract-with-sawtooth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png" data-orig-size="730,166" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Smart contract with Sawtooth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth-300x68.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-99934" src="../Images/6c127af41c90571b46d488b09379c96e.png" alt="Smart Contract With Sawtooth" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth-300x68.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/smart-contract-with-sawtooth.png"/></noscript>
<p>这是使用锯齿的巨大优势:它是一个框架来编写你自己风格的区块链，其中逻辑可以在事务中被正确推动，而不一定在智能合约中。作为这种灵活性的一个例子，您可以查看这个存储库，其中描述了一个处理井字游戏的事务处理器。</p>
<p>与区块链的交互只有两个方法，<code>write_data</code>和<code>read_data</code>，这两个方法都将通过 REST API 与区块链交互(参见上图中的块)。阅读区块链非常简单；它只是调用 API /state 和要读取的地址。</p>
<p><img data-attachment-id="99938" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/reading-from-blockchain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png" data-orig-size="567,136" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Reading from blockchain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain-300x72.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png" decoding="async" class="aligncenter size-full wp-image-99938 jetpack-lazy-image" src="../Images/2fa4460e296184c4259be1ac42da6e76.png" alt="Reading From Blockchain" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png 567w, https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain-300x72.png 300w" data-lazy-sizes="(max-width: 567px) 100vw, 567px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="99938" data-permalink="https://blog.logrocket.com/hyperledger-sawtooth-introduction/reading-from-blockchain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png" data-orig-size="567,136" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Reading from blockchain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain-300x72.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-99938" src="../Images/2fa4460e296184c4259be1ac42da6e76.png" alt="Reading From Blockchain" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png 567w, https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain-300x72.png 300w" sizes="(max-width: 567px) 100vw, 567px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/reading-from-blockchain.png"/></noscript>
<p>另一方面，在区块链上书写由一系列特定的步骤组成。您可以在<code>interact.js</code>文件中跟随它们:</p>
<ol>
<li>首先，创建事务头，最重要的是，它将包含事务族。也就是说，将被调用来处理我们的事务的事务处理器(第 48–58 行)。第二，使用发送交易的主体的私钥对交易进行签名(第 61-66 行);</li>
<li>交易在一个批处理中收集，一个批处理可以收集来自不同主体的交易，并且它自己签名(第 69-81 行)；</li>
<li>一旦事务的签名批准备就绪，它就被编码(第 84–86 行)，以便在 API 调用中安全地使用(第 89–93 行)。</li>
</ol>
<h3 id="changing-the-consensus-algorithm">更改共识算法</h3>
<p>检查完源代码后，让我们看一下 Docker 编写的名为<code>single-node.yaml</code>的文件。它正好包含上面描述的五个组件:</p>
<ol>
<li>事务处理器，其逻辑在<code>processor.js</code>文件中描述；</li>
<li>锯齿 REST API 将指定它将绑定到哪个端口；</li>
<li>允许与保存在区块链上的设置进行交互的强制设置事务处理器；</li>
<li>验证器描述了验证器节点的配置。如您所料，这是指定共识算法的地方(第 48 行)。在这个版本中，规定了我们将使用 dev 模式算法；</li>
<li>devmode 引擎包含这种特定算法的(少量)配置</li>
</ol>
<p>更改共识算法非常简单:只需通过选择您想要使用的算法来修改验证器节点的配置。为了清楚起见，我们使用了 dev 模式引擎，它可以轻松地在单个节点上运行；更复杂的算法需要至少四个节点，因此 docker-compose 文件更复杂。</p>
<p>例如，检查包含使用 pBFT 作为共识算法的配置的<a href="https://github.com/hyperledger/sawtooth-core/blob/main/docker/compose/sawtooth-default-pbft.yaml" target="_blank" rel="noopener"> GitHub </a>(第 138 行)以及如何设置这样的算法以用于该场景(第 300-304 行)；pBFT 至少需要四个节点才能工作(因为领导者选举)，所以您会发现四个验证器节点，类似地，四个 pBFT 引擎，每个验证器一个。</p>
<h2 id="conclusion">结论</h2>
<p>Hyperledger 锯齿能够容纳各种不同的区块链配置，允许我们定制交易的方式和手段。共识算法是区块链实际运行方式的核心，它是可配置的，并且开箱即用，有一系列选项可用于仔细选择区块链的性能和对拜占庭攻击的抵抗力。</p>
<h2 id="references">参考</h2>
<ol>
<li>超级账本锯齿阅读文档-<a href="https://sawtooth.hyperledger.org/" target="_blank" rel="noopener">https://sawtooth.hyperledger.org/</a></li>
<li>比特币:一个点对点的电子现金系统，https://bitcoin.org/bitcoin.pdf 中本聪</li>
<li>卡斯特罗和利斯科夫，1999 年 2 月。实用的拜占庭容错。载于 OsDI(第 99 卷，第 1999 期，第 173-186 页)。<a href="https://pmg.csail.mit.edu/papers/osdi99.pdf" target="_blank" rel="noopener">https://pmg.csail.mit.edu/papers/osdi99.pdf</a></li>
<li>“拜占庭将军的问题”Leslie Lamport，Robert Shostak，Marshall Pease- ACM 编程语言和系统汇刊| 1982 年 7 月，第 382-401 页</li>
</ol>
<p> </p><div class="code-block code-block-26">
<div class="blog-plug inline-plug blockchain-plug"><h2>加入像 Bitso 和 Coinsquare 这样的组织，他们使用 LogRocket 主动监控他们的 Web3 应用</h2><p>影响用户在您的应用中激活和交易的能力的客户端问题会极大地影响您的底线。如果您对监控 UX 问题、自动显示 JavaScript 错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/web3-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的 DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试 web 和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>