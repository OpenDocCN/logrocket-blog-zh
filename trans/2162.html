<html>
<head>
<title>Build a WYSIWYG text editor using Quill - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 Quill - LogRocket 博客创建一个所见即所得的文本编辑器</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/#0001-01-01">https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/#0001-01-01</a></blockquote><div><article class="article-post">
<p>无论是撰写评论、撰写博客文章，还是撰写高级文章，一个配置良好、性能卓越的文本编辑器始终是高效工作和良好用户体验的基石之一。</p>
<h2>奎尔是什么？</h2>
<p>web 开发人员中最受欢迎的选择之一是<a href="https://quilljs.com/" target="_blank" rel="noopener"> Quill </a>，这是一个基于 WYSIWYG(所见即所得)原则的富文本编辑器，这意味着用户可以在编辑内容的同时预览其最终外观。</p>
<p>用户选择 Quill 的一些主要原因是它的易用性、定制选项、令人敬畏的<a href="https://quilljs.com/docs/quickstart/" target="_blank" rel="noopener">文档</a>，以及它是<a href="https://github.com/quilljs/quill" target="_blank" rel="noopener">开源的事实</a>。</p>
<p>下面的<a href="https://www.npmtrends.com/" target="_blank" rel="noopener"> npm 趋势</a>流行图显示了去年 Quill 和其他所见即所得文本编辑器的下载统计数据:</p>
<p><img data-attachment-id="66892" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/npm-trends/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png" data-orig-size="730,299" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="npm trends graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png" decoding="async" class="aligncenter size-full wp-image-66892 jetpack-lazy-image" src="../Images/36afa86e29171e1eb02c2a1d0ce9637e.png" alt="npm Trends Graph" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends-300x123.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66892" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/npm-trends/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png" data-orig-size="730,299" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="npm trends graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66892" src="../Images/36afa86e29171e1eb02c2a1d0ce9637e.png" alt="npm Trends Graph" srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends-300x123.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/npm-trends.png"/></noscript>
<p>今天，我们将使用<a href="https://quilljs.com" target="_blank" rel="noopener">羽毛笔</a>在<a href="https://reactjs.org" target="_blank" rel="noopener"> React </a>中构建一个所见即所得的文本编辑器。</p>
<p><img data-attachment-id="66894" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/example-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png" data-orig-size="730,172" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor-300x71.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png" decoding="async" class="aligncenter size-full wp-image-66894 jetpack-lazy-image" src="../Images/6a0136c95d065ff0de1d50607301f383.png" alt="Example Editor" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor-300x71.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66894" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/example-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png" data-orig-size="730,172" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor-300x71.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66894" src="../Images/6a0136c95d065ff0de1d50607301f383.png" alt="Example Editor" srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor-300x71.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/example-editor.png"/></noscript>
<p>在本教程结束时，您将拥有一个功能齐全的文本编辑器，它具有文本格式选项和对编辑器内容的完全访问权。</p>
<h2>在 React 中初始化工作区</h2>
<p>首先，让我们使用<a href="https://create-react-app.dev/" target="_blank" rel="noopener"> Create React App </a>设置一个 React 应用程序，它不需要任何设置，只需一分钟就可以创建一个完全正常工作的 React 样板文件。</p>
<p>打开您的终端并运行以下命令:</p>
<pre>npx create-react-app react-quill-editor</pre>
<p>之后，通过运行以下命令，将工作目录更改为新创建的项目文件夹:</p>
<pre>cd react-quill-editor</pre>
<p>然后通过运行以下命令启动 React 应用程序:</p>
<pre>npm start</pre>
<p>您的浏览器窗口应该会自动打开，您应该会看到如下所示的默认模板:</p>
<p><img data-attachment-id="66896" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/default-react-template/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Default React template" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png" decoding="async" class="aligncenter size-full wp-image-66896 jetpack-lazy-image" src="../Images/e3f6b340fdb3fb2ecae0ca5326c6182f.png" alt="Default React Template" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template-300x158.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66896" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/default-react-template/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Default React template" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66896" src="../Images/e3f6b340fdb3fb2ecae0ca5326c6182f.png" alt="Default React Template" srcset="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template-300x158.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/default-react-template.png"/></noscript>
<p>回到项目文件文件夹，我们有一些我们不需要的文件。</p>
<p>找到<code>src</code>文件夹，删除除了<code>App.js</code>和<code>index.js</code>之外的所有内容，前者将包含编辑器的主要逻辑，后者将编辑器呈现到 DOM 中。</p>
<h2>设置文本编辑器</h2>
<p>首先，安装<code>react-quill</code>包，它是围绕 Quill 的 React 包装器。为此，请在终端中运行以下命令:</p>
<pre>`npm i react-quill`</pre>
<p>安装完成后，打开<code>App.js</code>文件，导入<code>ReactQuill</code>组件，并将其包含到<code>App</code>中，如下图所示:</p>
<pre>javascript
import ReactQuill from 'react-quill';
import 'react-quill/dist/quill.snow.css';

const App = () =&gt; {
    return (
        &lt;ReactQuill theme="snow"/&gt;
    )
}

export default App;
</pre>
<p>要将应用程序渲染到 DOM，请确保您的<code>index.js</code>如下所示:</p>
<pre>javascript
import  React  from  "react";
import  ReactDOM  from  "react-dom";

import  App  from  "./App";

ReactDOM.render(
    &lt;React.StrictMode&gt;
        &lt;App  /&gt;
    &lt;/React.StrictMode&gt;,
    document.getElementById("root")
);
</pre>
<p>现在打开浏览器窗口。如果您的 React 应用程序仍在运行，您将看到基本编辑器已经呈现:</p>
<p><img data-attachment-id="66898" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/basic-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif" data-orig-size="730,195" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Basic editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor-300x80.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif" decoding="async" class="aligncenter size-full wp-image-66898 jetpack-lazy-image" src="../Images/338f1ed829a63ae2f05a2f9d361e4d93.png" alt="Basic Editor" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66898" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/basic-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif" data-orig-size="730,195" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Basic editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor-300x80.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66898" src="../Images/338f1ed829a63ae2f05a2f9d361e4d93.png" alt="Basic Editor" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/basic-editor.gif"/></noscript>
<p>注意，出于演示的目的，我添加了一些来自<a href="https://www.lipsum.com/" target="_blank" rel="noopener"> Lorem Ipsum </a>的虚拟文本。</p>
<h2>在鹅毛笔中选取主题</h2>
<p>Quill 有几个内置的主题。第一个是一个干净而扁平的工具栏主题，名为“雪”，我们已经使用过，并被广泛认为是羽毛笔的标准外观。</p>
<p>“雪”主题包括工具栏选项，如<code>h1</code>、<code> h2</code>、<code>h3</code>、<code>bold</code>、<code>italic</code>和<code>underline</code>。还有一个添加链接和创建有序和无序项目列表的选项。</p>
<p>第二个叫做“泡沫”这是一个基于工具提示的主题，让人想起了<a href="https://medium.com" target="_blank" rel="noopener"> Medium 的</a>标准文本编辑器。</p>
<p>设置与前面的主题相同，只是您导入了不同的样式表并为<code>theme</code>属性设置了不同的值，如下所示:</p>
<pre>javascript
import ReactQuill from 'react-quill';
import 'react-quill/dist/quill.bubble.css';

const App = () =&gt; {
    return (
        &lt;ReactQuill theme="bubble"/&gt;
    )
}

export default App;</pre>
<p>下面是工具提示主题的外观:</p>
<p><img data-attachment-id="66901" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/tooltip-theme/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif" data-orig-size="730,154" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Tooltip theme" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme-300x63.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif" decoding="async" class="aligncenter size-full wp-image-66901 jetpack-lazy-image" src="../Images/8d4f542b534cea2c23c87b87dc123e56.png" alt="Tooltip Theme" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66901" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/tooltip-theme/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif" data-orig-size="730,154" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Tooltip theme" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme-300x63.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66901" src="../Images/8d4f542b534cea2c23c87b87dc123e56.png" alt="Tooltip Theme" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/tooltip-theme.gif"/></noscript>
<p>主题包括<code>bold</code>、<code>italic</code>、<code>h1</code>、<code>h2</code>等选项，还有一个添加链接和创建报价的选项。</p>
<p>在本教程中，我们将坚持标准的主题，“雪”。</p>
<h2>在 Quill 中选择工具栏选项</h2>
<p>Quill 允许用户控制使用哪些工具栏功能。受支持的选项可以按照它们在编辑器中的显示方式来划分——作为内联、块或嵌入元素。</p>
<p>有关可用选项的完整列表，请参见下表:</p>
<table>
<tbody>
<tr>
<td>类型</td>
<td>[计]选项</td>
</tr>
<tr>
<td>在一条直线上的</td>
<td><code>font</code>、<code>size</code>、<code>background</code>、<code>color</code>、<code>bold</code>、<code>italic</code>、<code>script</code>、<code>strike</code>、<code>underline</code>、<code>link</code>、<code>code</code></td>
</tr>
<tr>
<td>街区</td>
<td><code>header</code>、<code>list</code>、<code>blockquote</code>、<code>direction</code>、<code>indent</code>、<code>align</code>、<code>codeblock</code></td>
</tr>
<tr>
<td>把…嵌入</td>
<td><code>image</code>，<code>video</code></td>
</tr>
</tbody>
</table>
<p>工具栏通过<code>toolbar</code>模块进行配置。</p>
<pre>javascript
import ReactQuill from 'react-quill';
import 'react-quill/dist/quill.snow.css';

const modules = {
    toolbar: [
        // options here
    ]
}

const App = () =&gt; {
    return (
        &lt;ReactQuill modules={modules} theme="snow"/&gt;
    )
}

export default App;</pre>
<p>可用的功能可以通过嵌套数组进行分组。这将在 UI 中的组之间添加一个空格。</p>
<pre>javascript
const modules = {
    toolbar: [
        ["font", "header"], ["bold", "underline"],
    ]
}
</pre>
<p>此外，您可以通过提供对象键的类型来自定义按钮。</p>
<p>您可以为<code>script</code>(“sub”和“super”)、<code>list</code>(“ordered”和“bullet”)和<code>indent</code>(“+1”和“-1”)提供类型。</p>
<p>类似地，您可以对下拉列表进行同样的操作，只是所有的值都必须以数组的形式提供。您可以将它用于<code>heading</code>，在这里您可以提供值<code>1</code>到<code>6</code>。</p>
<pre>javascript
const modules = {
    toolbar: [
        { script:  "sub"  }, // custom button
        { header:  [1, 2, 3]  }, // custom dropdown
    ]
}</pre>
<p>要使用选项<code>font</code>、<code>color</code>和<code>background</code>的默认值，将键值设置为空数组，如下所示:</p>
<pre>javascript
const modules = {
    toolbar: [
        { color: [] }, 
    ]
}</pre>
<p>让我们结合以上所学，创建一个富文本编辑器，它具有用户创建内容可能需要的所有功能:</p>
<pre>javascript
import  ReactQuill  from  "react-quill";
import  "react-quill/dist/quill.snow.css";

const  modules  = {
    toolbar: [
        [{ font: [] }],
        [{ header: [1, 2, 3, 4, 5, 6, false] }],
        ["bold", "italic", "underline", "strike"],
        [{ color: [] }, { background: [] }],
        [{ script:  "sub" }, { script:  "super" }],
        ["blockquote", "code-block"],
        [{ list:  "ordered" }, { list:  "bullet" }],
        [{ indent:  "-1" }, { indent:  "+1" }, { align: [] }],
        ["link", "image", "video"],
        ["clean"],
    ],
};

const  App  = () =&gt; {
    return  &lt;ReactQuill  modules={modules} theme="snow" placeholder="Content goes here..."  /&gt;;
};

export  default  App;</pre>
<p>注意，我们还为<code>ReactQuill</code>组件设置了一个占位符道具，它通过突出显示内容应该在的位置来改善整体 UI。</p>
<p>如果我们再次检查浏览器，现在我们有一个功能丰富的文本编辑器，如下所示:</p>
<p><img data-attachment-id="66903" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/feature-rich-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif" data-orig-size="730,173" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Feature rich editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor-300x71.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif" decoding="async" class="aligncenter size-full wp-image-66903 jetpack-lazy-image" src="../Images/d00240ead167fba5775dc87a988e1639.png" alt="Feature Rich Editor" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66903" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/feature-rich-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif" data-orig-size="730,173" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Feature rich editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor-300x71.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66903" src="../Images/d00240ead167fba5775dc87a988e1639.png" alt="Feature Rich Editor" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/feature-rich-editor.gif"/></noscript>
<h2>使用编辑器状态</h2>
<p>为了实际使用这些内容(比如将它发布到数据库中)，我们首先需要访问它。为此，我们将使用 React 内置的<code>useState</code>钩子。</p>
<p>首先，将其导入到<code>App.js</code>文件的最顶端:</p>
<pre>javascript
import {useState} from 'react'</pre>
<p>然后，在<code>App</code>组件中，创建一个<code>value</code>变量来保存编辑器的内容，并将值设置为一个空字符串。</p>
<pre>javascript
const [value, setValue] =  useState("");</pre>
<p>最后，将<code>setValue</code>函数设置为<code>ReactQuill</code>组件中的<code>onChange</code>事件处理程序，这样每次编辑器发生变化时<code>value</code>都会得到更新。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<pre>javascript
&lt;ReactQuill  modules={modules} theme="snow" onChange={setValue} placeholder="Content goes here..."  /&gt;;</pre>
<p>我们还将在<code>App</code>组件中添加<code>console.log(value)</code>,这样更容易测试值是否按预期更新。</p>
<p>如果您继续操作，您的<code>App.js</code>文件现在应该是这样的:</p>
<pre>javascript
import { useState } from  "react";
import  ReactQuill  from  "react-quill";
import  "react-quill/dist/quill.snow.css";

const  modules  = {
    toolbar: [
        [{ font: [] }],
        [{ header: [1, 2, 3, 4, 5, 6, false] }],
        ["bold", "italic", "underline", "strike"],
        [{ color: [] }, { background: [] }],
        [{ script:  "sub" }, { script:  "super" }],
        ["blockquote", "code-block"],
        [{ list:  "ordered" }, { list:  "bullet" }],
        [{ indent:  "-1" }, { indent:  "+1" }, { align: [] }],
        ["link", "image", "video"],
        ["clean"],
    ],
};

const  App  = () =&gt; {
    const [value, setValue] =  useState("");
    console.log(value);

    return  &lt;ReactQuill  modules={modules} theme="snow" onChange={setValue} placeholder="Content goes here..." /&gt;;
};

export  default  App;</pre>
<p>现在检查你的浏览器并打开<strong>开发者工具</strong>。你可以通过浏览器设置或按键盘上的<code>F12</code>键来完成。一旦<strong>开发者工具</strong>打开，切换到<strong>控制台</strong>标签。</p>
<p>现在尝试在编辑器中键入一些内容，并使用一些样式选项。正如你所看到的，每次有更新时，<code>value</code>都会被打印在控制台上，这意味着你可以在任何需要的时候访问它。</p>
<p><img data-attachment-id="66905" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/value-printed-console/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Value printed on console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console-300x67.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif" decoding="async" class="aligncenter size-full wp-image-66905 jetpack-lazy-image" src="../Images/2a90da7f5bf3c2590e944acbadf95c2f.png" alt="Value Printed on Console" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="66905" data-permalink="https://blog.logrocket.com/build-a-wysiwyg-text-editor-using-quill/value-printed-console/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Value printed on console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console-300x67.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-66905" src="../Images/2a90da7f5bf3c2590e944acbadf95c2f.png" alt="Value Printed on Console" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/09/value-printed-console.gif"/></noscript>
<p>打印出来的值是一个由 HTML 语法表示的编辑器内容组成的<code>string</code>。</p>
<p>可以通过在<code>App</code>组件中添加<code>console.log(typeof value)</code>来测试。字符串格式允许您在以后处理和存储内容。</p>
<h2>结论</h2>
<p>恭喜你，你已经在 React 中创建了一个功能齐全的文本编辑器！这应该涵盖了内容创作者的大部分需求。</p>
<p>下次你在为所见即所得编辑器寻找一个可靠的解决方案时，不要再看 Quill 了。它很容易设置，非常灵活，开发人员可以完全使用编辑器的特性。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用 LogRocket 消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款 React analytics 解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket 告诉您 React 应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS 异常、前端性能指标和用户交互。然后，LogRocket 使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的 React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试 LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>