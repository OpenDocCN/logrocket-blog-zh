<html>
<head>
<title>Pagination components with React and Tailwind CSS - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React 和 Tailwind CSS 分页组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/pagination-components-react-tailwind-css/#0001-01-01">https://blog.logrocket.com/pagination-components-react-tailwind-css/#0001-01-01</a></blockquote><div><article class="article-post">
<p>分页，也称为分页，将网页上的信息分成不同的页面，可以使用按钮或编号列表进行导航。分页可以改善你的网站的组织，有利于 UX，并最终提高整体排名。您可以向 web、桌面或移动应用程序添加分页，并在客户端或服务器端实现它。</p>
<p>在本教程中，我们将使用 React 和 Tailwind CSS 在客户端创建两种不同类型的分页组件。一个将使用按钮导航，一个将使用编号列表。我们开始吧！</p>
<h2>在 React 项目中使用顺风 CSS</h2>
<p>首先，通过运行以下命令，在您的本地计算机上建立一个新的 React 项目:</p>
<pre class="language-shell hljs">npx create-react-app my-app
cd my-app
</pre>
<p>接下来，我们将在目录中安装 Tailwind CSS 和其他一些依赖项:</p>
<pre class="language-shell hljs">npm install -D <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bcc8ddd5d0cbd5d2d8dfcfcffcd2ccd1">[email protected]</a>:@tailwindcss/postcss7-compat <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="62120d111601111122">[email protected]</a>^7 <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a2c3d7d6cdd2d0c7c4cbdac7d0e2">[email protected]</a>^9
</pre>
<p>我们需要安装 Create React 应用程序，但是，它不能本地覆盖 PostCSS 配置。因此，我们将安装 CRACO，<a href="https://blog.logrocket.com/tailwind-css-configure-create-react-app/">CRA</a>的配置层，以及我们<code>package.json</code>中的一些其他脚本:</p>
<pre class="language-shell hljs">npm install @craco/craco
</pre>
<p>项目的<code>scripts</code>部分应该类似于下面的代码块:</p>
<pre>  "scripts": {
    "start": "craco start",
    "build": "craco build",
    "test": "craco test",
    "eject": "react-scripts eject"
  },
</pre>
<p>现在，让我们创建一个名为<code>craco.config.js</code>的新文件，并添加 Tailwind CSS 和<code>autoprefixer</code>作为 PostCSS 插件:</p>
<pre class="language-json hljs">module.exports = {
  style: {
    postcss: {
      plugins: [require("tailwindcss"), require("autoprefixer")],
    },
  },
};
</pre>
<p>接下来，我们将使用以下命令创建一个名为<code>tailwind.config.js</code>的文件:</p>
<pre class="language-shell hljs">npx <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2551444c49524c4b414656560846494c65494451405651">[email protected]</a> init
</pre>
<p>要完成对 Tailwind CSS 的配置，请在您的<code>default index.css</code>文件中添加以下代码:</p>
<pre class="language-css hljs">@tailwind base;
@tailwind components;
@tailwind utilities;
</pre>
<p>现在我们的项目已经完全设置好了，我们可以开始构建我们的分页组件了！</p>
<h2>构建分页组件</h2>
<p>我们的项目将遵循下图中的结构。让我们深入了解一下这些文件和文件夹:</p>
<p><img data-attachment-id="63238" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/react-tailwindcss-project-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png" data-orig-size="304,636" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-tailwindcss-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure-143x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png" decoding="async" class="aligncenter wp-image-63238 size-full jetpack-lazy-image" src="../Images/3ef13c724ae50edcdf45b24e8dcfd1af.png" alt="React Tailwind CSS Project Structure" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png 304w, https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure-143x300.png 143w" data-lazy-sizes="(max-width: 304px) 100vw, 304px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63238" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/react-tailwindcss-project-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png" data-orig-size="304,636" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-tailwindcss-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure-143x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png" decoding="async" loading="lazy" class="aligncenter wp-image-63238 size-full" src="../Images/3ef13c724ae50edcdf45b24e8dcfd1af.png" alt="React Tailwind CSS Project Structure" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png 304w, https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure-143x300.png 143w" sizes="(max-width: 304px) 100vw, 304px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwindcss-project-structure.png"/></noscript>
<p><code>Pagination.js</code>将保存处理和显示分页组件的逻辑。这个文件夹中的代码对于两种类型的分页都是不同的，所以我们稍后再看一遍。</p>
<p><code>Posts.js</code>是一个静态的<code>POST</code>元素，它将从 API 中获取随机数据。如下面的代码块所示，<code>Posts.js</code>的数据和结构对于两种类型的分页都是相同的:</p>
<pre>import React from "react";

const Posts = ({ posts, loading }) =&gt; {
  if (loading) {
    return &lt;h2&gt;Loading...&lt;/h2&gt;;
  }

  return (
    &lt;div&gt;
      &lt;ul&gt;
        {posts.map((post) =&gt; (
          &lt;li
            key={post.id}
            className='text-gray-700 font-semibold text-xl mb-2 border p-2'
          &gt;
            {post.title}
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
};

export default Posts;
</pre>
<h2>使用导航按钮分页</h2>
<p>我们将创建的第一种分页组件使用“下一页”和“上一页”按钮来浏览网页上的数据。我们的<code>App.js</code>文件将类似于下面的代码块:</p>
<pre>import React, { useState, useEffect } from "react";
import Posts from "./Posts";
import Pagination from "./Pagination";
import axios from "axios";

const App = () =&gt; {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(false);
  const [currentPage, setCurrentPage] = useState(1);
  const [postsPerPage] = useState(10);

  useEffect(() =&gt; {
    const fetchPosts = async () =&gt; {
      setLoading(true);
      const res = await axios.get("https://jsonplaceholder.typicode.com/posts");
      setPosts(res.data);
      setLoading(false);
    };

    fetchPosts();
  }, []);

  // Get current posts
  const indexOfLastPost = currentPage * postsPerPage;
  const indexOfFirstPost = indexOfLastPost - postsPerPage;
  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);

  // Change page
  const paginateFront = () =&gt; setCurrentPage(currentPage + 1);
  const paginateBack = () =&gt; setCurrentPage(currentPage - 1);

  return (
    &lt;div&gt;
      &lt;Posts posts={currentPosts} /&gt;
      &lt;Pagination
        postsPerPage={postsPerPage}
        totalPosts={posts.length}
        paginateBack={paginateBack}
        paginateFront={paginateFront}
        currentPage={currentPage}
      /&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>在我们的<code>App.js</code>文件中，<code>posts</code>中的数据来自后端。让我们回顾一下分页组件中使用这些数据的一些函数:</p>
<ul>
<li><code>currentPage</code>:向用户指示他们当前所在的页面</li>
<li><code>postsPerPage</code>:每页显示的文章总数</li>
<li><code>currentPosts</code>:当前页面的文章数组</li>
</ul>
<p>为了得到<code>currentPosts</code>，我们需要将<code>indexOfFirstPost</code>和<code>indexOfLastPost</code>传递给<code>slice()</code>函数。</p>
<p>为了在页面之间来回移动，我们将使用<code>paginateFront</code>和<code>paginateBack</code>。这些函数简单地增加或减少<code>currentPage</code>，并且<code>currentPosts</code>作为结果被计算。</p>
<h3><code>Pagination.js</code>文件</h3>
<p>现在，让我们看看我们的<code>Pagination.js</code>文件:</p>
<pre>import React from "react";

export default function Pagination({
  postsPerPage,
  totalPosts,
  paginateFront,
  paginateBack,
  currentPage,
}) {


  return (
    &lt;div className='py-2'&gt;
      &lt;div&gt;
        &lt;p className='text-sm text-gray-700'&gt;
          Showing
          &lt;span className='font-medium'&gt;{currentPage * postsPerPage - 10}&lt;/span&gt;
          to
          &lt;span className='font-medium'&gt; {currentPage * postsPerPage} &lt;/span&gt;
          of
          &lt;span className='font-medium'&gt; {totalPosts} &lt;/span&gt;
          results
        &lt;/p&gt;
      &lt;/div&gt;
      &lt;nav className='block'&gt;&lt;/nav&gt;
      &lt;div&gt;
        &lt;nav
          className='relative z-0 inline-flex rounded-md shadow-sm -space-x-px'
          aria-label='Pagination'
        &gt;
          &lt;a
            onClick={() =&gt; {
              paginateBack();
            }}
            href='#'
            className='relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50'
          &gt;
            &lt;span&gt;Previous&lt;/span&gt;
          &lt;/a&gt;

          &lt;a
            onClick={() =&gt; {
              paginateFront();
            }}
            href='#'
            className='relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50'
          &gt;
            &lt;span&gt;Next&lt;/span&gt;
          &lt;/a&gt;
        &lt;/nav&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>分页组件接受呈现页面当前信息的道具，而 Tailwind CSS 实用程序类消除了对外部 CSS 的需求。</p>
<p>当我们运行上面的代码时，我们将收到以下结果:</p>
<p><img data-attachment-id="63241" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/previous-next-pagination-results-return-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png" data-orig-size="730,806" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="previous-next-pagination-results-return-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page-272x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png" decoding="async" class="aligncenter wp-image-63241 size-full jetpack-lazy-image" src="../Images/8333d6b22106e115c604d2b5bcadc88e.png" alt="Previous Next Pagination Results Return Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page-272x300.png 272w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63241" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/previous-next-pagination-results-return-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png" data-orig-size="730,806" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="previous-next-pagination-results-return-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page-272x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png" decoding="async" loading="lazy" class="aligncenter wp-image-63241 size-full" src="../Images/8333d6b22106e115c604d2b5bcadc88e.png" alt="Previous Next Pagination Results Return Page" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page-272x300.png 272w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/previous-next-pagination-results-return-page.png"/></noscript>
<p>在上图中，我们的分页组件显示了 100 个结果中的 10 到 20 个。让我们点击下一个按钮，看看会发生什么:</p>
<p><img data-attachment-id="63243" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/react-tailwind-pagination-previous-next-results/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png" data-orig-size="730,714" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-tailwind-pagination-previous-next-results" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results--300x293.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png" decoding="async" class="aligncenter wp-image-63243 size-full jetpack-lazy-image" src="../Images/19ec0cbcdd8afa24c0d2a17ce836466d.png" alt="React Tailwind Pagination Previous Next Results" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results--300x293.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63243" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/react-tailwind-pagination-previous-next-results/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png" data-orig-size="730,714" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-tailwind-pagination-previous-next-results" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results--300x293.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png" decoding="async" loading="lazy" class="aligncenter wp-image-63243 size-full" src="../Images/19ec0cbcdd8afa24c0d2a17ce836466d.png" alt="React Tailwind Pagination Previous Next Results" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results--300x293.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/react-tailwind-pagination-previous-next-results-.png"/></noscript>
<p>现在，我们可以看到结果 20 到 30。当我们点击“上一步”按钮时，我们将返回结果 10 至 20:</p>
<p><img data-attachment-id="63245" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/prvious-next-pagination-results-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png" data-orig-size="730,683" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="previous-next-pagination-results-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page-300x281.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png" decoding="async" class="aligncenter wp-image-63245 size-full jetpack-lazy-image" src="../Images/060f25a8fd49fb3903e65377d5eea588.png" alt="Previous Next Pagination Results Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page-300x281.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63245" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/prvious-next-pagination-results-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png" data-orig-size="730,683" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="previous-next-pagination-results-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page-300x281.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png" decoding="async" loading="lazy" class="aligncenter wp-image-63245 size-full" src="../Images/060f25a8fd49fb3903e65377d5eea588.png" alt="Previous Next Pagination Results Page" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page-300x281.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/prvious-next-pagination-results-page.png"/></noscript>
<h2>使用编号列表分页</h2>
<p>我们将构建的第二个分页组件使用一个编号列表进行导航，而不是使用 Next 和 Previous 按钮。我们必须对我们的<code>App.js</code>文件和发送到分页组件的属性做一些修改。</p>
<p>更新您的<code>App.js</code>文件，看起来像下面的代码块:</p>
<pre>  import React, { useState, useEffect } from "react";
import Posts from "./Posts";
import Pagination from "./Pagination";
import axios from "axios";

const App = () =&gt; {
  const [posts, setPosts] = useState([]);
  const [loading, setLoading] = useState(false);
  const [currentPage, setCurrentPage] = useState(1);
  const [postsPerPage] = useState(10);

  useEffect(() =&gt; {
    const fetchPosts = async () =&gt; {
      setLoading(true);
      const res = await axios.get("https://jsonplaceholder.typicode.com/posts");
      setPosts(res.data);
      setLoading(false);
    };

    fetchPosts();
  }, []);

  // Get current posts
  const indexOfLastPost = currentPage * postsPerPage;
  const indexOfFirstPost = indexOfLastPost - postsPerPage;
  const currentPosts = posts.slice(indexOfFirstPost, indexOfLastPost);

  // Change page
  const paginate = (pageNumber) =&gt; setCurrentPage(pageNumber);
  return (
    &lt;div&gt;
      &lt;Posts posts={currentPosts} /&gt;
      &lt;Pagination
        postsPerPage={postsPerPage}
        totalPosts={posts.length}
        paginate={paginate}
        currentPage={currentPage}
      /&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>现在，我们有了一个单独的分页函数，它只更新<code>currentPage</code>来设置<code>currentPosts</code>，而不是像以前的分页组件那样传递<code>indexOfFirstPost</code>和<code>indexOfLastPost</code>。</p>
<p>让我们看看使用编号列表的分页组件的代码:</p>
<pre>import React from "react";

export default function Pagination({
  postsPerPage,
  totalPosts,
  paginate,
  currentPage,
}) {
  const pageNumbers = [];

  for (let i = 1; i &lt;= Math.ceil(totalPosts / postsPerPage); i++) {
    pageNumbers.push(i);
  }

  return (
    &lt;div className='py-2'&gt;
      &lt;div&gt;
        &lt;p className='text-sm text-gray-700'&gt;
          Showing
          &lt;span className='font-medium'&gt;
            {" "}
            {currentPage * postsPerPage - 10}{" "}
          &lt;/span&gt;
          to
          &lt;span className='font-medium'&gt; {currentPage * postsPerPage} &lt;/span&gt;
          of
          &lt;span className='font-medium'&gt; {totalPosts} &lt;/span&gt;
          results
        &lt;/p&gt;
      &lt;/div&gt;
      &lt;nav className='block'&gt;
        &lt;ul className='flex pl-0 rounded list-none flex-wrap'&gt;
          &lt;li&gt;
            {pageNumbers.map((number) =&gt; (
              &lt;a
                onClick={() =&gt; {
                  paginate(number);
                }}
                href='#'
                className={
                  currentPage === number
                    ? "bg-blue border-red-300 text-red-500 hover:bg-blue-200 relative inline-flex items-center px-4 py-2 border text-sm font-medium"
                    : "bg-white border-gray-300 text-gray-500 hover:bg-blue-200 relative inline-flex items-center px-4 py-2 border text-sm font-medium"
                }
              &gt;
                {number}
              &lt;/a&gt;
            ))}
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>我们创建了一个数组，可以动态计算给定数据量所需的页数。然后，它将数据追加到<code>pageNumbers</code> <em> <em/> </em>数组中。</p>
<p>现在，我们将创建一个无序列表，通过循环遍历我们的<code>pageNumbers</code>数组来呈现列表项。创建一个无序列表将为页面生成一个导航组件，如下图所示:</p>
<p><img data-attachment-id="63249" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-display/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-display" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png" decoding="async" class="aligncenter wp-image-63249 size-full jetpack-lazy-image" src="../Images/8f75fa0df06ddaf20d8253b08de169e7.png" alt="Numbered Pagination Component Display" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display-300x83.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63249" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-display/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-display" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png" decoding="async" loading="lazy" class="aligncenter wp-image-63249 size-full" src="../Images/8f75fa0df06ddaf20d8253b08de169e7.png" alt="Numbered Pagination Component Display" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display-300x83.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-display.png"/></noscript>
<p>在<code>map</code>函数中，我们为每个页码附加了一个点击处理程序。单击时，每个按钮将分页到其特定的页面。<code>currentPage</code>将被设置在我们的<code>App.js</code>文件中，我们将得到一个更新的<code>currentPosts</code>数组，它将在前端呈现所需的内容。</p>
<p>让我们突出显示页面导航组件中的活动页面:</p>
<pre>  &lt;a
    onClick={() =&gt; {
      paginate(number);
    }}
    href='#'
    className={
      currentPage === number
        ? "bg-blue border-red-300 text-red-500 hover:bg-blue-200 relative inline-flex items-center px-4 py-2 border text-sm font-medium"
        : "bg-white border-gray-300 text-gray-500 hover:bg-blue-200 relative inline-flex items-center px-4 py-2 border text-sm font-medium"
    }
  &gt;
  {number}
&lt;/a&gt;
</pre>
<p>对于<code>&lt;a&gt;</code>标签，我们根据检查设置不同的 Tailwind CSS 类。如果我们的<code>&lt;a&gt;</code>标签的<code>pageNumber</code>等于<code>currentPage</code>，我们将通过给它一个红色的边框和字体颜色来区分它和其他的<code>&lt;a&gt;</code>标签。</p>
<p>让我们再次运行该项目以查看输出。在第一页，我们将看到以下内容:</p>
<p><img data-attachment-id="63251" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-page-one/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png" data-orig-size="730,630" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-page-one" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one-300x259.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png" decoding="async" class="aligncenter wp-image-63251 size-full jetpack-lazy-image" src="../Images/7fce0ad3db512f02dc9d75999e75aac8.png" alt="Numbered Pagination Component Page One" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one-300x259.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63251" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-page-one/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png" data-orig-size="730,630" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-page-one" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one-300x259.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png" decoding="async" loading="lazy" class="aligncenter wp-image-63251 size-full" src="../Images/7fce0ad3db512f02dc9d75999e75aac8.png" alt="Numbered Pagination Component Page One" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one-300x259.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-one.png"/></noscript>
<p>当我们导航到第十页时，我们将看到以下内容:</p>
<p><img data-attachment-id="63253" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-page-ten/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png" data-orig-size="730,988" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-page-ten" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png" decoding="async" class="aligncenter wp-image-63253 size-full jetpack-lazy-image" src="../Images/e4ce69879f0e727d3d8ebd69385ecd23.png" alt="Numbered Pagination Component Page Ten" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten-222x300.png 222w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63253" data-permalink="https://blog.logrocket.com/pagination-components-react-tailwind-css/numbered-pagination-component-page-ten/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png" data-orig-size="730,988" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numbered-pagination-component-page-ten" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png" decoding="async" loading="lazy" class="aligncenter wp-image-63253 size-full" src="../Images/e4ce69879f0e727d3d8ebd69385ecd23.png" alt="Numbered Pagination Component Page Ten" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten-222x300.png 222w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/numbered-pagination-component-page-ten.png"/></noscript>
<h2 id="conclusion">结论</h2>
<p>现在，您应该对分页有了透彻的理解！分页是提高应用程序 UX 的一个很好的特性。我们回顾了使用 Tailwind CSS、导航按钮和编号列表在 React 应用程序中实现分页的两种方法。最佳选择取决于您的应用程序和数据的性质。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用 LogRocket 消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款 React analytics 解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket 告诉您 React 应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS 异常、前端性能指标和用户交互。然后，LogRocket 使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的 React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试 LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>