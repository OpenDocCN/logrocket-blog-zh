<html>
<head>
<title>Inspect your code with Docker and SonarQube </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Docker和SonarQube检查你的代码</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/inspect-code-docker-sonarqube/#0001-01-01">https://blog.logrocket.com/inspect-code-docker-sonarqube/#0001-01-01</a></blockquote><div><article class="article-post">
<p>静态代码检查，或静态源代码分析，正如人们亲切地称呼的那样，是在代码评审期间采用的一种调试技术，其中被调试的程序不被执行。</p>
<p>软件工程师可以使用几种代码分析工具，如<a href="https://www.sonarqube.org" rel="noopener"> SonarQube </a>、<a href="https://scan.coverity.com" rel="noopener"> Coverity </a>和<a href="https://www.codacy.com" rel="noopener"> Codacy </a>。</p>
<p>在本文中，我们将讨论如何在Docker中设置SonarQube，展示如何为您选择的语言配置它，并生成代码质量报告。我们还将介绍整个sonar cube工具链，并演示如何在Docker上使用sonar cube来构建和测试Go应用程序。</p>
<h2>内容</h2>

<h2 id="prerequisites">先决条件</h2>
<p>要阅读本文的教程部分，您需要以下内容:</p>
<ul>
<li>编程语言的工作知识(在本文中我们将使用Go)</li>
<li>您偏好的编程语言的开发环境</li>
<li>安装在您机器上的Docker</li>
<li>充足的磁盘空间用于安装SonarQube。</li>
</ul>
<h2 id="what-is-sonarqube">SonarQube是什么？</h2>
<p>SonarQube是一个流行的代码质量和代码安全性连续检查工具，旨在帮助开发团队发布更好的软件。它作为一个自动代码审查工具，支持30多种编程语言。</p>
<p>SonarQube可以轻松地与CI管道和DevOps构建接口，使工程师能够快速高效地检查代码。它也是自我管理的，满足了开发人员快速交付高质量和可维护代码的需求。</p>
<h3 id="understanding-the-sonar-ecosystem">了解声纳生态系统</h3>
<p>SonarQube是<a href="https://sonarsource.com" rel="noopener">声纳</a>生态系统的核心元素，包括<a href="https://www.sonarlint.org" rel="noopener">声纳云</a>和<a href="https://docs.sonarcloud.io" rel="noopener">声纳云</a>。整个Sonar生态系统专注于帮助开发人员编写干净的、高度可维护的代码。</p>
<p>生态系统由面向个人开发者、团队和企业的解决方案组成。还有一个活跃的<a href="https://community.sonarsource.com/" rel="noopener">社区</a>，开源贡献者可以在其中为改进工具做出贡献。</p>
<p>可以安装SonarLint解决方案来实时分析代码，并随时获得实时反馈。SonarCloud使开发人员能够审查和报告版本控制软件上的代码更改，以及评估生产代码。我们已经看到，SonarQube与SonarCloud具有相同的功能，不同之处在于企业功能与自我管理功能。</p>
<h3 id="understanding-how-sonarqube-functions">了解SonarQube的工作原理</h3>
<p>SonarQube提供了静态代码分析工具，用于检测bug、消除安全漏洞、自动化代码审查和代码质量保证。SonarQube依靠一个名为SonarScanner的终端及其CLI工具来运行和报告测试结果。</p>
<p>从技术上讲，您首先从Docker Hub下载SonarQube映像。之后，您必须为您的操作系统安装SonarScanner CLI。</p>
<p>在SonarQube仪表板上创建和测试项目。要访问仪表板，必须释放一个端口作为服务器，并将SonarQube docker容器指向该端口，通过localhost IP地址可以访问该端口。</p>
<p>SonarQube只有在被添加到项目的测试文件夹中时，才有权测试项目。向SonarQube报告的SonarScanner工具必须有相应的端口号。</p>
<h2 id="code-analysis-with-sonarqube">使用SonarQube进行代码分析</h2>
<p>现在我们对sonar cube是什么以及它是如何工作的有了更好的理解，让我们看看如何在Docker上使用sonar cube进行代码覆盖、扫描漏洞和代码分析。</p>
<h3 id="installing-sonarqube-on-docker">在Docker上安装SonarQube</h3>
<p>在Docker上获取SonarQube只需从<a href="https://hub.docker.com/_/sonarqube" rel="noopener"> Docker Hub </a>获取图像。如果你使用Linux机器，你需要使用Docker在<a href="https://hub.docker.com/_/sonarqube" rel="noopener">“Docker主机需求”</a>下提供的命令来设置推荐的基本配置。</p>
<p>接下来，在一个单独的终端中启动Docker守护进程。在终端上，运行以下命令启动服务器:</p>
<pre class="language-go hljs">docker run -d --name sonarqube -p 8000:8000 sonarqube
</pre>
<p>您可以使用主机IP地址和指定的端口(在我们的示例中为<code>localhost:8000</code>)来访问SonarQube实例。</p>
<p>当SonarQube门户主页出现时，继续登录；使用默认用户名和密码(“admin”)。接下来，会要求您更新密码:</p>
<p><img data-attachment-id="137883" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonarcube-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg" data-orig-size="730,403" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="SonarQube dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard-300x166.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg" decoding="async" class="aligncenter size-full wp-image-137883 jetpack-lazy-image" src="../Images/c29f4e334feef06df86e133c8f905922.png" alt="SonarQube Dashboard" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard-300x166.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137883" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonarcube-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg" data-orig-size="730,403" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="SonarQube dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard-300x166.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137883" src="../Images/c29f4e334feef06df86e133c8f905922.png" alt="SonarQube Dashboard" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard-300x166.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarcube-dashboard.jpg"/></noscript>
<p>维奥拉。您已经准备好开始在Docker上使用SonarQube了。</p>
<h3 id="installing-sonarscanner">安装声纳扫描仪</h3>
<p>SonarScanner是一个CLI工具，用于运行SonarQube测试。为了查看测试结果，SonarScanner将测试的反馈发送到SonarQube服务器供您查看。你可以<a href="https://docs.sonarqube.org/latest/analysis/scan/sonarscanner/" rel="noopener">在这里</a>下载SonarScanner。</p>
<p>选择您的操作系统并下载文件。</p>
<p>提取zip文件的内容后，导航到<code>conf/sonar-scanner.properties</code>并确保默认服务器端口与您的SonarQube端口相同。这将允许SonarScanner向SonarQube发送分析结果。</p>
<p>现在，将SonarScanner的bin文件夹添加到您机器的环境中<code>$PATH</code>。在Windows上，该过程包括以下步骤:</p>
<ol>
<li>下载Windows zip文件</li>
<li>重命名文件<code>sonar-scanner</code></li>
<li>将文件移动到您的首选目录</li>
<li>将该目录作为新的环境变量添加到PATH中</li>
<li>使用新终端验证您的安装，并执行以下命令:</li>
</ol>
<p><img data-attachment-id="137886" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonar-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg" data-orig-size="434,138" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Sonar command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command-300x95.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg" decoding="async" class="aligncenter size-full wp-image-137886 jetpack-lazy-image" src="../Images/d823e17f83ee31bc0671e601fc04258a.png" alt="Sonar Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg 434w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command-300x95.jpg 300w" data-lazy-sizes="(max-width: 434px) 100vw, 434px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137886" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonar-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg" data-orig-size="434,138" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Sonar command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command-300x95.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137886" src="../Images/d823e17f83ee31bc0671e601fc04258a.png" alt="Sonar Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg 434w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command-300x95.jpg 300w" sizes="(max-width: 434px) 100vw, 434px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonar-command.jpg"/></noscript>
<p>如果您需要关于SonarScanner CLI中调试的更多信息，请在您的命令中使用这些标志之一:<code>-X</code>、<code>--verbose</code>或<code>-Dsonar.verbose=true</code>。</p>
<p>或者，您可以使用以下命令从Docker映像运行SonarScanner:</p>
<pre class="language-go hljs">docker run \\
    --rm \\
    -e SONAR_HOST_URL="&lt;http://$&gt;{SONARQUBE_URL}" \\
    -e SONAR_LOGIN="myAuthenticationToken" \\
    -v "${YOUR_REPO}:/usr/src" \\
    sonarsource/sonar-scanner-cli
</pre>
<h2 id="building-and-testing-a-program-with-sonarqube">用SonarQube构建和测试程序</h2>
<p>到目前为止，我们已经在Docker上安装了两个声纳服务。现在，让我们看看如何在实际场景中使用它们。</p>
<h3 id="creating-a-new-sonarqube-project">创建新的SonarQube项目</h3>
<p>要创建新的sonar cube项目，请在Docker上运行sonar cube容器，并通过localhost导航到主页。</p>
<p>接下来，点击主页上的<strong>项目</strong>栏，决定如何创建一个新项目。为演示添加项目键和显示名称。</p>
<p>对于本演示，我们将使用手动模式。点击<strong>手动</strong>后，您会看到<strong>项目显示名称</strong>和<strong>项目关键字</strong>显示的字段:</p>
<p><img data-attachment-id="137888" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/project-display-name-key/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg" data-orig-size="730,413" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Project display name and key" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key-300x170.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg" decoding="async" class="aligncenter size-full wp-image-137888 jetpack-lazy-image" src="../Images/9b00171fe821dbd2d9b3347c5df761a8.png" alt="Project Display Name and Key" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key-300x170.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137888" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/project-display-name-key/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg" data-orig-size="730,413" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Project display name and key" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key-300x170.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137888" src="../Images/9b00171fe821dbd2d9b3347c5df761a8.png" alt="Project Display Name and Key" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key-300x170.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/project-display-name-key.jpg"/></noscript>
<p>填写完这些字段后，点击<strong>设置</strong>。在下一个窗口中，本地选择<strong/>。在之后的窗口中，点击<strong>生成</strong>，为你的项目生成一个令牌。然后，点击<strong>继续</strong>完成标记化。</p>
<p>接下来，选择您的首选语言。对于这个项目，我们将使用Go，因此我们将选择<strong> Other </strong>选项。</p>
<p>现在，选择您的操作系统，并遵循规定的指示。</p>
<h3 id="generating-a-sonarqube-token">生成SonarQube令牌</h3>
<p>每个项目中都使用令牌。要生成令牌，请单击搜索栏右侧的<strong>用户</strong>图标。然后，点击<strong>安全</strong>标签，生成新的令牌。</p>
<p>我们的项目所需的令牌已经在项目页面中的<strong> Run analysis on your project </strong>下可用。</p>
<h3 id="testing-a-sample-application">测试示例应用程序</h3>
<p>如上所述，我们将使用一个用Go构建的示例程序来演示使用SonarQube进行静态代码分析。在现有的项目用例中，您只需要导航到代码库中的test文件夹，就可以使用SonarScanner。</p>
<p>创建一个程序源文件，并编写您希望检查的程序，以及该程序的测试文件。</p>
<p>我们的加法程序简单如下:</p>
<pre class="language-go hljs">package adder

func AddNumbers(x, y int) int {
    return x + y
}
</pre>
<p>我们将在程序中使用以下测试:</p>
<pre class="language-go hljs">package adder_test

import (
    "testing"

    "github.com/username/sonarqube-code-test/adder"
)
func TestAddNumbers(t *testing.T) {
    solution := adder.AddNumbers(6, 5)
    expected := 11
    if solution != expected {
        t.Error("result is incorrect: expected 5, got", solution)
    }
}
</pre>
<h3 id="analyzing-the-code">分析代码</h3>
<p>现在，我们将使用我们下载的SonarScanner来分析代码。首先，使用管理员帐户的访问令牌配置SonarScanner CLI工具:</p>
<pre class="language-go hljs">sonar-scanner -Dsonar.login=myAuthenticationToken
</pre>
<p>从终端中，导航到保存代码测试文件的文件夹，并运行为项目提供的命令:</p>
<p><img data-attachment-id="137890" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/provided-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg" data-orig-size="730,101" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Provided command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command-300x42.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg" decoding="async" class="aligncenter size-full wp-image-137890 jetpack-lazy-image" src="../Images/040bade0586de480604b578158028d3d.png" alt="Provided Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command-300x42.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137890" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/provided-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg" data-orig-size="730,101" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Provided command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command-300x42.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137890" src="../Images/040bade0586de480604b578158028d3d.png" alt="Provided Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command-300x42.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/provided-command.jpg"/></noscript>
<p>如果您自己为特定项目生成了令牌，只需编辑并使用以下代码:</p>
<pre class="language-go hljs">sonar-scanner -D sonar.host.url=http://localhost:9000 -D sonar.projectKey=&lt;Your-Project-Key&gt; -D sonar.projectName="Your Project Name" -D sonar.projectVersion=&lt;SemVer&gt; -D sonar.login=&lt;Your-Token-Here&gt; -D sonar.test.exclusions=tests/**/*.cs
</pre>
<p>运行上述命令后，测试结果将显示在终端的屏幕上，并带有一条<code>EXECUTION SUCCESS</code>消息，如下所示:</p>
<p><img data-attachment-id="137893" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/execution-success-message/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg" data-orig-size="730,125" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Execution success message" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message-300x51.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg" decoding="async" class="aligncenter size-full wp-image-137893 jetpack-lazy-image" src="../Images/0f61ac51f95909bb84ae9d9eb6ac07fc.png" alt="Execution Success Message" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message-300x51.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137893" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/execution-success-message/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg" data-orig-size="730,125" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Execution success message" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message-300x51.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137893" src="../Images/0f61ac51f95909bb84ae9d9eb6ac07fc.png" alt="Execution Success Message" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message-300x51.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/execution-success-message.jpg"/></noscript>
<p>现在，访问SonarQube仪表板并导航到<strong>项目</strong>。你可以在那里找到测试结果:</p>
<p><img data-attachment-id="137895" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonarqube-code-test-results/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg" data-orig-size="730,197" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="SonarQube code test results" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results-300x81.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg" decoding="async" class="aligncenter size-full wp-image-137895 jetpack-lazy-image" src="../Images/2d64aa826b2033213e62f0c2c14ce48c.png" alt="SonarQube Code Test Results" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results-300x81.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137895" data-permalink="https://blog.logrocket.com/inspect-code-docker-sonarqube/attachment/sonarqube-code-test-results/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg" data-orig-size="730,197" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="SonarQube code test results" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results-300x81.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137895" src="../Images/2d64aa826b2033213e62f0c2c14ce48c.png" alt="SonarQube Code Test Results" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results-300x81.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/sonarqube-code-test-results.jpg"/></noscript>
<p>恭喜您，您已经成功地在Docker上运行了SonarQube测试！</p>
<h2>结论</h2>
<p>在本文中，我们概述了Sonar生态系统以及SonarQube的功能。我们还演示了如何在Docker上安装SonarQube，然后使用它来构建和测试Go应用程序。</p>
<p>虽然本文在本地使用了SonarQube，但是它最好可以在部署到任意数量环境的Kubernetes集群上运行。SonarQube将作为开发环境中开发人员的安全平台。它还可以在生产环境中用于确认干净的代码。开发者和QA可能会发现SonarQube的<a href="https://www.sonarqube.org/sonarlint/?referrer=sonarqube-welcome" rel="noopener"> SonarLint </a>对于调试代码很有用。</p><div class="code-block code-block-4">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>