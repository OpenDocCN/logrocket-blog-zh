<html>
<head>
<title>MDX integration strategies for Next.js </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Next.js的MDX集成策略</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/mdx-integration-strategies-next-js/#0001-01-01">https://blog.logrocket.com/mdx-integration-strategies-next-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>MDX是一种基于降价的格式，因其易用性和简单性而广泛用于出版行业。Markdown是一种具有明文格式语法的轻量级标记语言。虽然它被广泛用于编写网页，但它被设计为对于不一定熟悉HTML语法的用户来说易于编写和阅读。本文将探讨如何将MDX集成到Next.js应用程序中。</p>
<p>以下是我们将在本文中涵盖的内容！</p>
<p><em>向前跳转:</em></p>

<p>要跟随教程，请参考下面的<a href="https://github.com/GeoBrodas/mdx-strategies">库</a>。</p>
<h2 id="markdown">什么是降价？</h2>
<p>Markdown是一个简单而强大的格式化纯文本文档的工具。只需几次击键，您就可以创建标题、强调单词、创建列表等等。Markdown易于读写，允许您创建丰富的格式化文档，而无需复杂的文字处理器。</p>
<p>无论你是在网上写作，在电子邮件中写作，还是在软件文档文件中写作，Markdown都是你工具箱中的一个有价值的工具。在本文中，我们将进一步了解将Markdown与Next.js集成起来有多容易。</p>
<h2 id="next-js-markdown">Next.js和Markdown</h2>
<p><a href="https://blog.logrocket.com/tag/nextjs/"> Next.js </a>是一个JavaScript框架，用于构建<a href="https://blog.logrocket.com/ssg-vs-ssr-in-next-js/">服务器渲染和静态生成的</a>应用。Next.js的一个有趣的特性是它与Markdown的集成。使用Next.js，您可以轻松地在应用程序中导入和呈现Markdown文件。这对<a href="https://blog.logrocket.com/create-next-js-mdx-blog/">创建博客文章</a>、文档或其他需要格式化的内容很有用。</p>
<p>要在Next.js中使用Markdown，您需要安装所需的依赖项，比如<code>remark</code>和<code>rehype-react</code>。然后，您将使用<code>remark-react</code>组件来呈现您的降价内容。这允许您以简单易读的语法编写内容，而Next.js负责呈现和格式化。</p>
<p>在本教程中，我们将使用<code>next/mdx</code>、<code>next-mdx-remote</code>和<code>next-mdx-enhanced</code>来实现降价。</p>
<h2 id="implementing-markdown-next-mdx">用<code>next/mdx</code>实现降价</h2>
<p>要开始使用，请安装以下依赖项:</p>
<pre class="language-bash hljs">npm install @next/mdx @mdx-js/loader @mdx-js/react
</pre>
<p>要配置页面，请将以下代码添加到<code>next.config.js</code>文件中:</p>
<pre class="language-javascript hljs">const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
};

const withMDX = require('@next/mdx')({
  extension: /\.mdx?$/,
  options: {
    remarkPlugins: [],
    rehypePlugins: [],
    providerImportSource: '@mdx-js/react',
  },
});

module.exports = nextConfig;

module.exports = withMDX({
  pageExtensions: ['js', 'jsx', 'ts', 'tsx', 'md', 'mdx'],
});
</pre>
<p>将上面的代码添加到Next.js项目中后，每个扩展名为<code>.mdx</code>的文件都将被转换成一个页面。</p>
<p>接下来，在<code>./pages</code>目录中创建一个文件，比如<code>./pages/blog/hello-world.mdx</code>。然后，您可以在文件中写一些降价，尽管它可能看起来很简单。下面是它的样子:</p>
<p><img data-attachment-id="158183" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-mdx-blog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example blog to show MDX integration in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png" decoding="async" class="aligncenter size-full wp-image-158183 jetpack-lazy-image" src="../Images/5e4b506c1c152d9437047b914834cc2d.png" alt="Example Blog to Show MDX Integration in Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158183" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-mdx-blog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example blog to show MDX integration in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158183" src="../Images/5e4b506c1c152d9437047b914834cc2d.png" alt="Example Blog to Show MDX Integration in Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-blog.png"/></noscript>
<p>现在，我们将为我们的博客页面创建一个布局来个性化我们的HTML组件。在位置<code>./layouts/Layout.tsx</code>创建一个文件，并在文档中键入以下代码:</p>
<pre class="language-javascript hljs">import { MDXProvider } from '@mdx-js/react';

interface LayoutProps {
  children: React.ReactNode;
}

function Layout ({children, ...props}: LayoutProps) {
   return (
    &lt;MDXProvider components={components}&gt;
      {children}
    &lt;/MDXProvider&gt;
}
</pre>
<p>接下来，将这个<code>Layout</code>组件添加到降价页面:</p>
<pre class="language-markdown hljs">import Layout from '../../components/layout';

# Hello World!

{/* Markdown content */}

export default ({ children }) =&gt; &lt;Layout&gt;{children}&lt;/Layout&gt;;
</pre>
<p>虽然现在没有发生什么，但是我们已经建立了配置减价页面的框架。现在，让我们创建一些基本的定制组件，从标题标签开始。</p>
<h3 id="creating-custom-components">创建自定义组件</h3>
<p>在<code>./components/mdx/Heading.tsx</code>中，添加以下内容:</p>
<pre class="language-javascript hljs">export const Heading = {
  H1: ({ children }) =&gt; &lt;h1 className="text-2xl font-bold"&gt;{children}&lt;/h1&gt;,
  H2: ({ children }) =&gt; &lt;h2 className="text-xl font-bold"&gt;{children}&lt;/h2&gt;,
};
</pre>
<p>类似地，在<code>./components/mdx/Para.tsx</code>为段落标签添加一个:</p>
<pre class="language-javascript hljs">function Para({ children }) {
  return &lt;p className="text-gray-700 my-4 text-base"&gt;{children}&lt;/p&gt;;
}
export default Para;
</pre>
<p>您可以根据规格制造更多独特的组件。您可以通过点击<code>Ctrl + Shift + C</code>来访问开发工具。您可以将鼠标悬停在想要检查的元素上，查看网站上哪些元素围绕着它:</p>
<p><img data-attachment-id="158185" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-mdx-custom/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding custom components MDX Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png" decoding="async" class="aligncenter size-full wp-image-158185 jetpack-lazy-image" src="../Images/3813be8deec35b759b5d394f2c807c09.png" alt="Adding Custom Components MDX Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158185" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-mdx-custom/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding custom components MDX Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158185" src="../Images/3813be8deec35b759b5d394f2c807c09.png" alt="Adding Custom Components MDX Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-mdx-custom.png"/></noscript>
<p>接下来，转到<code>Layout</code>组件，添加以下更改:</p>
<pre class="language-javascript hljs">const components = {
  h1: Heading.H1,
  h2: Heading.H2,
  p: Para,
  ul: UnorderedList,
};

function Layout ({children, ...props}: LayoutProps) {
  return (
    &lt;MDXProvider components={components}&gt;
      &lt;div className="w-[80%] mx-auto p-6"&gt;
        {children}
      &lt;/div&gt;
    &lt;/MDXProvider&gt;
  )
}
</pre>
<p>看起来更好！</p>
<p><img data-attachment-id="158188" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-integration/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Components in MDX and Next.js blog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png" decoding="async" class="aligncenter size-full wp-image-158188 jetpack-lazy-image" src="../Images/a0ab4cd65464252ba607daf1c7dd51d5.png" alt="Components in MDX and Next.js Blog" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158188" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-integration/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Components in MDX and Next.js blog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158188" src="../Images/a0ab4cd65464252ba607daf1c7dd51d5.png" alt="Components in MDX and Next.js Blog" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration.png"/></noscript>

<p>使用<code>next/mdx</code>的另一个技巧是给你的减价内容添加元数据。当<a href="https://blog.logrocket.com/manage-seo-next-js-with-next-seo/">将SEO添加到你的减价页面</a>时，这会很有帮助。</p>
<p>现在，将下面的代码添加到您刚刚创建的Markdown页面中:</p>
<pre class="language-markdown hljs">export const meta = {
  author: 'Georgey',
  title: 'Introduction to Technical Writing',
  slug: 'introduction-to-technical-writing',
  topics: [
    'technical writing',
    'software engineering',
    'technical writing basics',
  ],
};

{/* Makrdown content */}

export default ({ children }) =&gt; &lt;Layout meta={meta}&gt;{children}&lt;/Layout&gt;;
</pre>
<p>现在可以用我们之前创建的<code>Layout.tsx</code>组件来访问这个对象。在<code>./layouts/Layout.tsx</code>文件中，在Next.js提供的<code>Head</code>组件上添加一些元数据内容:</p>
<pre class="language-javascript hljs">// ...imports
import Head from "next/head"

interface LayoutProps {
  children: React.ReactNode;
  meta: { author: string; title: string; slug: string; topics: string[] };
}

function Layout ({children, ...props}: LayoutProps) {
  return (
    &lt;MDXProvider components={components}&gt;
      &lt;Head&gt;
        &lt;title&gt;{props.meta.title}&lt;/title&gt;
        &lt;meta name="description" content={props.meta.title} /&gt;
      &lt;/Head&gt;
    &lt;/MDXProvider&gt;
  )
}
</pre>
<p>完成后，我们的页面可以被<a href="https://blog.logrocket.com/node-js-web-scraping-tutorial/">网络爬虫</a>索引，而不会遇到问题，并在<a href="https://blog.logrocket.com/lighthouse-and-how-to-use-it-more-effectively/">灯塔评分</a>上获得一分。现在我们有了元数据，我们也可以将它包含在TL中；该页的DR部分为读者提供了一个快速概览。</p>
<p>在<code>./layouts/Layout.tsx</code>组件中，添加以下内容:</p>
<pre class="language-javascript hljs">function Layout ({children, ...props}: LayoutProps) {
  return (
    &lt;MDXProvider&gt;
      &lt;div className="w-[80%] mx-auto p-6"&gt;
        {/* Head */}



        &lt;div className="flex flex-col mt-6 mb-10 items-center justify-center text-center"&gt;
          &lt;h1 className="text-3xl font-bold"&gt;{props.meta.title}&lt;/h1&gt;
          &lt;p className="text-md text-gray-500"&gt;By {props.meta.author}&lt;/p&gt;
          {/* topics */}
          &lt;div className="flex flex-wrap gap-2 mt-4"&gt;
            {props.meta.topics.map((topic) =&gt; (
              &lt;span
                key={topic}
                className="text-sm text-gray-500 bg-gray-200 rounded-full px-2 py-1"
              &gt;
                {topic.slice(0, 1).toUpperCase() + topic.slice(1)}
              &lt;/span&gt;
            ))}
          &lt;/div&gt;
        &lt;/div&gt;


        {children}
      &lt;/div&gt;
    &lt;/MDXProvider&gt;
  )
} 
</pre>
<p>为了帮助用户理解页面的相关性，我们在上面的部分显示了文章所属的<code>key</code>标签。下面是它的样子:</p>
<p><img data-attachment-id="158193" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-integration-metadata/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MDX and Next.js integration adding metadata" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png" decoding="async" class="aligncenter size-full wp-image-158193 jetpack-lazy-image" src="../Images/253a510c1ad9392f07b661953aff9873.png" alt="MDX and Next.js Integration Adding Metadata" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158193" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-integration-metadata/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MDX and Next.js integration adding metadata" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158193" src="../Images/253a510c1ad9392f07b661953aff9873.png" alt="MDX and Next.js Integration Adding Metadata" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-integration-metadata.png"/></noscript>
<h2 id="mdx-integration-next-mdx-remote">MDX与<code>next-mdx-remote</code>的集成</h2>
<p>要在repo中查看该方法的代码，请将分支更改为<code>using-next-mdx-remote</code>以引用<code>next-mdx-remote</code>的代码。</p>
<p>从<code>next-mdx-remote</code>开始，安装下面的依赖项:</p>
<pre class="language-bash hljs">npm install next-mdx-remote
</pre>
<p>您可以注释掉我们之前为<code>next/mdx</code>添加到<code>next.config.js</code>文件中的配置。对于<code>next-mdx-remote</code>我们不需要任何东西。</p>
<p>接下来，清除<code>./pages/blog</code>目录中的降价文件，并将它们移动到<code>./pages</code>之外的一个单独的目录中，这个目录名为<code>./database</code>。在<code>./database</code>目录中，确保你为每个文章页面创建了所有的Markdown文件。</p>
<p>您的文件结构应该如下所示:</p>
<pre class="language-bash hljs">- pages
  |- blog
    |- [slug].tsx
- database
  |- intro-to-technical-writing
    |- intro-to-technical-writing.mdx
</pre>
<p>当我们在文章中添加图像等元素时，这种文件格式会很有用。之后，Markdown文件和元数据对象需要删除<code>export</code>行。你现在可以在你的降价文件中包含一个名为<code>frontmatter</code>的特性。</p>
<p>这将作为我们页面的元数据，并在获取减价内容时自动处理:</p>
<pre class="language-markdown hljs">---
title: Intro to technical writing
author: Georgey
topics: technical writing, writing, documentation
description: A short introduction to technical writing
---
# Intro to technical writing
Technical writing is the process of writing and sharing information in a professional setting. A technical writer, or tech writer, is a person who produces technical...
{/* ...content below */}
</pre>
<p>剩下要做的就是在<code>[slug].tsx</code>文件中设置<code>next-mdx-remote</code>。我们将使用Next.js的<a href="https://blog.logrocket.com/implementing-ssr-next-js-dynamic-routing-prefetching/">动态路由</a>特性为我们的<code>./database</code>目录中的每个文件创建一个页面。</p>
<p>我更喜欢这种方法，因为它将Markdown内容从数据获取代码中分离出来，这一点更重要。在<code>[slug].tsx</code>中，添加以下几行:</p>
<pre class="language-javascript hljs">import fs from "fs"

export async function getStaticPaths() {
  const files = fs.readdirSync('database');
  return {
    paths: files.map((file) =&gt; ({
      params: {
        slug: file,
      },
    })),
    fallback: false,
  };
}
</pre>
<p>需要用构建时静态生成的路由数量来指定<code>./pages</code>中的动态路由。这就是使用<code>getStaticPaths</code>的地方。我们可以使用Node.js文件系统<a href="https://nodejs.org/dist/latest-v18.x/docs/api/fs.html#fswritefilesyncfile-data-options">模块</a>来检索文件名，用作每个文章页面的路径名。</p>
<p>一旦完成，剩下的就是获取特定的降价内容。为此，创建一个<code>getStaticProps</code>函数并包含以下代码:</p>
<pre class="language-javascript hljs">import { GetStaticPropsContext } from 'next';
import { serialize } from "next-mdx-remote/serialize"
import path from "path"

export async function getStaticProps(ctx: GetStaticPropsContext) {
  const { slug } = ctx.params;

  const source = fs.readFileSync(
    path.join('database', slug as string, (slug + '.mdx') as string),
    'utf8'
  );

  const mdxSource = await serialize(source, { parseFrontmatter: true });
  return {
    props: {
      source: mdxSource,
    },
  };
}
</pre>
<p>在上面的代码中，请求的<code>slug</code>被用作从<code>./database</code>目录中获取降价内容的<code>parameter</code>。同样，使用<code>fs</code>模块，减价内容被获取并序列化到JSX，由<code>next-mdx-remote</code>提供的<code>parser</code>使用。</p>
<p>我们将很快在客户端使用它。注意，我们向属性标记为<code>parseFrontmatter</code>的<code>serialize</code>函数传递了一个额外的对象，以解析来自Markdown内容的<code>frontmatter</code>。如果不这样做，您可能会在序列化后得到一个空对象。</p>
<h3 id="configuring-client-side">配置客户端</h3>
<p>现在让我们转到客户端。添加以下代码以立即查看降价:</p>
<pre class="language-javascript hljs">import { GetStaticPropsContext, InferGetStaticPropsType } from 'next';
import { MDXRemote } from 'next-mdx-remote';
import Head from 'next/head';

function ArticlePage({
  source,
}: InferGetStaticPropsType&lt;typeof getStaticProps&gt;) {
  return (
    &lt;div&gt;
      &lt;Head&gt;
        &lt;title&gt;{source.frontmatter.title}&lt;/title&gt;
      &lt;/Head&gt;
      &lt;MDXRemote {...source} /&gt;
    &lt;/div&gt;
  );
}

// getStaticPaths + getStaticProps

export default ArticlePage;</pre>
<p><img data-attachment-id="158197" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-remote-next-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MDX and Next.js integration with MDX-remote" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png" decoding="async" class="aligncenter size-full wp-image-158197 jetpack-lazy-image" src="../Images/3c4decef48be07f5c9f3be14f6ec343c.png" alt="MDX and Next.js Integration With MDX-Remote" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158197" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-remote-next-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MDX and Next.js integration with MDX-remote" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158197" src="../Images/3c4decef48be07f5c9f3be14f6ec343c.png" alt="MDX and Next.js Integration With MDX-Remote" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-remote-next-js.png"/></noscript>
<p>像以前一样，让我们向MDX解析器添加一些定制组件。在<code>next-mdx-remote</code>中做这件事相当简单:</p>
<pre class="language-javascript hljs">&lt;div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"&gt;
 &lt;MDXRemote
  {...source}
  components={{
   h1: Heading.H1,
   h2: Heading.H2,
   p: Para,
   ul: UnorderedList,
  }}
 /&gt;
&lt;/div&gt;
</pre>
<p>接下来，导入我们之前用于<code>@next/mdx</code>的定制组件:</p>
<pre class="language-javascript hljs">import { Heading } from '../../components/mdx/Heading';
import Para from '../../components/mdx/Para';
import UnorderedList from '../../components/mdx/UnorderedList';
</pre>
<p>瞧啊。</p>
<p><img data-attachment-id="158199" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-integration/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Improved result of MDX integration in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png" decoding="async" class="aligncenter size-full wp-image-158199 jetpack-lazy-image" src="../Images/5a49ff0511e9ea95cb7898e0ccd27cf5.png" alt="Improved Result of MDX Integration in Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158199" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-integration/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Improved result of MDX integration in Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158199" src="../Images/5a49ff0511e9ea95cb7898e0ccd27cf5.png" alt="Improved Result of MDX Integration in Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-integration.png"/></noscript>
<h2 id="react-markdown-mdx-integration">使用<code>react-markdown</code>进行MDX集成</h2>
<p>现在，我们将看看使用<code><a href="https://blog.logrocket.com/how-to-safely-render-markdown-using-react-markdown/">react-markdown</a></code>作为MDX集成的策略。首先，安装以下依赖项:</p>
<pre class="language-bash hljs">npm install react-markdown gray-matter
</pre>
<p>与<code>next-mdx-remote</code>中内置的<code>serialize</code>函数不同，<code>gray-matter</code>是一个用于解析页面中可用的<code>frontmatter</code>的包。</p>
<p>让我们继续看我们的<code>[slug].tsx</code>文件。当我们获取文件名时,<code>getStaticPaths</code>函数将保持不变。在<code>getStaticProps</code>功能中只有一件事会改变，那就是用<code>gray-matter</code>代替<code>serialize</code>功能。<code>gray-matter</code>帮助解析Markdown页面中可用的元数据内容，并对其进行适当的序列化。</p>
<p>同样导入<code>gray-matter</code>并添加以下代码:</p>
<pre class="language-javascript hljs">import matter from 'gray-matter';

export async function getStaticProps(ctx: GetStaticPropsContext) {
  const { slug } = ctx.params;
  const source = fs.readFileSync(
    path.join('database', slug as string, (slug + '.md') as string),
    'utf8'
  );
  const { data, content } = matter(source);
  return {
    props: {
      data,
      content,
    },
  };
}
</pre>
<p>可以析构<code>matter</code>函数的返回值，得到<code>data</code>和<code>content</code>。请注意，我们将对<code>react-markdown</code>使用<code>.md</code>文件扩展名，而不是<code>.mdx</code>，所以请确保在上面的<code>path.join()</code>方法中进行这一更改。接下来，转到<code>client</code>函数并添加以下几行:</p>
<pre class="language-javascript hljs">import ReactMarkdown from "react-markdown"

function ArticlePage({
  data,
  content,
}: InferGetStaticPropsType&lt;typeof getStaticProps&gt;) {
  return (
    {/* header and layout */}
    &lt;Layout meta={data}&gt;
      &lt;ReactMarkdown children={content} /&gt;
    &lt;/Layout&gt;
  )
}   
</pre>
<p>完成后，您的页面应该能够呈现降价内容。接下来，让我们像往常一样添加自定义组件。同样，这在<code>react-markdown</code>中非常简单:</p>
<pre class="language-javascript hljs">&lt;ReactMarkdown
  children={content}
  components={{
    h1: Heading.H1,
    h2: Heading.H2,
    p: Para,
    ul: UnorderedList,
  }}
/&gt;
</pre>
<p>要查看可定制组件的完整列表，请访问<a href="https://mdxjs.com/">官方MDX.js页面</a>。</p>
<h2 id="lazy-loading-image-optimization">延迟加载和图像优化</h2>
<p>我们的文章也可能包含图像，所以让我们定制<code>img</code>标签来使用Next.js <code>Image</code>组件，它允许延迟加载和<a href="https://blog.logrocket.com/next-js-automatic-image-optimization-next-image/">图像优化</a>。</p>
<p>首先，创建一个新文件<code>./components/mdx/Image.tsx</code>:</p>
<pre class="language-javascript hljs">import Image from 'next/legacy/image';

function CustomImage({ src, alt, ...props }) {
  return (
    &lt;div className="w-[10rem] p-10 mx-auto"&gt;
      &lt;Image
        src={src}
        width={300}
        height={100}
        layout="responsive"
        alt={alt}
        {...props}
      /&gt;
    &lt;/div&gt;
  );
}
export default CustomImage;
</pre>
<p>然后，将其添加到<code>ReactMarkdown</code>组件内的配置中:</p>
<pre class="language-javascript hljs">&lt;ReactMarkdown
  children={content}
  components={{
    h1: Heading.H1,
    h2: Heading.H2,
    p: Para,
    ul: UnorderedList,
    image: ({ src, alt, ...props }) =&gt; {
      return &lt;CustomImage src={src} alt={alt} {...props} /&gt;;
    },
  }}
/&gt;
</pre>
<p>完成后，您应该能够查看图像:</p>
<p><img data-attachment-id="158202" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-image-mdx/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding images into your blog with MDX and Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png" decoding="async" class="aligncenter size-full wp-image-158202 jetpack-lazy-image" src="../Images/f5ec9b0bfc06bd0e93b83fd1c7fb53ee.png" alt="Adding Images Into Your Blog With MDX and Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158202" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/next-js-image-mdx/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding images into your blog with MDX and Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158202" src="../Images/f5ec9b0bfc06bd0e93b83fd1c7fb53ee.png" alt="Adding Images Into Your Blog With MDX and Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/next-js-image-mdx.png"/></noscript>
<h2 id="adding-syntax-highlighting">添加语法突出显示</h2>
<p>您可以添加到博客中的另一个有趣的特性是代码块的语法突出显示。为此，我们将使用<a href="https://blog.logrocket.com/guide-syntax-highlighting-react/"> react-syntax-highlighter </a>。要安装它，请按如下方式使用npm:</p>
<pre class="language-bash hljs">npm install react-syntax-highlighter
</pre>
<p>接下来，导入<code>Provider</code>和我们将用于代码块的主题:</p>
<pre class="language-javascript hljs">// syntax-highlighter
import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';
import { atomDark } from 'react-syntax-highlighter/dist/cjs/styles/prism';
</pre>
<p>在<code>ReactMarkdown</code>组件中，添加另一个定制组件:</p>
<pre class="language-javascript hljs">&lt;ReactMarkdown
  children={content}
  components={{
    ...components,
    code({ node, inline, className, children, ...props }) {
     const match = /language-(\w+)/.exec(className || '');
     return !inline &amp;&amp; match ? (
      &lt;SyntaxHighlighter
       children={String(children).replace(/\n$/, '')}
       style={atomDark}
       language={match[1]}
       PreTag="div"
       {...props}
      /&gt;
     ) : (
      &lt;span className={className} {...props}&gt;
       {children}
      &lt;/span&gt;
     );
    },
  }}
/&gt;
</pre>
<p>这一行代码检查Markdown内容中是否存在单个<code>"``"</code>代码标签或代码块，它们通常被包装在<code>"```---content---```"</code>中。如果是一个代码块，它检索语言并将其分配给<code>SyntaxHighlighter</code>组件，添加适当的语法高亮显示。一旦添加了此功能，您应该会在代码片段中看到以下主题:</p>
<pre class="language-markdown hljs">```js
let name = "Georgey";

console.log("Hello " + name );
```
</pre>
<p><img data-attachment-id="158208" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-image-optimization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js image optimization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png" decoding="async" class="aligncenter size-full wp-image-158208 jetpack-lazy-image" src="../Images/153f1295e23125373eb6c31e0eff41bd.png" alt="Next.js Image Optimization" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="158208" data-permalink="https://blog.logrocket.com/mdx-integration-strategies-next-js/attachment/mdx-next-js-image-optimization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js image optimization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-158208" src="../Images/153f1295e23125373eb6c31e0eff41bd.png" alt="Next.js Image Optimization" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/mdx-next-js-image-optimization.png"/></noscript>
<h2>结论</h2>
<p>总之，本文概述的三种不同的MDX集成策略各有其独特的优点和缺点。通过将<code>@next/mdx</code>添加到你的Next.js项目中，你可以很容易地在你的Markdown文件中编写JSX，并利用Next.js提供的<a href="https://blog.logrocket.com/dynamic-imports-code-splitting-next-js/">自动代码拆分</a></p>
<p>允许您将Markdown内容从代码库中分离出来，使其更易于管理。同时，<code>react-markdown</code>为您提供了一个轻量级的解决方案，以最少的设置将Markdown转换为JSX。最终，您的Next.js项目的最佳MDX集成策略将取决于您的特定需求和要求。</p><div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产Next.js应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的DVR，记录下你的Next.js应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用程序的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p><p>让您调试Next.js应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>