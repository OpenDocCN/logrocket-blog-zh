<html>
<head>
<title>Comparing Hive to other Flutter app database options - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>将Hive与其他Flutter应用程序数据库选项进行比较</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/#0001-01-01">https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在今天总是在线的世界里，仍然有很多离线存储数据的用例；尤其是涉及到移动开发的时候，但是应该用哪个数据库呢？</p>
<p>在Flutter中，如果您需要一个离线数据库解决方案，您有一系列选项可以选择。您最终选择哪个选项取决于您，但是有一些因素会影响这个决定(除了它们可能提供的独特功能之外)，这些因素通常归结为入门的简单程度和它们的速度，这两者我们都将在本文中讨论。</p>
<p>在这篇博客文章中，我们将看看Hive和其他<a href="https://blog.logrocket.com/choosing-right-database-flutter-application/">数据库</a>的设置是如何工作的，并比较和对比每个数据库预期具有的基本功能(特别是CRUD，即创建、读取、更新、删除)。</p>
<p>我们将进行一些基准测试，以确定每个数据库选项执行这些操作需要多长时间，因此您可以清楚地了解哪个数据库选项适合您的Flutter应用程序项目，Hive或其他。</p>
<p>让我们开始吧。</p>

<h2 id="crud">create, read, update, and delete</h2>
<p>前面提到的CRUD操作将使用一个<code>User</code>对象来执行，即将<em> n </em>个用户对象写入数据库等。这是用户对象的样子:</p>
<pre class="language-dart hljs">class UserModel {
  final int id;
  final DateTime createdAt;
  final String username;
  final String email;
  final int age;

  UserModel(...);

  factory UserModel.fromMap(Map&lt;String, dynamic&gt; map) {
    return UserModel(...);
  }
  Map&lt;String, dynamic&gt; toMap() {
    return {...};
  }
}
</pre>
<p>要在应用程序中使用离线数据库，首先要做的是获取应用程序目录的位置，数据库将存储在该目录中。Flutter <code>path_provider</code>和<code>path</code>包可用于轻松检索这些信息:</p>
<pre class="language-dart hljs">import 'package:path_provider/path_provider.dart';
import 'package:path/path.dart' as path;

final dir = await getApplicationDocumentsDirectory();
// For hive, isar and objectbox
final dbPath = dir.path;
// For sembast and sqflite
final dbPath = path.join(dir.path, 'databaseName.db');
</pre>
<h2 id="hive-database">储备</h2>
<p>Hive是纯Dart编写的键值数据库，没有原生依赖。这使得它真正跨平台，因为它能够在所有支持Dart编程语言的平台上运行。</p>
<p>应用程序启动后，通常会立即初始化数据库。一旦您有了存储数据库的路径，初始化配置单元数据库就像调用:</p>
<pre class="language-dart hljs">Hive.init(dbPath);
</pre>
<p>要使用Hive执行CRUD操作，需要一个<code>Box</code>实例。</p>
<pre class="language-dart hljs">final box = await Hive.openBox('users');
</pre>
<p>要向数据库添加/更新用户(创建/更新)，您必须向<code>put()</code>方法提供一个惟一的键和值:</p>
<pre class="language-dart hljs">final user = UserModel(...);
await box.put(user.id, user.toMap());
</pre>
<p>要从数据库中获取一个用户(Read ),只需使用提供的密钥请求用户，如下所示:</p>
<pre class="language-dart hljs">final userMap = box.get(user.id);
return UserModel.fromMap(userMap);
</pre>
<p>要从数据库中删除一个用户(delete ),需要将键传递给<code>delete</code>方法。</p>
<pre class="language-dart hljs">final user = UserModel(...);
await box.delete(user.id);
</pre>
<h2 id="sembast-database">森巴特</h2>
<p>Sembast是一个NoSQL数据库，它使用一个文本文档，其中每个条目都是一个JSON对象。Sembast使构建反应式应用程序变得容易，因为当文档发生变化时，您可以监听并触发某些操作。</p>
<p>准备好数据库路径后，您可以通过调用以下命令来初始化数据库:</p>
<pre class="language-dart hljs">final db = await databaseFactoryIo.openDatabase(dbPath);
</pre>
<p>要使用Sembast执行CRUD操作，需要一个<code>StoreRef</code>实例:</p>
<pre class="language-dart hljs">final store = StoreRef('users');
</pre>
<p>要向数据库添加/更新用户，您必须向<code>record</code>函数传递一个键，并链接<code>put</code>方法，该方法将数据库和值作为参数:</p>
<pre class="language-dart hljs">final user = UserModel(...);
await store.record(user.id).put(db, user.toMap());
</pre>
<p>要从数据库中获取用户，必须将密钥传递给<code>record</code>并链接<code>get</code>方法:</p>
<pre class="language-dart hljs">final userMap = await store.record(user.id).get(db);
return UserModel.fromMap(userMap);
</pre>
<p>要从数据库中删除一个用户，需要将键传递给<code>record</code>并链接<code>delete</code>方法:</p>
<pre class="language-dart hljs">final user = UserModel(...);
await store.record(user.id).delete(db);
</pre>
<h2 id="sqflite-database">Sqflite</h2>
<p>Sqflite是一个SQL数据库，它提供了编写原始SQL命令的能力，当您知道该做什么时，这些命令是非常强大的。您还可以选择使用帮助函数。</p>
<p>准备好数据库路径后，通过执行以下操作初始化数据库并创建一个表来存储用户:</p>
<pre class="language-dart hljs">static const String USER_TABLE = "users";
final db = await openDatabase(
      dbPath,
      onCreate: (db, version) async {
        await db.execute(
          'CREATE TABLE $USER_TABLE (id TEXT PRIMARY KEY, createdAt TEXT, 
          username TEXT, email TEXT, age INTEGER)',
        );
      },
      version: 1,
    );
</pre>
<p>要向数据库添加/更新用户，您必须传递要插入到<code>insert</code>或<code>update</code>助手函数中的表名和值。</p>
<pre class="language-dart hljs">final user = UserModel(...);
await db.insert(USER_TABLE, user.toMap());
// to update the user defined above
await db.update(USER_TABLE, user.toMap(), where: "id = ?", whereArgs: [user.id]);
</pre>
<p>要从数据库中获取用户，可以使用查询字符串进行搜索。这将返回一个匹配列表，以及一个惟一的用户ID；它应该返回一个只包含一个项目的地图:</p>
<pre class="language-dart hljs">final users = await db.query(USER_TABLE, where: "id = ?", whereArgs: [user.id]);
return UserModel.fromMap(users.first);
</pre>
<p>要从数据库中删除一个用户，需要传递给<code>delete</code>方法、表名和一个查询字符串来标识要删除的用户:</p>
<pre class="language-dart hljs">final user = UserModel(...);
await db.delete(USER_TABLE, where: "id = ?", whereArgs: [user.id]);
</pre>
<p>要继续使用Isar和ObjectBox，我们将需要项目的更多依赖项，因为它们都使用类型注释和代码生成，这使您能够直接向数据库读取/写入Dart对象(Hive也提供了这一选项)。</p>
<h2 id="isar-database">information storage and retrieval 信息存储和检索</h2>
<p>Isar是一个功能丰富的离线数据库，具有强大的查询、过滤和排序功能。</p>
<p>你也可以用它来构建非常被动的应用程序，因为它能够监听数据的变化。对于Isar，依赖项和模型类看起来是这样的:</p>
<pre class="language-yaml hljs">dependencies:
  ...
  isar: $latest
  isar_flutter_libs: $latest
dev_dependencies:
  ...
  build_runner: $latest
  isar_generator: $latest
</pre>
<pre class="language-dart hljs">import 'package:isar/isar.dart';
part 'isar_user.g.dart';

@Collection() // Anotate the user model using Collection()
class UserModel {
  int id;
  ...
  UserModel(...);
}
</pre>
<p>要获得自动生成的代码，只需运行<code>flutter pub run build_runner build</code>。</p>
<p>准备好数据库路径后，通过调用以下命令初始化数据库:</p>
<pre class="language-dart hljs">final isar = await Isar.open(
        schemas: [UserModelSchema], // A list of anotated collections
        directory: dbPath,
      );
</pre>
<p>要向数据库添加/更新用户，您必须将用户模型直接传递给<code>put</code>方法:</p>
<pre class="language-dart hljs">final user = UserModel(...);
isar.writeTxn((isar) async {
  await isar.isarUserModels.put(user);
}
</pre>
<p>要从数据库中获取一个用户，可以使用<code>get</code>方法，该方法获取用户的<code>id</code>:</p>
<pre class="language-dart hljs">final user = await isar.isarUserModels.get(user.id);
</pre>
<p>要从数据库中删除一个用户，可以使用<code>delete</code>方法，该方法获取用户的<code>id</code>:</p>
<pre class="language-dart hljs">isar.writeTxn((isar) async {
  await isar.isarUserModels.delete(user.id);
}
</pre>
<h2 id="objectbox-database">ObjectBox</h2>
<p>ObjectBox是一个用纯Dart编写的NoSQL数据库。对于ObjectBox，这是依赖项和模型类的样子:</p>
<pre class="language-yaml hljs">dependencies:
  ...
  objectbox: $latest
  objectbox_flutter_libs: $latest
dev_dependencies:
  ...
  build_runner: $latest
  objectbox_generator: $latest
</pre>
<pre class="language-dart hljs">@Entity() // Anotate the user model using Entity()
class UserModel {
  int id;
  ...
  UserModel(...);
}
</pre>
<p>要获得自动生成的代码，只需运行<code>flutter pub run build_runner build</code>，与Isar完全相同。准备好数据库路径后，您可以通过调用以下命令来初始化数据库:</p>
<pre class="language-dart hljs">final store = await openStore(directory: dbPath);
final box = store.box&lt;UserModel&gt;();
</pre>
<p>要向数据库添加/更新用户，您必须将<code>UserModel</code>直接传递给<code>put</code>方法:</p>
<pre class="language-dart hljs">final user = UserModel(...);
box.put(user);;
</pre>
<p>要从数据库中获取一个用户，可以使用<code>get</code>方法，该方法获取用户的<code>id</code>:</p>
<pre class="language-dart hljs">final user = box.get(user.id);
</pre>
<p>要从数据库中删除一个用户，可以使用<code>remove</code>方法，该方法获取用户的<code>id</code>;</p>
<pre class="language-dart hljs">box.remove(user.id);</pre>
<h2 id="benchmark-result">基准测试结果</h2>
<p>首先，我们将查看每个数据库选项执行<em> n </em>次写入、读取和删除需要多长时间。</p>
<p>其次，考虑到这些数据库选项(Hive、Isar和ObjectBox)中的一些有更优化的方法来执行CRUD操作——比如使用单一方法写入、读取或删除多个项目——我们还将看看从数据库中写入、读取和删除<em> n </em>个用户需要多长时间。</p>
<pre class="language-dart hljs">final users = [UserModel(...), UserModel(...), UserModel(...)];
// Hive
box.putAll(data), .deleteAll(userIds)
// Isar
isar.isarUserModels.putAll(users), .getAll(userIds), .deleteAll(userIds)
// Objectbox
box.putMany(users), .getMany(userIds), .removeMany(userIds)
</pre>
<p>第三，由于不同设备操作系统上的差异，基准测试将在Android和iOS物理设备上进行，同时在发布模式下运行以获得最佳性能。</p>
<h2 id="ios-iphone-12-v15-6">iOS v15.6 (iPhone 12)</h2>
<p>以下是在运行iOS v15.6的iPhone 12上以发布模式运行<a href="https://github.com/o-ifeanyi/db_benchmarks" target="_blank" rel="noopener">项目</a>时获得的基准测试结果。</p>
<p>下面是执行1，000次单独的写入、读取和删除操作时连续10次运行的结果(时间单位为毫秒)。</p>
<h3>写</h3>
<table>
<thead>
<tr>
<th/>
<th>平均值(毫秒)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
</tr>
</thead>
<tbody>
<tr>
<td>information storage and retrieval 信息存储和检索</td>
<td>65</td>
<td>73</td>
<td>68</td>
<td>68</td>
<td>71</td>
<td>69</td>
<td>73</td>
<td>69</td>
<td>68</td>
<td>70</td>
<td>69.7</td>
</tr>
<tr>
<td>储备</td>
<td>86</td>
<td>85</td>
<td>97</td>
<td>93</td>
<td>91</td>
<td>87</td>
<td>85</td>
<td>90</td>
<td>91</td>
<td>100</td>
<td>90.5</td>
</tr>
<tr>
<td>森巴斯特</td>
<td>241</td>
<td>252</td>
<td>263</td>
<td>257</td>
<td>258</td>
<td>240</td>
<td>236</td>
<td>253</td>
<td>257</td>
<td>246</td>
<td>250.3</td>
</tr>
<tr>
<td>Sqflite</td>
<td>774</td>
<td>653</td>
<td>665</td>
<td>697</td>
<td>757</td>
<td>757</td>
<td>769</td>
<td>836</td>
<td>758</td>
<td>819</td>
<td>751.2</td>
</tr>
<tr>
<td>ObjectBox</td>
<td>18686</td>
<td>18705</td>
<td>18806</td>
<td>18790</td>
<td>18767</td>
<td>18724</td>
<td>18763</td>
<td>18717</td>
<td>18739</td>
<td>18744</td>
<td>18744.1</td>
</tr>
</tbody>
</table>
<h3>阅读</h3>
<table>
<thead>
<tr>
<th/>
<th>平均值(毫秒)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
</tr>
</thead>
<tbody>
<tr>
<td>储备</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
</tr>
<tr>
<td>森巴斯特</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2.0</td>
</tr>
<tr>
<td>ObjectBox</td>
<td>14</td>
<td>24</td>
<td>24</td>
<td>23</td>
<td>30</td>
<td>24</td>
<td>24</td>
<td>24</td>
<td>23</td>
<td>23</td>
<td>23.3</td>
</tr>
<tr>
<td>information storage and retrieval 信息存储和检索</td>
<td>103</td>
<td>99</td>
<td>98</td>
<td>116</td>
<td>99</td>
<td>98</td>
<td>111</td>
<td>98</td>
<td>98</td>
<td>108</td>
<td>102.8</td>
</tr>
<tr>
<td>Sqflite</td>
<td>135</td>
<td>133</td>
<td>136</td>
<td>151</td>
<td>134</td>
<td>132</td>
<td>133</td>
<td>131</td>
<td>155</td>
<td>140</td>
<td>138.0</td>
</tr>
</tbody>
</table>
<h3>删除</h3>
<table>
<thead>
<tr>
<th>平均值(毫秒)</th>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>information storage and retrieval 信息存储和检索</th>
</tr>
</thead>
<tbody>
<tr>
<td>41</td>
<td>32</td>
<td>33</td>
<td>34</td>
<td>36</td>
<td>32</td>
<td>34</td>
<td>33</td>
<td>36</td>
<td>36</td>
<td>34.7</td>
<td>储备</td>
</tr>
<tr>
<td>73</td>
<td>86</td>
<td>73</td>
<td>78</td>
<td>92</td>
<td>76</td>
<td>80</td>
<td>64</td>
<td>65</td>
<td>71</td>
<td>75.8</td>
<td>森巴斯特</td>
</tr>
<tr>
<td>485</td>
<td>507</td>
<td>491</td>
<td>481</td>
<td>503</td>
<td>491</td>
<td>497</td>
<td>523</td>
<td>503</td>
<td>515</td>
<td>499.6</td>
<td>Sqflite</td>
</tr>
<tr>
<td>733</td>
<td>750</td>
<td>743</td>
<td>741</td>
<td>748</td>
<td>743</td>
<td>749</td>
<td>754</td>
<td>842</td>
<td>830</td>
<td>763.3</td>
<td>ObjectBox</td>
</tr>
<tr>
<td>18771</td>
<td>18784</td>
<td>18684</td>
<td>18698</td>
<td>18761</td>
<td>18680</td>
<td>18738</td>
<td>18683</td>
<td>18744</td>
<td>18739</td>
<td>18782.2</td>
<td><img data-attachment-id="134855" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-run-ios-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg" data-orig-size="730,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-run-ios" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1-300x85.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg" decoding="async" class="aligncenter wp-image-134855 size-full jetpack-lazy-image" src="../Images/6808cead5e3b5d36440021ee39d5574b.png" alt="Single Run iOS" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1-300x85.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg"/></td>
</tr>
</tbody>
</table>
<p>下面是使用优化的方法(针对Hive、Isar和ObjectBox)写入、读取和删除1，000个用户时，连续10次运行的结果(以毫秒为单位的时间)。</p><noscript><img data-lazy-fallback="1" data-attachment-id="134855" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-run-ios-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg" data-orig-size="730,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-run-ios" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1-300x85.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-134855 size-full" src="../Images/6808cead5e3b5d36440021ee39d5574b.png" alt="Single Run iOS" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1-300x85.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-ios-1.jpeg"/></noscript>
<p>写</p>
<h3>Write</h3>
<table>
<thead>
<tr>
<th>平均值(毫秒)</th>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>information storage and retrieval 信息存储和检索</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>3</td>
<td>6</td>
<td>5</td>
<td>七</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>6</td>
<td>5.3</td>
<td>储备</td>
</tr>
<tr>
<td>14</td>
<td>16</td>
<td>12</td>
<td>15</td>
<td>15</td>
<td>17</td>
<td>15</td>
<td>15</td>
<td>14</td>
<td>13</td>
<td>14.6</td>
<td>ObjectBox</td>
</tr>
<tr>
<td>20</td>
<td>19</td>
<td>23</td>
<td>18</td>
<td>19</td>
<td>23</td>
<td>20</td>
<td>20</td>
<td>19</td>
<td>20</td>
<td>20.1</td>
<td>阅读</td>
</tr>
</tbody>
</table>
<h3>Read</h3>
<table>
<thead>
<tr>
<th>平均值(毫秒)</th>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>储备</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
<td>对象框</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
<td>information storage and retrieval 信息存储和检索</td>
</tr>
<tr>
<td>一</td>
<td>0</td>
<td>一</td>
<td>一</td>
<td>0</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>0.8</td>
<td>删除</td>
</tr>
</tbody>
</table>
<h3>Delete</h3>
<table>
<thead>
<tr>
<th>平均值(毫秒)</th>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>储备</th>
</tr>
</thead>
<tbody>
<tr>
<td>一</td>
<td>一</td>
<td>一</td>
<td>2</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>2</td>
<td>2</td>
<td>1.3</td>
<td>information storage and retrieval 信息存储和检索</td>
</tr>
<tr>
<td>一</td>
<td>3</td>
<td>一</td>
<td>2</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>2</td>
<td>四</td>
<td>1.7</td>
<td>ObjectBox</td>
</tr>
<tr>
<td>19</td>
<td>19</td>
<td>21</td>
<td>19</td>
<td>19</td>
<td>20</td>
<td>18</td>
<td>19</td>
<td>19</td>
<td>18</td>
<td>19.1</td>
<td><img data-attachment-id="134857" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-optimized-run-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg" data-orig-size="730,150" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-optimized-run-ios" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios-300x62.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg" decoding="async" class="aligncenter wp-image-134857 size-full jetpack-lazy-image" src="../Images/e027728654e63e67b7133debea0e031e.png" alt="Single Optimized Run iOS" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios-300x62.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg"/></td>
</tr>
</tbody>
</table>
<p>安卓11 (Galaxy A31)</p><noscript><img data-lazy-fallback="1" data-attachment-id="134857" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-optimized-run-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg" data-orig-size="730,150" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-optimized-run-ios" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios-300x62.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-134857 size-full" src="../Images/e027728654e63e67b7133debea0e031e.png" alt="Single Optimized Run iOS" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios-300x62.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-ios.jpeg"/></noscript>
<h2 id="android-galaxy-a31-android-11">以下基准测试结果是在运行Android 11的三星Galaxy A31上以发布模式运行项目时获得的。</h2>
<p>下面是执行1，000次单独的写入、读取和删除操作时，连续10次运行的结果(时间单位为毫秒)。</p>
<p>写</p>
<h3>Write</h3>
<table>
<thead>
<tr>
<th>平均值(毫秒)</th>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>储备</th>
</tr>
</thead>
<tbody>
<tr>
<td>322</td>
<td>321</td>
<td>322</td>
<td>402</td>
<td>380</td>
<td>287</td>
<td>340</td>
<td>303</td>
<td>300</td>
<td>320</td>
<td>329.7</td>
<td>information storage and retrieval 信息存储和检索</td>
</tr>
<tr>
<td>382</td>
<td>431</td>
<td>311</td>
<td>351</td>
<td>346</td>
<td>377</td>
<td>323</td>
<td>363</td>
<td>262</td>
<td>363</td>
<td>350.9</td>
<td>ObjectBox</td>
</tr>
<tr>
<td>1614</td>
<td>1525</td>
<td>1608</td>
<td>1502</td>
<td>1473</td>
<td>1522</td>
<td>1583</td>
<td>1522</td>
<td>1619</td>
<td>1521</td>
<td>1548.9</td>
<td>森巴斯特</td>
</tr>
<tr>
<td>2666</td>
<td>2352</td>
<td>2600</td>
<td>2507</td>
<td>2416</td>
<td>2297</td>
<td>2712</td>
<td>2641</td>
<td>2399</td>
<td>2508</td>
<td>2509.8</td>
<td>Sqflite</td>
</tr>
<tr>
<td>3968</td>
<td>5281</td>
<td>4122</td>
<td>3448</td>
<td>3767</td>
<td>3641</td>
<td>4280</td>
<td>3609</td>
<td>3828</td>
<td>4026</td>
<td>3997.0</td>
<td>阅读</td>
</tr>
</tbody>
</table>
<h3>平均值(毫秒)</h3>
<table>
<thead>
<tr>
<th/>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>储备</th>
<th>一</th>
</tr>
</thead>
<tbody>
<tr>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>1.0</td>
<td>森巴斯特</td>
<td>17</td>
</tr>
<tr>
<td>17</td>
<td>16</td>
<td>16</td>
<td>18</td>
<td>17</td>
<td>16</td>
<td>17</td>
<td>15</td>
<td>15</td>
<td>16.4</td>
<td>ObjectBox</td>
<td>18</td>
</tr>
<tr>
<td>22</td>
<td>19</td>
<td>17</td>
<td>21</td>
<td>18</td>
<td>20</td>
<td>20</td>
<td>17</td>
<td>10</td>
<td>19.2</td>
<td>information storage and retrieval 信息存储和检索</td>
<td>1142</td>
</tr>
<tr>
<td>1497</td>
<td>1380</td>
<td>1162</td>
<td>1305</td>
<td>1200</td>
<td>1240</td>
<td>1194</td>
<td>1206</td>
<td>1349</td>
<td>1267.5</td>
<td>Sqflite</td>
<td>3148</td>
</tr>
<tr>
<td>3275</td>
<td>3209</td>
<td>2696</td>
<td>2691</td>
<td>2723</td>
<td>2731</td>
<td>2660</td>
<td>2680</td>
<td>2654</td>
<td>2846.7</td>
<td>删除</td>
<td>2846.7</td>
</tr>
</tbody>
</table>
<h3>平均值(毫秒)</h3>
<table>
<thead>
<tr>
<th/>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>information storage and retrieval 信息存储和检索</th>
<th>358</th>
</tr>
</thead>
<tbody>
<tr>
<td>380</td>
<td>322</td>
<td>347</td>
<td>354</td>
<td>375</td>
<td>341</td>
<td>321</td>
<td>318</td>
<td>353</td>
<td>346.9</td>
<td>储备</td>
<td>763</td>
</tr>
<tr>
<td>873</td>
<td>860</td>
<td>721</td>
<td>879</td>
<td>801</td>
<td>848</td>
<td>819</td>
<td>868</td>
<td>772</td>
<td>820.4</td>
<td>ObjectBox</td>
<td>1566</td>
</tr>
<tr>
<td>1740</td>
<td>1580</td>
<td>1574</td>
<td>1650</td>
<td>2167</td>
<td>1575</td>
<td>1546</td>
<td>1586</td>
<td>1572</td>
<td>1655.6</td>
<td>Sqflite</td>
<td>3896</td>
</tr>
<tr>
<td>4026</td>
<td>3946</td>
<td>3878</td>
<td>3610</td>
<td>3889</td>
<td>3558</td>
<td>4315</td>
<td>3554</td>
<td>3509</td>
<td>3818.1</td>
<td>森巴斯特</td>
<td>6349</td>
</tr>
<tr>
<td>6729</td>
<td>7375</td>
<td>6575</td>
<td>6585</td>
<td>6980</td>
<td>6321</td>
<td>6770</td>
<td>6256</td>
<td>6756</td>
<td>6689.0</td>
<td><img data-attachment-id="134859" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-run-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg" data-orig-size="730,197" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-run-android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android-300x81.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg" decoding="async" class="aligncenter wp-image-134859 size-full jetpack-lazy-image" src="../Images/3da3f226f960222964d82c1c7f9d4318.png" alt="Single Run Android" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android-300x81.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg"/></td>
<td>下面是使用优化的方法(针对Hive、Isar和ObjectBox)写入、读取和删除1，000个用户时，连续10次运行的结果(以毫秒为单位的时间)。</td>
</tr>
</tbody>
</table>
<p>写</p><noscript><img data-lazy-fallback="1" data-attachment-id="134859" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-run-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg" data-orig-size="730,197" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-run-android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android-300x81.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-134859 size-full" src="../Images/3da3f226f960222964d82c1c7f9d4318.png" alt="Single Run Android" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android-300x81.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-run-android.jpeg"/></noscript>
<p>Below are the results (time in milliseconds) from 10 consecutive runs when optimized methods are used (for Hive, Isar, and ObjectBox) to write, read, and delete 1,000 users.</p>
<h3>平均值(毫秒)</h3>
<table>
<thead>
<tr>
<th/>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>对象框</th>
<th>四</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>6</td>
<td>10</td>
<td>5</td>
<td>四</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>五点五</td>
<td>伊莎贝</td>
<td>9</td>
</tr>
<tr>
<td>10</td>
<td>9</td>
<td>9</td>
<td>8</td>
<td>7</td>
<td>7</td>
<td>9</td>
<td>7</td>
<td>8</td>
<td>八点三分</td>
<td>他妈的</td>
<td>14</td>
</tr>
<tr>
<td>20</td>
<td>18</td>
<td>14</td>
<td>13</td>
<td>16</td>
<td>15</td>
<td>14</td>
<td>16</td>
<td>13</td>
<td>15.3</td>
<td>阅读</td>
<td>平均值(毫秒)</td>
</tr>
</tbody>
</table>
<h3>Read</h3>
<table>
<thead>
<tr>
<th/>
<th>Avg (ms)</th>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th/>
<th>储备</th>
<th>0</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
<td>对象框</td>
<td>一</td>
<td>一</td>
</tr>
<tr>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>一</td>
<td>1.0</td>
<td>information storage and retrieval 信息存储和检索</td>
<td>6</td>
<td>七</td>
</tr>
<tr>
<td>3</td>
<td>5</td>
<td>6</td>
<td>四</td>
<td>6</td>
<td>四</td>
<td>3</td>
<td>四</td>
<td>4.8</td>
<td>删除</td>
<td>4</td>
<td>平均值(毫秒)</td>
</tr>
</tbody>
</table>
<h3>ObjectBox</h3>
<table>
<thead>
<tr>
<th>3</th>
<th>2</th>
<th>2</th>
<th>2</th>
<th>3</th>
<th>3</th>
<th>2</th>
<th>2</th>
<th>3</th>
<th>3</th>
<th>2.5</th>
<th>Hive</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>6</td>
<td>7</td>
<td>5</td>
<td>5</td>
<td>七</td>
<td>5</td>
<td>6</td>
<td>6</td>
<td>四</td>
<td>5.6</td>
<td>information storage and retrieval 信息存储和检索</td>
</tr>
<tr>
<td>8</td>
<td>8</td>
<td>5</td>
<td>四</td>
<td>四</td>
<td>5</td>
<td>5</td>
<td>8</td>
<td>9</td>
<td>3</td>
<td>5.9</td>
<td><img data-attachment-id="134861" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-optimized-run-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg" data-orig-size="730,145" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-optimized-run-android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android-300x60.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg" decoding="async" class="aligncenter wp-image-134861 size-full jetpack-lazy-image" src="../Images/1305e8904197792d055902a1aed0bc6d.png" alt="Single Optimized Run Android" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android-300x60.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg"/></td>
</tr>
<tr>
<td><strong>最终结果</strong></td>
<td>对于iOS上的写操作，Isar是最快的。平均在69.7毫秒内执行1，000次单独的写入操作，平均在5.3毫秒内写入1，000个用户</td>
<td>与此同时，在Android上，Hive是最快的，在执行1，000个单独的写操作时平均为329.7毫秒——尽管经过优化，ObjectBox能够在5.5毫秒内将1，000个用户写入数据库，比Hive(15.3毫秒)和Isar(8.3毫秒)都要好。</td>
<td>对于读取操作，Hive在iOS和Android上都是最快的。平均在0毫秒(不到1毫秒)内执行1，000个单独的读取操作和读取1，000个用户。ObjectBox在iOS上平均0毫秒，在Android上平均1毫秒，读取1000个用户，但在iOS上平均23.3毫秒，在Android上平均19.2毫秒，执行1000个单独的读取操作。</td>
<td>对于删除操作，Isar在iOS和Android上都是最快的。在iOS上执行1，000次单独删除操作的平均时间为34.7毫秒，在Android上为346.9毫秒。Hive在iOS上删除1，000个用户(平均1.3毫秒)时的性能略好于Isar(平均1.7毫秒)，而在Android上。从数据库中删除1，000个用户时，ObjectBox是最快的，平均为2.5毫秒</td>
<td>结论</td>
<td>对于讨论的所有选项，设置都非常简单，所以易用性可能归结于语法偏好，在我个人看来是Hive。Isar和ObjectBox可能需要额外的设置，但确实允许您直接向数据库读写Dart对象(Hive也为此提供了一个选项，带有相同的注释和代码生成的额外设置)。</td>
<td>感谢你在我的实验中坚持到底——我希望这篇文章能帮助你决定哪个Flutter应用数据库最适合你的项目。如果你想自己运行基准测试，为了方便起见，这里有GitHub上项目的<a href="https://github.com/o-ifeanyi/db_benchmarks" target="_blank" rel="noopener">链接。</a></td>
<td>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</td>
<td><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</td>
<td>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</td>
<td>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</td>
</tr>
</tbody>
</table>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p><noscript><img data-lazy-fallback="1" data-attachment-id="134861" data-permalink="https://blog.logrocket.com/comparing-hive-other-flutter-app-database-options/attachment/single-optimized-run-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg" data-orig-size="730,145" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="single-optimized-run-android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android-300x60.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-134861 size-full" src="../Images/1305e8904197792d055902a1aed0bc6d.png" alt="Single Optimized Run Android" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android-300x60.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/single-optimized-run-android.jpeg"/></noscript>
<h2 id="finalresults"><strong>Final results</strong></h2>
<p>For write operations on iOS, Isar was the fastest. Performing 1,000 individual write operations in an average of 69.7ms and writing 1,000 users in an average of 5.3ms.</p>
<p>On Android, meanwhile, Hive was the fastest with an average of 329.7ms when performing 1,000 individual write operations — though, when optimized, ObjectBox was able to write 1,000 users to the database in 5.5ms, performing better than both Hive (15.3ms) and Isar (8.3ms).</p>
<p>For read operations, Hive was the fastest on both iOS and Android. Performing both 1,000 individual read operations and reading 1,000 users in an average of 0ms (less than 1ms). ObjectBox also read 1,000 users in an average of 0ms on iOS and 1ms on Android, but performed 1,000 individual read operations in an average of 23.3ms on iOS and 19.2ms on Android.</p>
<p>For delete operations, Isar was the fastest on both iOS and Android. Performing 1,000 individual delete operations in an average of 34.7ms on iOS and 346.9 on Android. Hive performed slightly better when deleting 1,000 users (average of 1.3ms) as compared to Isar (average of 1.7ms) on iOS while on Android. ObjectBox was the fastest when deleting 1,000 users from the database, with an average of 2.5ms.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Setup was quite straightforward for all options discussed, so ease of use probably comes down to syntax preference, which in my personal opinion would be Hive. Isar and ObjectBox might require extra setup, but do allow you to read and write Dart objects directly to the database (Hive also provides an option for this, with the same extra setup of annotations and code generation).</p>
<p>Thank you for making it to the bottom of my experiment — I hope this article has helped you come to a decision about which Flutter app database works best for your project. If you would like to run the benchmarks yourself, here’s the <a href="https://github.com/o-ifeanyi/db_benchmarks" target="_blank" rel="noopener">link to the project</a> on GitHub for your convenience.</p><div class="code-block code-block-4">
<div class="blog-plug base-cta"><h2>Cut through the noise of traditional error reporting with <a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer">LogRocket</a></h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer">LogRocket</a> is a digital experience analytics solution that shields you from the hundreds of false-positive errors alerts to just a few truly important items. LogRocket tells you the most impactful bugs and UX issues actually impacting users in your applications.</p>
<p>Then, use session replay with deep technical telemetry to see exactly what the user saw and what caused the problem, as if you were looking over their shoulder.</p>
<p>LogRocket automatically aggregates client side errors, JS exceptions, frontend performance metrics, and user interactions. Then LogRocket uses machine learning to tell you which problems are affecting the most users and provides the context you need to fix it.</p>
<p>Focus on the bugs that matter — <a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">try LogRocket today</a>.</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>