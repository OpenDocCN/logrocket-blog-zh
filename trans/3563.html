<html>
<head>
<title>Using React Flow to plan a React project </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React流程规划React项目</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-react-flow-plan-react-project/#0001-01-01">https://blog.logrocket.com/using-react-flow-plan-react-project/#0001-01-01</a></blockquote><div><article class="article-post">
<p>成功的项目需要充分的规划和架构的结合。规划一个项目可能是一件痛苦的事，尤其是当你必须在纸上画出每个流程时。幸运的是，有各种各样的产品可以帮助你规划你的项目。在本文中，我们将看看如何使用<a href="https://reactflow.dev/"> React流</a>来规划您的下一个React项目。</p>
<p>向前跳:</p>

<h2 id="what-react-flow">什么是反应流？</h2>
<p>React Flow是一个<a href="https://blog.logrocket.com/tag/react/"> React </a>库，用于创建交互式图形和基于节点的编辑器。它可以创建决策工作流，也用于演示。使用React Flow，您可以以编程方式创建整个React项目架构，并且可以灵活地以图形化方式定制每个节点:</p>
<p><img data-attachment-id="140705" data-permalink="https://blog.logrocket.com/using-react-flow-plan-react-project/attachment/react-flow-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using React Flow for a React project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project-300x165.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png" decoding="async" class="aligncenter size-full wp-image-140705 jetpack-lazy-image" src="../Images/03f3383f60a9ad32121b3e24764dce0b.png" alt="Using React Flow for a React Project" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project-300x165.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140705" data-permalink="https://blog.logrocket.com/using-react-flow-plan-react-project/attachment/react-flow-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using React Flow for a React project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project-300x165.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140705" src="../Images/03f3383f60a9ad32121b3e24764dce0b.png" alt="Using React Flow for a React Project" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project-300x165.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-flow-project.png"/></noscript>
<p>React Flow可以免费使用，具有简单的设置和集成，设置和使用时间不到五分钟。它包括缩放和平移、多重选择和几个现成的事件处理程序。</p>
<p>第二，React流库具有高度的灵活性和可定制性。用户可以根据自己的喜好设计<a href="https://reactflow.dev/docs/guides/custom-nodes/">节点和</a>元素。该库还提供了几个支持定制的插件:</p>
<ul>
<li>小地图:这个插件在一个小的微型部分提供了整个流程的概览，从而赋予用户快速导航和概览的能力。当流量很大，无法在一个页面上查看时，这变得非常有用</li>
<li><a href="https://reactflow.dev/docs/overview/plugin-components/#controls">控件</a>:这个可定制的控件条附带了React流库。它由一组有价值的按钮组成，这些按钮用于控制流的放大和缩小、适合屏幕以及交互特性</li>
<li>背景:这个插件有助于画布的图形化可视化。当添加到React流组件时，它会为其提供均匀的点状背景</li>
</ul>
<p>为了了解我们的应用程序的可靠性，我们对它们进行测试以消除我们的疑虑。用<a href="https://blog.logrocket.com/unit-testing-react-cypress/">柏树</a>测试反应流量。根据<a href="https://reactflow.dev/docs/guides/testing/">文档</a>，还支持用<a href="https://blog.logrocket.com/getting-started-playwright-component-testing/">剧作家</a>和<a href="https://blog.logrocket.com/jest-testing-top-features/">笑话</a>进行测试。</p>
<p>而且，Github 上的<a href="https://github.com/wbkd/react-flow"> 12k stars和平均每周161k的下载量，它在开发人员中很受欢迎。它有广泛的社区支持，允许它被维护，从而给用户一个长期的保证和可伸缩性。</a></p>
<p>为了更好地理解如何使用React流，让我们构建我们的自定义流。</p>
<h2 id="building-custom-react-flow">构建定制的React流</h2>
<p>让我们从搭建React应用程序开始。运行以下命令，在您的首选目录中搭建react:</p>
<pre>yarn create react-app working-with-reactflow
</pre>
<p>一旦我们安装了必要的包和库，将目录更改为新创建的项目，并运行这个命令来安装React Flow。</p>
<pre> yarn add reactflow
</pre>
<h3 id="styling-react-flow-application">设计我们的React流应用程序</h3>
<p>在我们构建React流应用程序之前，让我们为应用程序创建一个自定义样式。将以下代码复制并粘贴到<code>src/index.css</code>文件中:</p>
<pre class="language-css hljs">html,
body,
#root {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
</pre>
<h3 id="creating-react-flow-nodes">创建反应流节点</h3>
<p>节点是React Flow的一个基本功能，它允许您渲染任何您喜欢的内容。</p>
<p>根据React Flow <a href="https://reactflow.dev/docs/overview/terms-and-definitions/#nodes"> docs </a>，节点是单独的容器或组件，包含关于容器的简要信息，通过<code>type default</code>、<code>input</code>或<code>output</code>。使用<code>x</code>和<code>y</code>属性设置初始位置，可以将每个节点放置在画布上的精确位置。</p>
<p>现在，让我们从构建第一批节点开始。在<code>src</code>文件夹中创建一个<code>nodes.js</code>文件，并将下面的代码粘贴到其中:</p>
<pre class="language-javascript hljs">export default [
  {
    id: "1",
    type: "input",
    data: { label: "User's Input" },
    position: { x: 500, y: 100 },
  },
  {
    id: "2",
    data: { label: "Process Input" },
    type: "default",
    position: { x: 500, y: 200 },
  },
  {
    id: "3",
    data: { label: "Print yes" },
    position: { x: 200, y: 350 },
  },
  { id: "4", data: { label: "Print No" }, position: { x: 500, y: 350 } },
  { id: "5", data: { label: "Retake test" }, position: { x: 850, y: 350 } },
  {
    id: "6",
    data: { label: "Retake Test Yes" },
    position: { x: 1050, y: 450 },
  },
  { id: "7", data: { label: "Retake Test No" }, position: { x: 700, y: 450 } },
  {
    id: "8",
    type: "output",
    data: { label: "User's Output / End application" },
    position: { x: 500, y: 650 },
  },
];
</pre>
<p>在上面的代码块中，我们创建了一个对象数组。每个对象都包含一个唯一的<code>id</code>、<code>type</code>(如果没有指定，则为默认值)和<code>data</code>，后者包含一个具有<code>label</code>属性的对象，最后还有一个用于指定节点的视口位置的<code>position</code>属性。</p>
<h3 id="designing-edges-react-flow">在反应流中设计边</h3>
<p>反应流<a href="https://reactflow.dev/docs/overview/terms-and-definitions/#edges">边</a>是连接节点的线。边可以连接多个节点，形成一个<a href="https://reactflow.dev/docs/getting-started/building-a-flow/">流</a>，可以手动绘制和移除。</p>
<p>要为我们的节点创建一个边，在<code>src</code>文件夹中创建一个<code>edge.js</code>文件，并将下面的代码粘贴到其中:</p>
<pre class="language-javascript hljs">export default [
  { id: "el1-2", source: "1", target: "2" },
  { id: "el2-3", source: "2", target: "3", animated: true },
  { id: "el2-4", source: "2", target: "4", animated: true },
  { id: "el2-5", source: "2", target: "5", animated: true },
  { id: "el6-1", source: "1", target: "6", label: "Back to Input" },
];
</pre>
<p>在上面的代码块中，我们创建了一个对象数组，其中每个对象都包含一个唯一的<code>id</code>、边缘开始的<code>source</code>、<code>target</code>位置、一个用于标识的<code>label</code>和一个动画<code>Boolean</code>值。</p>
<h3 id="Building-react-flow-ui">构建React流UI</h3>
<p>有了节点和边之后，让我们在React Flow应用程序中使用它们。将以下代码复制并粘贴到新创建的<code>Flow.jsx</code>文件中:</p>
<pre class="language-javascript hljs">import { useCallback, useState } from "react";
import ReactFlow, {
  applyEdgeChanges,
  applyNodeChanges,
  addEdge,
  MiniMap,
  Controls,
  Background,
} from "reactflow";
import "reactflow/dist/style.css";
import initialNodes from "./nodes.js";
import initialEdges from "./edges.js";

function Flow() {
  const [nodes, setNodes] = useState(initialNodes);
  const [edges, setEdges] = useState(initialEdges);

  const onNodeChange = useCallback(
    (x) =&gt; setNodes((newNode) =&gt; applyNodeChanges(x, newNode)),
    [setNodes]
  );

  const onEdgeChange = useCallback(
    (x) =&gt; setEdges((eds) =&gt; applyEdgeChanges(x, eds)),
    [setEdges]
  );

  const onEdgeConnect = useCallback(
    (x) =&gt; setEdges((eds) =&gt; addEdge({ ...x, animated: true }, eds)),
    [setEdges]
  );

  return (
    &lt;ReactFlow
      nodes={nodes}
      edges={edges}
      onNodesChange={onNodeChange}
      onEdgesChange={onEdgeChange}
      onConnect={onEdgeConnect}
    &gt;
      &lt;MiniMap /&gt;
      &lt;Controls /&gt;
      &lt;Background /&gt;
    &lt;/ReactFlow&gt;
  );
}
export default Flow;
</pre>
<p>在上面的代码块中，我们为<code>initalNodes</code>和<code>initialEdges</code>创建了一个状态，稍后将在<code>ReactFlow</code>组件中使用。每当节点和边在画布上的位置改变时，我们也会观察到它们的变化。</p>
<p>我们通过使用<code>onConnect</code>属性监听和更新应用于状态的更改，使边从一个节点到另一个节点的任何位置都是可连接的。</p>
<p>我们还利用React流的插件来显示<code>MiniMap</code>，它为我们提供了整个流的概览，<code>Controls</code>用于控制面板，<code>Background</code>用于改进画布的图形表示。</p>
<p>以我们迄今为止的进展，我们应该能够得到以下结果:</p>
<p><img data-attachment-id="140708" data-permalink="https://blog.logrocket.com/using-react-flow-plan-react-project/attachment/custom-react-flow-for-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif" data-orig-size="720,388" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a custom React Flow for React project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react-300x162.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif" decoding="async" class="aligncenter size-full wp-image-140708 jetpack-lazy-image" src="../Images/73d3ed5cf01610513d4d8d3fcd22cd89.png" alt="Creating a Custom React Flow for React Project" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140708" data-permalink="https://blog.logrocket.com/using-react-flow-plan-react-project/attachment/custom-react-flow-for-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif" data-orig-size="720,388" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a custom React Flow for React project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react-300x162.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140708" src="../Images/73d3ed5cf01610513d4d8d3fcd22cd89.png" alt="Creating a Custom React Flow for React Project" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/custom-react-flow-for-react.gif"/></noscript>
<h2 id="why-use-react-flow">为什么您应该在下一个React项目中使用React Flow？</h2>
<p>由于开发市场上有许多选择，选择一个适合您需求的库可能会很有压力。然而，使用React Flow，可以简化项目的规划和架构，减轻您的压力。</p>
<p>React流库因其简单性和灵活性而在项目规划中表现出色。React Flow受到成千上万用户的信任，包括小型开源开发团队和组织，如<a href="https://stripe.com/"> Stripe </a>和<a href="https://www.typeform.com/"> Typeform </a>。该库已被用于创建聊天机器人构建器、音乐合成器、机器学习工具等。</p>
<p>尽管市场上有许多竞争对手，React Flow仍然是项目规划和流程的最佳库之一，并在大型项目的整个开发阶段对用户有益。</p>
<h2>结论</h2>
<p>在本文中，我们研究了React流库，它的用途，以及如何规划下一个React项目。我们还构建了自己的定制流来展示React流的灵活性。React Flow的其他特性可能对你的下一个项目有用，所以请前往<a href="https://reactflow.dev/docs/introduction/">文档</a>了解更多信息。</p>
<p>你可以在这里看到完整的<a href="https://github.com/IsaacThaJunior/Working-with-React-flow">源代码</a>。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>