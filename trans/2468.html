<html>
<head>
<title>Build an analytics app with React and Cube.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 React 和 Cube.js - LogRocket 博客构建一个分析应用程序</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-analytics-app-react-cube-js/#0001-01-01">https://blog.logrocket.com/build-analytics-app-react-cube-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在大数据世界中，数据分析和数据可视化齐头并进。借助数据可视化工具和技术，我们可以轻松分析海量信息，做出数据驱动的决策。</p>
<p>通过图表、表格、地图或图形等数据可视化类型提供数据的图形表示，可以简化决策过程。</p>
<p>在本文中，我们将学习如何构建一个分析应用程序来使用 React 和 Cube.js 监控和分析原始数据。该应用程序将监控通过 Cube.js 连接到 React 仪表板的数据库中的原始产品数据，显示产品的销售额以及产品销售给多少客户。</p>
<h2>Cube.js 是什么？</h2>
<p>Cube.js 是一个开源分析平台，帮助用户在数据之上创建一个语义 API 层来管理访问控制和聚合数据。因为 Cube.js 是可视化不可知的，所以用户可以用任何选择的框架或库来构建前端。</p>
<figure id="attachment_82654" aria-describedby="caption-attachment-82654" class="wp-caption aligncenter"><img data-attachment-id="82654" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/building-frontend-cube-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png" data-orig-size="730,396" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building frontend Cube.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js-300x163.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png" decoding="async" class="wp-image-82654 size-full jetpack-lazy-image" src="../Images/b8ff6f15e10b558c0f595fdc95ba3772.png" alt="Building A Frontend With Cube.js Compared To Building A Frontend Without Cube.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js-300x163.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="82654" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/building-frontend-cube-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png" data-orig-size="730,396" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building frontend Cube.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js-300x163.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png" decoding="async" loading="lazy" class="wp-image-82654 size-full" src="../Images/b8ff6f15e10b558c0f595fdc95ba3772.png" alt="Building A Frontend With Cube.js Compared To Building A Frontend Without Cube.js" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js-300x163.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Building-frontend-Cube-js.png"/></noscript><figcaption id="caption-attachment-82654" class="wp-caption-text">Graphic from <a href="https://raw.githubusercontent.com/cube-js/cube.js/master/docs/content/old-was-vs-cubejs-way.png">GitHub</a>.</figcaption></figure>
<p>注意，Cube.js 不是数据库；相反，它是一个将数据库连接到前端的无头 API 层，因此用户可以更快地构建数据应用程序。</p>
<p>它还管理缓存和查询队列，并为前端提供 API 来构建仪表板和其他分析功能。</p>
<h2>React 和 Cube.js 教程先决条件</h2>
<p>在我们继续之前，您必须对 React、PostgreSQL 和<a href="https://blog.logrocket.com/using-recharts-react-add-charts/"> Recharts </a>有一个基本的了解。另外，请注意，本文中的每个命令都在 Linux 上运行，因此 Windows 和 Mac 中的命令可能会有所不同。</p>
<h2>postgresql 数据库设置</h2>
<p>Cube.js 需要一个数据库来存储和获取分析数据，所以<a href="https://blog.logrocket.com/getting-started-with-postgres-in-your-react-app/">我们将使用</a><a href="https://blog.logrocket.com/getting-started-with-postgres-in-your-react-app/">Postgre</a><a href="https://blog.logrocket.com/getting-started-with-postgres-in-your-react-app/">SQL</a><a href="https://blog.logrocket.com/getting-started-with-postgres-in-your-react-app/">作为本教程</a>的数据库。</p>
<h3>下载 Postgres</h3>
<p>让我们从下载 PostgreSQL 或 Postgres 开始，并创建我们的数据库:</p>
<pre class="language-javascript hljs"># Create the file repository configuration:
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" &gt; /etc/apt/sources.list.d/pgdg.list'

# Import the repository signing key:
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# Update the package lists:
sudo apt-get update

# Install the latest version of PostgreSQL.
# If you want a specific version, use 'postgresql-12' or similar instead of 'postgresql':
sudo apt-get -y install postgresql
</pre>
<p>安装 Postgres 后，我们可以登录并创建一个数据库，稍后我们将把它连接到 Cube.js。</p>
<p>有两种方法可以创建 Postgres 数据库:要么使用<code>postgres</code>角色创建数据库，要么作为新用户创建数据库。让我们看看如何使用这两者。</p>
<h3>使用<code>postgres</code>角色创建数据库</h3>
<p>要使用<code>postgres</code>角色连接到 Postgres，我们必须通过键入以下命令切换到服务器上的 Postgres 帐户:</p>
<pre class="language-javascript hljs">$ sudo -i -u postgres
</pre>
<p>这提示我们输入当前用户的密码；在这种情况下，它将是您计算机的密码。</p>
<p>然后，我们可以通过键入以下命令使用<code>psql</code>来访问 PostgreSQL:</p>
<pre class="language-javascript hljs">$ psql
</pre>
<p>现在，运行以下命令创建一个新数据库:</p>
<pre class="language-javascript hljs">CREATE DATABASE ecom;
</pre>
<p><img data-attachment-id="82657" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/created-ecom-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Created ecom database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png" decoding="async" class="aligncenter size-full wp-image-82657 jetpack-lazy-image" src="../Images/10fbaa3e3375698ccbb35c5dd73a8e57.png" alt="Created Ecom Database Shown In The Terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database-300x157.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82657" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/created-ecom-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Created ecom database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82657" src="../Images/10fbaa3e3375698ccbb35c5dd73a8e57.png" alt="Created Ecom Database Shown In The Terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database-300x157.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Created-ecom-database.png"/></noscript>
<p>我们已经成功创建了一个<code>ecom</code>数据库。</p>
<h3>使用新用户创建数据库</h3>
<p>使用这种方法，我们不需要登录 Postgres 我们可以简单地在家庭终端上运行这个命令:</p>
<pre class="language-javascript hljs">sudo -u postgres createuser testuser
</pre>
<p>这个命令创建一个名为<code>testuser</code>的新 Postgres 用户。你可以给你的名字起任何你认为合适的名字。</p>
<p>然后，我们可以通过运行以下命令来创建数据库:</p>
<pre class="language-javascript hljs">sudo -u postgres createdb ecom
</pre>
<p>使用新创建的名为<code>ecom</code>的数据库，让我们继续将所有特权授予我们刚刚创建的用户。要授予权限，我们必须首先登录 Postgres:</p>
<pre class="language-javascript hljs">sudo -i -u postgres
psql

alter user testuser with encrypted password 'testpassword';
grant all privileges on database ecom to testuser;
</pre>
<p><img data-attachment-id="82659" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/granting-user-privileges/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png" data-orig-size="730,250" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Granting user privileges" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges-300x103.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png" decoding="async" class="aligncenter size-full wp-image-82659 jetpack-lazy-image" src="../Images/cf5dcf997631c8eb50993f45b11b1db2.png" alt="Granting User Privileges In The Terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges-300x103.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82659" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/granting-user-privileges/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png" data-orig-size="730,250" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Granting user privileges" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges-300x103.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82659" src="../Images/cf5dcf997631c8eb50993f45b11b1db2.png" alt="Granting User Privileges In The Terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges-300x103.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Granting-user-privileges.png"/></noscript>
<p>我们现在可以通过运行以下命令尝试远程连接到我们的数据库:</p>
<pre class="language-javascript hljs">psql -h localhost -p 5432 -U testuser -d ecom -W
</pre>
<p>该命令提示输入密码，因此输入数据库密码以连接到数据库。在我们的例子中，密码是<code>testpassword</code>。</p>
<p><img data-attachment-id="82663" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/entering-testpassword-password/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png" data-orig-size="730,144" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Entering testpassword password" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png" decoding="async" class="aligncenter size-full wp-image-82663 jetpack-lazy-image" src="../Images/cda6c360f6cd109e30f3ee0804493e41.png" alt="Entering The testpassword Password Into The Terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password-300x59.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82663" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/entering-testpassword-password/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png" data-orig-size="730,144" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Entering testpassword password" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82663" src="../Images/cda6c360f6cd109e30f3ee0804493e41.png" alt="Entering The testpassword Password Into The Terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password-300x59.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Entering-testpassword-password.png"/></noscript>
<h3>用数据推广数据库</h3>
<p>现在我们有了一个工作数据库，我们可以用一个电子商务样本数据集填充数据库。我们将在稍后配置 Cube.js 服务时使用这个数据集。</p>
<p>你也可以使用像这样的其他样本数据集<a href="https://www.postgresqltutorial.com/wp-content/uploads/2019/05/dvdrental.zip"> dvdrental </a>，但是一定要在这里阅读<a href="https://www.postgresqltutorial.com/load-postgresql-sample-database/">如何使用它</a>。</p>
<p>要用电子商务数据集填充我们的数据库，请运行以下命令:</p>
<pre class="language-javascript hljs">\q // to exit the psql terminal
sudo -i -u postgres // to login to postgres
curl -L http://cube.dev/downloads/ecom-dump.sql &gt; ecom-dump.sql
psql --dbname ecom -f ecom-dump.sql
/pre&gt;

<img data-attachment-id="82667" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/populating-ecom-database-dataset/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png" data-orig-size="730,280" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Populating ecom database dataset" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png" decoding="async" class="aligncenter size-full wp-image-82667 jetpack-lazy-image" src="../Images/8fb4a718e9d17f052d74688c52357b49.png" alt="Populating The Ecom Database With A Dataset" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset-300x115.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="82667" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/populating-ecom-database-dataset/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png" data-orig-size="730,280" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Populating ecom database dataset" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82667" src="../Images/8fb4a718e9d17f052d74688c52357b49.png" alt="Populating The Ecom Database With A Dataset" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset-300x115.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Populating-ecom-database-dataset.png"/></noscript>

After successfully populating the <code>ecom</code> database, run this command to see the user’s relations count in the database:</pre>
<pre class="language-javascript hljs">psql // to enter psql command line
\c ecom // to connect or enter your database
SELECT count(*) FROM users;
</pre>
<p><img data-attachment-id="82669" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/viewing-user-relation-count/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png" data-orig-size="730,228" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Viewing user relation count" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count-300x94.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png" decoding="async" class="aligncenter size-full wp-image-82669 jetpack-lazy-image" src="../Images/0b6f021b9329d12c3f1ce38413c39e2a.png" alt="Viewing The User’s Relation Count" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count-300x94.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82669" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/viewing-user-relation-count/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png" data-orig-size="730,228" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Viewing user relation count" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count-300x94.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82669" src="../Images/0b6f021b9329d12c3f1ce38413c39e2a.png" alt="Viewing The User’s Relation Count" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count-300x94.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Viewing-user-relation-count.png"/></noscript>
<p>“关系”是表格的数学名称。因此，用户的关系计数是用户关系中表的总数。</p>
<p>我们还可以运行<code>\d+</code>来查看数据库中所有关系的列表。现在，我们完成了后端设置。</p>
<h2>Cube.js 安装程序</h2>
<p>要搭建我们的 Cube.js 项目，请运行以下命令:</p>
<pre class="language-javascript hljs">npx cubejs-cli create &lt;project name&gt; -d &lt;database type&gt;
</pre>
<p>现在，我们可以通过运行以下命令来设置我们的 Cube.js 项目:</p>
<pre class="language-javascript hljs">npx cubejs-cli create analytics -d postgres
</pre>
<p>这会创建一个名为<code>analytics</code>和<code>postgres</code>的新项目作为我们的数据库。</p>
<p><img data-attachment-id="82673" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/newly-created-react-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png" data-orig-size="730,170" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Newly created React app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png" decoding="async" class="aligncenter size-full wp-image-82673 jetpack-lazy-image" src="../Images/2b7c7897634d36c7a66a6570b9d2adb4.png" alt="Newly Created React App Named Analytics" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app-300x70.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82673" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/newly-created-react-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png" data-orig-size="730,170" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Newly created React app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82673" src="../Images/2b7c7897634d36c7a66a6570b9d2adb4.png" alt="Newly Created React App Named Analytics" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app-300x70.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Newly-created-React-app.png"/></noscript>
<p>接下来，让我们将以下 Postgres 数据库凭证手动添加到<code>.env</code>文件中。这允许我们将 Postgres 数据库连接到 Cube.js:</p>
<pre class="language-javascript hljs">CUBEJS_DB_TYPE=postgres
CUBEJS_DB_HOST=localhost
CUBEJS_DB_NAME=ecom
CUBEJS_DB_USER=postgres
CUBEJS_DB_PASS=testpassword
</pre>
<p>如果您使用不同的数据库名称，比如<code>user</code>，请用您唯一的凭证填充它。</p>
<p>我们经常看不到文件夹中的<code>.env</code>文件，在看到<code>.env</code>文件之前，我们必须检查查看隐藏文件的选项。我们可以使用终端通过简单地运行以下命令来添加凭证:</p>
<pre class="language-javascript hljs">cat .env   // to view the file in your terminal
vi .env    // to edit the file in your terminal editor
Press :wq! // keys to save the updated file and exit from the editor.
cat .env   // to see the updated file
</pre>
<p>之后，我们进入我们的文件夹并运行下面的命令:</p>
<pre class="language-javascript hljs">cd analytics

npm run dev
</pre>
<p>让我们转到<a href="http://localhost:4000/" rel="nofollow"> http://localhost:4000/ </a>来查看开发者园地，我们也在这里生成我们的数据模式。你可以阅读更多关于<a href="https://cube.dev/docs/schema/getting-started"> Cube.js 数据模式</a>的内容。</p>
<p>接下来，点击<strong>公共</strong>下拉菜单，选择<strong>产品</strong>和<strong>订单</strong>，点击<strong>生成模式</strong>生成<code>Order.js</code>和<code>Products.js</code>模式文件。</p>
<p><img data-attachment-id="82676" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/generating-schema-files/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png" data-orig-size="730,292" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating schema files" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files-300x120.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png" decoding="async" class="aligncenter size-full wp-image-82676 jetpack-lazy-image" src="../Images/91f934a74e9f095b9f8bdcf1ee926a21.png" alt="Generating Schema Files In Cube.js Developer Playground" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files-300x120.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82676" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/generating-schema-files/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png" data-orig-size="730,292" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating schema files" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files-300x120.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82676" src="../Images/91f934a74e9f095b9f8bdcf1ee926a21.png" alt="Generating Schema Files In Cube.js Developer Playground" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files-300x120.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Generating-schema-files.png"/></noscript>
<p>请注意，在使用 ctrl+z 停止该过程并尝试再次运行它的情况下，您可能会得到一个错误。这是因为在使用地址时，进程仍在后台运行。</p>
<p>要清除此错误，请使用以下命令终止该进程并清除地址:</p>
<pre class="language-javascript hljs">fuser -k 4000/tcp
</pre>
<h2>设置 React 应用程序</h2>
<p>这是本教程的最后一部分。为自己走到这一步鼓掌吧，这是你应得的。</p>
<p>现在，让我们继续完成我们开始的工作。我们可以通过两种方式将 Cube.js 连接到 React 应用程序:</p>
<ol>
<li>通过使用<a href="https://cube.dev/docs/dev-tools/dev-playground">cube . js</a><a href="https://cube.dev/docs/dev-tools/dev-playground">D</a><a href="https://cube.dev/docs/dev-tools/dev-playground">eveloper</a><a href="https://cube.dev/docs/dev-tools/dev-playground">P</a><a href="https://cube.dev/docs/dev-tools/dev-playground">lay ground</a></li>
<li>通过使用现有的 React 应用程序</li>
</ol>
<p>要使用开发者乐园，请转到<strong>仪表板应用</strong>部分，选择任何可用模板或创建一个新应用。</p>
<p><img data-attachment-id="82680" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/selecting-template/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png" data-orig-size="730,332" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Selecting template" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png" decoding="async" class="aligncenter size-full wp-image-82680 jetpack-lazy-image" src="../Images/d7678d18b0b3ebe02108e054815f478d.png" alt="Selecting A Template In The Cube.js Developer Playground" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template-300x136.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="82680" data-permalink="https://blog.logrocket.com/build-analytics-app-react-cube-js/selecting-template/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png" data-orig-size="730,332" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Selecting template" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-82680" src="../Images/d7678d18b0b3ebe02108e054815f478d.png" alt="Selecting A Template In The Cube.js Developer Playground" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template-300x136.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/Selecting-template.png"/></noscript>
<p>如果您正在使用现有的 React 应用程序，您只需要安装所需的包或依赖项，并连接到 Cube.js。</p>
<p>对于本教程，我们将使用现有的 React 应用程序，因此我们可以继续安装 Recharts 和 Cube.js 核心包:</p>
<pre class="language-javascript hljs">npm i --save @cubejs-client/core @cubejs-client/react recharts
</pre>
<p>现在，让我们将已安装的软件包导入到我们的<code>Analytics.js</code>文件中:</p>
<pre class="language-javascript hljs">import React from "react";
import cubejs from "@cubejs-client/core";
import { QueryRenderer } from "@cubejs-client/react";
import { BarChart, Bar, XAxis, YAxis, Tooltip } from "recharts";
</pre>
<p>最后，让我们导入我们安装的三个模块，分别是<code>@cubejs-client/core</code>、<code>@cubejs-client/react</code>和<code>recharts</code>:</p>
<pre class="language-javascript hljs">import React from "react";
import cubejs from "@cubejs-client/core";
import { QueryRenderer } from "@cubejs-client/react";
import { BarChart, Bar, XAxis, YAxis, Tooltip } from "recharts";

const cubejsApi = cubejs(
  "4c2a328092cda6a1944499663fcaf730c1622823fb714ee4e60ba4917cd9a773219d98df8aa91817813a9fffe012d8ebe0f507849719606a0722b0a47d08757d",
  { apiUrl: "http://localhost:4000/cubejs-api/v1" }
);

const Analytics = () =&gt; {
  return (
    &lt;QueryRenderer
      query={{
        measures: ["Orders.count"],
        dimensions: ["Products.name"],
        timeDimensions: [
          {
            dimension: "Orders.createdAt",
            granularity: "day",
            dateRange: "last 3 days"
          }
        ]
      }}
      cubejsApi={cubejsApi}
      render={({ resultSet }) =&gt; {
        if (!resultSet) {
          return "Loading Analytics...";
        }
        return (
          &lt;BarChart width={600} height={300} data={resultSet.rawData()}&gt;
            &lt;XAxis dataKey="Products.name" stroke="#8884d8" /&gt;
            &lt;YAxis /&gt;
            &lt;Tooltip /&gt;
            &lt;Bar barSize={30} dataKey="Orders.count" stroke="#8884d8" /&gt;
          &lt;/BarChart&gt;
        );
      }}
    /&gt;
  );
};
</pre>
<p><code>@cubejs-client/core</code>允许我们连接到我们的 Cube.js 后端，接受两个参数:我们的 Cube.js 秘密令牌，它可以在我们的<code>.env</code>文件中找到，以及 API URL，它是 Cube.js 在开发模式中的默认 URL。</p>
<p><code>@cubejs-client/react</code>允许我们从我们的功能性 React 组件查询我们的 Cube.js 后端，使用<code>useCubeQuery</code>钩子来执行这个查询。然后我们可以将我们需要的<code>dimensions</code>和<code>measures</code>传递给钩子。</p>
<p>此外，这里的<code>dimensions</code>是我们的定量数据，如售出的单位数、独特访问数或订单数，而<code>measures</code>是分类数据，如性别、产品名称或时间单位(如日、周或月)。</p>
<p>我们可以将<code>granularity</code>查询分别改为<code>week</code>、<code>month</code>或<code>year</code>，或者将<code>dateRange</code>分别改为<code>last {n} week</code>、<code>month</code>或<code>year</code>。我们还可以根据生成的模式改变<code>measures</code>和<code>dimensions</code>。</p>
<p>有了所有的数据，我们最终可以使用来自 Recharts 模块的<code>BarChart</code>来可视化它。如果需要，我们也可以使用 Recharts 提供的<code>LineChart</code>、<code>AreaChart</code>或<code>PieChart</code>。</p>
<h2>结论</h2>
<p>我们可以为我们的分析应用程序使用任何数据库。要使用 MongoDB，只需下载<code>mongodb</code>实例和 MongoDB Connector for BI，它有助于在 MongoDB 上编写 SQL 查询。</p>
<p>我们也可以使用任何我们熟悉的可视化包，比如 D3.js 或 Charts.js。</p>
<p>访问 Cube.js 官方<a href="https://cube.dev/">网站</a>了解如何认证您的分析应用程序，以便用户对分析数据拥有不同级别的访问权限，并利用 Cube.js 提供的许多很酷的分析功能。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产 React 应用</h2><p>调试 React 应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪 Redux 状态、自动显示 JavaScript 错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的 web 和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket 不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试 React 应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>