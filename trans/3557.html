<html>
<head>
<title>Build a blog with Vitepress and Vue.js </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Vitepress和Vue.js建立一个博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-blog-vitepress-vue-js/#0001-01-01">https://blog.logrocket.com/build-blog-vitepress-vue-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Vitepress是一个静态的站点生成器，由T2的Vite和Vue.js的T3提供支持，在前端世界迅速流行起来。它具有优秀的特性，可以简化静态站点的构建，并在不影响性能的情况下提供最少的功能。使用Vitepress，您可以使用Markdown和不同的主题来设计您的页面和内容，从而更快地构建网页。</p>
<p>本文旨在通过使用带有Markdown的Vitepress和Vue.js构建一个博客，让您熟悉Vitepress。</p>
<p>向前跳:</p>

<h2 id="vite-vitepress">什么是Vite和Vitepress？</h2>
<p>Vitepress，顾名思义，由<a href="https://blog.logrocket.com/getting-started-with-vite/"> Vite </a>提供动力。Vite取代了Rollup和Webpack等工具，旨在解决Webpack和其他前端构建工具的痛点。使用Vite的主要好处是:</p>
<ul>
<li>更快的服务器启动</li>
<li>即时热模块重装(HMR)</li>
<li>减少配置时间</li>
</ul>
<p>你可以在这里找到更多关于Vite <a href="https://vitejs.dev/guide/why.html">的细节。</a></p>
<p>Webpack启动开发服务器需要更长的时间，这对于开发人员来说是无法忍受的。当文档站点变大时，使用Webpack变得非常烦人。这是开发Vitepress的主要动机。如果你以前使用过<a href="https://blog.logrocket.com/vuepress-in-all-its-glory-2f682e4f70c0/"> Vuepress </a>，Vitepress非常相似，两个框架都专注于轻松地构建文档页面。一个区别是Vuepress用的是Webpack，Vitepress用的是Vite。</p>
<p>Vue和Vitepress的创始人<a href="https://twitter.com/youyuxi">尤雨溪</a>没有重构Vuepress的代码库，而是创建了新的静态站点生成器，支持Vite和<a href="https://blog.logrocket.com/definitive-guide-vue-3-components/"> Vue 3 </a>。它们的布局也是为文档网站设计的。但是，您也可以创建布局。</p>
<p>因为正处于alpha阶段，Vitepress仍然比Vuepress缺少更多的功能，但它也很容易使用，因为Vitepress背后的团队希望保持它的最小化。</p>
<p>值得一提的是，Vitepress <a href="https://vitepress.vuejs.org/guide/what-is-vitepress">不支持当前的Vuepress生态系统，因为Vitepress的团队希望保持最小的主题API，以便可以在主题中进行定制。要了解更多关于Vitepress与Vuepress的不同之处，请参考他们的</a><a href="https://vitepress.vuejs.org/guide/what-is-vitepress">官方文档</a>。</p>
<h2 id="building-blog-vitepress-vue-js">用Vitepress和Vue.js创建博客</h2>
<p>即使Vitepress可以用来快速构建设计良好的文档站点，您也可以扩展Vitepress的功能来开发您的博客。在本文中，我们将重点介绍如何在Vitepress中创建一个博客并学习主题化和定制。</p>
<p>通读完这篇文章后，您可以使用Vitepress和Vue 3开发您的文档站点或博客。但是在开始阅读本文之前，请确保您对Vue 3有一个基本的了解。</p>
<h3 id="creating-static-site-vitepress">用Vitepress创建静态站点</h3>
<p>使用Vitepress非常容易。你可以通过安装两个主要的开发者包来开始用Vitepress构建你的网站。在您的工作目录中，安装<code>vue</code>和<code>vitepress</code>作为开发者依赖项。</p>
<p>要安装软件包，请运行以下命令:</p>
<pre> npm i -D vue vitepress
</pre>
<p><code>-D</code>标志将把包作为开发者依赖项安装。现在，在工作目录中创建一个文件夹，并随意命名。通常，这个文件夹被命名为<code>docs</code>，所以我也将这个文件夹命名为<code>docs</code>。</p>
<p>创建完<code>docs</code>之后，你需要添加一些<code>scripts</code>到你的<code>package.json</code>文件中。复制下面的<code>scripts</code>并粘贴到你的<code>package.json</code>文件中:</p>
<pre class="language-json hljs">"scripts": {
    "docs:dev": "vitepress dev docs",
    "docs:build": "vitepress build docs",
    "docs:serve": "vitepress serve docs"
  },
</pre>
<p>现在，准系统Vitepress应用程序的设置已经准备好了。创建一个标题为<code>index.md</code>的Markdown文件，并在<code>docs</code>中添加一些虚拟内容。通过在终端内部运行命令<code>npm run docs:dev</code>来启动开发服务器。</p>
<p>Vitepress的默认开发端口是<code>localhost:5173</code>。这个<code>index.md</code>文件将作为<code>index.html</code>文件或者你的Vitepress静态站点的入口点。如果您访问该URL，您将能够查看您的Vitepress页面。Vitepress附带了一个默认主题。您可以使用主题提供的不同选项来自定义您的网站。</p>
<p>但是，因为<code>index.md</code>文件是空的，所以您将看不到任何内容。您可以在<code>index.md</code>中添加一些文本，以查看您的Vitepress页面上的更改。要定制这些特性，在<code>docs</code>中创建一个名为<code>.vitepress</code>的文件夹(注意开头的点)。此文件夹用于配置Vitepress选项。</p>
<p>在Vitepress上可以进行三种类型的配置:应用配置、主题配置和前台配置。应用程序配置包括网站标题、Markdown解析器定制等功能。同时，主题配置决定了应用程序的外观。例如，如果你想在你的网站上添加一个导航栏，你需要更新主题配置。</p>
<p>前端事件配置可以覆盖特定页面、应用程序配置和主题配置的全局配置。</p>
<h3 id="vitepress-configurations">Vitepress配置</h3>
<p>在这个文件中创建一个名为<code>config.js</code>的文件。Vitepress将读取这个文件来定制您的应用程序。该文件也可以使用<code>.ts</code>、<code>.mjs</code>、<code>.mts</code>等扩展名创建。</p>
<p>让我们看一个虚拟的<code>config.js</code>文件来理解如何定制主题:</p>
<pre class="language-javascript hljs">export default {
  title: 'My Blog',
  description: 'Just playing around.',
  themeConfig: {
    nav: [
      { text: 'Home', link: '/' },
      { text: 'Blog', link: '/articles/' },
      { text: 'External', link: 'https://google.com' },
    ],
  },
};
</pre>
<p>上面代码中的对象由三个选项组成:<code>title</code>、<code>description</code>和<code>themeConfig</code>。<code>title</code>和<code>description</code>键用于描述你网站的标题和元描述。这些都是app配置。</p>
<p>添加一个<code>head</code>键还可以在头部添加Google字体或者CSS文件的特定链接。你可以在这里找到所有的应用配置选项<a href="https://vitepress.vuejs.org/config/app-configs">。</a></p>
<p>主题配置可以通过<code>themeConfig</code>键添加到对象中，如上所示。<code>nav</code>数组定义了导航栏中的元素，您还可以为导航项目添加下拉菜单。这里有一个如何使用它的例子:</p>
<pre class="language-javascript hljs">export default {
  themeConfig: {
    nav: [
      { text: 'Guide', link: '/guide' },
      {
        text: 'Dropdown Menu',
        items: [
          { text: 'Item A', link: '/item-1' },
          { text: 'Item B', link: '/item-2' },
          { text: 'Item C', link: '/item-3' }
        ]
      }
    ]
  }
}
</pre>
<p>你还可以用<code>themeConfig</code>添加边栏、页脚、社交链接、<a href="https://vitepress.vuejs.org/config/theme-configs">等更多的</a>。</p>
<h3 id="adding-posts-blog-vitepress-vue-js">使用Vitepress和Vue向博客添加帖子</h3>
<p>现在，让我们在博客上添加一些帖子。在<code>docs</code>文件夹中创建一个名为<code>articles</code>的文件夹，并以Markdown格式添加任何帖子。例如，让我们添加一个名为<code>article1.md</code>的降价帖子。</p>
<p>现在，打开我们之前创建的<code>index.md</code>文件，并添加<code>article1.md</code>链接。<code>index.md</code> Markdown文件将如下所示:</p>
<pre>[Article 1](/articles/article1) 
</pre>
<p>添加这个会在你的主页上呈现如下的文章:</p>
<p><img data-attachment-id="140480" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/vitepress-homepage-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png" data-orig-size="730,393" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Demo of the Vitepress Homepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png" decoding="async" class="aligncenter size-full wp-image-140480 jetpack-lazy-image" src="../Images/0bf5f05512e1fa1d6b93340df5fde5cd.png" alt="Demo of the Vitepress Homepage" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo-300x162.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140480" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/vitepress-homepage-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png" data-orig-size="730,393" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Demo of the Vitepress Homepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140480" src="../Images/0bf5f05512e1fa1d6b93340df5fde5cd.png" alt="Demo of the Vitepress Homepage" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo-300x162.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-homepage-demo.png"/></noscript>
<p>如果你点击链接，它会将你的Markdown文件显示为一个HTML页面。关于Vitepress的一个很棒的事情是，你可以将Vue 3组件直接添加到你的Markdown文件中，从而轻松地配置你的主页。</p>
<h3 id="designing-blog-post-cards-homepage">在主页上设计博客帖子卡</h3>
<p>我们在首页加一张博文卡片吧。在<code>docs</code>中创建一个<code>components</code>文件夹。现在，创建一个名为<code>ArticleCard.vue</code>的文件。一个Vue组件可以包含一个<code>template</code>、<code>script</code>和<code>style</code>。首先，我们来看看<code>template</code>:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;a :href="href"&gt;
    &lt;div class="card"&gt;
      &lt;div class="flex"&gt;
        &lt;div class="media"&gt;
          &lt;img :src="image" :alt="title" /&gt;
        &lt;/div&gt;
        &lt;div class="details"&gt;
          &lt;h2 class="title"&gt;{{ title }}&lt;/h2&gt;
          &lt;p class="excerpt"&gt;{{ truncateText(excerpt, 50) }}&lt;/p&gt;
          &lt;div class="author"&gt;
            &lt;div&gt;
              &lt;h3 class="name"&gt;{{ author }}&lt;/h3&gt;
              &lt;p class="date"&gt;{{ date }}&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/a&gt;
&lt;/template&gt;
</pre>
<p>代码相当简单，因为我们只使用几个道具将数据传递到组件中。让我们来看看<code>script</code>探索道具:</p>
<pre class="language-javascript hljs">&lt;script&gt;
export default {
  props: {
    title: {
      type: String,
      required: true,
    },
    excerpt: {
      type: String,
      required: true,
    },
    image: {
      type: String,
      required: true,
    },
    author: {
      type: String,
      required: true,
    },
    date: {
      type: String,
      required: true,
    },
    href: {
      type: String,
      required: true,
    },
  },
  methods: {
    truncateText(text, length) {
      if (text.length &gt; length) {
        return text.substring(0, length) + "...";
      }
      return text;
    },
  },
};
&lt;/script&gt;
</pre>
<h3 id="styling-blog-homepage-vitepress-vue-js">用Vitepress和Vue设计博客主页</h3>
<p>卡片的道具有<code>title</code>、<code>excerpt</code>、<code>image</code>、<code>author</code>、<code>date</code>、<code>href</code>。道具的名称不言自明。除此之外，我们还有一个截断摘录大小的函数。它将一些文本和字符长度作为参数，并返回一个带有尾随点的截断文本。我不会解释基本的样式，因为我假设你知道CSS的基础知识。</p>
<p>该组件的样式如下所示:</p>
<pre class="language-javascript hljs">&lt;style scoped&gt;
.card {
  border-radius: 0.5rem;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  margin-bottom: 1.5rem;
  overflow: hidden;
  width: 100%;
}

.card:hover {
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.25);
  transition: ease-in-out 0.2s all;
}

.flex {
  display: flex;
}

.media {
  width: 45%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.details {
  margin-left: 1.2rem;
}

.title {
  border-top: none;
  margin: 0 0;
}

.name {
  margin: 0 0;
  font-size: 0.7rem;
  color: #999;
}
&lt;/style&gt;
</pre>
<p>我还做了一个<code>hero</code>组件。下面是<code>Hero.vue</code>的代码:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div class="hero"&gt;
    &lt;div class="hero-body"&gt;
      &lt;div class="container"&gt;
        &lt;h1 class="title"&gt;Hey, I'm {{ name || "John Doe" }}.&lt;/h1&gt;
        &lt;h2 class="subtitle"&gt;
          {{ subtitle }}
        &lt;/h2&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: {
    name: {
      type: String,
      required: true,
    },
    subtitle: {
      type: String,
      required: true,
    },
  },
};
&lt;/script&gt;

&lt;style&gt;
h2.subtitle {
  font-size: 1.2rem;
  border-top: none;
}
&lt;/style&gt;
</pre>
<p>现在我们已经创建了组件，让我们将它们添加到<code>index.md</code>文件中:</p>
<pre class="language-javascript hljs">&lt;script setup&gt;
  import Hero from './components/Hero.vue'
  import ArticleCard from './components/ArticleCard.vue'
&lt;/script&gt;

&lt;Hero name="Nemo" subtitle="Welcome to my blog. This one is built with Vitepress and Vue.js. Vitepress is super cool." /&gt;

&lt;ArticleCard title="Article 1" excerpt="Lorem i" image="https://images.unsplash.com/photo-1664663751485-c58e9276ccce?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1167&amp;q=80" author="John Doe" href="/articles/article1" date="2022-08-01" /&gt;
</pre>
<p>这就像任何标准的Vue组件。但是，如果你想在这个文件中添加降价，你可以直接在结束标签<code>script</code>之后添加。</p>
<p>您的主页现在将如下所示:</p>
<p><img data-attachment-id="140482" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/vitepress-blog-with-vue-js-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png" data-orig-size="730,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blog with Vue.js and Vitepress component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png" decoding="async" class="aligncenter size-full wp-image-140482 jetpack-lazy-image" src="../Images/f6257f50160d68a62e882e93f74e1f50.png" alt="Blog with Vue.js and Vitepress Component" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component-300x162.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140482" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/vitepress-blog-with-vue-js-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png" data-orig-size="730,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blog with Vue.js and Vitepress component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140482" src="../Images/f6257f50160d68a62e882e93f74e1f50.png" alt="Blog with Vue.js and Vitepress Component" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component-300x162.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/vitepress-blog-with-vue-js-component.png"/></noscript>
<p>现在，我们有Vitepress设置的默认颜色。您可以通过组件中的<code>style</code>标签自定义组件的颜色。对于特定于降价的文件，您也可以覆盖默认样式。更多细节可以参考<a href="https://vitepress.vuejs.org/guide/theme-introduction">文档</a>。</p>
<p>现在，这个博客有一个问题。每次添加新文章时，手动将所有文章添加到索引文件<code>.md</code>中是一个糟糕的主意。那么，我们如何解决这个问题？</p>
<h3 id="accessing-front-matter-vitepress">在Vitepress中访问前端内容</h3>
<p>Vuepress内置了对前端获取的支持。您可以通过访问<code>$site</code>变量来访问前面的详细信息。但Vitepress却不是这样。为了保持Vitepress最小，它不支持它。我们必须自己想办法解决这个问题。</p>
<p>实现这一点的一个方法是编写一个简单的脚本，该脚本将获取前面的细节并将其写入一个<code>JSON</code>文件。</p>
<p>让我们来看一个简单的脚本:</p>
<pre class="language-javascript hljs">// Credits to Divyansh Singh
// Twitter: @_brc_dd

import fs from 'node:fs/promises';
import matter from 'gray-matter';
import removeMd from 'remove-markdown';

const articles = await fs.readdir('./docs/articles');

const data = await Promise.all(
  articles.map(async (article) =&gt; {
    const file = matter.read(`./docs/articles/${article}`, {
      excerpt: true,
      excerpt_separator: '

',
});
const { data, excerpt, path } = file;
const contents = removeMd(excerpt)
.trim()
.split(/\r\n|\n|\r/);
return {
...data,
title: contents[0].replace(/\s{2,}/g, '').trim(),
path: path.replace('./docs/', '').replace(/\.md$/, '.html'),
excerpt: contents
.slice(1)
.join('')
.replace(/\s{2,}/g, '')
.trim(),
};
})
);
await fs.writeFile('./data.json', JSON.stringify(data), 'utf-8');</pre>
<p>首先，我们需要安装<a href="https://www.npmjs.com/package/gray-matter">灰质</a>和<a href="https://www.npmjs.com/package/remove-markdown">去除标记</a>。gray-matter包从markdown文件中读取前面的内容，而remove-markdown包用于从文本中删除任何Markdown。要安装软件包，运行<code>npm i remove-markdown gray-matter</code>命令。</p>
<h3 id="finalizing-blog-vitepress-vue-js">用Vitepress和Vue.js完成博客</h3>
<p>现在我们来讨论剧本。第一步是读取存储文章的目录。在这种情况下，文章在<code>docs/articles</code>文件夹中。我们将文件夹中的值存储在一个名为<code>articles</code>的变量中。</p>
<p>现在，在一个<code>Promise</code>中，我们将映射到<code>articles</code>文件夹中的每个可用项目。使用gray-matter软件包中的<code>matter.read</code>功能读取降价信息。该函数返回所有必要的信息，如<code>path</code>、<code>excerpt</code>等。它还包含一个<code>data</code>对象，用于存储前面的细节。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>通过阅读标题后的引用(<code>&gt;</code>)来阅读摘录。对于<code>&lt;!-- more --&gt;</code>分隔符，它会将引用视为摘录。在上面的代码中，分频器被定义为<code>excerpt_separator</code>:</p>
<pre class="language-json hljs">---
Author: Nemo
Updated: 2022-06-01
image: https://images.unsplash.com/photo-1664575198263-269a022d6e14?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1170&amp;q=80
---
# Si pace ad caput
&gt; lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
</pre>
<p>现在，所需的数据从文件中重新构造。使用<code>removeMd</code>包清理摘录。<code>regex</code>操作用于清洁CRLF和LF线断线。最后，返回数据。</p>
<p>在<code>data</code>中，路径从<code>./docs/articles/article.md</code>被替换为<code>/articles/article.html</code>，用于将其渲染为HTML。将<code>script</code>保存为<code>getArticles.mjs</code>。如果你愿意，你也可以不加任何扩展名。</p>
<p>使用了<code>mjs</code>扩展，这样我们就可以使用<a href="https://nodejs.org/api/esm.html"> ECMAScript模块</a>。从<code>script</code>生成的数据被写入一个JSON格式的<code>data.json</code>文件。要在每次新构建开始时运行这个<code>script</code>，将您的包<code>scripts</code>更改为:</p>
<pre class="language-json hljs">"scripts": {
    "docs:dev": "node getArticles.mjs &amp;&amp; vitepress dev docs",
    "docs:build": "node getArticles.mjs &amp;&amp; vitepress build docs",
    "docs:serve": "vitepress serve docs"
  },
</pre>
<p>在开始处添加<code>node getArticles.mjs</code>命令可以确保<code>script</code>在Vitepress服务器启动之前运行。</p>
<p>现在，在主页上，让我们迭代文章并在<code>ArticleCard</code>中渲染它们。一个简单的<code>v-for</code>循环可以用来渲染文章。让我们看看最后的<code>index.md</code>页面:</p>
<pre class="language-javascript hljs">&lt;script setup&gt;
  import Hero from './components/Hero.vue'
  import ArticleCard from './components/ArticleCard.vue'

  import data from '../data.json' 
&lt;/script&gt;

&lt;Hero name="Nemo" subtitle="Welcome to my blog. This one is built with Vitepress and Vue.js. Vitepress is super cool." /&gt;

&lt;div v-for="(article, index) in data" :key="index"&gt;
  &lt;ArticleCard :title="article.title" :excerpt="article.excerpt" :image="article.image" :author="article.Author" :href="article.path" :date="article.Updated" /&gt;
&lt;/div&gt;
</pre>
<p>当您启动Vitepress应用程序时，您的主页将类似于下面的截图:</p>
<p><img data-attachment-id="140484" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/blog-with-vitepress-vue-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blog page with Vitepress and Vue.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png" decoding="async" class="aligncenter size-full wp-image-140484 jetpack-lazy-image" src="../Images/fe0c2c8a8df910d74e63db745e4de114.png" alt="Blog Page with Vitepress and Vue.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js-300x155.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140484" data-permalink="https://blog.logrocket.com/build-blog-vitepress-vue-js/attachment/blog-with-vitepress-vue-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blog page with Vitepress and Vue.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140484" src="../Images/fe0c2c8a8df910d74e63db745e4de114.png" alt="Blog Page with Vitepress and Vue.js" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js-300x155.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/blog-with-vitepress-vue-js.png"/></noscript>
<p>你的博客已经准备好了！</p>
<p>你可以访问这个<a href="https://stackblitz.com/github/nemo0/vitepress-blog?file=package.json"> Stackblitz repo </a>来查看它的工作版本，或者你也可以查看<a href="https://github.com/nemo0/vitepress-blog"> GitHub仓库</a>来获得完整的代码。</p>
<h2>结论</h2>
<p>这篇文章的目的是帮助你开始使用Vitepress。它向您展示了如何扩展Vitepress来构建您的博客并根据您的需要定制页面。Vitepress提供了一种为文档站点或博客构建静态站点的简单方法。</p>
<p>Vitepress仍处于alpha阶段，因此可能会出现问题。现在最好不要在你的生产应用中使用Vitepress。但是如果你想探索更多关于这个库的信息，你可以查看一下<a href="https://vitepress.vuejs.org/">文档</a>。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>