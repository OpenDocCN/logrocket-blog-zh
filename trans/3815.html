<html>
<head>
<title>Leverage Go workspaces for multi-module local development </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>利用Go工作区进行多模块本地开发</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/go-workspaces-multi-module-local-development/#0001-01-01">https://blog.logrocket.com/go-workspaces-multi-module-local-development/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://blog.logrocket.com/tag/go/"> Go </a>编程语言是为开发人员的生产力和易用性而准备的。从语言开始很容易，用Go的标准库<a href="https://blog.logrocket.com/getting-started-with-go-for-frontend-developers/">构建完整的应用</a>。Go也是向后兼容的，并且升级了语言以防止破坏现有的代码。</p>
<p>Go v1.11发布的一个令人兴奋的特性是引入了Go模块。最后，Go开发者有了一个简单的版本化和包管理的选择。</p>
<p>现在，Go v1.18引入了Go work spaces——这一特性使得使用多个Go模块比以往任何时候都更容易。这包括版本控制，而无需在解决依赖关系时为工作区中的每个模块编辑Go模块文件。</p>
<p>在本文中，我们将探讨什么是Go工作区，以及您可以使用工作区特性探索的各种用例。在我们开始之前，确保你已经掌握了<a href="https://blog.logrocket.com/full-stack-bud-go/">围棋</a>、<a href="https://blog.logrocket.com/flat-structure-vs-layered-architecture-structuring-your-go-app/">设置围棋项目</a>和<a href="https://go.dev/blog/using-go-modules">围棋模块</a>的工作知识。您还需要在您的机器上安装<a href="https://go.dev/dl/"> Go v1.18 </a>或更高版本。</p>
<p><em>向前跳转:</em></p>

<h2 id="go-workspaces">什么是Go工作区？</h2>
<p><img data-attachment-id="155134" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-workspaces-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png" data-orig-size="730,501" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Graphic of Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example-300x206.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png" decoding="async" class="aligncenter size-full wp-image-155134 jetpack-lazy-image" src="../Images/8901525128abb219e76e65f156602a29.png" alt="Graphic of Go Workspaces" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example-300x206.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155134" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-workspaces-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png" data-orig-size="730,501" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Graphic of Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example-300x206.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155134" src="../Images/8901525128abb219e76e65f156602a29.png" alt="Graphic of Go Workspaces" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example-300x206.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspaces-example.png"/></noscript>
<p><a href="https://go.dev/ref/mod#workspaces"> Go工作区</a>使用一个<code>go.work</code>文件，通过一个Go模块文件，提供同时使用多个Go模块作为主模块的功能。<code>go.work</code>文件覆盖了<code>go.mod</code>文件，因此您不必担心修改初始文件来处理各种模块。</p>
<p>在Go工作空间出现之前，Go开发人员可以选择使用不同的Go模块(<code>go.mod</code>)文件创建多个Go模块，并编辑这些文件以进行更改，或者使用<code>replace</code>目录在<code>go.mod</code>中进行更改。这很麻烦，尤其是随着项目规模的增加。</p>
<p>Go工作区为从事多个Go项目的开发人员提供了生产力提升，并允许您初始化Go工作区以同时处理多个模块。当工具处理<code>go.mod</code>文件变更时，你得到更简单的工作流程和<a href="https://blog.logrocket.com/managing-full-stack-monorepo-pnpm/"> monorepos </a>。这一改变让您可以专注于为您不同的用例编写与多个模块一起工作的代码。</p>
<h2 id="started-go-workspaces">Go工作区入门</h2>
<p>首先，您需要为Go中的多模块本地开发初始化一个Go工作区。从那里，您可以指定添加到工作区的模块，并将这些模块作为一个单元来使用。</p>
<p>您可以使用<code>init</code>命令初始化Go工作区。初始化后，<code>init</code>命令将一个工作区文件(<code>go.work</code>)写入根目录。您可以将路径指定为<code>init</code>命令的可选参数，或者让Go工具创建一个空的工作空间:</p>
<pre class="language-shell hljs">go work init
</pre>
<p><img data-attachment-id="155136" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/initialize-go-workspace/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initializing a Go Workspace" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png" decoding="async" class="aligncenter size-full wp-image-155136 jetpack-lazy-image" src="../Images/547f495514d1a7fc971a38d385c5f647.png" alt="Initializing a Go Workspace" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace-300x77.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155136" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/initialize-go-workspace/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initializing a Go Workspace" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155136" src="../Images/547f495514d1a7fc971a38d385c5f647.png" alt="Initializing a Go Workspace" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace-300x77.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/initialize-go-workspace.png"/></noscript>
<p>在初始化一个空的工作空间文件后，您可以使用带有Go modules文件的<code>use</code>指令将模块添加到工作空间:</p>
<pre class="language-go hljs">use (
        ./newProject1
        ./newProject2
)
</pre>
<p>如果您正在使用的模块已经存在并被初始化，您可以通过将它们全部指定为<code>init</code>命令的可选参数来添加它们:</p>
<pre class="language-shell hljs">mkdir newProject1 &amp;&amp; cd newProject1 &amp;&amp; go mod init newProject1 
mkdir newProject2 &amp;&amp; cd newProject2 &amp;&amp; go mod init newProject2
</pre>
<p>上面的代码是用<code>mod init</code>创建和初始化两个Go模块的CLI命令:</p>
<pre class="language-shell hljs">go work init newProject1 newProject2
</pre>
<p><img data-attachment-id="155138" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/add-go-module/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png" data-orig-size="730,266" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initializing two Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module-300x109.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png" decoding="async" class="aligncenter size-full wp-image-155138 jetpack-lazy-image" src="../Images/6d4f113eb2732e3ebd4ef6079ee07667.png" alt="Initializing Two Go Workspaces" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module-300x109.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155138" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/add-go-module/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png" data-orig-size="730,266" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initializing two Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module-300x109.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155138" src="../Images/6d4f113eb2732e3ebd4ef6079ee07667.png" alt="Initializing Two Go Workspaces" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module-300x109.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/add-go-module.png"/></noscript>
<p>上面的命令将模块添加到工作区，自动更新<code>use</code>:</p>
<p><img data-attachment-id="155140" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-workspace-updated/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png" data-orig-size="730,239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Updating the Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated-300x98.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png" decoding="async" class="aligncenter size-full wp-image-155140 jetpack-lazy-image" src="../Images/02505fa3b7f061aac3aeffbe6525b97c.png" alt="Updating the Go Workspaces" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated-300x98.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155140" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-workspace-updated/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png" data-orig-size="730,239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Updating the Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated-300x98.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155140" src="../Images/02505fa3b7f061aac3aeffbe6525b97c.png" alt="Updating the Go Workspaces" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated-300x98.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-workspace-updated.png"/></noscript>
<p><code>go.work</code>文件语法与<code>go.mod</code>文件相同，具有相似的指令。<code>go</code>指令指定了项目的Go版本。<code>use</code>指令将模块添加到相对于<code>go.mod</code>文件路径的工作空间中的模块中。您可以使用<code>replace</code>指令将指定模块版本的内容替换为您指定的替代版本。</p>
<h2 id="working-mulitiple-modules-go-workspaces">使用Go工作区处理多个模块</h2>
<p>Go提供了用于工作空间和工作空间中的模块的<code>edit</code>、<code>use</code>和<code>sync</code>命令。</p>
<p>您可以使用<code>use</code>命令向您的工作区添加新模块。如果包在本地，则<code>use</code>命令修改<code>go.work</code>文件并将模块(包)添加到<code>use</code>指令中:</p>
<pre class="language-shell hljs">go work use ./filePath
</pre>
<p><code>sync</code>命令将构建列表(工作区中依赖模块的版本)同步到工作区模块:</p>
<pre class="language-shell hljs">go work sync
</pre>
<p><code>edit</code>命令提供了一个命令行界面，用于编辑当前目录和父目录中的Go工作区文件:</p>
<pre class="language-shell hljs">go work edit
</pre>
<blockquote><p>注意:只有edit命令可以访问工作区文件(没有模块)。</p></blockquote>
<p>您可以使用带有<code>edit</code>的<code>-fmt</code>标志来重新格式化Go workspace文件:</p>
<pre class="language-shell hljs">go work edit -fmt
</pre>
<h2 id="implementing-go-workspaces">在程序中实现Go工作区</h2>
<p>Go workspaces的目标是多模块本地开发。在本教程中，您将在同一工作区的另一个模块中本地访问外部模块中的函数。</p>
<p>运行下面的代码，在您的机器上创建并初始化一个带有两个Go模块的Go工作区。这些命令还在模块中创建Go文件:</p>
<pre class="language-shell hljs">go work init
mkdir newProject1 &amp;&amp; cd newProject1 &amp;&amp; go mod init newProject1 &amp;&amp; touch calculate.go
cd ..
mkdir newProject2 &amp;&amp; cd newProject2 &amp;&amp; go mod init newProject2 &amp;&amp; touch calculated.go
</pre>
<p><img data-attachment-id="155142" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-new-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Leveraging Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png" decoding="async" class="aligncenter size-full wp-image-155142 jetpack-lazy-image" src="../Images/c1f2ce3446891728e280d0c4c10728ad.png" alt="Leveraging Go Workspaces" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project-300x78.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155142" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-new-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Leveraging Go Workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155142" src="../Images/c1f2ce3446891728e280d0c4c10728ad.png" alt="Leveraging Go Workspaces" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project-300x78.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-new-project.png"/></noscript>
<p><code>newProject1</code>模块将包含一个<code>newProject2</code>模块可以在开发中访问和互操作的函数。</p>
<p>下面是带有<code>use</code>指令的<code>workspace</code>文件，指定这两个模块是工作空间的一部分:</p>
<pre class="language-shell hljs">use (
        ./newProject1
        ./newProject2

)
</pre>
<p>将这些代码添加到指定的包中，以从<code>newProject2 main</code>功能访问<code>newProject1</code>功能:</p>
<pre class="language-go hljs">// newProject1

package newProject1

func Calculate(x, y int) int {
        return x + y
}
</pre>
<p>上面的代码返回两个整数的和。由于模块(<code>newProject1</code>)是Go工作区的一部分，您应该能够从另一个模块(<code>newProject2</code>)访问该功能:</p>
<pre class="language-go hljs">// newProject2

package main

import (
        "fmt"
        "newProject1"
)

func main() {
        fmt.Println(newProject1.Calculate(3, 4))
}
</pre>
<p>上面的代码导入了<code>newProject1</code>模块并访问了<code>Calculate</code>函数。下面是运行<code>newProject2</code>包的主函数的结果:</p>
<pre class="language-shell hljs">go run ./newProject2
</pre>
<p><img data-attachment-id="155144" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-project-running/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png" data-orig-size="730,103" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Go Workspace project running" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running-300x42.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png" decoding="async" class="aligncenter size-full wp-image-155144 jetpack-lazy-image" src="../Images/159d7cb944aece8962332ebe56d2a003.png" alt="Go Workspace Project Running" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running-300x42.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="155144" data-permalink="https://blog.logrocket.com/go-workspaces-multi-module-local-development/attachment/go-project-running/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png" data-orig-size="730,103" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Go Workspace project running" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running-300x42.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-155144" src="../Images/159d7cb944aece8962332ebe56d2a003.png" alt="Go Workspace Project Running" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running-300x42.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/go-project-running.png"/></noscript>
<h2 id="use-cases-go-workspaces">Go工作区的更多使用案例</h2>
<p>Go workspaces是一个相对较新的特性，开发人员寻求新的方法和用例来将其整合到他们的项目中。</p>
<p>以下是Go工作区的一些使用案例:</p>
<h3 id="open-source-collaborations">开源合作</h3>
<p>Go workspaces可以促进Go开发者之间的开源合作，因为你可以无缝地使用多个模块。这对于大型项目来说非常方便，因为项目之间的切换和互操作变得更加容易。</p>
<h3 id="version-control-release">版本控制和发布</h3>
<p>Go工作区的一个用例是版本控制。Go workspaces使同时构建不同的版本和功能变得更加容易，同时在不破坏现有代码的情况下同步包之间的依赖关系。</p>
<h2>结论</h2>
<p>您已经了解了Go工作空间、功能、如何使用Go工作空间简化项目中的工作流程，以及工作空间的使用案例。</p>
<p>Go workspaces与许多其他备受期待的功能一起发布，从<a href="https://go.dev/doc/tutorial/fuzz">模糊化</a>到<a href="https://blog.logrocket.com/go-generics-past-designs-present-release-features/">泛型</a>以及跨机器的性能改进。Go作者不断努力改进语言，最近发布了Go v1.19。</p><div class="code-block code-block-4">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>