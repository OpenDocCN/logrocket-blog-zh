<html>
<head>
<title>Angular modules: Best practices for structuring your app - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>角度模块:构建应用程序的最佳实践</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/angular-modules-best-practices-for-structuring-your-app/#0001-01-01">https://blog.logrocket.com/angular-modules-best-practices-for-structuring-your-app/#0001-01-01</a></blockquote><div><article class="article-post">
<p>曾几何时，前端开发很简单，因为大部分繁重的工作都在后端处理。今天，应用程序的大部分逻辑驻留在前端，需要支持可重用性、可扩展性和可维护性的智能架构。</p>
<p>在本教程中，我们将向您展示如何将您的应用程序组织成一系列更小的功能块或模块。我们将介绍构建一个结构良好的 Angular 应用程序的过程，该应用程序使用模块来加强关注点的分离和可重用性。我们还将回顾使用<a href="https://angular.io/guide/architecture-modules">角度模块</a>的一些最佳实践。</p>
<p>以下是我们将要介绍的内容:</p>

<p>要继续学习，您应该在您的机器上安装 Node.js V10.x，并且事先掌握 Angular 的工作知识。</p>
<h2 id="whatareangularmodules">什么是角模？</h2>
<p>在 Angular 应用程序中，模块是具有独立程序功能的小段代码。</p>
<p>对于 Angular 模块如何工作的一个简单例子，假设你正在构建一个电子商务网站或应用程序。您可能有一个用于购物车部分的模块，一个用于产品部分的模块，一个用于客户部分的模块，等等。每个模块代表你的电子商务应用程序的一个独立部分。</p>
<h2 id="whyusemodulesinangular">为什么在 Angular 中使用模块？</h2>
<p>如果你没有全神贯注于适当的软件架构，你的应用程序的某些部分可能会变得混乱无序，使得重用代码或者孤立地测试任何一段代码变得更加困难。</p>
<p>模块使您能够:</p>
<ul>
<li>独立于其他功能开发特定的功能</li>
<li>通过允许每个开发团队处理一个单独的特性，更容易地管理团队</li>
<li>明确定义当前模块运行所需的模块列表</li>
<li>逐步部署功能</li>
<li>构建可伸缩的应用程序</li>
<li>轻松编写测试</li>
</ul>
<h2 id="typesofmodulesinangular">角度中的模块类型</h2>
<p>Angular 中可用的模块类型包括根模块、核心模块、共享模块和功能模块。让我们更详细地看一下每种角度模块类型。</p>
<h3>根模块</h3>
<p><a href="https://angular.io/guide/bootstrapping">根模块</a>是角度应用中的主要模块。它由<a href="https://blog.logrocket.com/6-useful-features-in-angular-cli-eb502bd95874/">A</a>T5】ngular CLIas<code>AppModule</code>生成，并在应用程序启动时自举。</p>
<p>每隔一个角模直接或间接地依赖于根模。一个角度应用程序中只能存在一个根模块。</p>
<h3>核心模块</h3>
<p>核心模块通常包含在 Angular 应用程序中使用一次的组件，如导航栏、加载器、页脚等。该模块应在<code>AppModule</code>中全局加载。</p>
<h3>共享模块</h3>
<p>一个<a href="https://angular.io/guide/sharing-ngmodules">共享模块</a>由可以在特性模块中重用的指令、管道和组件组成。</p>
<p>例如，假设您编写了一个自定义的网格或过滤器，可在 Angular 应用程序的多个模块中重用。您可以将这些模块标识为共享模块。</p>
<h3>功能模块</h3>
<p><a href="https://angular.io/guide/feature-modules">功能模块</a>包含您的角度应用的主要功能。</p>
<p>例如，如果您正在构建一个电子商务应用程序，您可能有特定的功能集，如订单、产品、购物车、客户等。将这些功能分解成功能模块有助于将应用程序划分成专用的区域。这使得多个开发人员或开发团队能够在不破坏应用程序其他部分的情况下处理独立的功能。</p>
<h2 id="angularmodulesinaction">实际例子:构建电子商务应用程序</h2>
<p>为了展示 Angular 模块在实践中是如何工作的，我们将带您了解在 Angular 中构建电子商务应用程序的过程。我们将使用 Angular CLI 工具来搭建我们的新项目。</p>
<p>要检查是否安装了 Angular CLI 工具，请在终端中运行以下命令:</p>
<pre>ng --version
//or
ng v
</pre>
<p>使用以下命令安装 Angular CLI 工具:</p>
<pre>npm install -g @angular/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8cefe0e5ccbdbca2bca2bc">[email protected]</a> 
</pre>
<p>现在，我们可以使用以下命令创建一个新的角度项目:</p>
<pre>ng new angular-modules
</pre>
<p>这通常需要一些时间，取决于您的互联网连接。成功后，它会创建一个名为<code>angular-modules</code>的文件夹。导航到新创建的文件夹，使用以下命令启动应用程序:</p>
<pre>ng serve
</pre>
<h3 id="creatingamoduleinangular">在 Angular 中创建模块</h3>
<p>当设置一个新的 Angular 应用程序时，第一步是定义应用程序需要的所有特性，然后将这些特性分成我们前面讨论过的模块类型。然后，可以用组件、指令、管道和服务来填充每个模块，这些组件、指令、管道和服务赋予模块所代表的特性以形状。</p>
<p>要创建模块，请运行以下 Angular CLI 命令:</p>
<pre>ng generate module products
</pre>
<p>在 Angular 项目的根目录下，运行上面的命令来创建一个产品模块。这将在 app 目录中创建一个产品目录。产品目录包含一个负责定义模块的 TypeScript 文件。</p>
<h3 id="registeringcomponentswithamodule">向模块注册组件</h3>
<p>要创建组件并同时在模块中注册它，请使用以下 Angular CLI 命令:</p>
<pre>ng generate component products/productItem --module=products
</pre>
<p><code>--module</code>标志表示组件注册到的模块——在我们的例子中是<code>products</code>模块。它也可以在生成指令和管道时使用。</p>
<p>创建组件时，Angular CLI 在创建文件夹和文件时会将 camel case 转换为 kebab case。因此，<code>productItem</code>组件的文件夹及其对应的文件从<code>productItem</code>转换为<code>product-item</code>。</p>
<p>用以下内容更新<code>products/product-item/product-item.component.html</code>:</p>
<pre>&lt;h2&gt;Hello, Product-item component is working!&lt;/h2&gt;
</pre>
<h3 id="accessingmodulesinangular">访问模块</h3>
<p>在上一节中，我们在一个单独的模块中创建了我们的<code>productItem</code>组件。现在，让我们在浏览器中呈现这个组件。</p>
<p>默认情况下，<code>App</code>组件呈现在浏览器中。对于要在浏览器中呈现的<code>productItem</code>组件，它必须由<code>App</code>组件访问。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<p>首先，产品模块必须导出<code>productItem</code>组件，以便它可以在任何需要它的角度模块中使用。我们可以通过<code>ProductsModule</code>的导出属性来实现这一点。</p>
<p>用以下内容更新<code>products.module.ts</code>文件:</p>
<pre>//src/apps/products/products.module.ts
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ProductItemComponent } from './product-item/product-item.component';

@NgModule({
  declarations: [ProductItemComponent],
  imports: [
    CommonModule
  ],
  exports: [ProductItemComponent]
})
export class ProductsModule { }
</pre>
<p>这样，任何 Angular 模块现在都可以导入<code>ProductsModule</code>来访问其所有导出的模块、组件、指令和管道。</p>
<p>按如下方式更新<code>app.component.html</code>文件:</p>
<pre>&lt;app-product-item&gt;&lt;/app-product-item&gt;
</pre>
<p>接下来，使用<code>AppModule</code>的导入属性在<code>AppModule</code>中全局注册<code>ProductModule</code>。</p>
<p>按如下方式更新<code>app.module.ts</code>文件:</p>
<pre>import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent } from './app.component';
import {ProductsModule} from "./products/products.module"
@NgModule({
  declarations: [
    AppComponent,
  ],
  imports: [
    BrowserModule,
    ProductsModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
</pre>
<p>现在，您可以在应用程序的任何地方访问<code>ProductItemComponent</code>。</p>
<p>如果您尝试使用<code>ng serve</code>运行我们的 Angular 应用程序，您将得到以下结果:</p>
<pre>Hello, Product-item component is working!
</pre>
<p>就是这样！下一步，您可以通过为客户、订单和购物车特性创建模块及其相应的组件来进行更多的练习。</p>
<h2 id="conclusion">结论</h2>
<p>在本教程中，我们探索了 Angular 模块，回顾了 Angular 中的模块类型，并展示了使用模块构建 Angular 应用程序的一些好处。</p>
<p>Angular 模块使您能够改进应用程序的组织和结构。这样做可以提高代码的可重用性和可测试性，并在扩展 Angular 应用程序时带来出色的开发体验。</p><div class="code-block code-block-19">
<div class="blog-plug inline-plug angular-plug"><h2>像用户一样体验 Angular 应用程序</h2><p>调试 Angular 应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪生产中所有用户的角度状态和动作感兴趣，</p><a href="https://lp.logrocket.com/blg/angular-signup">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的 DVR，记录你网站上发生的一切，包括网络请求、JavaScript 错误等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket NgRx 插件将角度状态和动作记录到 LogRocket 控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化调试 Angular 应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>