<html>
<head>
<title>Data fetching with React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 React Native - LogRocket Blog 获取数据</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/data-fetching-react-native/#0001-01-01">https://blog.logrocket.com/data-fetching-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>React Native 对于希望轻松构建移动应用的开发人员来说是一个非常棒的库。它提供了一种向前端显示信息的有效方式。但是，我们如何获得数据，以便我们的组件可以呈现它呢？</p>
<p>在本文中，您将学习如何从 API 获取数据并显示给用户。我们将通过全面的代码示例介绍几种方法，以帮助您确定最适合您的应用程序的方法。</p>
<p>我们将介绍在 React Native 中获取数据的以下选项:</p>

<p>为了展示 React Native 中的数据获取，我们将构建一个基本的应用程序，从<a href="https://sampleapis.com/api-list/coffee"> Coffee API </a>中获取一系列项目。此外，我们将使用<a href="https://nativebase.io"> NativeBase UI 库</a>向客户端呈现我们的数据。</p>
<p>最终，您的示例应用程序将如下所示:</p>
<p><img data-attachment-id="56983" data-permalink="https://blog.logrocket.com/data-fetching-react-native/data-fetching-rn-final-product/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png" data-orig-size="294,416" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Data fetching in React Native final product" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product-212x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png" decoding="async" class="size-full wp-image-56983 aligncenter jetpack-lazy-image" src="../Images/cac0123ce82136dd0b8755a9e1a5b2e1.png" alt="Data Fetching in React Native Final Product" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png 294w, https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product-212x300.png 212w" data-lazy-sizes="(max-width: 294px) 100vw, 294px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56983" data-permalink="https://blog.logrocket.com/data-fetching-react-native/data-fetching-rn-final-product/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png" data-orig-size="294,416" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Data fetching in React Native final product" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product-212x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png" decoding="async" loading="lazy" class="size-full wp-image-56983 aligncenter" src="../Images/cac0123ce82136dd0b8755a9e1a5b2e1.png" alt="Data Fetching in React Native Final Product" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png 294w, https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product-212x300.png 212w" sizes="(max-width: 294px) 100vw, 294px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/data-fetching-rn-final-product.png"/></noscript>
<p>您可以从这个 GitHub 库获得这个应用程序的完整源代码。</p>
<h2>入门指南</h2>
<h3>项目初始化</h3>
<p>要使用 Expo 搭建 React 本地项目，请运行以下终端命令:</p>
<pre>expo init reactnative-data-fetching
</pre>
<h3>获取依赖关系</h3>
<p>在这里，我们将安装以下模块:</p>
<ul>
<li><code>@apollo/client</code>:用于进行 GraphQL 查询</li>
<li><code>graphql</code>:Apollo 客户端的对等依赖</li>
<li><code>native-base</code>、<code>styled-components</code>、<code>styled-system</code>:使用 NativeBase 库</li>
</ul>
<p>要获取这些包，请编写以下终端命令:</p>
<pre>npm i @apollo/client graphql native-base styled-components styled-system 
</pre>
<p>下一步，安装 NativeBase 的对等依赖项，如下所示:</p>
<pre>expo install react-native-svg
expo install react-native-safe-area-context</pre>
<p>完成后，就该演示数据获取了。</p>
<h2>你什么时候需要获取数据？</h2>
<p>您需要获取数据有三个原因:</p>
<ul>
<li>在组件第一次呈现时加载数据</li>
<li>获取数据并在用户单击按钮时呈现数据</li>
<li>以不同的时间间隔加载数据</li>
</ul>
<p>我们将为每个用例编写代码。</p>
<h2 id="using-inbuilt-fetch-api">使用内置的获取 API</h2>
<p>Fetch API 是检索数据最常用的方法，因为它与 React 捆绑在一起。</p>
<h3 id="data-fetching-mount">装载时获取数据</h3>
<p>在您的<code>components</code>文件夹中，创建一个名为<code>CoffeeAutonomous.js</code>的文件。从编写以下代码开始:</p>
<pre>import React, { useState, useEffect } from "react";
import { Box, FlatList, Center, NativeBaseProvider, Text } from "native-base";

export default function CoffeeAutonomous() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  const fetchData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
    setLoading(false);
  };

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };
</pre>
<p>让我们一段一段地剖析这段代码。</p>
<p>一开始，我们创建了两个钩子，分别叫做<code>data</code>和<code>loading</code>。<a href="https://blog.logrocket.com/react-hooks-cheat-sheet-unlock-solutions-to-common-problems-af4caf699e70/"> <code>data</code>钩子</a>将保存提取的数据，而<code>loading</code>将告诉用户数据是否在路上。</p>
<p>此外，<code>fetchData</code>方法将使用<code>fetch</code>方法从服务器获取响应，然后将其存储到<code>data</code>钩子中。最后，我们将<code>loading</code>钩子设置为<code>false</code>。除此之外，<code>renderItem</code>功能将显示每个项目的<code>title</code>字段。</p>
<p>现在我们需要渲染它。为此，请在同一文件中添加以下代码:</p>
<pre>useEffect(() =&gt; {
  fetchData();
}, []);

return (
  &lt;NativeBaseProvider&gt;
    &lt;Center flex={1}&gt;
    &lt;Box&gt; Fetch API&lt;/Box&gt;
      {loading &amp;&amp; &lt;Box&gt;Loading..&lt;/Box&gt;}
      {data &amp;&amp; (
        &lt;FlatList
          data={data}
          renderItem={renderItem}
          keyExtractor={(item) =&gt; item.id.toString()}
        /&gt;
      )}
    &lt;/Center&gt;
  &lt;/NativeBaseProvider&gt;
);
}
</pre>
<p>注意，我们让<code>useEffect</code>依赖数组为空。这意味着 React 将在第一次渲染时调用<code>fetchData</code>方法。接下来，我们使用<code>FlatList</code>组件来显示<code>data</code>数组的内容。</p>
<p>最后，转到<code>App.js</code>并渲染<code>CoffeeAutonomous</code>组件:</p>
<pre>import React from "react";
import CoffeeAutonomous from "./components/CoffeeAutonomous";
export default function App() {
  return &lt;CoffeeAutonomous /&gt;;
}
</pre>
<p>这将是输出:</p>
<p><img data-attachment-id="56985" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetch-api-fetching-on-mount/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif" data-orig-size="401,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetch API fetching on mount" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount-251x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif" decoding="async" class="size-full wp-image-56985 aligncenter jetpack-lazy-image" src="../Images/efda962fef8fe98c8035cff83c9d2877.png" alt="Fetch API Fetching on Mount" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56985" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetch-api-fetching-on-mount/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif" data-orig-size="401,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetch API fetching on mount" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount-251x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif" decoding="async" loading="lazy" class="size-full wp-image-56985 aligncenter" src="../Images/efda962fef8fe98c8035cff83c9d2877.png" alt="Fetch API Fetching on Mount" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-on-mount.gif"/></noscript>
<p>在下一节中，您将学习当用户单击按钮时如何呈现数据。<br/>最后，<code>CoffeeAutonomous.js</code>应该是这样的:</p>
<pre>import React, { useState, useEffect } from "react";
import { Box, FlatList, Center, NativeBaseProvider, Text } from "native-base";

export default function CoffeeAutonomous() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  const fetchData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
    setLoading(false);
  };

  useEffect(() =&gt; {
    fetchData();
  }, []);

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };

  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
      &lt;Box&gt; Fetch API&lt;/Box&gt;
        {loading &amp;&amp; &lt;Box&gt;Loading..&lt;/Box&gt;}
        {data &amp;&amp; (
          &lt;FlatList
            data={data}
            renderItem={renderItem}
            keyExtractor={(item) =&gt; item.id.toString()}
          /&gt;
        )}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<h3 id="data-fetching-button-click">点击按钮时获取数据</h3>
<p>创建一个名为<code>CoffeeClick.js</code>的文件，并编写以下代码:</p>
<pre>import React, { useState } from "react";
import { Box, FlatList, Center, NativeBaseProvider, Button } from "native-base";

export default function CoffeeClick() {

  const [data, setData] = useState(null);
  const [visible, setVisible] = useState(true);

  const fetchData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
    setVisible(false);
  };

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };
}
</pre>
<p>这段代码的第一部分和<code>CoffeeAutonomous</code>类似。唯一的区别是我们声明了一个<code>visible</code>钩子。除此之外，在<code>fetchData</code>函数中，我们告诉 React 如果数据现在存在，那么将<code>visible</code>钩子设置为<code>false</code>。</p>
<p>若要呈现用户界面，请追加以下代码:</p>
<pre>return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
        {visible &amp;&amp; &lt;Button onPress={() =&gt; fetchData()}&gt;Press&lt;/Button&gt;} 
        {data &amp;&amp; (
          &lt;FlatList
            data={data}
            renderItem={renderItem}
            keyExtractor={(item) =&gt; item.id.toString()}
          /&gt;
        )}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<p>在第 4 行，我们使用了条件渲染。这将在单击时隐藏组件。</p>
<p><img data-attachment-id="56986" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetch-api-fetching-button-click/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif" data-orig-size="401,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetch API fetching on button click" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click-251x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif" decoding="async" class="size-full wp-image-56986 aligncenter jetpack-lazy-image" src="../Images/b13b1123ad4364857710cc07130a87a6.png" alt="Fetch API Fetching on Button Click" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56986" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetch-api-fetching-button-click/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif" data-orig-size="401,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetch API fetching on button click" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click-251x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif" decoding="async" loading="lazy" class="size-full wp-image-56986 aligncenter" src="../Images/b13b1123ad4364857710cc07130a87a6.png" alt="Fetch API Fetching on Button Click" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetch-api-fetching-button-click.gif"/></noscript>
<p>在下一节中，您将学习如何定期获取数据。</p>
<p>我们的<code>CoffeeClick.js</code>文件应该是这样的:</p>
<pre>import React, { useState } from "react";
import { Box, FlatList, Center, NativeBaseProvider, Button } from "native-base";

export default function CoffeeClick() {
  const [data, setData] = useState(null);
  const [visible, setVisible] = useState(true);

  const fetchData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
    setVisible(false);
  };

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };

  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
        {visible &amp;&amp; &lt;Button onPress={() =&gt; fetchData()}&gt;Press&lt;/Button&gt;}
        {data &amp;&amp; (
          &lt;FlatList
            data={data}
            renderItem={renderItem}
            keyExtractor={(item) =&gt; item.id.toString()}
          /&gt;
        )}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<h3 id="fetching-data-intervals">间隔提取数据</h3>
<p>这一步很简单。创建一个名为<code>CoffeeInterval.js</code>的文件。</p>
<p>之后，复制<code>CoffeeAutonomous.js</code>的代码并粘贴。我们将进行更改以添加间隔功能。</p>
<p>在<code>CoffeeInterval.js</code>中，更改您的<code>useEffect</code>处理程序:</p>
<pre>useEffect(() =&gt; {
  fetchData();
  const dataInterval = setInterval(() =&gt; fetchData(), 5 * 1000);

  return () =&gt; clearInterval(dataInterval);
}, []);
</pre>
<p>在这段代码中，我们使用<code>setInterval</code>函数每隔<code>5</code>秒运行一次<code>fetchData</code>方法。后来，我们指定如果这个组件从树中被删除，那么清除这个间隔。这将防止内存泄漏。</p>
<p>这就是全部了！您的代码运行起来应该没有任何问题:</p>
<p><img data-attachment-id="56987" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetching-data-intervals-rn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png" data-orig-size="281,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetching data in intervals" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813-165x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png" decoding="async" class="aligncenter wp-image-56987 size-full jetpack-lazy-image" src="../Images/a828366c582fb95856f43ce071bf7aa1.png" alt="Fetching Data in Intervals" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png 281w, https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813-165x300.png 165w" data-lazy-sizes="(max-width: 281px) 100vw, 281px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56987" data-permalink="https://blog.logrocket.com/data-fetching-react-native/fetching-data-intervals-rn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png" data-orig-size="281,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetching data in intervals" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813-165x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png" decoding="async" loading="lazy" class="aligncenter wp-image-56987 size-full" src="../Images/a828366c582fb95856f43ce071bf7aa1.png" alt="Fetching Data in Intervals" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png 281w, https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813-165x300.png 165w" sizes="(max-width: 281px) 100vw, 281px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/fetching-data-intervals-rn-e1624996156813.png"/></noscript>
<p>您的<code>CoffeeInterval.js</code>文件应该如下所示:</p>
<pre>import React, { useState, useEffect } from "react";
import { Box, FlatList, Center, NativeBaseProvider, Text } from "native-base";

export default function CoffeeInterval() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  const fetchData = async () =&gt; {
    const resp = await fetch("https://api.sampleapis.com/coffee/hot");
    const data = await resp.json();
    setData(data);
    setLoading(false);
  };

  useEffect(() =&gt; {
    fetchData();
    const dataInterval = setInterval(() =&gt; fetchData(), 5 * 1000);
    return () =&gt; clearInterval(dataInterval);
  }, []);

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };

  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
        {loading &amp;&amp; &lt;Box&gt;Loading..&lt;/Box&gt;}
        {data &amp;&amp; (
          &lt;FlatList
            data={data}
            renderItem={renderItem}
            keyExtractor={(item) =&gt; item.id.toString()}
          /&gt;
        )}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<h2 id="using-axios">使用 Axios</h2>
<p>Fetch 的一个替代方案是 Axios，它兼容 Node、React 和 React Native。除了发出<code>GET</code>请求，这个模块甚至可以让你发出<code>POST</code>、<code>PUT</code>和<code>DELETE</code>请求。</p>
<p>要安装该软件包，请运行以下终端命令:</p>
<pre class="language-bash hljs">npm install axios</pre>
<h3 id="fetching-axios">使用 Axios 获取</h3>
<p>要使用 Axios 库检索数据，请编写以下代码:</p>
<pre>import axios from "axios"
export default function App() {
  const fetchData = () =&gt; {
    const baseURL = "https://api.sampleapis.com/coffee";
    axios.get(`${baseURL}/hot`).then((response) =&gt; console.log(response.data));
  };
  useEffect(() =&gt; {
    fetchData();
  }, []);
}
</pre>
<p>在这段代码中，我们指示 Axios 对 Coffee API 执行一个<code>GET</code> r <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qowz82z5l6z73zz80zz67zz83zgz86zxez73ze6udz122z60wyz76zz68zlz68zd1z73zz72zz71z">请求，并记录响应。</span></p>
<p><img data-attachment-id="94538" data-permalink="https://blog.logrocket.com/data-fetching-react-native/axios-coffee-api-get-request/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png" data-orig-size="654,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Axios Coffe API GET request" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request-300x152.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png" decoding="async" class="size-full wp-image-94538 aligncenter jetpack-lazy-image" src="../Images/846f4e3cef0178f8c060acb6cfc4a0eb.png" alt="Axios Coffee API GET Request" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png 654w, https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request-300x152.png 300w" data-lazy-sizes="(max-width: 654px) 100vw, 654px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="94538" data-permalink="https://blog.logrocket.com/data-fetching-react-native/axios-coffee-api-get-request/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png" data-orig-size="654,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Axios Coffe API GET request" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request-300x152.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png" decoding="async" loading="lazy" class="size-full wp-image-94538 aligncenter" src="../Images/846f4e3cef0178f8c060acb6cfc4a0eb.png" alt="Axios Coffee API GET Request" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png 654w, https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request-300x152.png 300w" sizes="(max-width: 654px) 100vw, 654px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/axios-coffee-api-get-request.png"/></noscript>
<p>如果你想了解关于使用 Axios 管理 API 请求的深入信息，我们有一整篇文章介绍使用 Axios 和 React Native 获取数据。</p>
<h2 id="fetching-data-apisauce">用 Apisauce 获取数据</h2>
<p>Fetch 的一个替代方案是 Axios。但由于 Axios 与 React Native 不兼容，我们可以用<a href="https://github.com/infinitered/apisauce"> Apisauce </a>来代替。它是 Axios 的包装器，甚至可以让你发出<code>POST</code>、<code>PUT</code>和<code>DELETE</code>请求。</p>
<p>要安装该软件包，请运行以下终端命令:</p>
<pre>npm i apisauce 
</pre>
<h3 id="simple-way-fetch-apisauce">用 Apisauce 获取数据的简单方法</h3>
<p>这就是你如何用 Apisauce 库发出请求:</p>
<pre>import React from "react";
import { useEffect } from "react";
import { create } from "apisauce";

//file name: SauceExample.js
//extra code removed for brevity purposes

//The baseURL will be our starting point.
const api = create({
  baseURL: "https://api.sampleapis.com/coffee",
});

const fetchData = () =&gt; {
  //make request to baseURL + '/hot'
  api
    .get("/hot")
    .then((response) =&gt; response.data)
    .then((data) =&gt; console.log(data));
};

useEffect(() =&gt; {
  fetchData();
}, []);
</pre>
<p>最后，我们告诉 React 在第一次渲染时执行<code>fetchData</code>函数。这将注销 API 对终端的响应。</p>
<p>这将是输出:</p>
<p><img data-attachment-id="56988" data-permalink="https://blog.logrocket.com/data-fetching-react-native/apisauce-fetchdata/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png" data-orig-size="536,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Apisauce FetchData" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata-300x252.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png" decoding="async" class="size-full wp-image-56988 aligncenter jetpack-lazy-image" src="../Images/9064d854739b076adcca789bbdc295a7.png" alt="Apisauce FetchData" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png 536w, https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata-300x252.png 300w" data-lazy-sizes="(max-width: 536px) 100vw, 536px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56988" data-permalink="https://blog.logrocket.com/data-fetching-react-native/apisauce-fetchdata/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png" data-orig-size="536,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Apisauce FetchData" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata-300x252.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png" decoding="async" loading="lazy" class="size-full wp-image-56988 aligncenter" src="../Images/9064d854739b076adcca789bbdc295a7.png" alt="Apisauce FetchData" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png 536w, https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata-300x252.png 300w" sizes="(max-width: 536px) 100vw, 536px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/apisauce-fetchdata.png"/></noscript>
<p>我们将使用钩子来呈现这些数据。</p>
<h3>使用带挂钩的辣椒酱</h3>
<p>在<code>components/SauceExample.js</code>中，编写以下代码:</p>
<pre>import { FlatList, Box, NativeBaseProvider, Center } from "native-base";
import React from "react";
import { useEffect } from "react";
import { create } from "apisauce";
import { useState } from "react";

export default function SauceExample() {
  const [data, setData] = useState([]);
  const api = create({
    baseURL: "https://api.sampleapis.com/coffee",
  });

  const fetchData = () =&gt; {
    //make request to baseURL + 'hot'
    api
      .get("/hot")
      .then((response) =&gt; response.data)
      .then((data) =&gt; setData(data));
  };

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };

  useEffect(() =&gt; {
    fetchData();
  }, []);

  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
      &lt;Box&gt; Using Apisauce &lt;/Box&gt;
        {data &amp;&amp; (
          &lt;FlatList
            data={data}
            renderItem={renderItem}
            keyExtractor={(item) =&gt; item.id.toString()}
          /&gt;
        )}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<p>这将是输出:</p>
<p><img data-attachment-id="56990" data-permalink="https://blog.logrocket.com/data-fetching-react-native/using-apisauce-hooks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png" data-orig-size="281,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using Apisauce with Hooks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks-191x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png" decoding="async" class="size-full wp-image-56990 aligncenter jetpack-lazy-image" src="../Images/6b58420ced138053da681b4139aa697a.png" alt="Using Apisauce with Hooks" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png 281w, https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks-191x300.png 191w" data-lazy-sizes="(max-width: 281px) 100vw, 281px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56990" data-permalink="https://blog.logrocket.com/data-fetching-react-native/using-apisauce-hooks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png" data-orig-size="281,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using Apisauce with Hooks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks-191x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png" decoding="async" loading="lazy" class="size-full wp-image-56990 aligncenter" src="../Images/6b58420ced138053da681b4139aa697a.png" alt="Using Apisauce with Hooks" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png 281w, https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks-191x300.png 191w" sizes="(max-width: 281px) 100vw, 281px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-hooks.png"/></noscript>
<p>如果您想从<code>iced</code>路线获得数据，您需要做的就是在您的<code>fetchData</code>函数中修改一行:</p>
<pre>const fetchData = () =&gt; {
  //make request to baseURL + 'iced'
  api
    .get("/iced")
    .then((response) =&gt; response.data)
    .then((data) =&gt; setData(data));
};
</pre>
<p><img data-attachment-id="56991" data-permalink="https://blog.logrocket.com/data-fetching-react-native/using-apisauce-iced/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png" data-orig-size="272,453" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using Apisauce Iced" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced-180x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png" decoding="async" class="size-full wp-image-56991 aligncenter jetpack-lazy-image" src="../Images/4fc32eec5f7477d89a2bd87f0f53aff2.png" alt="Using Apisauce Iced" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png 272w, https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced-180x300.png 180w" data-lazy-sizes="(max-width: 272px) 100vw, 272px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56991" data-permalink="https://blog.logrocket.com/data-fetching-react-native/using-apisauce-iced/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png" data-orig-size="272,453" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using Apisauce Iced" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced-180x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png" decoding="async" loading="lazy" class="size-full wp-image-56991 aligncenter" src="../Images/4fc32eec5f7477d89a2bd87f0f53aff2.png" alt="Using Apisauce Iced" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png 272w, https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced-180x300.png 180w" sizes="(max-width: 272px) 100vw, 272px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/using-apisauce-iced.png"/></noscript>
<h3 id="using-async-await-apisauce">对 Apisauce 使用 async/await</h3>
<p>想在代码中使用<code>async</code>和<code>await</code>？没问题。您可以像这样编写代码:</p>
<pre>const fetchData = async () =&gt; {
  //make request to baseURL + 'iced'
  const response = await api.get("/iced");
  setData(response.data);
};
</pre>
<h2 id="using-render-props-render-data">使用渲染道具渲染数据</h2>
<p>React 中的 Props 考虑到了代码的模块化和整洁性。例如，为了渲染数据，我们编写了以下代码:</p>
<pre>return (
  &lt;NativeBaseProvider&gt;
    &lt;Center flex={1}&gt;
      {data &amp;&amp; (
        &lt;FlatList
          data={data}
          renderItem={renderItem}
          keyExtractor={(item) =&gt; item.id.toString()}
        /&gt;
      )}
    &lt;/Center&gt;
  &lt;/NativeBaseProvider&gt;
);
</pre>
<p>要缩短这个区块，可以使用渲染道具。</p>
<p>创建一个名为<code>DataRenderer.js</code>的定制组件:</p>
<pre>import { FlatList, Box } from "native-base";
import React from "react";

export default function DataRenderer({ data }) {

  const renderItem = ({ item }) =&gt; {
    return (
      &lt;Box px={5} py={2} rounded="md" bg="primary.300" my={2}&gt;
        {item.title}
      &lt;/Box&gt;
    );
  };

  return (
    &lt;FlatList
      data={data}
      renderItem={renderItem}
      keyExtractor={(item) =&gt; item.id.toString()}
    /&gt;
  );
}
</pre>
<p>在其他文件中使用它，如下所示:</p>
<pre> return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;{data &amp;&amp; &lt;DataRenderer data={data} /&gt;}&lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
</pre>
<p>我们的代码看起来更干净！输出应该和以前一样。</p>
<p><img data-attachment-id="56993" data-permalink="https://blog.logrocket.com/data-fetching-react-native/render-data-props/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png" data-orig-size="272,453" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rendering data with props" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props-180x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png" decoding="async" class="size-full wp-image-56993 aligncenter jetpack-lazy-image" src="../Images/dba0aba3c4a1d5ca33dbcfd4593d7024.png" alt="Rendering Data with Props" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png 272w, https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props-180x300.png 180w" data-lazy-sizes="(max-width: 272px) 100vw, 272px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56993" data-permalink="https://blog.logrocket.com/data-fetching-react-native/render-data-props/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png" data-orig-size="272,453" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rendering data with props" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props-180x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png" decoding="async" loading="lazy" class="size-full wp-image-56993 aligncenter" src="../Images/dba0aba3c4a1d5ca33dbcfd4593d7024.png" alt="Rendering Data with Props" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png 272w, https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props-180x300.png 180w" sizes="(max-width: 272px) 100vw, 272px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/render-data-props.png"/></noscript>
<h2 id="data-fetching-graphql-apollo-client">使用 GraphQL 和 Apollo 客户端获取数据</h2>
<h3 id="why-use-graphql">为什么要使用 GraphQL？</h3>
<p>GraphQL 是一项<a href="https://blog.logrocket.com/graphql-vs-rest-what-you-didnt-know/">与 REST </a>完全不同的技术，同时仍然保持易用性。</p>
<p>例如，要使用 REST 向我们的 Coffee API 发出标准请求，您需要执行以下操作:</p>
<pre>const response = await fetch(https://api.sampleapis.com/coffee/hot)
//further code ...
</pre>
<p>这将给出以下响应:</p>
<p><img data-attachment-id="56996" data-permalink="https://blog.logrocket.com/data-fetching-react-native/coffe-api-using-rest/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png" data-orig-size="502,249" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API using REST" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png" decoding="async" class="size-full wp-image-56996 aligncenter jetpack-lazy-image" src="../Images/ae2e91d24aa80f929f6ac9ca5742282f.png" alt="Coffee API Using REST" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png 502w, https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest-300x149.png 300w" data-lazy-sizes="(max-width: 502px) 100vw, 502px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56996" data-permalink="https://blog.logrocket.com/data-fetching-react-native/coffe-api-using-rest/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png" data-orig-size="502,249" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Coffee API using REST" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png" decoding="async" loading="lazy" class="size-full wp-image-56996 aligncenter" src="../Images/ae2e91d24aa80f929f6ac9ca5742282f.png" alt="Coffee API Using REST" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png 502w, https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest-300x149.png 300w" sizes="(max-width: 502px) 100vw, 502px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/coffe-api-using-rest.png"/></noscript>
<p>尽管这很好，但是有一个小缺陷。我们的 app 只需要<code>title</code>字段。其余的数据对我们来说是不必要的。</p>
<p>这就是 GraphQL 的用武之地。为了只检索项目的<code>title</code>和<code>data</code>字段，我们将执行以下查询:</p>
<pre>query HotCoffees{
  allHots {
    title
    id
  }
}
</pre>
<p>这将是服务器的响应:</p>
<p><img decoding="async" src="../Images/5ec5343d0d6c7ce451979ef6beebd675.png" alt="" data-lazy-src="https://paper-attachments.dropbox.com/s_E714B603A545ECA0F41BD69F63C1809B3E46C793C418D17F31505AE0A30446E8_1624523597048_image.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://paper-attachments.dropbox.com/s_E714B603A545ECA0F41BD69F63C1809B3E46C793C418D17F31505AE0A30446E8_1624523597048_image.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/5ec5343d0d6c7ce451979ef6beebd675.png" alt="" data-original-src="https://paper-attachments.dropbox.com/s_E714B603A545ECA0F41BD69F63C1809B3E46C793C418D17F31505AE0A30446E8_1624523597048_image.png"/></noscript>
<p>总而言之，GraphQL 只提供您需要的数据。</p>
<h3 id="graphql-sample-usage">GraphQL 示例用法</h3>
<p>在您的<code>components</code>文件夹中，创建一个名为<code>CoffeeGraphQL.js</code>的文件。这里，从编写下面这段代码开始:</p>
<pre>import {
  ApolloClient,
  InMemoryCache,
  ApolloProvider,
  useQuery,
  gql,
} from "@apollo/client";
import { Box, Center, NativeBaseProvider } from "native-base";
import React from "react";
import DataRenderer from "./DataRenderer";

//connect to GraphQL server:
const client = new ApolloClient({
  uri: "https://api.sampleapis.com/coffee/graphql",
  cache: new InMemoryCache(),
});

function RenderQuery() {
//define our query
  const query = gql`
    query HotCoffees {
      allHots {
        title
        id
      }
    }
  `;
  //make a query
  const { loading, error, data } = useQuery(query);
  if (error) console.log(error);

  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
        &lt;Box&gt; Using GraphQL &lt;/Box&gt;
        {loading &amp;&amp; &lt;Box&gt;Loading data.. please wait&lt;/Box&gt;}
        {data &amp;&amp; &lt;DataRenderer data={data.allHots} /&gt;}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}
</pre>
<p>从这段代码中可以得出一些推论:</p>
<ul>
<li><code>client</code>变量将我们的应用程序连接到 GraphQL 服务器</li>
<li>后来，我们进行了一个查询来获取<code>title</code>和<code>id</code>字段</li>
<li>如果出现错误，将其记录到控制台</li>
<li>加载数据后，将其显示到用户界面</li>
</ul>
<p>最后一步，我们现在必须将我们的<code>RenderQuery</code>组件绑定到我们的 GraphQL 客户端。</p>
<p>为此，在<code>CoffeeGraphQL.js</code>中添加以下代码:</p>
<pre>export default function CoffeeGraphQL() {
  return (
    &lt;ApolloProvider client={client}&gt;
      &lt;RenderQuery /&gt;
    &lt;/ApolloProvider&gt;
  );
}
</pre>
<p>这将是结果:</p>
<p><img data-attachment-id="56997" data-permalink="https://blog.logrocket.com/data-fetching-react-native/graphql-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png" data-orig-size="285,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png" decoding="async" class="size-full wp-image-56997 aligncenter jetpack-lazy-image" src="../Images/0ec1d030d50f23bc29d633dcd8fd814d.png" alt="GraphQL Coffee API" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png 285w, https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api-222x300.png 222w" data-lazy-sizes="(max-width: 285px) 100vw, 285px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56997" data-permalink="https://blog.logrocket.com/data-fetching-react-native/graphql-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png" data-orig-size="285,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png" decoding="async" loading="lazy" class="size-full wp-image-56997 aligncenter" src="../Images/0ec1d030d50f23bc29d633dcd8fd814d.png" alt="GraphQL Coffee API" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png 285w, https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api-222x300.png 222w" sizes="(max-width: 285px) 100vw, 285px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/graphql-coffee-api.png"/></noscript>
<p>您的<code>CoffeeGraphQL.js</code>文件应该如下所示:</p>
<pre>import {
  ApolloClient,
  InMemoryCache,
  ApolloProvider,
  useQuery,
  gql,
} from "@apollo/client";
import { Box, Center, NativeBaseProvider } from "native-base";
import React from "react";
import DataRenderer from "./DataRenderer";

//connect to GraphQL server:
const client = new ApolloClient({
  uri: "https://api.sampleapis.com/coffee/graphql",
  cache: new InMemoryCache(),
});CoffeeClass

function RenderQuery() {
  const query = gql`
    query HotCoffees {
      allHots {
        title
        id
      }
    }
  `;
  //make a query
  const { loading, error, data } = useQuery(query);
  if (error) console.log(error);
  return (
    &lt;NativeBaseProvider&gt;
      &lt;Center flex={1}&gt;
        &lt;Box&gt;Using GraphQL&lt;/Box&gt;
        {loading &amp;&amp; &lt;Box&gt;Loading data.. please wait&lt;/Box&gt;}
        {data &amp;&amp; &lt;DataRenderer data={data.allHots} /&gt;}
      &lt;/Center&gt;
    &lt;/NativeBaseProvider&gt;
  );
}

export default function CoffeeGraphQL() {
  return (
    &lt;ApolloProvider client={client}&gt;
      &lt;RenderQuery /&gt;
    &lt;/ApolloProvider&gt;
  );
}
</pre>
<h2 id="fetching-data-class-components">用类组件提取数据</h2>
<p>虽然 modern React 倾向于使用功能组件，但使用类组件构建应用程序的选项仍然存在。这对于维护遗留 React 本机代码非常有用。</p>
<p>创建一个名为<code>CoffeeClass.js</code>的类，并编写以下代码块:</p>
<pre>import { Center, NativeBaseProvider, Box } from "native-base";
import React, { Component } from "react";
import DataRenderer from "./DataRenderer";

export default class CoffeeClass extends Component {
  constructor(props) {
    super(props);
    this.state = {
      data: [],
    };
  }
  componentDidMount() {
    this.fetchUsersAsync();
  }

  fetchUsersAsync() {
    const URL = "https://api.sampleapis.com/coffee/hot";
    fetch(URL)
      .then((response) =&gt; response.json())
      .then((list) =&gt; this.setState({ data: list }));
  }
  render() {
    return (
      &lt;NativeBaseProvider&gt;
        &lt;Center flex={1}&gt;
          &lt;Box&gt;Using class component&lt;/Box&gt;
          {this.state.data &amp;&amp; &lt;DataRenderer data={this.state.data} /&gt;}
        &lt;/Center&gt;
      &lt;/NativeBaseProvider&gt;
    );
  }
}
</pre>
<p>在这段代码中，我们告诉 React 在第一次渲染(<code>componentDidMount</code>)时执行<code>fetchCoffee</code>。这将从 API 获取数据，并将其响应存储到<code>data</code>状态变量中。最后我们渲染了<code>data</code>数组。</p>
<p>运行代码。这将是输出:</p>
<p><img data-attachment-id="56999" data-permalink="https://blog.logrocket.com/data-fetching-react-native/class-component-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png" data-orig-size="326,434" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Class component Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API-225x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png" decoding="async" class="size-full wp-image-56999 aligncenter jetpack-lazy-image" src="../Images/75848595ac0cd292a5bfdacf50291159.png" alt="Class Component Coffee API" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png 326w, https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API-225x300.png 225w" data-lazy-sizes="(max-width: 326px) 100vw, 326px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="56999" data-permalink="https://blog.logrocket.com/data-fetching-react-native/class-component-coffee-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png" data-orig-size="326,434" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Class component Coffee API" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API-225x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png" decoding="async" loading="lazy" class="size-full wp-image-56999 aligncenter" src="../Images/75848595ac0cd292a5bfdacf50291159.png" alt="Class Component Coffee API" srcset="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png 326w, https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API-225x300.png 225w" sizes="(max-width: 326px) 100vw, 326px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/06/class-component-coffee-API.png"/></noscript>
<p>有些人可能认为在<code>componentWillMount</code>函数中获取数据更好，这个函数在组件挂载之前执行。你有两个理由不应该做这件事:</p>
<ul>
<li>从 React v17 起，<a href="https://reactjs.org/docs/react-component.html#mounting">已弃用</a></li>
<li>当您使用<code>componentWillMount()</code>中的 Fetch API 时，React Native 会渲染您的数据，而不会等待第一次渲染。这将导致第一次黑屏。因此，节省的时间并不多</li>
</ul>
<h2>结论</h2>
<p>在本文中，我们探讨了一些在 React Native 中获取数据的常用策略。此时，我会选择在我的项目中使用 Apisauce 和 Hooks。它们不仅使用起来轻而易举，而且非常坚固。因此，这带来了应用程序的安全性和效率。</p>
<p>非常感谢您的阅读！编码快乐！</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>