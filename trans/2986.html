<html>
<head>
<title>A guide to regular expressions in Kotlin - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Kotlin - LogRocket 博客中的正则表达式指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/guide-regular-expression-kotlin/#0001-01-01">https://blog.logrocket.com/guide-regular-expression-kotlin/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本指南中，我们将讨论正则表达式以及如何在 Kotlin 中使用它。RegEx 代表“正则表达式”。通俗地说，它检查一个字符串是否匹配一个模式。在输入验证的情况下，正则表达式很方便。</p>
<p>为什么这是一件大事？RegEx 一次处理所有这些验证，而不是使用大量的 IF 和 ELSE 操作符。</p>
<p>这就引出了本指南的目的。在本文中，我们将通过构建一个简单的应用程序来验证手机号码，从而指导您如何在 Kotlin 中将正则表达式用作验证手段。</p>

<h2 id="prerequisites">先决条件</h2>
<p>我建议本指南的读者具备以下条件:</p>
<ol>
<li>Kotlin 语法的基础知识</li>
<li>设备上的 Kotlin 编译器，用于在终端中运行 Kotlin 代码</li>
</ol>
<p>(注意:你还需要在你的操作系统上运行 android studio)</p>
<h2 id="checking-input-patterns-using-regex">使用正则表达式检查输入模式</h2>
<p>正则表达式模式常常令人困惑，所以我们将学习如何使用 RegEx 来检查字符串中的模式。以下是 Kotlin 中的一些正则表达式模式:</p>
<p><img data-attachment-id="113166" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/kotlin-regex-patterns/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png" data-orig-size="650,492" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kotlin-regex-patterns" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns-300x227.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png" decoding="async" class="aligncenter wp-image-113166 size-full jetpack-lazy-image" src="../Images/108b644bcab67a207fc87c7a3baae2f9.png" alt="Kotlin Regex Patterns" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png 650w, https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns-300x227.png 300w" data-lazy-sizes="(max-width: 650px) 100vw, 650px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113166" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/kotlin-regex-patterns/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png" data-orig-size="650,492" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kotlin-regex-patterns" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns-300x227.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png" decoding="async" loading="lazy" class="aligncenter wp-image-113166 size-full" src="../Images/108b644bcab67a207fc87c7a3baae2f9.png" alt="Kotlin Regex Patterns" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png 650w, https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns-300x227.png 300w" sizes="(max-width: 650px) 100vw, 650px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/kotlin-regex-patterns.png"/></noscript>
<p>要用正则表达式检查输入模式，创建一个变量名为“pattern”的正则表达式类这个变量将包含我们想要匹配的模式。</p>
<p>类似地，我们将创建另一个名为“result”的变量来指定 RegEx 字符串。下面是这个解释的一个实现:</p>
<pre class="language-kotlin hljs">fun main ()
{
  var pattern = Regex("wa");
  var result = pattern.containsMatchIn("Muyiwa");

  println(result);
}
</pre>
<p>输出为真，因为“wa”在正则表达式字符串“Muyiwa”中。</p>
<p>(注意:这是区分大小写的，因此，“wa”不同于“WA”，但是我们可以使用<code>IGNORE_CASE</code>忽略这种情况)</p>
<p><img data-attachment-id="113168" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/terminal-pattern-check/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png" data-orig-size="730,141" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal-pattern-check" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png" decoding="async" class="aligncenter wp-image-113168 size-full jetpack-lazy-image" src="../Images/d62d61a97abd07616ecc3ecff7333ee6.png" alt="Terminal Pattern Check" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check-300x58.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113168" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/terminal-pattern-check/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png" data-orig-size="730,141" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal-pattern-check" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png" decoding="async" loading="lazy" class="aligncenter wp-image-113168 size-full" src="../Images/d62d61a97abd07616ecc3ecff7333ee6.png" alt="Terminal Pattern Check" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check-300x58.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/terminal-pattern-check.png"/></noscript>
<h3 id="regex-option">RegexOption (IGNORE_CASE)</h3>
<p>本节将向您展示如何检查字符串中的模式，而不管它是否区分大小写。为此，我们将把<code>RegexOption.IGNORE_CASE</code>作为参数传递给 RegEx 构造函数。因此，代码如下所示:</p>
<pre class="language-kotlin hljs">fun main ()
{
  var pattern = "WA".toRegex(RegexOption.IGNORE_CASE)
  var result = pattern.containsMatchIn("Muyiwa");

  println(result);
}
</pre>
<p>两者之间有相似的过程(上面的模式)，唯一的区别是如果有模式，上面的代码将识别它，而不管它的大小写。</p>
<h2 id="mobile-number-validation">手机号码验证</h2>
<p>这个项目将向你展示如何使用 RegEx 来验证一个手机号码。为了简化流程，我们将一步一步地介绍这些流程。因此，要开始，请相应地遵循以下步骤:</p>
<p>首先，启动你的 android 工作室，选择“新项目”。</p>
<p><img data-attachment-id="113170" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/android-studio-project-new/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png" data-orig-size="730,555" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-project-new" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new-300x228.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png" decoding="async" class="aligncenter wp-image-113170 size-full jetpack-lazy-image" src="../Images/7a8fd051167971abc7cdcb97689dbab2.png" alt="Android Studio Project New" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new-300x228.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113170" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/android-studio-project-new/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png" data-orig-size="730,555" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-project-new" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new-300x228.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png" decoding="async" loading="lazy" class="aligncenter wp-image-113170 size-full" src="../Images/7a8fd051167971abc7cdcb97689dbab2.png" alt="Android Studio Project New" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new-300x228.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-project-new.png"/></noscript>
<p>之后，选择“空活动”作为项目模板，然后单击“下一步”。</p>
<p><img data-attachment-id="113172" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/android-studio-empty-activity-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png" data-orig-size="730,497" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-empty-activity-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot-300x204.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png" decoding="async" class="aligncenter wp-image-113172 size-full jetpack-lazy-image" src="../Images/5bbd00e47d6b06f162fa87f21a50bd96.png" alt="Android Studio Empty Activity Screenshot" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot-300x204.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113172" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/android-studio-empty-activity-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png" data-orig-size="730,497" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-empty-activity-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot-300x204.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png" decoding="async" loading="lazy" class="aligncenter wp-image-113172 size-full" src="../Images/5bbd00e47d6b06f162fa87f21a50bd96.png" alt="Android Studio Empty Activity Screenshot" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot-300x204.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/android-studio-empty-activity-screenshot.png"/></noscript>
<p>在这个页面上，使用你选择的任何名字——对于这个项目，我称之为“PhoneNumberValidation”。选择您选择的语言(Kotlin)并点击“完成”。</p>
<p>让我们来简单概述一下我们想要做的事情——我们想要创建一个简单的按钮和“编辑文本”区域。在这个过程中，我们希望一旦用户输入有效的电话号码，按钮就被激活，如果是无效的电话号码，显示的消息应该是“无效的电话号码”</p>
<p>现在，我们可以开始设计了。</p>
<p>首先，在您的新项目中，单击 activity_main.xml 并在 design 部分选择“Show System UI”。点击眼睛图标找到这个。</p>
<p><img data-attachment-id="113174" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/show-system-ui-activity-xml/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="show-system-ui-activity-xml" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png" decoding="async" class="aligncenter wp-image-113174 size-full jetpack-lazy-image" src="../Images/56d438809ff403aff6e0107b48e0e9bb.png" alt="Show System UI Activity XML" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml-300x168.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113174" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/show-system-ui-activity-xml/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="show-system-ui-activity-xml" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png" decoding="async" loading="lazy" class="aligncenter wp-image-113174 size-full" src="../Images/56d438809ff403aff6e0107b48e0e9bb.png" alt="Show System UI Activity XML" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml-300x168.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/show-system-ui-activity-xml.png"/></noscript>
<p>下一步，点击“分割”并删除默认的文本视图，因为我们不希望它在那个位置。单击调色板，然后选择“Text”并将电话文本拖放到系统 UI 中(单击棒形图标将约束添加到编辑文本中)。</p>
<p><img data-attachment-id="113176" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/system-ui-phone-text-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="system-ui-phone-text-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png" decoding="async" class="aligncenter wp-image-113176 size-full jetpack-lazy-image" src="../Images/a624ce0aecb4ef69a3c586fd5d7c85e7.png" alt="System UI Phone Text Screenshot" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot-300x168.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="113176" data-permalink="https://blog.logrocket.com/guide-regular-expression-kotlin/system-ui-phone-text-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="system-ui-phone-text-screenshot" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png" decoding="async" loading="lazy" class="aligncenter wp-image-113176 size-full" src="../Images/a624ce0aecb4ef69a3c586fd5d7c85e7.png" alt="System UI Phone Text Screenshot" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot-300x168.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/system-ui-phone-text-screenshot.png"/></noscript>
<p>添加一个提示以编辑带有文本“输入电话号码”的文本。出于更直接的原因，我们将把 ID 改为 edit。因此，我们的 EditText 侦听器将如下所示:</p>
<p>(注意:您可以决定是否要在 EditText 中更改默认 ID)</p>
<p>接下来，我们需要一个按钮。为此，我们将遵循与添加文本区域类似的过程，不同之处在于我们添加了一个按钮。在这种情况下，我们需要禁用按钮；因此，我们将 enabled 属性设置为“false”。</p>
<pre class="language-xml hljs">android:enabled="false"
</pre>
<p>因此，按钮的代码如下所示:</p>
<pre class="language-xml hljs">&lt;Button
  android:id="@+id/button2"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:layout_marginTop="6dp"
  android:text="Button"
  android:enabled="false"
  app:layout_constraintEnd_toEndOf="parent"
  app:layout_constraintStart_toStartOf="parent"
  app:layout_constraintTop_toBottomOf="@+id/edit" /&gt;
</pre>
<h3 id="binding-kotlin-to-xml">将 Kotlin 绑定到 XML</h3>
<p>在继续之前，我们需要将我们的 Android 视图与 Kotlin 绑定。在过去，使用 Kotlin 合成材料进行这种手术相当容易。</p>
<p>您所要做的就是将下面的插件添加到 build.gradle(:app)中，并通过它们在 Kotlin 文件中的 ID 调用视图:</p>
<pre class="language-gradle hljs">id 'kotlin-android'
id 'kotlin-android-extensions'
</pre>
<p>但是，这已经被弃用，并且默认情况下不包含在新的 Android Studio 项目中。</p>
<p>科特林合成的问题是，即使我们可以通过它们的 ID 调用这些视图，所有这些都可能是空的；这意味着我们可以访问不属于布局的视图。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<p>另一方面，视图绑定打破了这个鸿沟，因为它确保了在活动或片段中访问的视图不为空。因此，不可能出现空指针异常。</p>
<p>(注意:数据绑定是视图绑定的替代方法，但是视图绑定恰好更简单，视图绑定只会绑定您的视图)</p>
<p>以下是如何在视图上使用视图绑定的分步方法:</p>
<p>首先，转到 build.gradle(:app)，因为您必须显式地启用希望在项目中使用视图绑定。</p>
<p>在 Android 块中，添加下面的新块，并同步您的 Gradle 文件:</p>
<pre class="language-gradle hljs">buildFeatures {
  viewBinding true
}
</pre>
<p>转到 MainActivity.kt 文件。在那里，我们想要引用 EditText。</p>
<p>视图绑定生成一个用于访问视图的绑定类。因此，我们将用类型<em> ActivityMainBinding </em>创建一个名为<code>binding</code>的<code>private lateinit var</code>(这是为我们生成的类视图绑定)。</p>
<p>基本上，对于我们项目中的每个 XML 文件，视图绑定会做到这一点，并且我们不需要重新构建我们的项目，因为不需要注释处理。</p>
<p>现在我们有了绑定，为了初始化它，我们将使用下面的代码:</p>
<pre class="language-kotlin hljs">binding = ActivityMainBinding.inflate(<em>layoutInflater</em>)
</pre>
<p>基本上是将一个组的视图添加到另一个组。最后，我们将使用下面的代码将内容视图设置为 binding.root:</p>
<pre class="language-kotlin hljs">setContentView(binding.root)
</pre>
<p>现在要访问视图，使用代码<code>binding.id</code>(视图的 ID)。现在我们可以走了。</p>
<p>我们希望一旦用户输入一个有效的手机号码，按钮被启用。为此，请转到 MainActivity.kt 文件。我们需要为按下的键编写代码。以下是整个过程所需的 Kotlin 代码:</p>
<pre class="language-kotlin hljs">package com.example.phonenumbervalidation

import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.text.Editable
import android.text.TextWatcher
import com.example.phonenumbervalidation.databinding.ActivityMainBinding
import java.util.regex.Pattern

class MainActivity : AppCompatActivity() {

  private lateinit var binding: ActivityMainBinding

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    binding = ActivityMainBinding.inflate(layoutInflater)
    setContentView(binding.root)
// beginning
    binding.edit.addTextChangedListener(object:TextWatcher{
      override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {
      }

      override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {
        if (mobileValidate(binding.edit.text.toString()))
          binding.button2.isEnabled=true
        else{
          binding.button2.isEnabled=false
          binding.edit.setError("Invalid Phone number")
        }
      }

      override fun afterTextChanged(p0: Editable?) {
      }
    })
  }

  private fun mobileValidate(text: String?): Boolean {
    val p = Pattern.compile("\[0\][7-9]\[0-1\][0-9]{8}")
    val m = p.matcher(text)
    return m.matches()
  }
}
</pre>
<h3 id="explaining-the-code-snippet">解释代码片段</h3>
<p><code>TextWatcher</code>使用三种回调方法中的任何一种来监控对 EditText 所做的更改:</p>
<ul>
<li><code>beforeTextChanged</code></li>
<li><code>onTextChanged</code></li>
<li><code>afterTextChanged</code></li>
</ul>
<p>如果你想了解这些方法，这里的是一个资源链接。在<code>onTextChanged</code>中，我们创建一个 if 语句来检查带有参数 binding.edit. <em> text </em>的 mobileValidate 函数。toString()。</p>
<p>最初，这样做会抛出一个错误，因为我们没有名为 mobileValidate 的函数，所以按 Alt+Enter 在 MainActivity 中自动创建一个函数。将参数从<code>Editable</code>改为<code>String</code>,因为您希望输入为字符串。</p>
<p>在 mobileValidate 函数中，我们希望我们的文本匹配某个模式:一个标准的尼日利亚电话号码(通常是 070，080，081，090，091，总共 11 个数字)。</p>
<p>因此，我们为四个不同的音程编译一个模式，前三个只有一个组合，最后一个音程分成八个 0-9 音程的组合。因此，基本上，任何超出每个区间的数字都将标记为无效，按钮将保持禁用状态。</p>
<p>接下来，我们将使用 p.matcher()函数声明我们的 matcher 实例。然后，我们将解析 matcher 函数中的输入，并返回 m.matches()。如果我们的输入与模式匹配，并且按钮被启用，则结果返回 true，如果不匹配，则返回 false。</p>
<p>回到 if 语句，如果按钮的条件保持为真，则按钮应该被启用。我们还有一个 else 语句，以防条件变为 false。我们设置了一个错误消息来抛出一个通知“号码无效”</p>
<p>在这之后，你可以在你想要的模拟器中运行应用程序来测试它。</p>
<h2 id="conclusion">结论</h2>
<p>RegEx 的多功能性使它成为许多编程语言中的基本工具，它检查模式的能力使它成为有效的验证工具。</p>
<p>它在多功能性方面的优势也伴随着多重劣势:例如，它复杂的语法，这使得 RegEx 对于经验丰富的程序员来说都有些困难。</p>
<p>尽管如此，掌握正则表达式的知识是绝对有利的，因为有一天，只要您在开发领域，它就会派上用场！</p><div class="code-block code-block-32">
<div class="blog-plug inline-plug kotlin-plug"><h2>LogRocket :即时重现你的安卓应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/kotlin-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/b5ae4bd0ecde7aa9d5288746416d5e18.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-native-plug_android-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-native-plug_android-1.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/b5ae4bd0ecde7aa9d5288746416d5e18.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/react-native-plug_android-1.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/kotlin-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 Android 监控解决方案，可以帮助您即时重现问题，确定 bug 的优先级，并了解您的 Android 应用程序的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 Android 应用程序— <a class="signup" href="hhttps://lp.logrocket.com/blg/kotlin-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>