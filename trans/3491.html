<html>
<head>
<title>Working with calendars in Swift </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Swift中使用日历</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/working-calendars-swift/#0001-01-01">https://blog.logrocket.com/working-calendars-swift/#0001-01-01</a></blockquote><div><article class="article-post">
<p>如果你在移动应用程序中使用过任何类型的表单，那么你就会知道在表单中处理日期是多么的复杂。在本文中，我们将学习如何在SwiftUI应用程序中实现一个日历来处理和操作日期。</p>
<p>SwiftUI提供了一个<a href="https://developer.apple.com/documentation/swiftui/datepicker"> <code>DatePicker</code> </a>控件供用户选择绝对日期，但是作为一个成熟的日历UI，它有一些局限性。在本教程中，我们还将使用一个名为<code><a href="https://github.com/WenchaoD/FSCalendar">FSCalendar</a></code>的流行日历库，这是一个完全可定制的iOS日历库。我们最终的应用程序将如下图所示:</p>
<p><img data-attachment-id="137670" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/final-swift-ui-calendar-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-swift-ui-calendar-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application-511x1024.gif" decoding="async" class="aligncenter wp-image-137670 size-full jetpack-lazy-image" src="../Images/13b7cea4216a25f4c934c80e9f82cbc7.png" alt="Final Swift UI Calendar Application" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137670" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/final-swift-ui-calendar-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-swift-ui-calendar-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137670 size-full" src="../Images/13b7cea4216a25f4c934c80e9f82cbc7.png" alt="Final Swift UI Calendar Application" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-swift-ui-calendar-application.gif"/></noscript>
<p><img data-attachment-id="137672" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/swift-ui-calendar-application-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="swift-ui-calendar-application-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final-511x1024.gif" decoding="async" class="aligncenter wp-image-137672 size-full jetpack-lazy-image" src="../Images/0e0fc423916837718576dea824aaaadd.png" alt="Swift UI Calendar Application Final" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137672" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/swift-ui-calendar-application-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="swift-ui-calendar-application-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137672 size-full" src="../Images/0e0fc423916837718576dea824aaaadd.png" alt="Swift UI Calendar Application Final" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/swift-ui-calendar-application-final.gif"/></noscript>
<p>您可以在这个<a href="https://github.com/hrupesh/SwiftUICalendars/tree/master"> GitHub资源库</a>中找到本教程的完整代码。我们开始吧！</p>
<h2>目录</h2>
<p>我们将讨论以下内容:</p>

<h2 id="create-swift-ui-project">创建SwiftUI项目</h2>
<p>在编写任何代码之前，我们需要一个正常工作的SwiftUI应用程序。让我们现在就创建它；打开Xcode，你会看到一个屏幕显示<code>Welcome to Xcode</code>，如下图所示:</p>
<p><img data-attachment-id="137674" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/welcome-xcode-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png" data-orig-size="513,505" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="welcome-xcode-screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen-300x295.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png" decoding="async" class="aligncenter wp-image-137674 size-full jetpack-lazy-image" src="../Images/e0fb0a6d489c20b46226800a8692e94f.png" alt="Welcome Xcode Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png 513w, https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen-300x295.png 300w" data-lazy-sizes="(max-width: 513px) 100vw, 513px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137674" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/welcome-xcode-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png" data-orig-size="513,505" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="welcome-xcode-screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen-300x295.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png" decoding="async" loading="lazy" class="aligncenter wp-image-137674 size-full" src="../Images/e0fb0a6d489c20b46226800a8692e94f.png" alt="Welcome Xcode Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png 513w, https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen-300x295.png 300w" sizes="(max-width: 513px) 100vw, 513px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/welcome-xcode-screen.png"/></noscript>
<p>选择<strong>创建一个新的Xcode项目</strong>，Xcode将会启动，弹出<code>choose project template</code><span>:</span></p>
<p><img data-attachment-id="137678" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/create-new-xcode-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png" data-orig-size="730,527" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="create-new-xcode-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project-300x217.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png" decoding="async" class="aligncenter wp-image-137678 size-full jetpack-lazy-image" src="../Images/2e2c08ccbc3c8a237ec631e9c733b56e.png" alt="Create New Xcode Project" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project-300x217.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137678" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/create-new-xcode-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png" data-orig-size="730,527" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="create-new-xcode-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project-300x217.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png" decoding="async" loading="lazy" class="aligncenter wp-image-137678 size-full" src="../Images/2e2c08ccbc3c8a237ec631e9c733b56e.png" alt="Create New Xcode Project" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project-300x217.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/create-new-xcode-project.png"/></noscript>
<p>我们将选中的选项保留为默认选项<code>App</code>，然后点击<strong>下一个</strong>。为您的项目输入一个名称，然后点击<strong>下一个</strong>。既然我们已经成功地创建了SwiftUI项目，让我们在我们的设备或模拟器上运行它。</p>
<p>要在设备上构建应用程序，请从Xcode的顶部栏中选择它，然后单击左侧的<strong>播放</strong>按钮开始构建:</p>
<p><img data-attachment-id="137683" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/selct-device-build-app-play-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png" data-orig-size="608,36" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-device-build-app-play-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button-300x18.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png" decoding="async" class="aligncenter wp-image-137683 size-full jetpack-lazy-image" src="../Images/f1c9e00938c200dba159ff7c968395d7.png" alt="Select Device Build App Play Button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png 608w, https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button-300x18.png 300w" data-lazy-sizes="(max-width: 608px) 100vw, 608px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137683" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/selct-device-build-app-play-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png" data-orig-size="608,36" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-device-build-app-play-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button-300x18.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png" decoding="async" loading="lazy" class="aligncenter wp-image-137683 size-full" src="../Images/f1c9e00938c200dba159ff7c968395d7.png" alt="Select Device Build App Play Button" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png 608w, https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button-300x18.png 300w" sizes="(max-width: 608px) 100vw, 608px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/selct-device-build-app-play-button.png"/></noscript>
<p>如果一切正常，您将在设备上看到一个空白屏幕，上面写着“你好，世界！”文本在中间。</p>
<h2>在SwiftUI中显示带有<code>DatePicker</code>的日历视图</h2>
<p>为了在我们的Swift应用程序中创建日历UI，我们将从SwiftUI中的<code><a href="https://developer.apple.com/documentation/swiftui/datepicker">DatePicker</a></code>开始。这种结构主要用于从用户界面中选择日期，它非常容易使用和控制。</p>
<p>让我们将<code>DatePicker</code>添加到我们的视图体中。将以下代码添加到<code>ContentView.swift</code>文件中:</p>
<pre class="language-bash hljs">import SwiftUI

struct ContentView: View {
    @State var selectedDate: Date = Date()
    var body: some View {
        // Added DatePicker with selection equal to State variable selectedDate
        DatePicker("Select Date", selection: $selectedDate)
                  .padding(.horizontal)
    }
}
....
</pre>
<p>您可能已经注意到，我们添加了带有两个参数的<code>DatePicker</code>，<code>Select Date</code>和<code>selection</code>。</p>
<p>第一个<code>String</code>参数是日期选择器的标题，显示在UI上选择器控件的旁边。第二个参数<code>selection</code>是一个重要的参数，它采用类型为<code>Date</code>的<code>Binding</code>变量。<code>Date</code>变量随着从<code>DatePicker</code>控件选择的日期或时间的改变而改变。</p>
<p>为了将<code>Binding</code>传递到<code>selection</code>参数中，我们创建了一个名为<code>selectedDate</code>的<code>Date</code>类型的<code>State</code>变量，它的初始值是当前日期。我们还向组件添加了一些水平填充。</p>
<p>上面代码的UI输出将类似于下图:</p>
<p><img data-attachment-id="137713" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/adding-datepicker-show-calender-view-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif" data-orig-size="470,844" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="adding-datepicker-show-calender-view-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui-167x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif" decoding="async" class="aligncenter wp-image-137713 size-full jetpack-lazy-image" src="../Images/f8b5d581b44fd6ce6e8725bd1582e9ff.png" alt="Adding Datepicker Show Calender View UI" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137713" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/adding-datepicker-show-calender-view-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif" data-orig-size="470,844" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="adding-datepicker-show-calender-view-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui-167x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137713 size-full" src="../Images/f8b5d581b44fd6ce6e8725bd1582e9ff.png" alt="Adding Datepicker Show Calender View UI" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-datepicker-show-calender-view-ui.gif"/></noscript>
<p>现在，我们可以打开一个日历视图，从滚轮选择器中选择日期和时间，它们存储在<code>selectedDate</code>变量中。现在，让我们在UI上显示它。</p>
<p>用以下代码替换<code>ContentView</code>正文中的代码:</p>
<pre class="language-bash hljs">VStack(alignment: .center, spacing: 0) {
    Text(selectedDate.formatted(date: .abbreviated, time: .standard))
        .font(.system(size: 28))
        .bold()
        .foregroundColor(Color.accentColor)
        .padding()
        .animation(.spring(), value: selectedDate)
    Divider()
    Spacer()
    DatePicker("Select Date", selection: $selectedDate)
        .padding(.horizontal)
}
.padding(.vertical, 200)
</pre>
<p>上面的代码将产生以下用户界面:</p>
<p><img data-attachment-id="137715" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/open-calendar-view-selct-date-time-wheel-picker/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="open-calendar-view-selct-date-time-wheel-picker" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker-511x1024.gif" decoding="async" class="aligncenter wp-image-137715 size-full jetpack-lazy-image" src="../Images/0371d61d676ded325ddbcfc9a5c32002.png" alt="Open Calendar View Select Date Time Wheel Picker" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137715" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/open-calendar-view-selct-date-time-wheel-picker/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="open-calendar-view-selct-date-time-wheel-picker" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137715 size-full" src="../Images/0371d61d676ded325ddbcfc9a5c32002.png" alt="Open Calendar View Select Date Time Wheel Picker" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-calendar-view-selct-date-time-wheel-picker.gif"/></noscript>
<p>我们已经在应用程序中实现了一个日期选择器，但是我们还没有完成。我们希望在我们的UI中显示一个将一直显示的日历视图。为此，我们将使用<code>DatePicker</code>组件的<code><a href="https://developer.apple.com/documentation/swiftui/view/datepickerstyle(_:)">datePickerStyle</a></code>修饰符。我们可以使用这个修改器以任何我们想要的预定义样式显示<code>DatePicker</code>。</p>
<p>我们将使用<code>graphical</code>样式，它将<code>DatePicker</code>显示为一个总是打开的<code>CalendarView</code>。我们现在不需要<code>time</code>组件，所以我们将在<code>DatePicker</code>初始化器中传递<code>displayedComponents</code>。在UI上显示时，我们也省略了<code>selectedDate</code>中的时间部分。</p>
<p>经过上述更改，我们的<code>ContentView</code>的<code>body</code>中更新后的代码将如下所示:</p>
<pre class="language-bash hljs">VStack() {
    Text(selectedDate.formatted(date: .abbreviated, time: .omitted))
        .font(.system(size: 28))
        .bold()
        .foregroundColor(Color.accentColor)
        .padding()
        .animation(.spring(), value: selectedDate)
        .frame(width: 500)
    Divider().frame(height: 1)
    DatePicker("Select Date", selection: $selectedDate, displayedComponents: [.date])
        .padding(.horizontal)
        .datePickerStyle(.graphical)
    Divider()
}
.padding(.vertical, 100)
</pre>
<p>上面的代码将产生下面的用户界面:</p>
<p><img data-attachment-id="137710" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/datepickerstyle-modifier-datepicker-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="datepickerstyle-modifier-datepicker-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component-511x1024.gif" decoding="async" class="aligncenter wp-image-137710 size-full jetpack-lazy-image" src="../Images/3ab41cd3e6f7debdd56577edba15ce56.png" alt="Datepickerstyle Modifier Datepicker Component" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137710" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/datepickerstyle-modifier-datepicker-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="datepickerstyle-modifier-datepicker-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137710 size-full" src="../Images/3ab41cd3e6f7debdd56577edba15ce56.png" alt="Datepickerstyle Modifier Datepicker Component" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/datepickerstyle-modifier-datepicker-component.gif"/></noscript>
<h2 id="adding-tabview-into-application">将<code>TabView</code>添加到应用程序中</h2>
<p>到目前为止，我们已经使用<code>DatePicker</code>集成了一个类似日历的视图。但是我们可以通过使用一个叫做<code><a href="https://github.com/WenchaoD/FSCalendar">FSCalendar</a></code>的流行的iOS库来改进这一点。</p>
<p>但首先，我们需要在我们的应用程序UI中分离这两个屏幕。为此，我们将使用<code>TabView</code>，它将在我们的应用程序中创建两个选项卡，一个用于带有<code>DatePicker</code>的<code>CalendarView</code>，另一个用于<code>FSCalendar</code>。</p>
<p>让我们首先将我们在上一节中创建的UI移动到另一个SwiftUI文件中。在Xcode中创建新的<code>SwiftUI</code>文件，命名为<code>DatePickerCalendar</code>。将<code>ContentView</code>正文中的代码粘贴到<code>DatePickerCalendar</code>正文中:</p>
<pre class="language-bash hljs">import SwiftUI

struct DatePickerCalendar: View {
    @State var selectedDate = Date()
    var body: some View {
        VStack {
            FormattedDate(selectedDate: selectedDate, omitTime: true)
            Divider().frame(height: 1)
            DatePicker("Select Date", selection: $selectedDate,
                       in: ...Date(), displayedComponents: .date)
                .datePickerStyle(.graphical)
            Divider()
        }
    }
}

struct DatePickerCalendar_Previews: PreviewProvider {
    static var previews: some View {
        DatePickerCalendar()
    }
}
</pre>
<p>在上面的代码中，您会注意到我们已经实现了两项更改。首先，我们在<code>DatePicker</code>初始化器中添加了<code>in</code>参数，允许用户在给定的范围内选择日期。在本例中，我提供了从以前到现在的所有日期。</p>
<p>是一个助手视图，我创建它是为了让代码看起来干净。它基本上与我们之前用来在UI上显示<code>selectedDate</code>的<code>Text</code>组件相同，只是有一些样式修饰符。</p>
<p>要创建<code>FormattedDate</code>视图，创建一个新的<code>SwiftUI</code>文件，将其命名为<code>FormattedDate</code>，并在其中添加以下代码:</p>
<pre class="language-bash hljs">import SwiftUI

struct FormattedDate: View {
    var selectedDate: Date
    var omitTime: Bool = false
    var body: some View {
        Text(selectedDate.formatted(date: .abbreviated, time: 
              omitTime ? .omitted : .standard))
            .font(.system(size: 28))
            .bold()
            .foregroundColor(Color.accentColor)
            .padding()
            .animation(.spring(), value: selectedDate)
            .frame(width: 500)
    }
}

struct FormattedDate_Previews: PreviewProvider {
    static var previews: some View {
        FormattedDate(selectedDate: Date())
    }
}
</pre>
<p>我们还需要为我们的日历视图创建一个新文件，它将实现<code>FSCalendar</code>库。创建一个名为<code>CalendarView</code>的新<code>SwiftUI</code>文件，并在<code>body</code>中添加以下代码:</p>
<pre class="language-bash hljs">Text("This is Calendar View")
</pre>
<p>现在，让我们将<code>TabView</code>添加到我们的<code>ContentView</code>文件中:</p>
<pre class="language-bash hljs">TabView {
    DatePickerCalendar()
      .tabItem {
        Label("DatePicker Calendar", systemImage: "calendar.badge.plus")
            .padding()
      }
    CalendarView()
      .tabItem {
        Label("Fullscreen Calendar", systemImage: "calendar")
            .padding()
      }
}
.onAppear {
    let appearance = UITabBarAppearance()
    appearance.backgroundColor = UIColor(Color.purple.opacity(0.2))
    appearance.shadowColor = UIColor(.purple)
    appearance.backgroundEffect = UIBlurEffect(style: .extraLight)
    UITabBar.appearance().standardAppearance = appearance
    UITabBar.appearance().scrollEdgeAppearance = appearance
}
</pre>
<p>在上面的代码中，我们在<code>TabView</code>中添加了两个视图。第一个是我们之前创建的<code>DatePickerCalendar</code>，第二个是空的<code>CalendarView</code>。每个视图都有一个<code>tabItem</code>修饰符，它定义了在标签栏中显示什么。我们还在<code>TabView</code>上添加了一个<a href="https://developer.apple.com/documentation/swiftui/tabview/onappear(perform:)"> <code>onAppear</code> </a>实例方法来改变<code>TabView</code>的外观。</p>
<p>现在，我们将有下面的用户界面:</p>
<p><img data-attachment-id="137708" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-views-tab-view/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-views-tab-view" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view-511x1024.gif" decoding="async" class="aligncenter wp-image-137708 size-full jetpack-lazy-image" src="../Images/f5eb6fca4d9931b057eaddbe089746cf.png" alt="Add Views Tab View" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137708" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-views-tab-view/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-views-tab-view" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137708 size-full" src="../Images/f5eb6fca4d9931b057eaddbe089746cf.png" alt="Add Views Tab View" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-views-tab-view.gif"/></noscript>
<h2 id="installing-fscalendar-into-project">将<code>FSCalendar</code>安装到我们的项目中</h2>
<p>现在，让我们安装<code><a href="">FSCalendar</a></code>库。要添加新的库，在Xcode中，进入<strong>文件</strong> → <strong>添加包</strong>，如下图所示:</p>
<p><img data-attachment-id="137705" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/install-fs-calender-add-package/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png" data-orig-size="730,433" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="install-fs-calender-add-package" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png" decoding="async" class="aligncenter wp-image-137705 size-full jetpack-lazy-image" src="../Images/d9f2c058e2875a0def4a1497f8e36298.png" alt="Install FS Calender Add Package" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package-300x178.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137705" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/install-fs-calender-add-package/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png" data-orig-size="730,433" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="install-fs-calender-add-package" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png" decoding="async" loading="lazy" class="aligncenter wp-image-137705 size-full" src="../Images/d9f2c058e2875a0def4a1497f8e36298.png" alt="Install FS Calender Add Package" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package-300x178.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/install-fs-calender-add-package.png"/></noscript>
<p>点击<strong>添加(+) </strong>按钮，然后点击<strong>添加swift包集合</strong>:</p>
<p><img data-attachment-id="137703" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/xcode-add-package-file-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png" data-orig-size="730,435" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-add-package-file-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui-300x179.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png" decoding="async" class="aligncenter wp-image-137703 size-full jetpack-lazy-image" src="../Images/0ed6e13af0a03c51c620a28aadcd7c34.png" alt="Xcode Add Package File UI" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui-300x179.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137703" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/xcode-add-package-file-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png" data-orig-size="730,435" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-add-package-file-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui-300x179.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png" decoding="async" loading="lazy" class="aligncenter wp-image-137703 size-full" src="../Images/0ed6e13af0a03c51c620a28aadcd7c34.png" alt="Xcode Add Package File UI" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui-300x179.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/xcode-add-package-file-ui.png"/></noscript>
<p><img data-attachment-id="137701" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-swift-package-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png" data-orig-size="572,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-swift-package-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection-300x117.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png" decoding="async" class="aligncenter wp-image-137701 size-full jetpack-lazy-image" src="../Images/27f8a215967005dc42310346a4467669.png" alt="Add Swift Package Collection" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png 572w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection-300x117.png 300w" data-lazy-sizes="(max-width: 572px) 100vw, 572px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137701" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-swift-package-collection/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png" data-orig-size="572,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-swift-package-collection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection-300x117.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png" decoding="async" loading="lazy" class="aligncenter wp-image-137701 size-full" src="../Images/27f8a215967005dc42310346a4467669.png" alt="Add Swift Package Collection" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png 572w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection-300x117.png 300w" sizes="(max-width: 572px) 100vw, 572px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-swift-package-collection.png"/></noscript>
<p>然后，将以下链接粘贴到输入中，并<strong>继续</strong>:</p>
<pre>https://github.com/WenchaoD/FSCalendar</pre>
<p>这是我们将使用的包的存储库URL:</p>
<p><img data-attachment-id="137697" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/repository-github-url-fscalendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png" data-orig-size="730,295" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="repository-github-url-fscalendar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar-300x121.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png" decoding="async" class="aligncenter wp-image-137697 size-full jetpack-lazy-image" src="../Images/be045e4bcdb91e9fd259488ebcba6612.png" alt="Repository Github URL Fscalendar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar-300x121.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137697" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/repository-github-url-fscalendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png" data-orig-size="730,295" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="repository-github-url-fscalendar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar-300x121.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png" decoding="async" loading="lazy" class="aligncenter wp-image-137697 size-full" src="../Images/be045e4bcdb91e9fd259488ebcba6612.png" alt="Repository Github URL Fscalendar" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar-300x121.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/repository-github-url-fscalendar.png"/></noscript>
<p>就是这样！您现在已经将<code>FSCalendar</code>添加到您的项目中。如果一切顺利，您现在会在项目导航器菜单中Xcode左侧的<strong>包依赖关系</strong>中看到<code>FSCalendar</code>:</p>
<p><img data-attachment-id="137695" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/added-fscalendar-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png" data-orig-size="446,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="added-fscalendar-xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode-300x262.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png" decoding="async" class="aligncenter wp-image-137695 size-full jetpack-lazy-image" src="../Images/e8e221bb11bfde476caa074c34bf2423.png" alt="Added Fscalendar Xcode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png 446w, https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode-300x262.png 300w" data-lazy-sizes="(max-width: 446px) 100vw, 446px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137695" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/added-fscalendar-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png" data-orig-size="446,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="added-fscalendar-xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode-300x262.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png" decoding="async" loading="lazy" class="aligncenter wp-image-137695 size-full" src="../Images/e8e221bb11bfde476caa074c34bf2423.png" alt="Added Fscalendar Xcode" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png 446w, https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode-300x262.png 300w" sizes="(max-width: 446px) 100vw, 446px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/added-fscalendar-xcode.png"/></noscript>
<h2 id="using-uiview-representable-integrate-uikitview">将来自<code>FSCalendar</code>的UIKit视图与<code>UIViewRepresentable</code>整合</h2>
<p>现在，我们已经安装了<code>FSCalendar</code>，但是我们不能直接使用这个库，因为它不支持开箱即用的SwiftUI。因此，我们需要利用这个库提供的UIKit视图。</p>
<p>为此，我们将使用<code><a href="https://developer.apple.com/documentation/swiftui/uiviewrepresentable">UIViewRepresentable</a></code>作为UIKit视图的包装器，以在SwiftUI视图层次结构中显示它。关于这个的更多信息，你也可以参考<a href="https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit">官方文档</a>。</p>
<p>首先，我们将在同一个文件中创建一个视图，它返回<code>UIViewRepresentable</code>。然后，我们将在其中实现一些方法，这将创建一个UIView并允许我们与它通信:</p>
<pre class="language-bash hljs">import UIKit
import FSCalendar
....

struct CalendarView: View {
    var body: some View {
      CalendarViewRepresentable(selectedDate: $selectedDate)
    }
}

struct CalendarViewRepresentable: UIViewRepresentable {
    typealias UIViewType = FSCalendar

    func makeUIView(context: Context) -&gt; FSCalendar {
      return FSCalendar()
    }

    func updateUIView(_ uiView: FSCalendar, context: Context) {}

    func makeCoordinator() -&gt; Coordinator {
        Coordinator(self)
    }

    class Coordinator: NSObject, 
          FSCalendarDelegate, FSCalendarDataSource {
            var parent: CalendarViewRepresentable

            init(_ parent: CalendarViewRepresentable) {
                self.parent = parent
            }
    }
}
</pre>
<p>在上面的代码中，我们实现了三个方法和一个类:</p>
<ul>
<li id="makeuiviewresponsibleforcreatingtheuiviewwhichwillberenderedontheuifornowwehavedirectlyreturnedaninstanceoffscalendarwhichwellchangeaswemoveforwardbecausewecannotreallycontrolthecalendarifuseitlikethis"><code>makeUIView</code>:创建将在UI上呈现的UIView。现在，我们直接返回一个<code>FSCalendar</code>的实例，我们将在以后的工作中改变它，以便对日历有更多的控制</li>
<li><code>updateUIView</code>:用于更新视图状态。在本教程中，我们不需要这个。</li>
<li><code>makeCoordinator</code>:用于创建自定义实例，我们可以使用该实例在SwiftUI和UIKit视图之间进行通信</li>
<li><code>Coordinator</code>:从<code>makeCoordinator</code>返回的自定义实例</li>
</ul>
<p>使用上面的代码，我们现在在应用程序中有了一个<code>FSCalendar</code>视图，默认情况下看起来像下面的图片:</p>
<p><img data-attachment-id="137693" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-fscalendar-view-swift-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png" data-orig-size="730,1407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-fscalendar-view-swift-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-156x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-531x1024.png" decoding="async" class="aligncenter wp-image-137693 size-full jetpack-lazy-image" src="../Images/a06be66e8d06b6b9fadcece7c4530fba.png" alt="Add Fscalendar View Swift Application" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-156x300.png 156w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-531x1024.png 531w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137693" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/add-fscalendar-view-swift-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png" data-orig-size="730,1407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-fscalendar-view-swift-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-156x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-531x1024.png" decoding="async" loading="lazy" class="aligncenter wp-image-137693 size-full" src="../Images/a06be66e8d06b6b9fadcece7c4530fba.png" alt="Add Fscalendar View Swift Application" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-156x300.png 156w, https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application-531x1024.png 531w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/add-fscalendar-view-swift-application.png"/></noscript>
<h2 id="displaying-calendar-view-fscalendar">用<code>FSCalendar</code>显示日历视图</h2>
<p>我们已经成功地在我们的应用程序UI中呈现了一个日历视图。现在，让我们设置用户在日历上选择的日期值。为此，我们将在我们的<code>CalendarViewRepresentable</code>中创建一个<code>calendar</code>变量，并在用户在UI上执行交互时定制它:</p>
<pre class="language-bash hljs">struct CalendarView: View {
  // Added a @State var to track the selected date by user
  @State var selectedDate: Date = Date()

  var body: some View {
        VStack {
            // Displaying the selected date
            FormattedDate(selectedDate: selectedDate, omitTime: true)
            // Passing the selectedDate as Binding
            CalendarViewRepresentable(selectedDate: $selectedDate)
        }
  }
}

struct CalendarViewRepresentable: UIViewRepresentable {
  ...
  // Creating a object of FSCalendar to track across the view
  fileprivate var calendar = FSCalendar()

  // Getting selectedDate as a Binding so that we can update it as 
  // user changes their selection 
  @Binding var selectedDate: Date

  func makeUIView(context: Context) -&gt; FSCalendar {
          // Setting delegate and dateSource of calendar to the
          // values we get from Coordinator
          calendar.delegate = context.coordinator
          calendar.dataSource = context.coordinator
          // returning the intialized calendar
          return calendar
  }

  ....


    class Coordinator: NSObject, 
                        FSCalendarDelegate, FSCalendarDataSource {
        ....
        // Implementing the didSelect method of FSCalendar
        // this is fired with the new date when user selects a new date
        // in the Calendar UI, we are setting our selectedDate Binding
        // var to this new date when this is triggered
        func calendar(_ calendar: FSCalendar, 
                        didSelect date: Date,
                        at monthPosition: FSCalendarMonthPosition) {
            parent.selectedDate = date
        }
    }

  ....
}
</pre>
<p>现在，我们的日历用户界面将如下图所示:</p>
<p><img data-attachment-id="137688" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/displaying-calender-view-fs-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="displaying-calender-view-fs-calendar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar-511x1024.gif" decoding="async" class="aligncenter wp-image-137688 size-full jetpack-lazy-image" src="../Images/a74eef2856565a72fd84607975e6cd8b.png" alt="Displaying Calender View Fs Calendar" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137688" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/displaying-calender-view-fs-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="displaying-calender-view-fs-calendar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137688 size-full" src="../Images/a74eef2856565a72fd84607975e6cd8b.png" alt="Displaying Calender View Fs Calendar" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/displaying-calender-view-fs-calendar.gif"/></noscript>
<h2 id="customizing-calendar-ui">自定义日历用户界面</h2>
<p>现在，我们已经在SwiftUI应用程序中实现了一个工作日历，让我们自定义该日历。带有许多可定制的特性。你可以在GitHub repo 看到它们的完整版本。</p>
<p>在我们的日历中添加了一些自定义特性和样式后，我们的<code>CalendarView</code>文件中的最终代码如下所示:</p>
<pre class="language-bash hljs">import SwiftUI
import UIKit
import FSCalendar

struct CalendarView: View {

    @State var selectedDate: Date = Date()

    var body: some View {
              CalendarViewRepresentable(selectedDate: $selectedDate)
                .padding(.bottom)
                .padding(EdgeInsets(top: 40,
                          leading: 0, bottom: 0, trailing: 0))
                .background{
                    AsyncImage(url: URL(
                                string: "https://images.pexels.com/photos/1939485/pexels-photo-1939485.jpeg")){ img in
                        img.resizable(resizingMode: .stretch)
                            .blur(radius: 4, opaque: true)
                    } placeholder: {
                        LinearGradient(colors: [.red.opacity(0.4),
                                      .green.opacity(0.4)],
                                      startPoint: .top,
                                      endPoint: .bottom)
                    }
                }
                .ignoresSafeArea(.all, edges: .top)
    }
}

struct CalendarViewRepresentable: UIViewRepresentable {
    typealias UIViewType = FSCalendar

    fileprivate var calendar = FSCalendar()
    @Binding var selectedDate: Date

    func makeUIView(context: Context) -&gt; FSCalendar {
        calendar.delegate = context.coordinator
        calendar.dataSource = context.coordinator

        // Added the below code to change calendar appearance
        calendar.appearance.todayColor = UIColor(displayP3Red: 0,
                                                  green: 0,
                                                  blue: 0, alpha: 0)
        calendar.appearance.titleTodayColor = .black
        calendar.appearance.selectionColor = .orange
        calendar.appearance.eventDefaultColor = .red
        calendar.appearance.titleTodayColor = .blue
        calendar.appearance.titleFont = .boldSystemFont(ofSize: 24)
        calendar.appearance.titleWeekendColor = .systemOrange
        calendar.appearance.headerMinimumDissolvedAlpha = 0.12
        calendar.appearance.headerTitleFont = .systemFont(
                                                ofSize: 30, 
                                                weight: .black)
        calendar.appearance.headerTitleColor = .darkGray
        calendar.appearance.headerDateFormat = "MMMM"
        calendar.scrollDirection = .vertical
        calendar.scope = .month
        calendar.clipsToBounds = false

        return calendar
    }

    func updateUIView(_ uiView: FSCalendar, context: Context) {}

    func makeCoordinator() -&gt; Coordinator {
        Coordinator(self)
    }

    class Coordinator: NSObject, 
          FSCalendarDelegate, FSCalendarDataSource {
        var parent: CalendarViewRepresentable

        init(_ parent: CalendarViewRepresentable) {
            self.parent = parent
        }

        func calendar(_ calendar: FSCalendar, 
                      didSelect date: Date,
                      at monthPosition: FSCalendarMonthPosition) {
            parent.selectedDate = date
        }

        func calendar(_ calendar: FSCalendar, 
                  imageFor date: Date) -&gt; UIImage? {
            if isWeekend(date: date) {
                return UIImage(systemName: "sparkles")
            }
            return nil
        }

        func calendar(_ calendar: FSCalendar, 
                      numberOfEventsFor date: Date) -&gt; Int {
            let eventDates = [Date(), Date(),
                                Date.now.addingTimeInterval(400000),
                                Date.now.addingTimeInterval(100000),
                                Date.now.addingTimeInterval(-600000),
                                Date.now.addingTimeInterval(-1000000)]
            var eventCount = 0
            eventDates.forEach { eventDate in
                if eventDate.formatted(date: .complete, 
                              time: .omitted) == date.formatted(
                                date: .complete, time: .omitted){
                    eventCount += 1;
                }
            }
            return eventCount
        }

        func calendar(_ calendar: FSCalendar, shouldSelect date: Date, at monthPosition: FSCalendarMonthPosition) -&gt; Bool {
            if isWeekend(date: date) {
                return false
            }
            return true
        }

        func maximumDate(for calendar: FSCalendar) -&gt; Date {
            Date.now.addingTimeInterval(86400 * 30)
        }

        func minimumDate(for calendar: FSCalendar) -&gt; Date {
            Date.now.addingTimeInterval(-86400 * 30)
        }
    }
}

func isWeekend(date: Date) -&gt; Bool {
    let dateFormatter = DateFormatter()
    dateFormatter.dateFormat = "EEEE"
    let day: String = dateFormatter.string(from: date)
    if day == "Saturday" || day == "Sunday" {
        return true
    }
    return false
}
</pre>
<p>上面的代码将给出类似下图的输出:</p>
<p><img data-attachment-id="137686" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/final-calender-view-code-custom-features-styles/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-calender-view-code-custom-features-styles" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles-511x1024.gif" decoding="async" class="aligncenter wp-image-137686 size-full jetpack-lazy-image" src="../Images/b11d7ce6314ea19344f461d6b846e8df.png" alt="Final Calender View Code Custom Features Styles" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137686" data-permalink="https://blog.logrocket.com/working-calendars-swift/attachment/final-calender-view-code-custom-features-styles/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles.gif" data-orig-size="600,1203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="final-calender-view-code-custom-features-styles" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles-150x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles-511x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137686 size-full" src="../Images/b11d7ce6314ea19344f461d6b846e8df.png" alt="Final Calender View Code Custom Features Styles" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/final-calender-view-code-custom-features-styles.gif"/></noscript>
<h2 id="conclusion">结论</h2>
<p>在本教程中，我们学习了如何使用<code>DatePicker</code>控件创建一个<code>CalendarView</code> UI。我们还学习了如何实现一个日历库，通过在SwiftUI应用程序中整合一个<code>UIViewRepresentable</code>来呈现UIKit视图，从而实现我们的最终UI结果。</p>
<p>感谢阅读！</p><div class="code-block code-block-4">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>