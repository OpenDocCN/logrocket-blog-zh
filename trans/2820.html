<html>
<head>
<title>Create a responsive navbar with React and CSS - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用 React 和 CSS - LogRocket 博客创建一个响应式导航条</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/create-responsive-navbar-react-css/#0001-01-01">https://blog.logrocket.com/create-responsive-navbar-react-css/#0001-01-01</a></blockquote><div><article class="article-post">
<p>为最终用户设计响应性导航菜单从来都不是一件容易的事情。前端开发人员必须考虑某些参数，如设备断点和可访问性，以创建愉快的导航体验。在 React 这样的前端框架中，这可能会变得更具挑战性，因为 CSS-in-JS 往往会变得棘手。</p>
<p>在这篇文章中，你将学习如何用 CSS 和 React 钩子创建一个响应式导航条。你可以修改源代码并在这里查看实时项目。</p>
<p><img data-attachment-id="101187" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/navbar-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif" data-orig-size="406,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Navbar demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo-271x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif" decoding="async" class="aligncenter size-full wp-image-101187 jetpack-lazy-image" src="../Images/af66960218f13f2de181e7b6299ac003.png" alt="Navbar Demo" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="101187" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/navbar-demo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif" data-orig-size="406,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Navbar demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo-271x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-101187" src="../Images/af66960218f13f2de181e7b6299ac003.png" alt="Navbar Demo" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/navbar-demo.gif"/></noscript>

<h2 id="prerequisites">先决条件</h2>
<p>要跟随本教程，您需要:</p>
<ul>
<li>对 React 和 React 挂钩的基本理解</li>
<li>一些 CSS 知识——特别是 Flexbox</li>
</ul>
<p>现在，让我们建立一个新的 React 应用程序！</p>
<h2 id="creating-the-project">创建项目</h2>
<p>要在 CodeSandbox 中引导一个新的 React 项目，打开一个新的浏览器选项卡并键入<code>react.new</code>。这将创建一个 starter React 应用程序:</p>
<pre class="language-javascript hljs"> 
// App.js
import "./styles.css";
export default function App() {
  return (
    &lt;div className="App"&gt;
      &lt;h1&gt;Hello CodeSandbox&lt;/h1&gt;
      &lt;h2&gt;Start editing to see some magic happen!&lt;/h2&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>目前，应用程序的默认样式表位于根位置，在<code>styles.css</code>中。让我们编辑这个文件，给页面布局一个我们自己的感觉:</p>
<pre class="language-css hljs">// styles.css
@import url("https://fonts.googleapis.com/css2?family=Karla:<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a7d0c0cfd3e7959797">[email protected]</a>;400&amp;display=swap");

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Karla", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
    "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container {
  max-width: 90%;
  margin-right: auto;
  margin-left: auto;
  padding: 1rem;
}

article h1 {
  margin: 1rem 0;
}
</pre>
<p>上面的规则将 Karla 设置为文档的主要字体，并包含一个用于填充和对齐页面内容的<code>container</code>类。</p>
<p>完成后，让我们在<code>App.js</code>中编写一些标记来显示内容:</p>
<pre class="language-javascript hljs"> 
// App.js
import Navbar from "./components/Navbar";
import "./styles.css";

function App() {
  return (
    &lt;div&gt;
      &lt;Navbar /&gt;
      &lt;div className="container"&gt;
        &lt;article&gt;
          &lt;h1&gt;What is Lorem Ipsum? &lt;/h1&gt;
          Lorem Ipsum is simply dummy text of the printing and typesetting industry...
        &lt;/article&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default App;
</pre>
<p>注意第二行的<code>Navbar</code>组件导入。我已经通过 CodeSandbox 的侧栏在下面的文件路径中创建了<code>Navbar.js</code>文件:<code>src/components/Navbar.js</code>。</p>
<p>到目前为止，这个文件的内容是组件的默认导出语句，允许您将其导入到<code>App.js</code>:</p>
<pre class="language-javascript hljs"> 
// Navbar.js 
export default function Navbar() {
  return (
    &lt;nav&gt;Navigation&lt;/nav&gt;
    )
}
</pre>
<h2 id="understanding-the-navigation-layout">了解导航布局</h2>
<p>我们的目标是创建一个响应式导航条，它最初以水平布局显示导航菜单— <code>ul</code>元素。到达移动视窗时，菜单重新定位在导航条下，并跨越屏幕的剩余高度和宽度。</p>
<p>这种布局将通过合并 Flexbox 和 CSS 定位规则来实现。</p>
<p>将后续代码块中的标记写入<code>Navbar.js</code>:</p>
<pre class="language-javascript hljs"> 
// Navbar.js
export default function Navbar() {
  return (
    &lt;nav className="navigation"&gt;
      &lt;a href="/" className="brand-name"&gt;
        MacroSoft
      &lt;/a&gt;
      &lt;button className="hamburger"&gt;
        {/* icon from heroicons.com */}
        &lt;svg
          
          className="h-5 w-5"
          viewBox="0 0 20 20"
          fill="white"
        &gt;
          &lt;path
            fillRule="evenodd"
            d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
            clipRule="evenodd"
          /&gt;
        &lt;/svg&gt;
      &lt;/button&gt;
      &lt;div
        className="navigation-menu"&gt;
        &lt;ul&gt;
          &lt;li&gt;
            &lt;a href="/home"&gt;Home&lt;/a&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;a href="/about"&gt;About&lt;/a&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;a href="/contact"&gt;Contact&lt;/a&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
  );
}
</pre>
<p>上面的标记包括<code>brand-name</code>、<code>hamburger</code>图标和<code>navigation-menu</code>，这是我们 navbar 的三个元素。</p>
<p>现在让我们开始设计这个组件的样式。</p>
<h2 id="styling-the-navbar-component">样式化导航栏组件</h2>
<p>在下面的文件路径中为 navbar 组件创建样式表:<code>src/styles/navbar.css</code></p>
<p>并导入到<code>Navbar.js</code>:</p>
<pre class="language-javascript hljs"> 
// Navbar.js
import "../styles/navbar.css"
export default function Navbar() {
  return(
    {/* navbar markup */}
  )
}
</pre>
<p>我们将从<code>navigation</code>类开始:</p>
<pre class="language-css hljs">// navbar.css
.navigation {
  height: 60px;
  width: 100%;
  display: flex;
  align-items: center;
  position: relative;
  padding: 0.5rem 0rem;
  background-color: #fff;
  color: black;
  box-shadow: 0 2px 2px 2px rgba(9, 9, 9, 0.23);
}
</pre>
<p>在这里，我们将导航条的<code>width</code>设置为<code>100%</code>,这样它就覆盖了设备的整个宽度。通过使这个元素成为一个 flex 容器并给它分配一个特定的<code>height</code>属性，Flexbox 允许我们使用<code>align-items</code>属性来垂直居中 flex 项目。</p>
<p>此外，在这个元素上将<code>position</code>设置为<code>relative</code>可以确保任何子元素的<code>position</code>值都是相对于它来确定的。你马上就会看到这个效果。</p>
<p>让我们来设计<code>brand-name</code>和<code>navigation-menu</code>:</p>
<pre class="language-css hljs">// navbar.css
.brand-name {
  text-decoration: none;
  color: black;
  font-size: 1.3rem;
  margin-left: 1rem;
}
.navigation-menu {
  margin-left: auto;
}
</pre>
<p>上面代码块中的主要规则是应用于<code>navigation-menu</code>的<code>margin-left: auto</code>规则。这通过占据菜单左边的可用空间将菜单推到最右边。</p>
<p>现在我们可以设计<code>navigation-menu</code>的子元素了:</p>
<pre class="language-css hljs">// navbar.css
.navigation-menu ul {
  display: flex;
  padding: 0;
}
.navigation-menu li {
  // removes default disc bullet for li tags and applies margin to left &amp; right side
  list-style-type: none;
  margin: 0 1rem;
}
.navigation-menu li a {
  // increases the surface area of the anchor tag to span more than just the anchor text
  text-decoration: none;
  display: block;
  width: 100%;
}
</pre>
<p><code>ul</code>元素上的<code>display: flex</code>将它变成一个 flex 容器。然后，子<code>li</code>元素被排列在<code>row</code>中，这是<code>flex-direction</code>属性的默认值。其他规则用于使导航链接看起来更好。</p>
<p><img data-attachment-id="101189" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/desktop-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg" data-orig-size="611,110" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Desktop version of navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar-300x54.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg" decoding="async" class="aligncenter size-full wp-image-101189 jetpack-lazy-image" src="../Images/b9441b6efaad80dd2809f4fbf4a4edf9.png" alt="Desktop Version Of Navbar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg 611w, https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar-300x54.jpeg 300w" data-lazy-sizes="(max-width: 611px) 100vw, 611px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="101189" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/desktop-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg" data-orig-size="611,110" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Desktop version of navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar-300x54.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-101189" src="../Images/b9441b6efaad80dd2809f4fbf4a4edf9.png" alt="Desktop Version Of Navbar" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg 611w, https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar-300x54.jpeg 300w" sizes="(max-width: 611px) 100vw, 611px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/desktop-version-navbar.jpeg"/></noscript>
<p>让我们继续用<code>hamburger</code>类来设计菜单图标的样式:</p>
<pre class="language-css hljs">// navbar.css
.hamburger {
  // removes default border on button element
  border: 0;
  height: 40px;
  width: 40px;
  padding: 0.5rem;
  border-radius: 50%;
  background-color: #283b8b;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out;
// positions the icon to the right and center aligns it vertically
  position: absolute;
  top: 50%;
  right: 25px;
  transform: translateY(-50%);
  display: none;
}
.hamburger:hover {
  background-color: #2642af;
}
</pre>
<p>这里，我们使用 CSS 定位将菜单图标定位在导航栏的右侧。</p>
<p>记住父元素<code>nav</code>的位置被设置为<code>relative</code>。因此，当图标的<code>position</code>属性设置为<code>absolute</code>时，我们可以使用<code>top</code>和<code>transform</code>属性将图标沿着父元素的边界垂直居中。如果你想知道 CSS 定位是如何工作的，请阅读更多关于 CSS 定位的内容。</p>
<p>因为我们希望菜单图标在到达移动视窗之前保持隐藏，所以让我们将它的<code>display</code>属性设置为<code>none</code>，并继续使用 CSS 媒体查询来设置移动布局的样式。</p>

<p>媒体查询是一项 CSS 功能，可让您指定内容布局如何响应不同的条件，例如视窗宽度的变化。</p>
<p>使用<code>@media</code>规则编写查询，后跟目标媒体类型和应用样式的断点:</p>
<pre class="language-css hljs">@media screen and (max-width: 768px) {
  // rules go here
}
</pre>
<p>此处，<code>max-width: 768px</code>确保仅当设备宽度在<code>768px</code>或更低时才实施样式。</p>
<p>现在让我们显示汉堡图标:</p>
<pre class="language-css hljs">// navbar.css
@media screen and (max-width: 768px) {
  .hamburger {
    display: block;
  }
}
</pre>
<p>并隐藏<code>navigation-menu</code>中的<code>ul</code>元素:</p>
<pre class="language-css hljs">// navbar.css
@media screen and (max-width: 768px) {
  .navigation-menu ul {
    display: none;
  }
}
</pre>
<p>到目前为止，您的手机布局应该是这样的:</p>
<p><img data-attachment-id="101191" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/mobile-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg" data-orig-size="360,72" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mobile Version of Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar-300x60.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg" decoding="async" class="aligncenter size-full wp-image-101191 jetpack-lazy-image" src="../Images/4ded845f018fdf8612e0db7d05c1e615.png" alt="Mobile Version Of Navbar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg 360w, https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar-300x60.jpeg 300w" data-lazy-sizes="(max-width: 360px) 100vw, 360px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="101191" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/mobile-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg" data-orig-size="360,72" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mobile Version of Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar-300x60.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-101191" src="../Images/4ded845f018fdf8612e0db7d05c1e615.png" alt="Mobile Version Of Navbar" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg 360w, https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar-300x60.jpeg 300w" sizes="(max-width: 360px) 100vw, 360px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/mobile-version-navbar.jpeg"/></noscript>
<p>通常，导航栏有两种可能的视图:展开的和隐藏的。通过让不同的类控制这两个 navbar 视图，您可以在您的应用程序中实现这一点。</p>
<p>我们将从设计菜单的扩展版本开始。随后，您将看到如何使用钩子在这两个视图之间切换:</p>
<pre class="language-css hljs">// navbar.css
@media screen and (max-width: 768px) {
  .navigation-menu ul {
    // navigation menu is positioned to start 60px from the top of the document (which is directly below the navbar)
    position: absolute;
    top: 60px;
    left: 0;
    // stacks the li tags vertically 
    flex-direction: column;
   // makes menu span full height and width
    width: 100%;
    height: calc(100vh - 77px);
    background-color: white;
    border-top: 1px solid black;
  }
  .navigation-menu li {
    // centers link text and strips off margin
    text-align: center;
    margin: 0;
  }
  .navigation-menu li a {
    color: black;
    // increases the surface area of the anchor tag to span the full width of the menu
    width: 100%;
    padding: 1.5rem 0;
  }
  .navigation-menu li:hover {
    background-color: #eee;
  }
}
</pre>
<p>上图中，我们将导航栏<code>60px</code>放置在文档顶部——导航栏的正下方。为了确定这个元素的高度，我使用了 CSS <code>calc</code>函数，我将解释为什么。</p>
<p>理想情况下，我们希望菜单通过使用视口高度单位<code>vh</code>跨越文档的整个高度。但是因为视口单元考虑了页面上的所有元素，所以<code>60px</code> navbar 增加了页面的整体高度，导致导航菜单从屏幕底部获取额外的视口单元，从而产生垂直滚动条。</p>
<p><code>calc</code>函数通过允许我们在指定 CSS 属性值时执行计算来帮助我们解决这个问题。因此，从<code>100vh</code>中减去<code>60px</code>得到导航菜单的准确高度。</p>
<p>前面的样式应该会产生下面的布局(黄色区域表示文档的结尾):</p>
<p><img data-attachment-id="101193" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/expanded-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg" data-orig-size="414,478" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Expanded version of Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar-260x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg" decoding="async" class="aligncenter size-full wp-image-101193 jetpack-lazy-image" src="../Images/e8d3a358798da12052e445b89f2897ae.png" alt="Expanded Version Of Navbar" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg 414w, https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar-260x300.jpeg 260w" data-lazy-sizes="(max-width: 414px) 100vw, 414px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="101193" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/expanded-version-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg" data-orig-size="414,478" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Expanded version of Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar-260x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-101193" src="../Images/e8d3a358798da12052e445b89f2897ae.png" alt="Expanded Version Of Navbar" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg 414w, https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar-260x300.jpeg 260w" sizes="(max-width: 414px) 100vw, 414px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/expanded-version-navbar.jpeg"/></noscript>
<p>然而，因为我们希望另一个类控制导航菜单的显示，我们将把它的<code>display</code>设置为<code>none</code>:</p>
<pre class="language-css hljs">// navbar.css
@media screen and (max-width: 768px) {
  .navigation-menu ul {
    /* previous styles */
    dipslay: none;
  }
}
</pre>
<p>并创建一个附加到<code>navigation-menu</code>的<code>expanded</code>类，将<code>display</code>属性设置回<code>block</code>:</p>
<pre class="language-css hljs">// navbar.css
@media screen and (max-width: 768px) {
  .navigation-menu.expanded ul {
    display: block;
  }
}
</pre>
<p>在这个阶段，您只能通过手动编辑<code>Navbar.js</code>中的标记以包含<code>expanded</code>类来观察 navbar 的两种状态。</p>
<p>除非您的用户是 devtools 专家，否则您不会想在这一点上停止开发。让我们使用 React 的<code>useState</code>钩子，使用菜单图标在不同的导航栏视图之间切换。</p>
<h2 id="toggling-the-navbar-view-with-usestate">用<code>useState</code>切换导航栏视图</h2>
<p>为了监控导航菜单的当前状态，我们将状态引入到<code>Navbar</code>组件中。</p>
<p>创建一个<code>isNavExpanded</code>状态，并给它一个初始值<code>false</code>，如下所示:</p>
<pre class="language-javascript hljs"> 
// Navbar.js
import { useState } from "react;
import "../styles/navbar.css";
export default function Navbar(){
  const [isNavExpanded, setIsNavExpanded] = useState(false)

  return (
    &lt;nav className="navigation"&gt;
      &lt;a href="/" className="brand-name"&gt;
        MacroSoft
      &lt;/a&gt;
      &lt;button className="hamburger" &gt;
        {/* hamburger svg code... */}
      &lt;/button&gt;
      {/* nav menu code... */}
    &lt;/nav&gt;
  )
}
</pre>
<p>现在让我们使用<code>button</code>元素上的<code>onClick</code>事件处理程序来切换<code>isNavExpanded</code>状态:</p>
<pre class="language-javascript hljs">// Navbar.js
import { useState } from "react;
import "../styles/navbar.css";
export default function Navbar(){
  const [isNavExpanded, setIsNavExpanded] = useState(false)

  return (
    &lt;nav className="navigation"&gt;
      &lt;a href="/" className="brand-name"&gt;
        MacroSoft
      &lt;/a&gt;
      &lt;button
        className="hamburger"
        onClick={() =&gt; {
          setIsNavExpanded(!isNavExpanded);
        }}
      &gt;
        {/* hamburger svg code... */}
      &lt;/button&gt;
      {/* nav menu code... */}
    &lt;/nav&gt;
  )
}
</pre>
<p>这里，我们在<code>onClick</code>事件处理程序中调用了一个匿名箭头函数。该函数使用更新函数<code>setIsNavExpanded</code>来反转<code>isNavExpanded</code>状态的当前值。</p>
<p>这意味着无论何时点击图标，<code>isNavExpanded</code>都会在<code>true</code>和<code>false</code>之间切换。</p>
<p>现在可以使用 JavaScript 三元运算符根据<code>isNavExpanded</code>的值有条件地为导航菜单选择合适的类名:</p>
<pre class="language-javascript hljs">// Navbar.js
import { useState } from "react"
import "../styles/navbar.css"

export default function Navbar() {
  const [isNavExpanded, setIsNavExpanded] = useState(false)

  return (
    &lt;nav className="navigation"&gt;
      &lt;a href="/" className="brand-name"&gt;
        MacroSoft
      &lt;/a&gt;
      &lt;button
        className="hamburger"
        onClick={() =&gt; {
          setIsNavExpanded(!isNavExpanded)
        }}
      &gt;
        {/* hamburger svg code... */}
      &lt;/button&gt;
      &lt;div
        className={
          isNavExpanded ? "navigation-menu expanded" : "navigation-menu"
        }
      &gt;
        &lt;ul&gt;
          &lt;li&gt;
            &lt;a href="/home"&gt;Home&lt;/a&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;a href="/about"&gt;About&lt;/a&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;a href="/contact"&gt;Contact&lt;/a&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/nav&gt;
  );
}
</pre>
<p>就这样结束了！现在你应该有一个功能齐全，反应灵敏的导航条。</p>
<p><img data-attachment-id="101195" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/final-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif" data-orig-size="575,382" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Final Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar-300x199.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif" decoding="async" class="aligncenter size-full wp-image-101195 jetpack-lazy-image" src="../Images/132a3feb5567fd1df388fcbdf8fe30f4.png" alt="Final Navbar" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="101195" data-permalink="https://blog.logrocket.com/create-responsive-navbar-react-css/final-navbar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif" data-orig-size="575,382" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Final Navbar" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar-300x199.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-101195" src="../Images/132a3feb5567fd1df388fcbdf8fe30f4.png" alt="Final Navbar" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/final-navbar.gif"/></noscript>
<h2 id="conclusion">结论</h2>
<p>导航菜单在 web 应用程序的整体体验中扮演着重要的角色。当你的用户试图理解你的应用时，它通常是你接触的第一个组件。因此，让它尽可能地有组织和易于访问会对你有好处，因为它能提升用户体验，甚至 SEO 性能。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产 React 应用</h2><p>调试 React 应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪 Redux 状态、自动显示 JavaScript 错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的 web 和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket 不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试 React 应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>