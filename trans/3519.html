<html>
<head>
<title>Using Ariakit components in React apps </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在react应用中使用arianit组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-ariakit-components-react-apps/#0001-01-01">https://blog.logrocket.com/using-ariakit-components-react-apps/#0001-01-01</a></blockquote><div><article class="article-post">
<p>上网者的听觉、视觉和认知能力各不相同。这就是为什么可访问性已经成为构建web应用程序的一个重要部分。</p>
<p>开发人员的任务是消除许多人在现实世界中面临的沟通和交互障碍。我们的目标是设计适用于所有人的解决方案和工具，而不管他们的语言、位置、能力或者他们使用的硬件或软件。</p>
<p>不幸的是，尽管可访问性很重要，但它仍然是web开发中一个相当复杂的方面。因此，许多开发人员回避将易访问性融入他们的项目中。相反，他们最终会构建设计糟糕的应用程序，制造障碍(而不是消除障碍)，无意中将某些人排除在网络之外。</p>
<p>在本文中，我们将介绍<a href="https://ariakit.org"> Ariakit </a>，这是一个开源的低级组件工具包，用于在React中构建可访问的web应用程序。我们将演示如何使用Ariakit的组件来轻松高效地构建可访问的web应用程序。</p>
<p><em>向前跳转:</em></p>

<h2 id="prerequisites">先决条件</h2>
<p>要跟随本教程，您需要以下内容:</p>
<ul>
<li>React及其概念的工作知识</li>
<li>您的计算机上安装了最新版本的Node.js</li>
</ul>
<h2 id="what-is-ariakit">什么是Ariakit？</h2>
<p>Ariakit提供了各种UI组件，如<code>Form</code>、<code>Dialog</code>、<code>Tab</code>、<code>Tooltip</code>等等，可以用来快速构建易访问性驱动的web应用程序、UI库和设计系统。</p>
<p>如果可访问性是您的首要任务之一，您会发现Ariakit很有用；它的组件遵循<a href="https://www.w3.org/WAI/standards-guidelines/aria/"> WAI-ARIA的建议</a>并带有内置的可访问性。</p>
<h2 id="installing-and-integrating-ariakit">安装和集成arianit</h2>
<p>在我们进入Ariakit如何工作以及如何使用它之前，让我们看看如何将它安装并集成到React应用程序中。</p>
<p>第一步是打开您的命令行工具，<code>cd</code>进入一个项目文件夹，并运行以下命令来安装Ariakit:</p>
<pre class="language-bash hljs">npm i ariakit
</pre>
<p>如果您没有现有的项目，并且希望按照本教程进行操作，您可以继续使用Vite CLI安装React:</p>
<pre class="language-bash hljs">npm create <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f2849b8697b29e9386978186">[email protected]</a>
</pre>
<p>该命令将提示您选择项目的首选项。选择以下选项继续:</p>
<p><img data-attachment-id="138783" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/command-prompt/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png" data-orig-size="703,164" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Command prompt" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png" decoding="async" class="aligncenter wp-image-138783 size-full jetpack-lazy-image" src="../Images/bfeb013ba416c99a3037e2b6c0b1b6f3.png" alt="Command Prompt To Add Ariakit" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png 703w, https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt-300x70.png 300w" data-lazy-sizes="(max-width: 703px) 100vw, 703px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138783" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/command-prompt/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png" data-orig-size="703,164" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Command prompt" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png" decoding="async" loading="lazy" class="aligncenter wp-image-138783 size-full" src="../Images/bfeb013ba416c99a3037e2b6c0b1b6f3.png" alt="Command Prompt To Add Ariakit" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png 703w, https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt-300x70.png 300w" sizes="(max-width: 703px) 100vw, 703px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/command-prompt.png"/></noscript>
<p>安装完成后，运行下面的代码将<code>cd</code>放入项目文件夹，安装必要的依赖项，并启动开发服务器:</p>
<pre class="language-bash hljs">  cd ariakit-example
  npm install
  npm run dev
</pre>
<p>我们准备好了；现在我们可以开始将Ariakit组件导入到我们的项目中。</p>
<h2 id="understanding-ariakits-building-blocks">了解Ariakit的构建模块</h2>
<p>Ariakit是组件和挂钩的集合。每个组件接受三种道具:<code>options</code>、<code>attribute</code>、<code>state</code>。</p>
<p>让我们仔细看看。</p>
<h3 id="options-props"><code>options</code>道具</h3>
<p>属性是影响内部组件行为的自定义属性。它们在构建时转换成实际的HTML属性:</p>
<pre class="language-javascript hljs">import { Button } from "ariakit";
import "./App.css";

function App() {
  return (
    &lt;div className="App"&gt;
      &lt;div&gt;
        &lt;Button hidden&gt;Click&lt;/Button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default App;
</pre>
<p>在上面的例子中，<code>hidden</code>道具是一个<code>options</code>道具；它将从视图中隐藏原本可见的组件。在这种情况下，它会在浏览器中隐藏<code>Button</code>组件。</p>
<h3 id="attribute-props"><code>attribute</code>道具</h3>
<p><code>attribute</code>道具是实际的HTML属性；你很可能已经熟悉这种类型的道具。下例中的<code>className</code>道具是一个<code>attribute</code>道具:</p>
<pre class="language-javascript hljs">&lt;Button hidden className=”btn”&gt;Click&lt;/Button&gt;
</pre>
<h3 id="state-props"><code>state</code>道具</h3>
<p>属性将有状态的钩子和变量附加到组件上。Ariakit提供内置<code>state</code>挂钩；您可以使用它们，也可以自己创建:</p>
<pre class="language-javascript hljs">import { Checkbox, useCheckboxState } from "ariakit";
import "./App.css";

function App() {
  const checked = useCheckboxState({ defaultValue: true });
  return (
    &lt;div className="App"&gt;
      &lt;div&gt;
        &lt;h1&gt;hello&lt;/h1&gt;
        &lt;label className="label"&gt;
          &lt;Checkbox className="checkbox" state={checked} /&gt; I have read and
          agree to the terms and conditions
        &lt;/label&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>在上面的例子中，<code>useCheckboxState</code>函数是一个<code>state</code>钩子，我们通过<code>state</code> prop将它传递给<code>Checkbox</code>组件。</p>
<p>我们将在本文后面了解更多关于<code>state</code>钩子的内容。</p>
<h3 id="as-props"><code>as</code>道具</h3>
<p>除了<code>options</code>、<code>attribute</code>、<code>state</code>道具，组件还可以接受一个<code>as</code>道具。此道具用于通过将其他组件或标签(例如，子组件)注入现有组件或标签来扩充组件。简单来说，它用于更改组件类型。</p>
<p>例如，假设您有一个<code>Button</code>组件，您希望它的行为像一个链接元素。您所需要做的就是将一个带有<code>a</code>标签值的<code>as</code>道具传递给组件，就像这样:</p>
<pre class="language-javascript hljs">function App() {
  return (
    &lt;div className="App"&gt;
      &lt;div&gt;
        &lt;Button as="a" href="#"&gt;
          Click
        &lt;/Button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>这是添加<code>as</code>道具之前的<code>Button</code>组件:</p>
<p><img data-attachment-id="138786" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/button-click/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif" data-orig-size="552,283" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Button click" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click-300x154.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif" decoding="async" class="aligncenter wp-image-138786 size-full jetpack-lazy-image" src="../Images/0784583b4dfe04888863a472100499ee.png" alt="Ariakit Button Component Showing Button Click" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138786" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/button-click/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif" data-orig-size="552,283" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Button click" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click-300x154.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif" decoding="async" loading="lazy" class="aligncenter wp-image-138786 size-full" src="../Images/0784583b4dfe04888863a472100499ee.png" alt="Ariakit Button Component Showing Button Click" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/button-click.gif"/></noscript>
<p>这是添加了<code>as</code>道具后的<code>Button</code>组件；它的外观和行为类似于链接元素:</p>
<p><img data-attachment-id="138788" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/link-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif" data-orig-size="448,262" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Link button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button-300x175.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif" decoding="async" class="aligncenter size-full wp-image-138788 jetpack-lazy-image" src="../Images/8532fa57d5b1a1666614c094ee0984d4.png" alt="Link Button" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138788" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/link-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif" data-orig-size="448,262" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Link button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button-300x175.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-138788" src="../Images/8532fa57d5b1a1666614c094ee0984d4.png" alt="Link Button" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/link-button.gif"/></noscript>
<h3 id="state-hooks"><code>state</code>挂钩</h3>
<p>如前所述，Ariakit提供了各种各样的<code>state</code>钩子，我们可以用它们来管理应用程序中组件的状态。这些<code>state</code>挂钩是为其各自组件的特定用途定制的，这意味着每个组件都被分配了一个特定的<code>state</code>挂钩。</p>
<p>例如，如果我们想要处理一个<code>checkbox</code>组件的状态逻辑，我们可以使用<code>useCheckboxState</code>钩子。同样，我们将使用<code>useFormState</code>钩子来处理<code>form</code>组件的状态逻辑。</p>
<p>Ariakit <code>state</code>钩子接受一个对象作为初始值，并返回一个带有选项的对象，这些选项是它们各自的组件所需要的:</p>
<pre class="language-javascript hljs">const combobox = useComboboxState({ gutter: 8, sameWidth: true });
</pre>
<p>在上面的例子中，<code>gutter</code>和<code>sameWidth</code>对象属性是<code>useComboboxState</code>钩子的初始值。<code>combobox</code>组件可以通过<code>combobox</code>变量访问返回的对象选项:</p>
<pre class="language-javascript hljs">&lt;Combobox state={combobox} placeholder="e.g., Apple" className="combobox" /&gt;;
</pre>
<p>因为有些状态需要更复杂的逻辑，Ariakit还提供了插入您自己的状态的选项。</p>
<h2 id="styling">式样</h2>
<p>Ariakit不依赖于任何CSS库。因此，默认情况下，它不附带预先样式化的组件。这意味着我们可以使用任何方法来设计组件的样式。这可能包括使用内联样式、模块、样式组件或外部<a href="https://blog.logrocket.com/whats-new-tailwind-css-v3-0/"> UI库，如Tailwind </a>。</p>
<p>由于每个组件返回一个接受<code>attribute</code>属性的HTML元素，我们可以使用<code>style</code>属性向组件添加内联样式，并使用<code>className</code>属性添加可以在外部CSS文件中引用的类:</p>
<pre class="language-javascript hljs">&lt;Button className="button" style={{backgroundColor: "orange"}}&gt;Button&lt;/Button&gt;
</pre>
<p>现在我们已经了解了Ariakit的概念及其组件的工作原理，让我们看看如何在我们的项目中使用它们。</p>
<h2 id="using-ariakit-components">使用arianit组件</h2>
<p>虽然Ariakit是一个低级库，但是它的组件是由一个高级API导出的。这使得它们不像其他低级库那样冗长，并且易于使用。</p>
<p>在本文的前面，我们演示了如何使用简单的组件，如<code>Button</code>或<code>CheckBox</code>。现在，让我们看看如何使用复杂的组件，如<code>form</code>、<code>tab</code>、<code>select</code>等等。</p>
<h3 id="form"><code>form</code></h3>
<p>Ariakit的<code>form</code>组件不仅具有内置的可访问性，它还提供了某种级别的验证，因此您不必担心在验证上浪费时间。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>要使用Ariakit的<code>form</code>组件，首先将以下组件导入您的项目:</p>
<pre class="language-javascript hljs">import {
  Form,
  FormError,
  FormInput,
  FormLabel,
  FormSubmit,
  useFormState,
} from "ariakit";
</pre>
<p>在这里，我们导入了<code>Form</code>组件和其他组件，我们将把它们用于输入字段、标签、提交按钮、验证错误和表单状态挂钩。</p>
<p>接下来，将<code>useFormState</code>钩子赋给一个变量，并向它传递一个默认值，如下所示:</p>
<pre class="language-javascript hljs">  const form = useFormState({
    defaultValues: { name: "", number: 0 },
  });  
</pre>
<p>现在，用<code>Form</code>组件创建表单，并使用<code>FormLabel</code>和<code>FormInput</code>组件添加您想要的任意多个字段。在我们的例子中，我们将添加一个<code>name</code>字段和一个<code>number</code>字段。</p>
<pre class="language-javascript hljs">function App() {
  const form = useFormState({
    defaultValues: { name: "", number: 0 },
  });
  return (
    &lt;div className="App"&gt;
      &lt;Form state={form}&gt;
        &lt;div className="field name"&gt;
          &lt;FormLabel name={form.names.name}&gt;Name&lt;/FormLabel&gt;
          &lt;FormInput name={form.names.name} required placeholder="name" /&gt;
          &lt;FormError name={form.names.name} className="error" /&gt;
        &lt;/div&gt;
        &lt;div className="field number"&gt;
          &lt;FormLabel name={form.names.number}&gt;Number&lt;/FormLabel&gt;
          &lt;FormInput
            name={form.names.number}
            type="number"
            required
            placeholder="number"
          /&gt;
          &lt;FormError name={form.names.number} className="error" /&gt;
        &lt;/div&gt;
        &lt;FormSubmit&gt;Submit&lt;/FormSubmit&gt;
      &lt;/Form&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>如您所见，每个输入字段及其对应的组件都封装在各自的<code>div</code>元素中。</p>
<p>我们使用<code>name</code>支柱将每个<code>FormInput</code>组件连接到<code>useFormState</code>挂钩上。这样，钩子将可以访问输入字段的状态和值。</p>
<p>我们对<code>FormError</code>组件做了同样的事情，但是与<code>FormInput</code>组件不同的是，<code>FormError</code>将检查<code>useFormState</code>钩子在它所链接的输入字段中的错误。</p>
<p>如果此时保存更改，当您尝试提交表单而不填充输入字段时，应该会收到一条错误消息:</p>
<p><img data-attachment-id="138790" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/error-form-input-fields/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif" data-orig-size="619,324" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Error form input fields" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields-300x157.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif" decoding="async" class="aligncenter wp-image-138790 size-full jetpack-lazy-image" src="../Images/3cb222b6ac1a6c4a326c51ec9286a9cd.png" alt="Ariakit Form Component Showing Input Fields" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138790" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/error-form-input-fields/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif" data-orig-size="619,324" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Error form input fields" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields-300x157.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif" decoding="async" loading="lazy" class="aligncenter wp-image-138790 size-full" src="../Images/3cb222b6ac1a6c4a326c51ec9286a9cd.png" alt="Ariakit Form Component Showing Input Fields" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-form-input-fields.gif"/></noscript>
<p>获取表单数据同样简单，我们所要做的就是将一个<code>values</code>方法链接到<code>form</code>变量:</p>
<pre class="language-javascript hljs">form.values
</pre>
<p>理想情况下，我们只需要表单提交时的数据，所以我们需要创建一个在表单提交时触发的函数。</p>
<p>幸运的是，<code>useFormState</code>钩子提供了一个接受回调函数的<code>useSubmit</code>函数，这个函数在表单提交时被触发。</p>
<pre class="language-javascript hljs">  form.useSubmit(() =&gt; {
    ...
  });  
</pre>
<p>如果我们希望在提交表单时将表单数据记录到控制台，我们应该这样做:</p>
<pre class="language-javascript hljs">  form.useSubmit(() =&gt; {
    console.log(form.values);
  });
</pre>
<p><img data-attachment-id="138792" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/input-fields-source/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif" data-orig-size="724,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Input fields source" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source-300x187.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif" decoding="async" class="aligncenter wp-image-138792 size-full jetpack-lazy-image" src="../Images/d4f8195e028f69260a3e3b8789f95eda.png" alt="Logging Ariakit Form Data To Console" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138792" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/input-fields-source/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif" data-orig-size="724,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Input fields source" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source-300x187.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif" decoding="async" loading="lazy" class="aligncenter wp-image-138792 size-full" src="../Images/d4f8195e028f69260a3e3b8789f95eda.png" alt="Logging Ariakit Form Data To Console" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/input-fields-source.gif"/></noscript>
<p>接下来，我们将看看<code>select</code>组件，以及如何将它添加到我们的表单中。但是首先，让我们把表单设计得更吸引人。</p>
<p>我们将通过给组件添加一个<code>className</code>属性，用我们通常处理常规JSX元素的方式来处理这个问题:</p>
<pre class="language-javascript hljs">&lt;Form state={form} className="form"&gt;
        &lt;div className="field"&gt;
          &lt;FormLabel name={form.names.name} className="label"&gt;
            Name
          &lt;/FormLabel&gt;
          &lt;FormInput
            name={form.names.name}
            required
            placeholder="name"
            className="name"
          /&gt;
          &lt;FormError name={form.names.name} className="error" /&gt;
        &lt;/div&gt;
        &lt;div className="field"&gt;
          &lt;FormLabel name={form.names.number} className="label"&gt;
            &gt;Number
          &lt;/FormLabel&gt;
          &lt;FormInput
            name={form.names.number}
            type="number"
            required
            placeholder="number"
            className="number"
          /&gt;
          &lt;FormError name={form.names.number} className="error" /&gt;
        &lt;/div&gt;
        &lt;FormSubmit className="button"
&gt;Submit&lt;/FormSubmit&gt;
      &lt;/Form&gt; 
</pre>
<p>接下来，我们将样式化CSS文件中的组件:</p>
<pre class="language-javascript hljs">.form {
  width: 280px;
  min-height: 320px;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding-top: 2.5rem;
  padding-bottom: 2.5rem;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  align-items: flex-start;
}

.field input {
  height: 2.5rem;
  width: 100%;
  border-radius: 0.5rem;
  border-style: none;
  background-color: hsl(204, 20%, 94%);
  padding-left: 1rem;
  padding-right: 1rem;
  font-size: 1rem;
  line-height: 1.5rem;
  color: hsl(204, 10%, 10%);
}

.field input:hover {
  background-color: hsl(204, 20%, 91%);
}

.field input:focus-visible,
.field input[data-focus-visible] {
  outline: 2px solid hsl(204, 100%, 40%);
}

.field:nth-child(1){
  margin-bottom: 20px;
}

.field:nth-child(2){
  margin-bottom: 10px;
}

.button {
  height: 2.5rem;
  width: 100%;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  white-space: nowrap;
  border-radius: 0.5rem;
  border-style: none;
  background-color: hsl(204, 100%, 40%);
  padding-left: 1rem;
  padding-right: 1rem;
  font-size: 1rem;
  line-height: 1.5rem;
  color: hsl(0, 0%, 100%);
}

.error:empty {
  position: absolute;
}

.error:not(:empty) {
  border-radius: 0.5rem;
  border-width: 1px;
  border-color: hsl(357, 56%, 72%);
  background-color: hsl(357, 56%, 90%);
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  padding-left: 1rem;
  padding-right: 1rem;
  color: hsl(357, 100%, 30%);
}

.number {
  -moz-appearance: textfield;
}

.number::-webkit-outer-spin-button,
.number::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
</pre>
<p><img data-attachment-id="138794" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/error-inputs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif" data-orig-size="730,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Error inputs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs-300x145.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif" decoding="async" class="aligncenter wp-image-138794 size-full jetpack-lazy-image" src="../Images/b2ca20cb83b3440711f4221b0d336da4.png" alt="Error Inputs For Ariakit Form" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138794" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/error-inputs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif" data-orig-size="730,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Error inputs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs-300x145.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif" decoding="async" loading="lazy" class="aligncenter wp-image-138794 size-full" src="../Images/b2ca20cb83b3440711f4221b0d336da4.png" alt="Error Inputs For Ariakit Form" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/error-inputs.gif"/></noscript>
<h3 id="select"><code>select</code></h3>
<p>要向表单添加一个<code>select</code>组件，我们将首先导入它及其相应的组件:</p>
<pre class="language-javascript hljs">import {
  ...
  Select,
  SelectItem,
  SelectLabel,
  SelectPopover,
  useSelectState,
} from "ariakit";
</pre>
<p>我们将使用<code>Select</code>、<code>selectItem</code>和<code>SelectLabel</code>组件分别创建选择、选项和标签元素。</p>
<p>此外，我们将使用<code>useSelecteState</code>钩子来设置<code>select</code>元素的默认值，并通过<code>state</code>属性将其传递给组件。<code>selectPopover</code>组件将作为选择选项的下拉菜单。</p>
<p>接下来，让我们将<code>useSelecteState</code>钩子赋给一个变量，并将默认值传递给它，就像这样:</p>
<pre class="language-javascript hljs">const select = useSelectState({
  defaultValue: "Apple",
  sameWidth: true,
  gutter: 4,
});
</pre>
<p>如您所见，我们不仅设置了默认值，还设置了选择选项的默认<code>width</code>和<code>gutter</code>大小。</p>
<p>接下来，转到表单，添加<code>Select</code>组件及其对应的组件，并将状态传递给它们:</p>
<pre class="language-javascript hljs">&lt;div className="select"&gt;
  &lt;SelectLabel state={select}&gt;Favorite fruit&lt;/SelectLabel&gt;
  &lt;Select state={select} className="select" /&gt;
  &lt;SelectPopover state={select} className="popover"&gt;
    &lt;SelectItem className="select-item" value="Apple" /&gt;
    &lt;SelectItem className="select-item" value="Banana" /&gt;
    &lt;SelectItem className="select-item" value="Grape" disabled /&gt;
    &lt;SelectItem className="select-item" value="Orange" /&gt;
  &lt;/SelectPopover&gt;
&lt;/div&gt;
</pre>
<p>我们在这里所做的很简单，我们将<code>Select</code>组件链接到<code>state</code>钩子，然后使用<code>SelectItem</code> <strong>在其中嵌套几个选项。</strong></p>
<p>继续，打开你的CSS文件，用下面的样式更新它:</p>
<pre class="language-javascript hljs">.wrapper {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  align-items: flex-start;
}

.select {
  width: 116%;
  display: flex;
  height: 2.5rem;
  cursor: default;
  align-items: center;
  justify-content: space-between;
  gap: 0.25rem;
  white-space: nowrap;
  border-radius: 0.5rem;
  background-color: hsl(204, 20%, 94%);
  padding-left: 1rem;
  padding-right: 1rem;
  font-size: 1rem;
  line-height: 1.5rem;
  margin-bottom: 10px;
}

.select:hover {
  background-color: hsl(204, 20%, 91%);
}

.popover {
  max-height: min(var(--popover-available-height, 300px), 300px);
  z-index: 50;
  display: flex;
  flex-direction: column;
  overflow: auto;
  overscroll-behavior: contain;
  border-radius: 0.5rem;
  border-width: 1px;
  border-style: solid;
  border-color: hsl(204, 20%, 88%);
  background-color: hsl(204, 20%, 100%);
  padding: 0.5rem;
  color: hsl(204, 10%, 10%);
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 15%));
}

.select:focus-visible,
.select[data-focus-visible],
.popover:focus-visible,
.popover[data-focus-visible] {
  outline: 2px solid hsl(204, 100%, 40%);
}

.select-item {
  outline: none !important;
  display: flex;
  cursor: default;
  scroll-margin: 0.5rem;
  align-items: center;
  gap: 0.5rem;
  border-radius: 0.25rem;
  padding: 0.5rem;
}
</pre>
<p>现在，如果您保存您的进度并返回浏览器，您应该会看到类似如下的内容:</p>
<p><img data-attachment-id="138796" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/favorite-fruit-field/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif" data-orig-size="730,393" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Favorite fruit field" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field-300x162.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif" decoding="async" class="aligncenter wp-image-138796 size-full jetpack-lazy-image" src="../Images/eba8f25636ea22b117f33deb7c4668cb.png" alt="Ariakit Form With Select Component" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="138796" data-permalink="https://blog.logrocket.com/using-ariakit-components-react-apps/attachment/favorite-fruit-field/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif" data-orig-size="730,393" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Favorite fruit field" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field-300x162.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif" decoding="async" loading="lazy" class="aligncenter wp-image-138796 size-full" src="../Images/eba8f25636ea22b117f33deb7c4668cb.png" alt="Ariakit Form With Select Component" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/favorite-fruit-field.gif"/></noscript>
<h2 id="conclusion">结论</h2>
<p>本文展示了Ariakit的<code>button</code>、<code>checkbox</code>、<code>form</code>和<code>select</code>组件，并演示了它们的功能。这些只是Ariakit提供的部分组件。</p>
<p>Ariakit有一个组件可以满足构建成熟的web应用程序的大多数要求。在撰写本文时，Ariakit的文档并不完整，但网站确实提供了大量的<a href="https://ariakit.org/components">组件示例</a>。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>