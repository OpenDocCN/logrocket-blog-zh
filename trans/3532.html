<html>
<head>
<title>Using the NestJS REPL environment </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用NestJS REPL环境</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-nest-js-repl-environment/#0001-01-01">https://blog.logrocket.com/using-nest-js-repl-environment/#0001-01-01</a></blockquote><div><article class="article-post">
<p>读取-评估-打印循环，更好地称为REPL，是一个交互式计算机环境，它读取用户输入，评估并向用户显示结果。REPL环境是一个方便的工具，可以快速探索特定系统环境和编程语言中可用的特性和功能。</p>
<p>在本文中，您将学习如何在您的项目中使用<a href="https://blog.logrocket.com/tag/nestjs/"> NestJS </a> REPL环境。我们还将强调如何利用内置节点REPL环境来充分利用NestJS REPL环境。</p>
<p><em>向前跳转:</em></p>

<h2 id="brief-overview-repl-nest-js">REPL和内斯特杰的简要概述</h2>
<p>REPL环境的一个简单例子是大多数现代web浏览器的开发工具中的控制台。</p>
<p>以类似的方式，节点运行时环境也有一个内置的REPL环境，您可以使用它来交互式地执行简单的JavaScript代码。</p>
<p>与上面提到的环境一样，NestJS也有一个REPL环境，您可以用它来检查应用程序的依赖图，并从终端调用提供者和控制器上的方法。</p>
<p>值得注意的是，NestJS REPL环境是最近随NestJS版本9一起发布的——因此，它是对NestJS的一个相对较新的补充。</p>
<h2 id="set-nest-js-repl-environment">如何建立一个NestJS REPL环境</h2>
<p>首先，在以REPL模式运行NestJS应用程序之前，必须设置和配置NestJS REPL环境。如果您有一个NestJS项目，按照下面的步骤配置NestJS REPL环境。为此，我们假设您正在运行一个使用Nest CLI创建的项目，并且样板文件保持不变。</p>
<h3 id="create-repl-ts-file">创建<code>repl.ts</code> <strong>文件</strong></h3>
<p>在包含<code>main.ts</code>文件的同一个目录中创建一个<code>repl.ts</code>文件。之后，您可以将以下代码复制并粘贴到其中:</p>
<pre class="language-javascript hljs">js
import { repl } from '@nestjs/core';
import { AppModule } from './app.module';

const bootstrap = async () =&gt; {
  await repl(AppModule);
};

bootstrap();
</pre>
<p>在上面的例子中，我们声明了一个异步函数来引导NestJS REPL环境。</p>
<h3 id="#launch-nest-js-repl-environment">启动NestJS REPL环境</h3>
<p>在终端上运行下面的命令，启动NestJS REPL环境。</p>
<pre class="language-shell hljs">sh
npm run start -- --entryFile repl
</pre>
<p><img data-attachment-id="139308" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/terminal-nest-js-repl-environment/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png" data-orig-size="730,69" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal-nest-js-repl-environment" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment-300x28.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png" decoding="async" class="aligncenter wp-image-139308 size-full jetpack-lazy-image" src="../Images/4a061695a651c60a5a8bd9bd218b0b21.png" alt="Terminal to launch Nest.js REPL environment." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment-300x28.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139308" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/terminal-nest-js-repl-environment/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png" data-orig-size="730,69" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal-nest-js-repl-environment" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment-300x28.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png" decoding="async" loading="lazy" class="aligncenter wp-image-139308 size-full" src="../Images/4a061695a651c60a5a8bd9bd218b0b21.png" alt="Terminal to launch Nest.js REPL environment." srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment-300x28.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/terminal-nest-js-repl-environment.png"/></noscript>
<p>不用每次想为项目启动REPL环境时都运行上面的命令，给你的<code>package.json</code>文件添加一个新的脚本是很方便的。每当您想要打开REPL环境时，在终端上执行命令<code>npm run start:repl</code>。</p>
<pre class="langiage-json hljs">json
{
 ...
 "scripts":{
    "start:repl": "npm run start -- --entryFile repl"
 }
 ...
}
</pre>
<p>传递给上面命令的<code>repl</code>选项返回节点REPL服务器对象的一个实例。因此，节点REPL环境中的所有功能在NestJS REPL环境中都是可用的。</p>
<h2 id="nest-js-repl-environment-native-functions">NestJS REPL环境本地函数</h2>
<p>NestJS REPL环境附带了几个本机函数。本节将探讨NestJS REPL环境的一些主要特性。</p>
<h3 id="built-in-nest-js-repl-help-utility">如何使用内置的NestJS REPL帮助工具</h3>
<p>NestJS REPL环境有一个内置的实用程序，您可以使用它来获得关于REPL环境中的本机函数的帮助。如果您处于交互式REPL模式，请使用<code>help</code>功能，如下所示:</p>
<pre class="language-shell hljs">sh
help()
</pre>
<p><img data-attachment-id="139310" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/help-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="help-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png" decoding="async" class="aligncenter wp-image-139310 size-full jetpack-lazy-image" src="../Images/298560f158a4a9dea787ad70cff29f1b.png" alt="Interactive REPL Help Function" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/help-function-300x55.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139310" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/help-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="help-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139310 size-full" src="../Images/298560f158a4a9dea787ad70cff29f1b.png" alt="Interactive REPL Help Function" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/help-function-300x55.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-function.png"/></noscript>
<p>在交互式REPL会话中调用上面代码中的<code>help</code>函数将打印可用的REPL函数和每个REPL函数的单行摘要。这些内置函数包括:<code>get</code>、<code>debug</code>、<code>resolve</code>、<code>select</code>和<code>methods</code>。</p>
<p>类似地，您也可以在上述任何函数上使用<code>.help</code>来获得特定REPL函数的帮助。例如，<code>get.help</code>命令将打印出对<code>get</code>函数的一行描述、它所采用的参数以及它的返回类型。</p>
<p><img data-attachment-id="139312" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/help-specific-repl-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png" data-orig-size="730,57" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="help-specific-REPL-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function-300x23.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png" decoding="async" class="aligncenter wp-image-139312 size-full jetpack-lazy-image" src="../Images/b3111e55312cf7d7c39da1c9a316b2db.png" alt="Help On Specific Function " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function-300x23.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139312" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/help-specific-repl-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png" data-orig-size="730,57" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="help-specific-REPL-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function-300x23.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139312 size-full" src="../Images/b3111e55312cf7d7c39da1c9a316b2db.png" alt="Help On Specific Function " srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function-300x23.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/help-specific-REPL-function.png"/></noscript>
<h3 id="#print-registered-modules">如何打印注册的模块</h3>
<p>模块是编写NestJS应用程序的推荐方式。它们有助于组织应用程序中的组件——每个NestJS应用程序必须至少有一个根模块，但是典型的真实世界中的NestJS应用程序通常有几个模块。</p>
<p>如果您想打印所有注册模块及其控制器和提供者的列表，那么<code>debug</code>函数非常方便。像这样调用NestJS REPL中的<code>debug</code>函数:</p>
<pre class="language-shell hljs">sh
debug() 
</pre>
<p><img data-attachment-id="139314" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/debug-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png" data-orig-size="730,118" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debug-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function-300x48.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png" decoding="async" class="aligncenter wp-image-139314 size-full jetpack-lazy-image" src="../Images/a991a6feb672d92702d3d68ee0a95c05.png" alt="REPL Debug Function" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function-300x48.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139314" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/debug-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png" data-orig-size="730,118" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="debug-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function-300x48.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139314 size-full" src="../Images/a991a6feb672d92702d3d68ee0a95c05.png" alt="REPL Debug Function" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function-300x48.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/debug-function.png"/></noscript>
<p>如果要打印特定模块的组件，请将该模块作为参数传递:</p>
<pre class="language-shell hljs">sh
debug(AppModule)
</pre>
<p>此外，您还可以使用<code>debug.help</code>命令来访问内置的REPL文档。它返回对<code>debug</code>函数及其函数签名的一行描述，如下所示:</p>
<p><img data-attachment-id="139318" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/built-in-repl-documentation-debug-function-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png" data-orig-size="730,74" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="built-in-REPL-documentation-debug-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png" decoding="async" class="aligncenter wp-image-139318 size-full jetpack-lazy-image" src="../Images/5a54f0da4ea3f09f02b6f9ff083860d4.png" alt="Use The Debug.help Command To Access The Built-in REPL Documentation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1-300x30.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139318" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/built-in-repl-documentation-debug-function-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png" data-orig-size="730,74" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="built-in-REPL-documentation-debug-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png" decoding="async" loading="lazy" class="aligncenter wp-image-139318 size-full" src="../Images/5a54f0da4ea3f09f02b6f9ff083860d4.png" alt="Use The Debug.help Command To Access The Built-in REPL Documentation" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1-300x30.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-REPL-documentation-debug-function-1.png"/></noscript>
<h3 id="#view-public-methods-controllers-providers">如何查看控制器和提供者中的公共方法</h3>
<p><strong>控制器</strong>和<strong>提供者</strong>是NestJS应用程序的核心构件。在典型的NestJS应用程序中，控制器处理HTTP请求和响应，同时将更复杂的任务委托给提供者。</p>
<p>您可以使用<code>methods</code>函数来查看应用程序的控制器和提供者中的公共方法。要打印特定控制器或提供者中的方法，将控制器或提供者的名称作为参数传递给<code>methods</code>函数，如下所示:</p>
<pre class="language-shell hljs">sh
methods(QuotesController)
</pre>
<p><img data-attachment-id="139320" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/methods-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png" data-orig-size="730,72" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="methods-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png" decoding="async" class="aligncenter wp-image-139320 size-full jetpack-lazy-image" src="../Images/3e4c0db4b8d12b88428e962ccb36bf27.png" alt="Methods Function" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function-300x30.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139320" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/methods-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png" data-orig-size="730,72" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="methods-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139320 size-full" src="../Images/3e4c0db4b8d12b88428e962ccb36bf27.png" alt="Methods Function" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function-300x30.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-function.png"/></noscript>
<p>此外，您还可以使用<code>methods.help</code>命令来访问关于<code>methods</code>功能的内置文档。在终端上运行<code>methods.help</code>命令，打印文档及其函数签名的单行摘要。</p>
<p><img data-attachment-id="139324" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/methods-help-command-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="methods-help-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png" decoding="async" class="aligncenter wp-image-139324 size-full jetpack-lazy-image" src="../Images/875412b2096db8add2e6667a93fedf41.png" alt="Use Methods.help Command To Access The Built-in Documentation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1-300x24.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139324" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/methods-help-command-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="methods-help-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png" decoding="async" loading="lazy" class="aligncenter wp-image-139324 size-full" src="../Images/875412b2096db8add2e6667a93fedf41.png" alt="Use Methods.help Command To Access The Built-in Documentation" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1-300x24.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/methods-help-command-1.png"/></noscript>
<h3 id="#retrieve-instances-controllers-injectables">如何检索控制器或可注入的实例</h3>
<p>NestJS REPL的主要好处是从命令行与NestJS应用程序进行交互。</p>
<p>如果你想访问你的应用程序的控制器和可注入的实例，那么<code>get</code>函数就很方便，而且它对于从命令行测试你的控制器和服务中的方法也很有用——注意你可以互换使用<code>get</code>和<code>$</code>。</p>
<p>以下示例显示了如何检索控制器的实例。</p>
<pre class="language-shell hljs">sh
get(QuotesController).getQuotes()
</pre>
<p><img data-attachment-id="139326" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/retrieve-instance-controller/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png" data-orig-size="730,97" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="retrieve-instance-controller" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller-300x40.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png" decoding="async" class="aligncenter wp-image-139326 size-full jetpack-lazy-image" src="../Images/e07f04be40b3b84b208e32d58c0afe4f.png" alt="Retrieve Instance Of A Controller." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller-300x40.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139326" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/retrieve-instance-controller/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png" data-orig-size="730,97" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="retrieve-instance-controller" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller-300x40.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png" decoding="async" loading="lazy" class="aligncenter wp-image-139326 size-full" src="../Images/e07f04be40b3b84b208e32d58c0afe4f.png" alt="Retrieve Instance Of A Controller." srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller-300x40.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/retrieve-instance-controller.png"/></noscript>
<p>您还可以访问控制器或服务实例，并在使用之前将其保存在变量中，如下所示:</p>
<pre class="language-shell hljs">sh 
const quotesController = get(QuotesController)
quotesController.getQuotes()
</pre>
<p>像上面强调的其他功能一样，您可以使用<code>get.help</code>或<code>$.help</code>命令在终端上打印内置的<code>get</code>文档。</p>
<p><img data-attachment-id="139328" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/built-in-get-documentation-terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png" data-orig-size="730,80" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="built-in-get-documentation-terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal-300x33.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png" decoding="async" class="aligncenter wp-image-139328 size-full jetpack-lazy-image" src="../Images/f8c356c4f8c83a6c069aca6850331832.png" alt="Built-in Get Documentation On Terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal-300x33.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139328" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/built-in-get-documentation-terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png" data-orig-size="730,80" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="built-in-get-documentation-terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal-300x33.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png" decoding="async" loading="lazy" class="aligncenter wp-image-139328 size-full" src="../Images/f8c356c4f8c83a6c069aca6850331832.png" alt="Built-in Get Documentation On Terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal-300x33.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/built-in-get-documentation-terminal.png"/></noscript>
<h3 id="#resolve-transient-instances-controllers-injectables">如何解决控制器或可注入的瞬态实例</h3>
<p>正如上面指出的，您可以使用<code>get</code>函数来检索控制器和可注入的实例。</p>
<p>然而，将<code>get</code>用于作用域或瞬态提供者会抛出错误。因此，您需要使用<code>resolve</code>函数来解析可注入变量或控制器的瞬态实例。其用法与上面提到的其他功能类似。</p>
<p>您可以像这样将请求范围的injectable或controller传递给<code>resolve</code>函数:</p>
<pre class="language-shell hljs">sh
const quotesController = await resolve(QuotesController)
quotesController.getQuotes()
</pre>
<p>类似地，使用<code>resolve.help</code>命令获得对<code>resolve</code>函数及其参数和返回类型的一行描述。</p>
<p><img data-attachment-id="139330" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/resolve-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="resolve-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png" decoding="async" class="aligncenter wp-image-139330 size-full jetpack-lazy-image" src="../Images/b35956dee408dde324f82468a47b6195.png" alt="Resolve Function" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function-300x24.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139330" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/resolve-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="resolve-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139330 size-full" src="../Images/b35956dee408dde324f82468a47b6195.png" alt="Resolve Function" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function-300x24.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/resolve-function.png"/></noscript>
<h3 id="#navigate-module-tree">如何导航模块树</h3>
<p>如果您想在选择一个特定的模块后浏览模块树，那么<code>select</code>函数会很有用。像前面的函数一样，<code>select</code>将您想要选择的模块作为参数。</p>
<pre class="language-shell hljs">sh
select(AppModule).get(QuotesController).getQuotes()
</pre>
<p><img data-attachment-id="139332" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/select-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png" data-orig-size="730,95" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function-300x39.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png" decoding="async" class="aligncenter wp-image-139332 size-full jetpack-lazy-image" src="../Images/6026b0019e1da50993a1e221e83ad712.png" alt="Select Function" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/select-function-300x39.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139332" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/select-function/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png" data-orig-size="730,95" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-function" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function-300x39.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png" decoding="async" loading="lazy" class="aligncenter wp-image-139332 size-full" src="../Images/6026b0019e1da50993a1e221e83ad712.png" alt="Select Function" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/select-function-300x39.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-function.png"/></noscript>
<p>类似地，使用<code>select.help</code>命令访问关于<code>select</code>函数的内置文档。</p>
<p><img data-attachment-id="139334" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/select-help-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-help-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png" decoding="async" class="aligncenter wp-image-139334 size-full jetpack-lazy-image" src="../Images/2769b56b12dcd9bd1bb17651e431f8b3.png" alt="Select Help Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command-300x24.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139334" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/select-help-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png" data-orig-size="730,58" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-help-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command-300x24.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png" decoding="async" loading="lazy" class="aligncenter wp-image-139334 size-full" src="../Images/2769b56b12dcd9bd1bb17651e431f8b3.png" alt="Select Help Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command-300x24.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/select-help-command.png"/></noscript>
<h2 id="node-repl-environment">如何使用节点REPL环境</h2>
<p>启动NestJS REPL环境将返回节点REPL服务器对象。因此，您可以从NestJS REPL内部访问节点REPL环境的所有特性。换句话说，通过将NestJS REPL与内置的节点REPL一起使用，您可以充分利用它。</p>
<p>在本节中，我们将了解节点REPL环境的一些特性。</p>
<h3 id="#save-evaluated-commands-file">如何将评估的命令保存到文件中</h3>
<p>可以从NestJS REPL环境中访问的节点REPL提供了将特定REPL会话中评估的命令保存到文件中的功能。</p>
<p>您可以使用带有文件名的<code>.save</code>命令，就像这样:</p>
<pre class="language-shell hljs">sh
.save test.js
</pre>
<p><img data-attachment-id="139336" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/save-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png" data-orig-size="730,55" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="save-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command-300x23.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png" decoding="async" class="aligncenter wp-image-139336 size-full jetpack-lazy-image" src="../Images/b339dc8929d6a4b06c56b80fe318ff02.png" alt=".save Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/save-command-300x23.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139336" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/save-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png" data-orig-size="730,55" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="save-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command-300x23.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png" decoding="async" loading="lazy" class="aligncenter wp-image-139336 size-full" src="../Images/b339dc8929d6a4b06c56b80fe318ff02.png" alt=".save Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/save-command-300x23.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/save-command.png"/></noscript>
<p>上述命令将创建<code>test.js</code>文件，并保存在当前REPL会话中评估的命令。</p>
<h3 id="#load-javascript-file-current-repl-session">如何将JavaScript文件加载到当前REPL会话中</h3>
<p>您可以将评估的命令保存到文件中。同样，您可以使用<code>.load</code>命令将文件的内容加载到当前的REPL会话中。您需要指定文件名，如下例所示。</p>
<pre class="language-shell hljs">sh
.load test.js
</pre>
<p><img data-attachment-id="139338" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/load-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png" data-orig-size="730,131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="load-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command-300x54.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png" decoding="async" class="aligncenter wp-image-139338 size-full jetpack-lazy-image" src="../Images/13fc3e979d412d12b86d005831f125e9.png" alt=".load Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/load-command-300x54.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139338" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/load-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png" data-orig-size="730,131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="load-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command-300x54.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png" decoding="async" loading="lazy" class="aligncenter wp-image-139338 size-full" src="../Images/13fc3e979d412d12b86d005831f125e9.png" alt=".load Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/load-command-300x54.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/load-command.png"/></noscript>
<h3 id="#enter-editor-mode">如何进入编辑器模式</h3>
<p>在REPL模式下，一次只能执行一条完整的语句。要在执行前输入多行代码，使用<code>.editor</code>命令启动编辑器模式。</p>
<p><img data-attachment-id="139340" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/editor-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png" data-orig-size="730,62" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="editor-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command-300x25.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png" decoding="async" class="aligncenter wp-image-139340 size-full jetpack-lazy-image" src="../Images/2bc51c762206fe83788d42722adac04b.png" alt="The .editor Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command-300x25.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="139340" data-permalink="https://blog.logrocket.com/using-nest-js-repl-environment/attachment/editor-command/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png" data-orig-size="730,62" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="editor-command" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command-300x25.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png" decoding="async" loading="lazy" class="aligncenter wp-image-139340 size-full" src="../Images/2bc51c762206fe83788d42722adac04b.png" alt="The .editor Command" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command-300x25.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editor-command.png"/></noscript>
<p>之后就可以输入多行代码再执行了。您可以使用<code>CTRL+D</code>组合键退出编辑器模式，或者使用<code>CTRL+C</code>组合键取消编辑模式。</p>
<h3 id="#special-underscore-variable">特殊下划线变量</h3>
<p>节点REPL环境有一个<code>_</code>变量，您可以使用它从NestJS REPL环境中访问最后一次操作的结果。如果您想使用前面操作的结果，这是一个方便的变量。</p>
<p>上述特征决不是穷尽的。查看节点<a href="https://nodejs.org/api/repl.html">文档</a>,了解节点REPL环境的其他特性，这些特性可能对NestJS REPL环境有用。</p>
<h2 id="conclusion">结论</h2>
<p>NestJS REPL环境是NestJS 9附带的，是对NestJS的一个相对较新的补充。</p>
<p>像大多数REPL环境一样，您可以使用它从命令行与您的NestJS应用程序进行交互。值得注意的是，它的用途包括检查应用程序的依赖图，以及从终端调用提供者和控制器上的方法。</p>
<p>正如我们前面看到的，NestJS REPL环境有几个本机函数。这些功能包括:<code>get</code>、<code>debug</code>、<code>resolve</code>和<code>select</code>。为了充分利用它，使用NestJS REPL环境和内置的节点REPL环境。</p>
<p>如果我错过了什么或者你自己使用NestJS REPL环境的经历，请在下面的评论区告诉我！</p><div class="code-block code-block-4">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>