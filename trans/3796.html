<html>
<head>
<title>Different ways to truncate text with CSS </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用CSS截断文本的不同方法</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/ways-truncate-text-css/#0001-01-01">https://blog.logrocket.com/ways-truncate-text-css/#0001-01-01</a></blockquote><div><article class="article-post">
<p>CSS棒极了；我们都知道。它有许多独特的功能，使我们能够在网络上实现<a href="https://blog.logrocket.com/new-css-style-queries/">难以置信的响应</a>。你有没有想过你在一些热门网站上看到的省略号<code>(...)</code>是怎么产生的(如下图所示)？</p>
<p>那么，在本文中，我们将探索如何使用语言<a href="https://logrocket.com/for/javascript"> web JavaScript </a>在CSS中实现多行截断。我们走吧！</p>
<p><img data-attachment-id="154606" data-permalink="https://blog.logrocket.com/ways-truncate-text-css/attachment/truncate-text-css-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Truncated text in CSS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png" decoding="async" class="aligncenter size-full wp-image-154606 jetpack-lazy-image" src="../Images/6eb9676ba5d96035ecb0d3d43dd1523f.png" alt="Truncated Text in CSS" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154606" data-permalink="https://blog.logrocket.com/ways-truncate-text-css/attachment/truncate-text-css-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Truncated text in CSS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-154606" src="../Images/6eb9676ba5d96035ecb0d3d43dd1523f.png" alt="Truncated Text in CSS" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/truncate-text-css-example.png"/></noscript>
<p><em>向前跳转:</em></p>

<h2 id="truncation">什么是截断？</h2>
<p>在CSS中截断文本意味着在一个句子的末尾添加一个省略号，以表明还有更多文本需要阅读。不幸的是，在使用CSS时，没有任何截断属性可以实时截断文本。那么，如何用CSS截断文本呢？</p>
<p>幸运的是，有一些混合的<a href="https://blog.logrocket.com/deep-dive-css-individual-transform-properties/"> CSS属性</a>来完成这项工作。值得注意的是，这些属性只有在对元素或您选择截断的单词一起使用时才起作用。</p>
<h3 id="css-properties">CSS属性</h3>
<p>以下属性将帮助我们截断CSS中的文本:</p>
<ul>
<li><code>White-Space: nowrap;</code>:这个属性强制单词排成一行，不换行</li>
</ul>
<ul>
<li><code>Overflow: hidden;</code>:这个属性使单词包含在它们的父容器中</li>
</ul>
<ul>
<li><code>Text-overflow: ellipsis;</code>:该属性在单词末尾添加一个省略号</li>
</ul>
<p>当我们在任何文本上一起使用这三个CSS属性时，我们可以创建一个单行截断。这种方法被认为是用CSS截断句子的传统方法。</p>
<h2 id="create-multi-line-truncation">如何创建多行截断</h2>
<p>使用CSS属性可以很好地处理单行文本和跨越两行以上的多行文本。然而，这也可以通过使用<a href="https://blog.logrocket.com/16-useful-typescript-javascript-shorthands-know/"> JavaScript </a>来实现。</p>
<p>现在，我们将看看使用CSS或JavaScript进行多行截断的两种技术。这样，您可以确定哪种技术适合您。</p>
<h3 id="multi-line-text-truncation-css">用CSS截断多行文本</h3>
<p>所以，让我们看看多行截断的CSS技术。首先要做的是设置盒子或元素本身的高度。接下来，我们计算在截断之前要忽略的行数，然后乘以<code>line-height</code>得到<code>max-height</code>。</p>
<p>下面是怎么做的:<code>Max-height: calc(line-height * the number of the line we want to ignore);</code>。</p>
<p>我们将把<code>Overflow</code>设置为<code>hidden</code>。我们还会将<code>max-height</code>设置为我们喜欢的高度，和<code>line-height</code>一样。</p>
<p>然后，我们将<code>-webkit-box-orient</code>设置为<code>vertical</code>、<code>-webkit-line-clamp</code>，将<code>text-overflow</code>设置为<code>ellipsis</code>。我们还会将<code>display</code>设置为<code>box</code>:</p>
<pre class="language-css hljs">.paragraph {
  Overflow:hidden;
  max-height: 6rem;
  line-height: 2.5rem;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 5;
  text-overflow: ellipsis;
  display: block;
}
</pre>
<h3 id="javascript-truncate">使用JavaScript进行截断</h3>
<p>接下来，让我们看看如何使用JavaScript来实现这一点。首先，让我们创建一个名为<code>truncate</code>的函数，并将要截断的单词作为参数传入。我们还会给出一个<code>max-length Parameter</code>:</p>
<pre class="language-javascript hljs">Const truncate (words, maxlength)=&gt;{}
</pre>
<p>现在，我们将使用<code><a href="https://blog.logrocket.com/using-javascript-at-method/#:~:text=Learn%20more%20%E2%86%92-,The%20slice()%20method,-Developers%20can%20also">slice</a></code>方法来截断我们的文本，并且我们还将从我们的<code>truncate</code>函数中返回截断的文本。</p>
<blockquote><p>注意:我们将赋予<code>slice</code>方法一个初始值零<code>(0)</code>，因为我们将不得不从单词的开头截断到我们希望停止的指定区域:</p></blockquote>
<pre class="language-javascript hljs">Const truncate (words, maxlength)=&gt;{
return `${words.slice(0, maxlength)} …`
}
</pre>
<p>接下来，对于最后一步，让我们通过将<code>words</code>和<code>maxlength</code>作为参数来完成它:</p>
<pre class="language-javascript hljs">Const words = "You are learning text truncation with javascript which is done with these three steps" 

Const truncate (words, maxlength)=&gt;{
return `${words.slice(0, maxlength)} …`
}


truncate(words, 20)
</pre>
<p>在这种情况下，<code>maxLength</code>处理我们想要截断的字符串不够长而无法被截断的特殊情况。</p>
<p>这里，我们希望返回原始字符串而不截断它。然而，在满足这个条件的情况下，我们想要截断并在字符串的末尾添加省略号。</p>
<h2 id="adding-element-after-ellipses">在省略号后添加元素</h2>
<p>在某些情况下，我发现自己想要在省略号后添加一个元素，比如一个图标。但是，当行变得太长时，元素会被省略号截断。这里的挑战是让元素停留在省略号之后。</p>
<p>那么，我们如何在省略号后添加元素呢？假设我们有下面的HTML:</p>
<pre class="language-html hljs">&lt;div class="parent-box box"&gt; 
    &lt;div class="child-box"&gt; 
        You are learning text truncation with javascript which is done with these three steps 
    &lt;/div&gt; 
&lt;/div&gt; 

&lt;div class="parent-box box"&gt; 
    &lt;div class="child-box no-max-width"&gt; 
        You are learning text truncation with javascript which is done with these three steps 
    &lt;/div&gt; 
&lt;/div&gt;
</pre>
<p>为了实现这一点，我们将<a href="https://blog.logrocket.com/css-before-after-custom-animations-transitions/"> <code>::after</code>伪元素</a>设置为父元素<code>.box</code>。然后，我们用类<code>.child-box</code>设置<code>nest</code> div，并给它一个<code>inline-block</code>的显示。这允许<code>.parent-box</code>的伪元素出现在<code>.child-box</code>的宽度之后。</p>
<p>如果超过定义的<code>max-width</code>，那么设置为<code>hidden</code>的<code>overflow</code>开始起作用。这使得我们能够拥有<code>ellipsis</code>和<code>.parent-box</code>的元素，如果有<code>text-overflow</code>的话。</p>
<blockquote><p>注意:这里的技巧是不要将伪元素声明为我们声明了<code>overflow</code>和<code>width</code>的元素。应该对父元素执行此操作，一旦达到最大宽度，父元素将在某个时候删除内容:</p></blockquote>
<pre class="language-css hljs">.parent-box .child-box { 
    text-overflow: ellipsis; 
    display: inline-block; 
    max-width: 70%; 
    width: auto; 
    white-space: nowrap; 
    overflow: hidden; 
} 

.parent-box .child-box.no-max-width { 
max-width: none; 
} 

.parent-box .child-box::before { 
display: none; 
} 

.parent-box .box::after { 
    content: 'X'; 
    display: inline-block; 
}
</pre>
<p>要了解更多关于伪元素的信息，请查看我们的<a href="https://blog.logrocket.com/css-pseudo-elements-guide/">CSS伪元素指南</a>。</p>
<h2>结论</h2>
<p>在本文中，我们回顾了如何使用几种CSS和JavaScript技术截断CSS中的文本。我们还研究了如何在省略号后添加元素，这在很多情况下很难实现。</p>
<p>我希望您喜欢这篇文章，并随时建议我可能错过的其他模式。感谢您花时间阅读这篇文章，即使它很短，并继续编码！</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>你的前端是否占用了用户的CPU？</h2><p>随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用、内存使用等感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>