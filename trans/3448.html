<html>
<head>
<title>Create customized and shareable calendars in React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在React Native - LogRocket博客中创建自定义和可共享的日历</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/#0001-01-01">https://blog.logrocket.com/create-customized-shareable-calendars-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>移动应用程序开发人员在他们的应用程序中使用各种GUI元素，如按钮、列表、输入框和应用程序屏幕中的文本区域。有时，我们需要复杂的GUI元素，例如日历、时间表、议程视图等。</p>
<p>React Native framework提供了用于添加主要GUI元素的内置组件，但对于设计复杂的GUI组件，我们必须使用内置核心元素从头开始构建它们，或者重用第三方库中预先实现的组件。</p>
<p><a href="https://github.com/wix/react-native-calendars" target="_blank" rel="noopener"> <code>react-native-calendars</code>库</a>提供预实现的、可定制的组件，用于向React本地应用添加日历。您可以使用这些日历组件来创建自定义的可共享日历，以显示基于日期的数据并从用户处获取日期值。</p>
<p>在本教程中，我将解释如何使用<code>react-native-calendars</code>创建定制的可共享日历，并让您了解几个用于创建定制日历的可选软件包。</p>
<p><em>向前跳转:</em></p>

<h2 id="highlighted-features-react-native-calendars"><code>react-native-calendars</code>的突出特点</h2>
<p>该日历库为添加可定制的高质量日历组件提供了以下突出功能:</p>
<h3 id="multiple-components-needs">满足您需求的多种组件</h3>
<p>该库提供了用于创建日历、议程视图和时间线的各种组件。以下是创建日历的常用方法:</p>
<ul>
<li><code>Calendar</code>:呈现一个内置月份导航支持的日历组件</li>
<li>一个现代、时尚的组件，呈现一个半无限的、可滚动的日历列表</li>
<li>一个复杂的日历组件帮助开发人员实现时间表、约会表和日程安排表</li>
</ul>
<h3 id="cross-platform-support-consistent-look-feel">跨平台支持和一致的外观</h3>
<p>在选择React原生库时，跨平台支持确实是一个需要考虑的重要因素。这个包正式支持Android和iOS平台，并提供与主要React原生组件(<code>Text</code>、<code>TouchableOpacity</code>等)一致的外观和感觉。)在两种操作系统上看起来几乎一样。</p>
<h3 id="extensive-customizations-features">广泛的定制和功能</h3>
<p>每个库组件都公开了几个道具来定制特定组件的行为和特性。例如，这个包允许您通过提供一个主题对象来自定义日历组件的字体和颜色。此外，您可以使用内置的可自定义指示器和自定义形状来标记单个日期和日期范围。</p>
<p>通过覆盖样式表定义，可以实现高级样式定制。所以，如果你为你的应用程序使用你自己的主题，使用现有的主题颜色是很容易的。这个包还允许您为各种事件附加回调，因此构建一个定制的现代日期选择器是可行的。</p>
<h2 id="react-native-calendars-tutorial">react-native-日历教程</h2>
<p>现在，我们已经了解了日历包的概况。让我们开始在React原生应用程序中实际使用它，通过测试它的特性来变得更加熟悉。您可以在现有应用程序中直接使用即将推出的代码示例，或者创建一个新的实验性应用程序来继续学习教程。</p>
<p>如果您想开始一个新项目，请使用以下命令创建一个项目:</p>
<pre class="language-bash hljs">npx react-native init CalendarsExample
cd CalendarsExample
</pre>
<p>接下来，运行应用程序以确保一切正常:</p>
<pre class="language-bash hljs">npx react-native run-android
# --- or ---
npx react-native run-ios
</pre>
<p>输入以下命令并安装<code>react-native-calendars</code>:</p>
<pre class="language-bash hljs">npm install react-native-calendars
# --- or ---
yarn install react-native-calendars
</pre>
<p>让我们从<code>Calendar</code>组件开始，深入了解它的定制和特性！</p>
<h3 id="&quot;creating-basic-calendar">创建基本日历</h3>
<p><code>Calendar</code>组件让您呈现支持月份导航的传统日历元素。这里没有强制属性——使用<code>App.js</code>中没有属性的组件创建一个默认设置的日历:</p>
<pre class="language-javascript hljs">import React from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
} from 'react-native';
import { Calendar } from 'react-native-calendars';

function App() {
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Calendar /&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center'
  },
});

export default App;
</pre>
<p>上述代码将使用默认功能和样式呈现一个日历组件，如下面的预览所示:</p>
<figure id="attachment_136365" aria-describedby="caption-attachment-136365" class="wp-caption aligncenter"><img data-attachment-id="136365" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/calendar-component-default-features-styles/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="calendar-component-default-features-styles" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles-485x1024.gif" decoding="async" class="wp-image-136365 size-full jetpack-lazy-image" src="../Images/0f585ac06e91050b327d36ec4a3eb496.png" alt="Our calendar component with the default features and styles" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136365" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/calendar-component-default-features-styles/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="calendar-component-default-features-styles" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles-485x1024.gif" decoding="async" loading="lazy" class="wp-image-136365 size-full" src="../Images/0f585ac06e91050b327d36ec4a3eb496.png" alt="Our calendar component with the default features and styles" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-component-default-features-styles.gif"/></noscript><figcaption id="caption-attachment-136365" class="wp-caption-text">The calendar component in Android</figcaption></figure>
<p><strong>注意</strong>:选择一个日期不会像每个人期望的那样作为一个内置功能呈现高亮背景样式——我们必须为它写一些代码。我将解释如何在<a href="#marking-individual-dates">标记个别日期部分</a>突出显示所选日期。</p>
<h3 id="attaching-touch-event-callbacks">附加触摸事件回调</h3>
<p>日历组件是交互式的，因此用户可以通过按月导航箭头和日元素来执行操作。这个库公开了几个道具来为这些关键的用户操作附加回调。请看下面的回调实现示例:</p>
<pre class="language-javascript hljs">&lt;Calendar
  onDayPress={(day) =&gt; console.log('onDayPress', day) }
  onDayLongPress={(day) =&gt; console.log('onDayLongPress', day) }
  onMonthChange={(date) =&gt; console.log('onMonthChange', date) }
  onPressArrowLeft={(goToPreviousMonth) =&gt; {
    console.log('onPressArrowLeft'); goToPreviousMonth();
  }}
  onPressArrowRight={(goToNextMonth) =&gt; {
    console.log('onPressArrowRight'); goToNextMonth();
  }}
/&gt;
</pre>
<p>对以下输入执行处理程序:</p>
<ul>
<li><code>onDayPress</code>:当用户点击特定的日元素时</li>
<li><code>onDayLongPress</code>:当用户长按一个日元素时</li>
<li><code>onMonthChange</code>:日历月份变更时</li>
<li><code>onPressArrowLeft</code>:当用户点击左侧月份导航箭头时</li>
<li><code>onPressArrowRight</code>:当用户点击右侧月份导航箭头时</li>
</ul>
<p>运行上面的代码片段，检查代码，修改它，熟悉我们所有的回调。例如，您可以获得用户按下的日期，如下所示:</p>
<pre class="language-javascript hljs">onDayPress={(day) =&gt; console.log('Selected date: ', day.dateString) }
</pre>
<p>通过附加函数实现来试验所有其他回调。</p>
<h3 id="setting-initial-min-max-dates">设置初始、最小和最大日期</h3>
<p>在某些情况下，使用带有回调实现的默认日历不足以满足应用规范。有时，我们需要设置最初选择的月份和最小/最大结束日期。<code>Calendar</code>组件提供了设置初始、最小和最大日期的属性。</p>
<p>假设您需要创建一个日历组件，它最初显示2022年12月，并允许您只按2022年12月1日到2023年1月30日之间的某一天。以下代码片段符合此规范:</p>
<pre class="language-javascript hljs">&lt;Calendar
  initialDate="2022-12-01"
  minDate="2022-12-01"
  maxDate="2023-01-30"
  disableAllTouchEventsForDisabledDays={true}
/&gt;
</pre>
<p>这里，<code>disableAllTouchEventsForDisabledDays</code>布尔属性帮助我们禁用禁用日期元素的触摸反馈。运行应用程序代码片段，并将结果与上述规范进行比较:</p>
<figure id="attachment_136367" aria-describedby="caption-attachment-136367" class="wp-caption aligncenter"><img data-attachment-id="136367" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/calendar-disabled-date-elements/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="calendar-disabled-date-elements" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements-485x1024.gif" decoding="async" class="wp-image-136367 size-full jetpack-lazy-image" src="../Images/2db7a629158bc9f9bf5648d39c3607c3.png" alt="Our calendar component with disabled date elements" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136367" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/calendar-disabled-date-elements/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="calendar-disabled-date-elements" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements-485x1024.gif" decoding="async" loading="lazy" class="wp-image-136367 size-full" src="../Images/2db7a629158bc9f9bf5648d39c3607c3.png" alt="Our calendar component with disabled date elements" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/calendar-disabled-date-elements.gif"/></noscript><figcaption id="caption-attachment-136367" class="wp-caption-text">Setting initial, min, and max dates</figcaption></figure>
<h3 id="making-calendar-component-reusable">使日历组件可重用</h3>
<p>如果您需要在几个地方使用上面的日历，创建一个可重用的组件无疑是一个好的实践:</p>
<pre class="language-javascript hljs">import React from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
} from 'react-native';
import { Calendar } from 'react-native-calendars';

function CustomCalendar(props) {
  return (
    &lt;Calendar
      initialDate="2022-12-01"
      minDate="2022-12-01"
      maxDate="2023-01-30"
      disableAllTouchEventsForDisabledDays={true}
      {...props}
    /&gt;
  );
}

function App() {
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;CustomCalendar onDayPress={(day) =&gt; console.log(`Date pressed: ${day.dateString}`)} /&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
  },
});

export default App;
</pre>
<p>上面的<code>CustomCalendar</code>组件使用定制的初始、最小和最大日期。它还接受进一步定制的<code>Calendar</code>道具。我们将在下一节讨论如何开发一个可重用的日期选择器组件——然后，您可以了解更多关于创建可共享日历的信息。</p>
<h2 id="supported-calendar-ui-customizations">支持的日历用户界面自定义</h2>
<p>日历组件由类似<code>View</code>、<code>TouchableOpacity</code>和<code>Text</code>的内置框架组件组成，不同于Android和iOS中特定于平台的原生日期选择器组件。因此，它为广泛的UI定制提供了许多支持。</p>
<p>例如，在前面的<code>CustomCalendar</code>实现中，您可以使用<code>disableLeftArrow</code>和<code>disableRightArrow</code>布尔属性禁用左右箭头:</p>
<pre class="language-javascript hljs">function CustomCalendar(props) {
  return (
    &lt;Calendar
      initialDate="2022-12-01"
      minDate="2022-12-01"
      maxDate="2022-12-31"
      disableAllTouchEventsForDisabledDays={true}
      disableArrowLeft={true}
      disableArrowRight={true}
      {...props}
    /&gt;
  );
}
</pre>
<p>现在，您将只能看到2022年12月，因为逐月导航是不可能的:</p>
<figure id="attachment_136369" aria-describedby="caption-attachment-136369" class="wp-caption aligncenter"><img data-attachment-id="136369" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/disabling-month-navigation-icons/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png" data-orig-size="730,276" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="disabling-month-navigation-icons" data-image-description="" data-image-caption="&lt;p&gt;Disabling the month navigation icons&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png" decoding="async" class="size-full wp-image-136369 jetpack-lazy-image" src="../Images/c418ccdba63c4af0e8cf8bd5581fc7f0.png" alt="Disabling the month navigation icons" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons-300x113.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136369" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/disabling-month-navigation-icons/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png" data-orig-size="730,276" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="disabling-month-navigation-icons" data-image-description="" data-image-caption="&lt;p&gt;Disabling the month navigation icons&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png" decoding="async" loading="lazy" class="size-full wp-image-136369" src="../Images/c418ccdba63c4af0e8cf8bd5581fc7f0.png" alt="Disabling the month navigation icons" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons-300x113.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/disabling-month-navigation-icons.png"/></noscript><figcaption id="caption-attachment-136369" class="wp-caption-text">Disabling the month navigation icons</figcaption></figure>
<p>使用<code>hideArrows</code>布尔属性也可以隐藏两个箭头:</p>
<pre class="language-javascript hljs">function CustomCalendar(props) {
  return (
    &lt;Calendar
      initialDate="2022-12-01"
      minDate="2022-12-01"
      maxDate="2022-12-31"
      disableAllTouchEventsForDisabledDays={true}
      hideArrows={true}
      {...props}
    /&gt;
  );
}
</pre>
<p>默认情况下，周行从星期日开始。您可以从周一开始每周一行，并使用以下道具在日历上显示周数:</p>
<pre class="language-javascript hljs">firstDay={1}
showWeekNumbers={true}
</pre>
<p>看下面的预告:</p>
<figure id="attachment_136371" aria-describedby="caption-attachment-136371" class="wp-caption aligncenter"><img data-attachment-id="136371" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/changing-default-first-weekday-showing-week-numbers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png" data-orig-size="730,621" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="changing-default-first-weekday-showing-week-numbers" data-image-description="" data-image-caption="&lt;p&gt;Changing the default first weekday and showing the week numbers&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers-300x255.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png" decoding="async" class="size-full wp-image-136371 jetpack-lazy-image" src="../Images/a27ed1b152ca65bc87964c1de130aa50.png" alt="Changing the default first weekday and showing the week numbers" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers-300x255.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136371" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/changing-default-first-weekday-showing-week-numbers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png" data-orig-size="730,621" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="changing-default-first-weekday-showing-week-numbers" data-image-description="" data-image-caption="&lt;p&gt;Changing the default first weekday and showing the week numbers&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers-300x255.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png" decoding="async" loading="lazy" class="size-full wp-image-136371" src="../Images/a27ed1b152ca65bc87964c1de130aa50.png" alt="Changing the default first weekday and showing the week numbers" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers-300x255.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-default-first-weekday-showing-week-numbers.png"/></noscript><figcaption id="caption-attachment-136371" class="wp-caption-text">Changing the default first weekday and showing the week numbers</figcaption></figure>
<p>利用<code>dateFormat</code>属性也可以使用自定义的月份格式。例如，以下设置将呈现类似于<code>Dec/2020</code>的月份字符串:</p>
<pre class="language-javascript hljs">monthFormat="MMM/yyyy"
</pre>
<p>浏览<a href="https://wix.github.io/react-native-calendars/docs/Calendar#api" target="_blank" rel="noopener">官方文档</a>并确定所有支持的日历属性，这些属性有助于定制日历UI。</p>
<h3 id="marking-individual-days">标记个别日期</h3>
<p>看看你桌子上或墙上的纸质日历。你会看到几个日期框标有背景色或符号，以表示特殊的日子或国定假日。我们如何在<code>Calendar</code>组件中标记类似于物理组件的日元素？</p>
<p><code>Calendar</code>组件允许您通过<code>markedDates</code>属性标记日期。让我们先来学习如何标记个别的日子！对<code>CustomCalendar</code>使用以下代码:</p>
<pre class="language-javascript hljs">function CustomCalendar(props) {
  const marked = {
    '2022-12-10': { marked: true },
    '2022-12-12': { selected: true }
  };
  return (
    &lt;Calendar
      initialDate="2022-12-01"
      minDate="2022-12-01"
      maxDate="2022-12-31"
      disableAllTouchEventsForDisabledDays={true}
      markedDates={marked}
      {...props}
    /&gt;
  );
}
</pre>
<p>如果<code>marked</code>布尔属性设置为<code>true</code>，组件将在特定日期渲染一个点；如果<code>selected</code>布尔属性被设置为<code>true</code>，组件将在特定的日期元素周围呈现一个实心圆。看下面的预告:</p>
<figure id="attachment_136374" aria-describedby="caption-attachment-136374" class="wp-caption aligncenter"><img data-attachment-id="136374" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/marking-day-elements/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png" data-orig-size="730,177" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="marking-day-elements" data-image-description="" data-image-caption="&lt;p&gt;Marking day elements with a circle shape and a dot indicator&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png" decoding="async" class="size-full wp-image-136374 jetpack-lazy-image" src="../Images/5a4c23fcfa54e74ab2c0f53f5f628f57.png" alt="Marking day elements with a circle shape and a dot indicator" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements-300x73.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136374" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/marking-day-elements/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png" data-orig-size="730,177" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="marking-day-elements" data-image-description="" data-image-caption="&lt;p&gt;Marking day elements with a circle shape and a dot indicator&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png" decoding="async" loading="lazy" class="size-full wp-image-136374" src="../Images/5a4c23fcfa54e74ab2c0f53f5f628f57.png" alt="Marking day elements with a circle shape and a dot indicator" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements-300x73.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-day-elements.png"/></noscript><figcaption id="caption-attachment-136374" class="wp-caption-text">Marking day elements with a circle shape and a dot indicator</figcaption></figure>
<p>可以自定义上述指示器和形状，如下所示:</p>
<pre class="language-javascript hljs">const marked = {
    '2022-12-10': { marked: true, dotColor: 'red' },
    '2022-12-12': { selected: true, selectedColor: '#aa2222', selectedTextColor: 'yellow' },
    '2022-12-13': {
      marked: true,
      selected: true,
      selectedColor: '#222222',
      selectedTextColor: 'yellow',
      dotColor: 'white'
    }
  };
</pre>
<p>一旦您对<code>marked</code>使用上述定义，您将看到以下结果:</p>
<figure id="attachment_136378" aria-describedby="caption-attachment-136378" class="wp-caption aligncenter"><img data-attachment-id="136378" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-custom-styles-default-marking-indicators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png" data-orig-size="730,183" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-custom-styles-default-marking-indicators" data-image-description="" data-image-caption="&lt;p&gt;Using custom styles for default marking indicators&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators-300x75.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png" decoding="async" class="size-full wp-image-136378 jetpack-lazy-image" src="../Images/84d102eea7c33ec3be3e7c7bc7f59f93.png" alt="Using custom styles for default marking indicators" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators-300x75.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136378" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-custom-styles-default-marking-indicators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png" data-orig-size="730,183" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-custom-styles-default-marking-indicators" data-image-description="" data-image-caption="&lt;p&gt;Using custom styles for default marking indicators&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators-300x75.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png" decoding="async" loading="lazy" class="size-full wp-image-136378" src="../Images/84d102eea7c33ec3be3e7c7bc7f59f93.png" alt="Using custom styles for default marking indicators" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators-300x75.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-custom-styles-default-marking-indicators.png"/></noscript><figcaption id="caption-attachment-136378" class="wp-caption-text">Using custom styles for default marking indicators</figcaption></figure>
<p>属性通过一个简单的实现帮助我们标记当前按下的day元素。我们可以在组件状态中存储当前日期，并相应地更新<code>markedDates</code>对象，如下面的代码所示:</p>
<pre class="language-javascript hljs">import React, { useState, useMemo } from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
} from 'react-native';
import { Calendar } from 'react-native-calendars';

function CustomCalendar(props) {
  const initDate = '2022-12-01';
  const [selected, setSelected] = useState(initDate);
  const marked = useMemo(() =&gt; ({
    [selected]: {
      selected: true,
      selectedColor: '#222222',
      selectedTextColor: 'yellow',
    }
  }), [selected]);
  return (
    &lt;Calendar
      initialDate={initDate}
      markedDates={marked}
      onDayPress={(day) =&gt; {
        setSelected(day.dateString);
        props.onDaySelect &amp;&amp; props.onDaySelect(day);
      }}
      {...props}
    /&gt;
  );
}

function App() {
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;CustomCalendar onDaySelect={(day) =&gt; console.log(`Date selected: ${day.dateString}`)}/&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
  },
});

export default App;
</pre>
<p>这里，我们使用了<code>useMemo</code>钩子来<a href="https://en.wikipedia.org/wiki/Memoization" target="_blank" rel="noopener">记忆<code>marked</code>对象的</a>，并且仅当<code>selected</code>被改变时才重新计算它(为了性能优化)。看看上面的代码是如何实现可选的日期元素的:</p>
<figure id="attachment_136381" aria-describedby="caption-attachment-136381" class="wp-caption aligncenter"><img data-attachment-id="136381" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/implementing-date-selection-feature/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="implementing-date-selection-feature" data-image-description="" data-image-caption="&lt;p&gt;Implementing a date selection feature&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature-485x1024.gif" decoding="async" class="size-full wp-image-136381 jetpack-lazy-image" src="../Images/74b04855fc97fbd71ca20b4ae5fe690f.png" alt="Implementing a date selection feature" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136381" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/implementing-date-selection-feature/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="implementing-date-selection-feature" data-image-description="" data-image-caption="&lt;p&gt;Implementing a date selection feature&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature-485x1024.gif" decoding="async" loading="lazy" class="size-full wp-image-136381" src="../Images/74b04855fc97fbd71ca20b4ae5fe690f.png" alt="Implementing a date selection feature" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-date-selection-feature.gif"/></noscript><figcaption id="caption-attachment-136381" class="wp-caption-text">Implementing a date selection feature</figcaption></figure>
<p>布尔元素<code>marked</code>呈现一个带有几个预包含样式的圆形，但是这个库足够灵活，可以为构建开发人员定义的形状样式提供<code>customStyles</code>支持。以下代码片段在您按下day元素时呈现绿色矩形:</p>
<pre class="language-javascript hljs">function CustomCalendar(props) {
  const initDate = '2022-12-01';
  const [selected, setSelected] = useState(initDate);
  const marked = useMemo(() =&gt; ({
    [selected]: {
      customStyles: {
        container: {
          backgroundColor: 'green',
          borderRadius: 0,
        },
        text: {
          color: 'white',
        }
      }
    }
  }), [selected]);
  return (
    &lt;Calendar
      initialDate="2022-12-01"
      markingType="custom"
      markedDates={marked}
      onDayPress={(day) =&gt; {
        setSelected(day.dateString);
        props.onDaySelect &amp;&amp; props.onDaySelect(day);
      }}
      {...props}
    /&gt;
  );
}
</pre>
<p>这里，我们使用<code>markingType="custom"</code>来打开自定义标记特性。<code>multi-dot</code>标记类型允许我们将多个点指示器添加到day元素中，就像指示特定日期的事件一样，如下面的代码所示:</p>
<pre class="language-javascript hljs">import React from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
} from 'react-native';
import { Calendar } from 'react-native-calendars';

function App() {
  const running = {key: 'running', color: 'blue'};
  const cycling = {key: 'cycling', color: 'green'};
  const walking = {key: 'walking', color: 'orange'};
  const marked = {
    '2022-12-01': {
      dots: [running, walking]
    },
    '2022-12-02': {
      dots: [running, walking, cycling]
    }
  };
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Calendar
        initialDate="2022-12-01"
        markingType="multi-dot"
        markedDates={marked}
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
  },
});

export default App;
</pre>
<p>上面的代码生成了一个日历组件，在day元素中有多个点指示器:</p>
<figure id="attachment_136384" aria-describedby="caption-attachment-136384" class="wp-caption aligncenter"><img data-attachment-id="136384" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/adding-multiple-custom-dot-indicators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png" data-orig-size="730,104" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="adding-multiple-custom-dot-indicators" data-image-description="" data-image-caption="&lt;p&gt;Adding multiple custom dot indicators&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators-300x43.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png" decoding="async" class="size-full wp-image-136384 jetpack-lazy-image" src="../Images/14bb6e45a1fad37d224022beb505b49a.png" alt="Adding multiple custom dot indicators" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators-300x43.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136384" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/adding-multiple-custom-dot-indicators/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png" data-orig-size="730,104" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="adding-multiple-custom-dot-indicators" data-image-description="" data-image-caption="&lt;p&gt;Adding multiple custom dot indicators&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators-300x43.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png" decoding="async" loading="lazy" class="size-full wp-image-136384" src="../Images/14bb6e45a1fad37d224022beb505b49a.png" alt="Adding multiple custom dot indicators" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators-300x43.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/adding-multiple-custom-dot-indicators.png"/></noscript><figcaption id="caption-attachment-136384" class="wp-caption-text">Adding multiple custom dot indicators</figcaption></figure>
<h3 id="marking-date-ranges">标记日期范围</h3>
<p>我们可以自己用<code>customStyles</code>编写一些代码并实现日期范围标记样式，但是这个库通过提供内置的日期范围标记特性来提高开发人员的生产力。<br/>例如，您可以使用内置的范围标记功能标记2022年12月的前十天，如下所示:</p>
<pre class="language-javascript hljs">function App() {
  const getMarked = () =&gt; {
    let marked = {};
    for(let i = 1; i &lt;= 10; i++) {
      let day = i.toString().padStart(2, '0');
      marked[`2022-12-${day}`] = {
        startingDay: i == 1,
        endingDay: i == 10,
        color: 'yellow',
        textColor: '#aaa',
        disabled: true,
      };
    }
    return marked;
  };

  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Calendar
        initialDate="2022-12-01"
        markingType="period"
        markedDates={getMarked()}
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};
</pre>
<p>这里，我们使用<code>getMarked</code>函数来生成一个10天的时间段。周期开始/结束边缘样式将根据<code>startingDay</code>和<code>endingDay</code>布尔值改变。运行上述代码片段后，您应该会看到以下结果:</p>
<figure id="attachment_136386" aria-describedby="caption-attachment-136386" class="wp-caption aligncenter"><img data-attachment-id="136386" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/marking-date-range-preferred-background-color/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png" data-orig-size="730,443" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="marking-date-range-preferred-background-color" data-image-description="" data-image-caption="&lt;p&gt;Marking a date range with a preferred background color&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png" decoding="async" class="size-full wp-image-136386 jetpack-lazy-image" src="../Images/79f565bdafb5c71c267569bcb14824ec.png" alt="Marking a date range with a preferred background color" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136386" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/marking-date-range-preferred-background-color/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png" data-orig-size="730,443" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="marking-date-range-preferred-background-color" data-image-description="" data-image-caption="&lt;p&gt;Marking a date range with a preferred background color&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png" decoding="async" loading="lazy" class="size-full wp-image-136386" src="../Images/79f565bdafb5c71c267569bcb14824ec.png" alt="Marking a date range with a preferred background color" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/marking-date-range-preferred-background-color.png"/></noscript><figcaption id="caption-attachment-136386" class="wp-caption-text">Marking a date range with a preferred background color</figcaption></figure>
<p>可以用这个周期标记特性构建一个日期范围选择器组件。您可以从我的GitHub库中看到一个示例实现。</p>
<p>这个库也提供了一个内置的多时期标记特性。请看下面的代码:</p>
<pre class="language-javascript hljs">function App() {
  const getMarked = () =&gt; {
    let marked = {};
    for(let i = 1; i &lt;= 10; i++) {
      let day = i.toString().padStart(2, '0');
      let periods = [
        {
          startingDay: i == 1,
          endingDay: i == 10,
          color: 'teal',
        },
        (i &gt;= 2 &amp;&amp; i &lt;= 6) &amp;&amp; {
          startingDay: i == 2,
          endingDay: i == 6,
          color: 'orange',
        }
      ];
      marked[`2022-12-${day}`] = {
        periods
      };
    }
    return marked;
  };
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Calendar
        initialDate="2022-12-01"
        markingType="multi-period"
        markedDates={getMarked()}
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};
</pre>
<p>上面的<code>App</code>组件实现呈现了2022年12月1日和10日之间的两条日期周期线:</p>
<figure id="attachment_136389" aria-describedby="caption-attachment-136389" class="wp-caption aligncenter"><img data-attachment-id="136389" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-multi-period-marking-feature/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png" data-orig-size="730,474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-multi-period-marking-feature" data-image-description="" data-image-caption="&lt;p&gt;Using the multi-period marking feature&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png" decoding="async" class="size-full wp-image-136389 jetpack-lazy-image" src="../Images/435662b4f901be9240169104b992d181.png" alt="Using the multi-period marking feature" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature-300x195.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136389" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-multi-period-marking-feature/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png" data-orig-size="730,474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-multi-period-marking-feature" data-image-description="" data-image-caption="&lt;p&gt;Using the multi-period marking feature&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png" decoding="async" loading="lazy" class="size-full wp-image-136389" src="../Images/435662b4f901be9240169104b992d181.png" alt="Using the multi-period marking feature" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature-300x195.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-multi-period-marking-feature.png"/></noscript><figcaption id="caption-attachment-136389" class="wp-caption-text">Using the multi-period marking feature</figcaption></figure>
<p>想要在日历中显示一些预订的快速摘要吗？尝试<code>multi-period</code>标记类型。</p>
<h2 id="customizing-calendar-theme">自定义日历主题</h2>
<p>现在，我们已经知道如何进行基本的UI定制；我们更改了第一个工作日，禁用/隐藏了月份导航箭头，更改了月份格式，等等。如果我们需要更改day元素、标题、工作日名称颜色和字体，该怎么办？</p>
<p>正如突出显示的特性一节中提到的，这个库允许您通过传递自定义主题对象来更改外观。如果您觉得使用自定义主题对象有局限性，可以直接覆盖日历组件的样式表定义。此外，您可以定制日历组件的容器样式。</p>
<p>首先，看看下面的示例代码，了解如何通过<code>theme</code>属性定制日历的外观，以及如何使用<code>style</code>属性定制日历容器的样式:</p>
<pre class="language-javascript hljs">&lt;Calendar
  initialDate="2022-12-01"
  style={{
    borderRadius: 5,
    margin: 12,
    elevation: 5,
    borderWidth: 4,
    borderColor: 'rgba(100, 100, 100, 0.2)'
  }}
  theme={{
    calendarBackground: '#222',
    dayTextColor: '#fff',
    textDisabledColor: '#444',
    monthTextColor: '#888'
  }}
/&gt;
</pre>
<p>上面的代码片段通过<code>theme</code>属性为日历应用了深色方案，并通过<code>style</code>属性为日历容器应用了一些样式增强。看下面的预告:</p>
<figure id="attachment_136394" aria-describedby="caption-attachment-136394" class="wp-caption aligncenter"><img data-attachment-id="136394" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/implementing-custom-dark-color-theme-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="implementing-custom-dark-color-theme-calendar" data-image-description="" data-image-caption="&lt;p&gt;Implementing a custom dark color theme for the calendar&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar-485x1024.gif" decoding="async" class="size-full wp-image-136394 jetpack-lazy-image" src="../Images/1f4ee09aabdda2ec115dce8f539898fb.png" alt="Implementing a custom dark color theme for the calendar" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136394" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/implementing-custom-dark-color-theme-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="implementing-custom-dark-color-theme-calendar" data-image-description="" data-image-caption="&lt;p&gt;Implementing a custom dark color theme for the calendar&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar-485x1024.gif" decoding="async" loading="lazy" class="size-full wp-image-136394" src="../Images/1f4ee09aabdda2ec115dce8f539898fb.png" alt="Implementing a custom dark color theme for the calendar" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/implementing-custom-dark-color-theme-calendar.gif"/></noscript><figcaption id="caption-attachment-136394" class="wp-caption-text">Implementing a custom dark color theme for the calendar</figcaption></figure>
<p>道具提供了一种定制文本样式和颜色的方法。但是，我们有时需要使用更多的样式定义进行高级定制。对于这种情况，可以覆盖样式表定义。例如，您可以按如下方式覆盖日历标题样式:</p>
<pre class="language-javascript hljs">theme={{
  'stylesheet.calendar.header': {
    headerContainer: {
      flexDirection: 'row',
      backgroundColor: '#eee',
      borderRadius: 12
    },
  }
}}
</pre>
<p>通过浏览<a href="https://github.com/wix/react-native-calendars/tree/master/src" target="_blank" rel="noopener">源</a>查看您的<code>style.ts</code>文件，并确定您可以通过<code>theme</code>覆盖的所有样式定义。检查特定的<code>style.ts</code>文件的结尾，以找到样式表标识符(即<code>style.calendar.header</code>)。</p>

<p>我们可以在<code>theme</code> prop中使用样式表覆盖来为周末标题应用不同的样式。例如，对于以下主题对象，我们可以将绿色用于周六标题，红色用于周日标题:</p>
<pre class="language-javascript hljs">theme={{
  'stylesheet.calendar.header': {
    dayTextAtIndex0: {
      color: 'red'
    },
    dayTextAtIndex6: {
      color: 'green'
    }
  }
}}
</pre>
<p>以下是上述设置的预览:</p>
<figure id="attachment_136396" aria-describedby="caption-attachment-136396" class="wp-caption aligncenter"><img data-attachment-id="136396" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/changing-weekend-days-header-style-via-theme-object/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png" data-orig-size="730,279" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="changing-weekend-days-header-style-via-theme-object" data-image-description="" data-image-caption="&lt;p&gt;Changing weekend days’ header styles via the theme object&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png" decoding="async" class="size-full wp-image-136396 jetpack-lazy-image" src="../Images/830f3a33fd4703ea79978b804c711292.png" alt="Changing weekend days' header styles via the theme object" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object-300x115.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="136396" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/changing-weekend-days-header-style-via-theme-object/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png" data-orig-size="730,279" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="changing-weekend-days-header-style-via-theme-object" data-image-description="" data-image-caption="&lt;p&gt;Changing weekend days’ header styles via the theme object&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object-300x115.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png" decoding="async" loading="lazy" class="size-full wp-image-136396" src="../Images/830f3a33fd4703ea79978b804c711292.png" alt="Changing weekend days' header styles via the theme object" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object-300x115.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/changing-weekend-days-header-style-via-theme-object.png"/></noscript><figcaption id="caption-attachment-136396" class="wp-caption-text">Changing weekend days’ header styles via the theme object</figcaption></figure>
<p>对周末数字使用两种不同的颜色也是一个很好的UI/UX改进。但是，该库不支持定制索引日元素样式，就像我们通过<code>theme</code> prop定制日标题一样。因此，我们必须用<code>markedDates</code>来定义周末的数字，直到维护人员和贡献者开始处理<a href="https://github.com/wix/react-native-calendars/pull/1495" target="_blank" rel="noopener">这个拉请求的想法</a>。</p>

<p>现代移动应用通常比传统点击使用更多的滑动事件。例如，每个流行的社交媒体应用程序通常在用户向上滑动时加载更多帖子，而不是在用户点击加载更多帖子按钮时。<code>Calendar</code>组件被设计成用箭头导航，并且一次查看一个月，但是您可以使用<code>CalendarList</code>组件来创建一个现代的类似无限滚动条的日历组件。<br/>运行下面的代码:</p>
<pre class="language-javascript hljs">import React from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
} from 'react-native';
import { CalendarList } from 'react-native-calendars';

function App() {
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;CalendarList/&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
  },
});

export default App;
</pre>
<p>现在，您可以看到一个可滚动的日历:</p>
<figure id="attachment_136398" aria-describedby="caption-attachment-136398" class="wp-caption aligncenter"><img data-attachment-id="136398" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-calendarlist-create-scrollable-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-calendarlist-create-scrollable-calendar" data-image-description="" data-image-caption="&lt;p&gt;Using &lt;code&gt;CalendarList&lt;/code&gt; to create a scrollable calendar&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar-485x1024.gif" decoding="async" class="size-full wp-image-136398 jetpack-lazy-image" src="../Images/d13bf1f8b78aa443bc8ed854de9ad457.png" alt="Using CalendarList to create a scrollable calendar" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136398" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/using-calendarlist-create-scrollable-calendar/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="using-calendarlist-create-scrollable-calendar" data-image-description="" data-image-caption="&lt;p&gt;Using &lt;code&gt;CalendarList&lt;/code&gt; to create a scrollable calendar&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar-485x1024.gif" decoding="async" loading="lazy" class="size-full wp-image-136398" src="../Images/d13bf1f8b78aa443bc8ed854de9ad457.png" alt="Using CalendarList to create a scrollable calendar" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/using-calendarlist-create-scrollable-calendar.gif"/></noscript><figcaption id="caption-attachment-136398" class="wp-caption-text">Using <code>CalendarList</code> to create a scrollable calendar</figcaption></figure>
<p>然而，<code>Calendar</code>组件是最小的、传统的和通用的，所以只有当屏幕是面向日历的(即显示在<code>Modal</code>中)并且用户需要一次看到多个月时，才考虑选择<code>CalendarList</code>。<code>CalendarList</code>组件接受所有的<code>Calendar</code>道具和<a href="https://github.com/wix/react-native-calendars#calendarlist" target="_blank" rel="noopener">一些附加道具</a>。</p>
<h2 id="using-agenda-component-advanced-use-cases">将<code>Agenda</code>组件用于高级用例</h2>
<p>在某些场景中，我们需要在React本地应用中实现议程视图。<code>Calendar</code>和<code>CalendarList</code>组件支持通过<code>markedDates</code>属性添加多时段标记，但是日历组件没有足够的空间为每个标记行添加标题和描述。因此，用<code>Calendar</code>或<code>CalendarList</code>组件实现议程视图不是一个好的决定。</p>
<p><code>Agenda</code>组件允许您通过在第二个视图中显示每天的记录来创建议程视图，该视图在点击day元素后打开。</p>
<p>运行以下代码以显示一个示例议程视图:</p>
<pre class="language-javascript hljs">import React from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  Text,
  TouchableOpacity,
} from 'react-native';
import { Agenda } from 'react-native-calendars';

function App() {
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Agenda
        selected="2022-12-01"
        items={{
          '2022-12-01': [{name: 'Cycling'}, {name: 'Walking'}, {name: 'Running'}],
          '2022-12-02': [{name: 'Writing'}]
        }}
        renderItem={(item, isFirst) =&gt; (
          &lt;TouchableOpacity style={styles.item}&gt;
            &lt;Text style={styles.itemText}&gt;{item.name}&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        )}
      /&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center'
  },
  item: {
    backgroundColor: 'white',
    flex: 1,
    borderRadius: 5,
    padding: 10,
    marginRight: 10,
    marginTop: 17,
  },
  itemText: {
    color: '#888',
    fontSize: 16,
  }
});

export default App;
</pre>
<p>这里，我们使用了<code>Agenda</code>组件，通过<code>items</code> prop提供日项目。您可以使用<code>renderItem</code>回调为每天的项目设计一个GUI。在这个GitHub库的官方文档中查看其他回调和支持的道具。</p>
<p>运行上述代码后，您将看到一个如下所示的最小议程视图:</p>
<figure id="attachment_136400" aria-describedby="caption-attachment-136400" class="wp-caption aligncenter"><img data-attachment-id="136400" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/agenda-component-preview-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif" data-orig-size="730,346" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="agenda-component-preview-android" data-image-description="" data-image-caption="&lt;p&gt;The &lt;code&gt;Agenda&lt;/code&gt; component preview in Android&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android-300x142.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif" decoding="async" class="size-full wp-image-136400 jetpack-lazy-image" src="../Images/2e4c44b8474c9e829194ce76cae10d0c.png" alt="The Agenda component preview in Android" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136400" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/agenda-component-preview-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif" data-orig-size="730,346" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="agenda-component-preview-android" data-image-description="" data-image-caption="&lt;p&gt;The &lt;code&gt;Agenda&lt;/code&gt; component preview in Android&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android-300x142.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif" decoding="async" loading="lazy" class="size-full wp-image-136400" src="../Images/2e4c44b8474c9e829194ce76cae10d0c.png" alt="The Agenda component preview in Android" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/agenda-component-preview-android.gif"/></noscript><figcaption id="caption-attachment-136400" class="wp-caption-text">The <code>Agenda</code> component preview in Android</figcaption></figure>
<p>出于演示目的，我们硬编码了几个日程项目，但是您也可以使用远程web服务器为生产应用程序中的议程视图获取数据。</p>
<h2 id="place-calendar-components">如何放置日历组件</h2>
<p>在移动应用程序中呈现任何GUI元素有两种主要方式:在应用程序屏幕表面呈现或在弹出窗口中呈现。我直接在一个应用程序屏幕上演示了上面所有的日历组件定制。如果您使用日历组件作为用户输入元素，在弹出窗口中显示它可以节省当前应用程序屏幕的空间，并提高整体可用性。</p>
<p>请看下面的代码:</p>
<pre class="language-javascript hljs">import React, { useState } from 'react';
import {
  SafeAreaView,
  ScrollView,
  StyleSheet,
  View,
  Modal,
  Button,
} from 'react-native';
import { Calendar } from 'react-native-calendars';

function DatePicker({visible, onDateSelected}) {
  return (
    &lt;Modal visible={visible} transparent={true} animationType="fade"&gt;
      &lt;View style={styles.overlay}&gt;
        &lt;Calendar onDayPress={onDateSelected}/&gt;
      &lt;/View&gt;
    &lt;/Modal&gt;
  );
}

function App() {
  const [modalVisible, setModalVisible] = useState(false);
  return (
    &lt;SafeAreaView style={styles.container}&gt;
      &lt;Button title="Show Modal" onPress={() =&gt; setModalVisible(true)}/&gt;
      &lt;DatePicker
        visible={modalVisible}
        onDateSelected={() =&gt; setModalVisible(false)}/&gt;
    &lt;/SafeAreaView&gt;
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center'
  },
  overlay: {
    flex: 1,
    justifyContent: 'center',
    padding: 40,
    backgroundColor: 'rgba(100, 100, 100, 0.6)',
  },
});

export default App;
</pre>
<p>这里，我们创建了可重用的<code>DatePicker</code>组件，并在<code>Modal</code>中显示了一个日历组件。点击该按钮后，模式将显示一个覆盖图和一个日历组件，如以下预览所示:</p>
<figure id="attachment_136403" aria-describedby="caption-attachment-136403" class="wp-caption aligncenter"><img data-attachment-id="136403" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/showing-calendar-within-modal-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="showing-calendar-within-modal-component" data-image-description="" data-image-caption="&lt;p&gt;Showing the calendar within the Modal component&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component-485x1024.gif" decoding="async" class="size-full wp-image-136403 jetpack-lazy-image" src="../Images/06615597b0d4057f84601c4c8f524e88.png" alt="Showing the calendar within the Modal component" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="136403" data-permalink="https://blog.logrocket.com/create-customized-shareable-calendars-react-native/attachment/showing-calendar-within-modal-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component.gif" data-orig-size="730,1542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="showing-calendar-within-modal-component" data-image-description="" data-image-caption="&lt;p&gt;Showing the calendar within the Modal component&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component-142x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component-485x1024.gif" decoding="async" loading="lazy" class="size-full wp-image-136403" src="../Images/06615597b0d4057f84601c4c8f524e88.png" alt="Showing the calendar within the Modal component" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/showing-calendar-within-modal-component.gif"/></noscript><figcaption id="caption-attachment-136403" class="wp-caption-text">Showing the calendar within the Modal component</figcaption></figure>
<h2 id="react-native-calendars-components"><code>react-native-calendars</code>组件</h2>
<p>在本教程中，我们讨论了<code>react-native-calendars</code>提供的三个流行组件:</p>
<ol>
<li><code>Calendar</code></li>
<li><code>CalendarList</code></li>
<li><code>Agenda</code></li>
</ol>
<p>我们主要关注<code>Calendar</code>组件，因为它允许你在React本地应用中创建可定制和可共享的日历组件，但该库通过<code>WeekCalendar</code>提供了一个周历，通过<code>Timeline</code>提供了一个时间线实现，等等。</p>
<p>从官方文档中查看所有官方支持的组件。有一些未记录的组件，但你可以从来源的<a href="https://github.com/wix/react-native-calendars/blob/master/src/index.ts" target="_blank" rel="noopener">处查看。</a></p>
<h2 id="react-native-calendars-alternatives"><code>react-native-calendars</code>替代品</h2>
<p>像任何其他流行的React原生包一样，<code>react-native-calendars</code>也有替代包，但这些替代包没有<code>react-native-calendars</code>包那么有竞争力。</p>
<p>其原因包括:</p>
<ul>
<li>大多数备选包都专注于创建日期选择器，而不是日历视图</li>
<li>一些包没有被主动维护并且被弃用(即<a href="https://github.com/christopherdro/react-native-calendar" target="_blank" rel="noopener"> <code>react-native-calendar</code> </a>)</li>
<li>有些包是新的，在React本地社区中仍然很流行</li>
</ul>
<p>然而，了解替代方案是值得的，因为它们可能会在未来变得流行，并可能为您的需求提供独特的功能。因此，请查看以下备选库:</p>

<h2>结论</h2>
<p>我们学习了如何使用<code>react-native-calendars</code>库创建可共享的定制日历。代码的可重用性提高了每个人的生产力并提高了软件质量，所以如果您在多个地方重复使用相同的日历属性和相同的值，一定要努力定义一个可共享的日历组件。</p>
<p>此外，通过为日历组件和其他UI元素使用匹配的颜色主题，始终关注应用程序的UI/UX因素。这个库提供了<code>Calendar</code>组件作为主要组件，但是在为你的需求选择一个之前，要检查<code>CalendarList</code>、<code>Agenda</code>和其他组件。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>