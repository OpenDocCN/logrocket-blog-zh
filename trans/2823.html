<html>
<head>
<title>How to add custom fonts in React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在 React Native - LogRocket 博客中添加自定义字体</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/adding-custom-fonts-react-native/#0001-01-01">https://blog.logrocket.com/adding-custom-fonts-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>字体是出色用户体验的基石，自定义字体可以为应用程序提供独特的身份，帮助您的应用程序在竞争激烈的市场中脱颖而出。</p>
<p>在本指南中，我们将探索在 React 原生应用程序中添加自定义字体的方法。</p>
<p>为了跟上进度，您应该熟悉 React Native 或 expo SDK 的<a href="https://blog.logrocket.com/how-to-build-ios-apps-using-react-native/" target="_blank" rel="noopener">基础知识，包括</a><a href="https://blog.logrocket.com/diving-into-the-new-jsx-transform/" target="_blank" rel="noopener"> JSX </a>、<a href="https://blog.logrocket.com/a-complete-guide-to-default-props-in-react-984ea8e6972d/">c</a>T6】组件(类和函数)，以及<a href="https://blog.logrocket.com/react-native-styling-tutorial-with-examples/" target="_blank" rel="noopener">样式</a>。</p>
<p>您可以简单地复制并粘贴本指南中的代码块，但是我建议您通读整个教程以获得完整的理解。</p>
<p>本指南假设您已经完成了应用程序的基本设置。</p>

<h2 id="adding-fonts-th-ereact-nativeway-060">以原生方式添加字体(0.60+)</h2>
<p>根据 React Native 的最新更新(0.60 之后的任何版本)，向应用程序添加自定义字体变得非常直接和有效。</p>
<p>我们所要做的就是创建一个 fonts 目录，添加我们想要使用的自定义字体，创建一个配置文件，添加路径，并将它们链接到项目。</p>
<h3 id="get-the-fonts-required-for-the-app">获取应用程序所需的字体</h3>
<p>这是一个相当简单的过程，因为我们在互联网上有各种各样的字体来源。Google Fonts 是开源和免费字体流行资源的一个很好的例子。您可以在中查看和下载您喜欢的任何字体。ttf 格式。</p>
<p>下载你想要的字体后，在你的项目中的<code>assets</code>下创建一个字体目录。路径应该是这样的:</p>
<pre>PROJECT-DIRECTORY/assets/fonts
</pre>
<p>将下载的字体文件移动到这个字体目录。</p>
<h3 id="add-the-configuration-to-the-project">将配置添加到项目中</h3>
<p>如果尚未创建，请在名为<code>react-native.config.js</code>的项目根目录下创建一个配置文件。继续在<code>module.exports</code>中添加以下代码:</p>
<pre class="language-javascript hljs">module.exports = {
    project: {
        ios:{},
        android:{}
    },
    assets:['./assets/fonts/'],
}
</pre>
<h3 id="link-the-assets-to-the-project">将资产链接到项目</h3>
<p>完成上述步骤后，我们可以简单地运行一个命令来链接我们刚刚添加的字体。</p>
<pre>$ npx react-native link
</pre>
<p>…或者:</p>
<pre>$ yarn react-native link
</pre>
<p><span class="ace-all-bold-hthree"> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qowz82z5fcz73zz72zoz82zyz82zz85ztz80zz78z6z84zz71zz89zz75zlnwz81zz73z1z84zqiwz82za"> <b>反应原生 0.69 更新</b> </span> </span></p>
<p/>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qowz82z5fcz73zz72zoz82zyz82zz85ztz80zz78z6z84zz71zz89zz75zlnwz81zz73z1z84zqiwz82za">在 0.69 版本的 React 中已经删除了原生链接命令。</span><span class="inline-code author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qowz82z5fcz73zz72zoz82zyz82zz85ztz80zz78z6z84zz71zz89zz75zlnwz81zz73z1z84zqiwz82za">react-native-asset</span><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qowz82z5fcz73zz72zoz82zyz82zz85ztz80zz78z6z84zz71zz89zz75zlnwz81zz73z1z84zqiwz82za">应该用来自动链接字体资产。只需运行以下命令:</span></p>
<pre>$ npx react-native-asset
</pre>
<p>差不多就是这样！在这个命令之后，我们可以在<code>android/app/src/main/assets/fonts</code>目录和<code>Info.plist</code>中看到我们添加的字体(分别针对 Android 和 iOS)。</p>
<p>此后，您可以在<code>fontFamily</code>样式下使用自定义字体的名称:</p>
<pre class="language-javascript hljs">fontFamily: 'Yatra-One'
</pre>
<h2 id="adding-fonts-the-expo-way">以世博会的方式添加字体</h2>
<p>Expo 是一个基于 React Native 构建的优秀框架，几乎包含了构建一个全功能应用所需的所有模块。</p>
<p><code>expo-font</code>是向 React 原生应用添加字体的另一种方式。与前一种方法相比，这更类似于每次应用程序加载时初始化字体。</p>
<p>第一步是相同的—要获取字体，在 assets 下创建“fonts”目录并将字体移动到那里。</p>
<p>Expo 应用程序中有两种初始化字体的方法；对根处的功能组件使用钩子，或者对类组件使用异步函数。</p>
<p>(注意:在字体加载之前，不要加载带有自定义字体的内容)</p>
<h3 id="using-hooks-to-initialize-the-fonts">使用钩子初始化字体</h3>
<p>挂钩用于初始化字体，如下面的代码片段所示:</p>
<pre class="language-javascript hljs">import * as React from 'react';
import { View, Text, StyleSheet } from 'react-native';
import { useFonts } from 'expo-font';

export default function App() {
  const [loaded] = useFonts({
    Montserrat: require('./assets/fonts/Yatra-One.ttf'),
  });

  if (!loaded) {
    return null;
  }

  return (
    &lt;View style={{flex:1}&gt;
      &lt;Text style={{ fontFamily: 'Yatra-One', fontSize: 27 }}&gt;Yatra-One&lt;/Text&gt;
    &lt;/View&gt;
  );
}
</pre>
<h3 id="using-the-async-function-to-initialize-the-fonts">使用<code>Async</code>功能初始化字体</h3>
<p><code>Fonts.loadAsync</code>用于初始化字体，如下面的代码片段所示:</p>
<pre class="language-javascript hljs">import * as React from 'react';
import { Text, View, StyleSheet } from 'react-native';
import * as Font from 'expo-font';

export default class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
        fontsLoaded: false
    }
  }

  async loadFonts() {
    await Font.loadAsync({
      'Yatra-One': require('./assets/fonts/Yatra-One'),
    });
    this.setState({ fontsLoaded: true });
  }

  componentDidMount() {
    this.loadFonts();
  }

  render() {
    if (this.state.fontsLoaded) {
      return (
        &lt;View style={styles.container}&gt;
          &lt;Text style={{ fontSize: 21 }}&gt;Default Font&lt;/Text&gt;
          &lt;Text style={{ fontFamily: 'Yatra-One', fontSize: 27 }}&gt;Yatra-One&lt;/Text&gt;
        &lt;/View&gt;
      );
    } else {
      return null;
    }
  }
}
</pre>
<h2 id="conclusion">结论</h2>
<p>React 原生配置和 expo-font 都是向 React 原生应用添加字体的好方法。</p>
<p>在本教程中，我们讨论了如何使用 config-link 方法和 expo-font 方法添加字体。两者都有各自的好处，所以你可以根据自己的喜好选择一个最适合你的。</p>
<p>你可以在查看<code>expo-font</code>的官方文档以获得更多详细参考<a href="https://docs.expo.dev/versions/latest/sdk/font/" target="_blank" rel="noopener">。</a></p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现 React 原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款 React 原生监控解决方案，可帮助您即时重现问题、确定 bug 的优先级并了解 React 原生应用的性能。</p><p>LogRocket 还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket 的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的 React 原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用 LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>