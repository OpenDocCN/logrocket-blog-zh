<html>
<head>
<title>Using Cloudflare Pages with IPFS - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在IPFS博客中使用Cloudflare页面</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-cloudflare-pages-ipfs/#0001-01-01">https://blog.logrocket.com/using-cloudflare-pages-ipfs/#0001-01-01</a></blockquote><div><article class="article-post">
<p>星际文件系统，或称IPFS，是一种对等超媒体协议。简而言之，IPFS允许你在分散存储中存储资产。</p>
<p>像以太坊这样的区块链允许你将智能合约部署到区块链网络，但如果你将你的资产或静态文件存储在以太坊网络本身，它将不会是高效的。这将增加成本，并为访问文件提供较慢的解决方案。IPFS被引进来解决这个问题。</p>
<p><a href="https://pages.cloudflare.com/" target="_blank" rel="noopener"> Cloudflare Pages </a>允许您在Git托管提供商(如GitHub或GitLab)的云中托管动态页面。您可以使用Cloudflare Workers的Cloudflare页面将完整的全栈应用程序部署到云中。</p>
<p>您可以将使用Hugo、Jekyll或Next.js构建的站点快速部署到Cloudflare页面。Cloudflare还允许一个到IPFS网络的网关，您可以使用这些网关访问托管在IPFS上的文件。您还可以从Cloudflare页面将您的站点发布到IPFS网络。</p>
<p>在本文中，我们将设置一个基本的Next.js应用程序，使用Cloudflare Pages发布它，然后将其提供给IPFS网络。</p>
<blockquote><p><strong> N.B. </strong> Cloudflare还没有向大家介绍这项服务。这项服务可能会在2022年底向公众开放。</p></blockquote>

<h2 id="what-ipfs">什么是IPFS？</h2>
<p>正如我们提到的，IPFS是“星际文件系统”的缩写这个名字听起来有点像科幻电影中的技术。</p>
<p>在区块链中，一切都发生在节点上。这些节点可以相互通信并交换文件。</p>
<figure id="attachment_132261" aria-describedby="caption-attachment-132261" class="wp-caption aligncenter"><img data-attachment-id="132261" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/ipfs-http-node-comparison/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png" data-orig-size="701,352" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ipfs-http-node-comparison" data-image-description="" data-image-caption="&lt;p&gt;Source: https://www.reddit.com/r/ipfs/comments/q76uil/what_is_ipfs_what_does_it_mean_for_the_internet/.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison-300x151.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png" decoding="async" class="size-full wp-image-132261 jetpack-lazy-image" src="../Images/9221973ade8d613b00f784a8fdfb5c7a.png" alt="Ipfs And Http Node Comparison" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png 701w, https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison-300x151.png 300w" data-lazy-sizes="(max-width: 701px) 100vw, 701px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="132261" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/ipfs-http-node-comparison/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png" data-orig-size="701,352" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ipfs-http-node-comparison" data-image-description="" data-image-caption="&lt;p&gt;Source: https://www.reddit.com/r/ipfs/comments/q76uil/what_is_ipfs_what_does_it_mean_for_the_internet/.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison-300x151.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png" decoding="async" loading="lazy" class="size-full wp-image-132261" src="../Images/9221973ade8d613b00f784a8fdfb5c7a.png" alt="Ipfs And Http Node Comparison" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png 701w, https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison-300x151.png 300w" sizes="(max-width: 701px) 100vw, 701px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/ipfs-http-node-comparison.png"/></noscript><figcaption id="caption-attachment-132261" class="wp-caption-text">Source: <a href="https://www.reddit.com/r/ipfs/comments/q76uil/what_is_ipfs_what_does_it_mean_for_the_internet/" rel="nofollow">https://www.reddit.com/r/ipfs/comments/q76uil/what_is_ipfs_what_does_it_mean_for_the_internet/</a>.</figcaption></figure>
<p>上图漂亮地展示了IPFS网络。右侧的图像代表一个集中式存储系统，其中所有数据都存储在一个集中式服务器上，所有其他计算机都请求集中式服务器访问数据。</p>
<p>在IPFS，数据分布在各个节点上。它类似于区块链，因为它使用节点贡献计算能力来验证事务。IPFS有数以千计的独立节点连接到IPFS网络，共享它们的带宽来存储来自IPFS网络的文件。</p>
<p>IPFS解决了集中式系统的一些重要问题。例如，集中式系统更容易受到攻击和数据泄露。由于所有信息都存储在一个地方，攻击单个点可能会泄露重要信息。</p>
<p>此外，如果中央实体出现故障，您将无法再访问您的文件。这样的事件发生在2021年，当时<a href="https://en.wikipedia.org/wiki/2021_Facebook_outage" target="_blank" rel="noopener">脸书、Instagram和WhatsApp服务器宕机</a>数小时。人们无法访问存储在这些平台上的聊天内容或媒体。但IPFS的情况并非如此。</p>
<p>中央系统也可以很快被审查。许多特定国家的网站被禁止，因为它们依赖于一个中央系统。然而，当使用IPFS时，你的网站或资产不能被审查。</p>
<h2 id="how-ipfs-works">IPFS是如何运作的</h2>
<p>IPFS的工作非常有趣。在传统的Web2存储系统中，我们访问我们想要访问的文件的位置。</p>
<p>当使用<code>http://</code>或<code>https://</code>访问特定文件时，会使用其位置查询特定文件。该文件可以是图像、网页、媒体文件等。链接是映射到特定服务器或一组服务器的标识符。</p>
<p>服务器的所有者控制着存储在服务器中的资产。如果该位置仍然保存着该文件，它将把它发送给用户，浏览器将加载它。如果服务器关闭或所有者决定删除文件，您将无法再访问它们。</p>
<p>为了解决这些问题，IPFS使用了内容寻址。内容寻址使用文件的指纹来寻址。存储在IPFS中的内容获得其内容标识符，即CID。</p>
<p>CID只不过是一个<a href="https://docs.ipfs.tech/concepts/hashing/" target="_blank" rel="noopener">散列</a>。哈希值永远不会改变，所以每当您尝试使用相同的CID访问内容时，您总是会得到相同的结果。</p>
<p>你可以在这里了解更多关于IPFS的工作方式。</p>
<h2 id="what-cloudflare-pages">什么是Cloudflare页面？</h2>
<p>Cloudflare Pages是一个用于部署网站的JAMStack平台。它以开发人员为中心，可以很容易地与任何Git提供者集成。它还将网站部署到Cloudflare edge网络中，帮助网站更快地加载。</p>
<p><a href="https://blog.logrocket.com/creating-url-shortener-cloudflare-workers/" target="_blank" rel="noopener">您还可以使用Cloudflare Workers来集成动态功能</a>。你可以用<a href="https://workers.cloudflare.com/" target="_blank" rel="noopener"> Cloudflare Workers </a>编写服务器端代码，而不用运行专门的服务器。</p>
<p>Cloudflare Pages支持大多数流行的框架，并有针对不同框架的专用指南。它提供了一个简单的界面，通过这个界面，您可以快速地将JAMStack网站部署到云中。Cloudflare提供了更多工具来与Pages集成，使其成为一个全栈应用程序。您可以编写无服务器代码，并将其与Cloudflare页面集成。</p>
<p>Cloudflare还提供类似于<a href="https://www.cloudflare.com/products/r2/" target="_blank" rel="noopener"> R2 </a>的服务，后者为存储管理提供对象存储。</p>
<h2 id="how-ipfs-works-cloudflare-pages">IPFS如何使用Cloudflare页面</h2>
<p>Cloudflare已经开始提供构建和访问Web3产品的服务。它提供将您的站点部署到Cloudflare页面并将其提供给IPFS网络的服务。让我们简单讨论一下它是如何提供这项服务的。</p>
<p>选择Cloudflare中的服务将调用IPFS指数代理。这个调用的主要目的是获取您网站的文件，并将其转换为cid。然后，使用IndexDB将cid与文件相关联。</p>
<p>完成此步骤后，调用会告知Cloudflare IPFS节点cid可用于文件。现在，您可以使用CID访问这些文件。</p>
<figure id="attachment_132264" aria-describedby="caption-attachment-132264" class="wp-caption aligncenter"><img data-attachment-id="132264" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/architecture-ipfs-indexer/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png" data-orig-size="730,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="architecture-ipfs-indexer" data-image-description="" data-image-caption="&lt;p&gt;Source: https://blog.cloudflare.com/cloudflare-pages-on-ipfs/.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer-300x173.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png" decoding="async" class="size-full wp-image-132264 jetpack-lazy-image" src="../Images/eb9c8476a86a99021f438ad19ba26354.png" alt="Architecture Of Ipfs Indexer" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer-300x173.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="132264" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/architecture-ipfs-indexer/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png" data-orig-size="730,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="architecture-ipfs-indexer" data-image-description="" data-image-caption="&lt;p&gt;Source: https://blog.cloudflare.com/cloudflare-pages-on-ipfs/.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer-300x173.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png" decoding="async" loading="lazy" class="size-full wp-image-132264" src="../Images/eb9c8476a86a99021f438ad19ba26354.png" alt="Architecture Of Ipfs Indexer" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer-300x173.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/architecture-ipfs-indexer.png"/></noscript><figcaption id="caption-attachment-132264" class="wp-caption-text">Source: <a href="https://blog.cloudflare.com/cloudflare-pages-on-ipfs/" rel="nofollow">https://blog.cloudflare.com/cloudflare-pages-on-ipfs/</a>.</figcaption></figure>
<h2 id="deploying-website-cloudflare-pages">将网站部署到Cloudflare页面</h2>
<p><a href="https://blog.logrocket.com/deploying-react-app-full-stack-cloudflare-pages/" target="_blank" rel="noopener">让我们将React应用部署到Cloudflare页面</a>。虽然我们正在部署React应用程序，但是您可以选择任何其他流行的框架。您可以查看<a href="https://developers.cloudflare.com/pages/framework-guides/" target="_blank" rel="noopener"> Cloudflare框架指南</a>，了解如何部署使用您最喜欢的框架构建的站点。</p>
<p>在本文中，我们将使用<a href="https://create-react-app.dev/" target="_blank" rel="noopener"> create-react-app </a>来生成一个react应用程序。您可以在终端中运行以下命令:</p>
<pre class="language-bash hljs">npx create-react-app demo-app
</pre>
<p>这里，<code>demo-app</code>是您想要生成的应用程序名称。一旦搭建完成，将<code>cd</code>放入文件夹并运行<code>npm run start</code>。这将在端口3000上启动React应用程序。您可以从<code>localhost:3000</code> URL访问您的应用程序。</p>
<p>我们的基本Next.js应用程序由一个单页的<code>index.js</code>文件组成。该文件呈现为主页。您可以根据需要自定义页面。对于这个例子，让我们添加一个简单的标题。</p>
<p><code>index.js</code>的最终代码将类似于下面的代码片段:</p>
<pre class="language-javascript hljs">import Head from 'next/head';
import Image from 'next/image';
import styles from '../styles/Home.module.css';

export default function Home() {
  return (
    &lt;div className={styles.container}&gt;
      &lt;Head&gt;
        &lt;title&gt;Create Next App&lt;/title&gt;
        &lt;meta name='description' content='Generated by create next app' /&gt;
        &lt;link rel='icon' href='/favicon.ico' /&gt;
      &lt;/Head&gt;
      &lt;main className={styles.main}&gt;
        &lt;h1 className={styles.title}&gt;Hello World!&lt;/h1&gt;
      &lt;/main&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>现在，将这个应用程序推送到GitHub存储库中。如果使用VS代码，可以使用命令行或Git VS代码Git扩展。</p>
<p>一旦存储库被推送到GitHub，从Cloudflare仪表板打开<a href="https://dash.cloudflare.com/" target="_blank" rel="noopener"> Cloudflare Pages </a>(如果没有，您必须创建一个新帐户)。从Cloudflare页面菜单中，单击<strong>创建项目</strong>下拉菜单。</p>
<p><img data-attachment-id="132266" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/pages-deploy-window/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pages-deploy-window" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png" decoding="async" class="aligncenter size-full wp-image-132266 jetpack-lazy-image" src="../Images/e1feeca35c29ddabc386f2c7e1410407.png" alt="Cloudflare Pages Deploy Window" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window-300x73.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132266" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/pages-deploy-window/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pages-deploy-window" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132266" src="../Images/e1feeca35c29ddabc386f2c7e1410407.png" alt="Cloudflare Pages Deploy Window" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window-300x73.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-window.png"/></noscript>
<p>在这里，你有三个选择。第一种选择是使用Git托管提供者进行部署。第二个选项是直接上传文件，第三个是指向他们的Wrangler CLI指南的链接。</p>
<p>您可以使用Cloudflare的Wrangler CLI来编写Cloudflare Workers。对于本文，选择第一个选项。</p>
<p>目前，Cloudflare支持GitHub和GitLab。您可以从下一个窗口中选择您首选的Git托管提供商，并向Cloudflare授予必要的权限。一旦您成功配置了GitHub或GitLab，您将能够在这里看到这些库。</p>
<p>选择您想要部署的存储库并点击<strong>开始设置</strong>。您可以在下一个屏幕中更改项目的名称，或者选择您想要部署的分支。如果您熟悉Netlify或Vercel等其他服务，这个窗口可能看起来很相似。</p>
<p>从<strong>构建</strong> <strong>设置</strong>选项中选择<strong>创建React应用</strong>作为框架预设，因为我们将在这里部署一个React站点。</p>
<p><img data-attachment-id="132269" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/pages-deploy-build-setting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png" data-orig-size="730,407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pages-deploy-build-setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png" decoding="async" class="aligncenter size-full wp-image-132269 jetpack-lazy-image" src="../Images/150cc5fa9abceee6cb4bb4ce64be2085.png" alt="Cloudlfare Pages Deploy Build Setting" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting-300x167.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132269" data-permalink="https://blog.logrocket.com/using-cloudflare-pages-ipfs/attachment/pages-deploy-build-setting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png" data-orig-size="730,407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pages-deploy-build-setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132269" src="../Images/150cc5fa9abceee6cb4bb4ce64be2085.png" alt="Cloudlfare Pages Deploy Build Setting" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting-300x167.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pages-deploy-build-setting.png"/></noscript>
<p>您可以根据您的框架选择框架预设。对于Create React App，其余选项保持不变。</p>
<p>一旦部署完成并成功，您将获得一个URL，您可以从该URL访问您部署的网站。您还可以从项目的仪表板页面为您的应用程序设置自定义URL。</p>
<p>现在您已经设置了您的应用程序，您可以将您的应用程序发送到IPFS。从您的控制面板选择加入Cloudflare Pages与IPFS的集成(请记住，此选项尚未向所有人提供)。</p>
<p>一旦您选择了该服务，Cloudflare将为您的应用程序内容编制索引。一旦索引完成并成功，Cloudflare将为您提供索引内容的CID。使用这个CID，您可以使用任何IPFS网关提供商访问您的网站，如<a href="https://cf-ipfs.com/ipfs/bafybeifx7yeb55armcsxwwitkymga5xf53dxiarykms3ygqic223w5sk3m#x-ipfs-companion-no-redirect" target="_blank" rel="noopener">cf-ipfs.com</a>或从<a href="https://ipfs.github.io/public-gateway-checker/" target="_blank" rel="noopener">这个列表</a>中选择一个。</p>
<p>您的IPFS CID将看起来类似于<code>QmU1NvrJgDEBJieYKzjGEYUm6K8xb3uSUREfhaSzF5Gkgi</code>。</p>
<p>有了像<code>ipfs.co</code>这样的IPFS网关，你网站的IPFS链接看起来就会像<code><a href="https://ipfs.io/ipfs/QmU1NvrJgDEBJieYKzjGEYUm6K8xb3uSUREfhaSzF5Gkgi" target="_blank" rel="noopener">https://ipfs.io/ipfs/QmU1NvrJgDEBJieYKzjGEYUm6K8xb3uSUREfhaSzF5Gkgi\</a></code>。你的网站现在托管在IPFS网络上。</p>
<p>您也可以设置一个单独的域而不是整个CID来通过HTTP或IPFS协议访问您的网站。一旦您从Cloudflare为您的网站设置了自定义域，您就可以使用<a href="https://dnslink.dev/" target="_blank" rel="noopener"> DNSLink </a>通过IPFS或标准协议使用单个URL访问您的网站，具体取决于客户端。你只需要用记录<code>dnslink=/ipfs/FOLLOWED_BY_YOUR_CID</code>在你的域管理设置上创建一个新的TXT记录。</p>
<p>您现在可以使用<code>ipns://YOUR_DOMAIN.com</code>访问您的网站。</p>
<h2 id="conclusion">结论</h2>
<p>本文讨论了IPFS、Cloudflare页面，以及如何使用GitHub将网站部署到Cloudflare页面。我们还讨论了IPFS和Cloudflare的工作原理。Cloudflare还提供其他Web3服务，如自定义IPFS网关。</p>
<p>本文还简要介绍了如何利用Cloudflare页面将您的应用程序部署到IPFS网络。尽管Cloudflare Pages与IPFS的集成还不是每个人都可以尝试的，但我们可以预计到2022年底它将面向公众推出。</p><div class="code-block code-block-26">
<div class="blog-plug inline-plug blockchain-plug"><h2>加入像Bitso和Coinsquare这样的组织，他们使用LogRocket主动监控他们的Web3应用</h2><p>影响用户在您的应用中激活和交易的能力的客户端问题会极大地影响您的底线。如果您对监控UX问题、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/web3-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>