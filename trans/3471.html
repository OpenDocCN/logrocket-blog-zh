<html>
<head>
<title>How to create customized pop-up menus in React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在React Native - LogRocket博客中创建定制的弹出菜单</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/#0001-01-01">https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>如今，弹出菜单已经成为移动应用程序中重要且常见的一部分。当我们需要在单击按钮后提供一些菜单选项时，弹出菜单会很方便，这主要是因为我们不必使用额外的抽屉导航器。</p>
<p>弹出菜单通常显示在触发它的元素的顶部，如下面这个来自Twitter的例子所示:</p>
<p id="gdcalert1"><img data-attachment-id="136950" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/twitter-example-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg" data-orig-size="417,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Twitter example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1-257x300.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg" decoding="async" class="aligncenter size-full wp-image-136950 jetpack-lazy-image" src="../Images/4d3e1ef48373b28d12b30bcd61c105f0.png" alt="Twitter Example Of A Pop-Up Menu" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg 417w, https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1-257x300.jpg 257w" data-lazy-sizes="(max-width: 417px) 100vw, 417px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="136950" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/twitter-example-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg" data-orig-size="417,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Twitter example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1-257x300.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-136950" src="../Images/4d3e1ef48373b28d12b30bcd61c105f0.png" alt="Twitter Example Of A Pop-Up Menu" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg 417w, https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1-257x300.jpg 257w" sizes="(max-width: 417px) 100vw, 417px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/twitter-example-1.jpg"/></noscript>
<p>弹出菜单是改进React本机应用程序UI的一个好方法。它们提供了一个溢出菜单，如上所示，这些可以作为一个项目或按钮的辅助动作。</p>
<p>在本文中，我们将通过不同的例子来探索如何在React Native中创建弹出菜单。我们将创建一个基本的弹出菜单，一个带有图标和分隔线的自定义弹出菜单，以及一个带有滚动视图的弹出菜单(也包括图标和分隔线)。</p>

<h2 id="setting-up-environment">设置我们的环境</h2>
<p>为了建立开发环境，我们将使用Expo来引导我们的项目。首先，我们将在终端中运行以下命令:</p>
<pre class="language-bash hljs">npx create-expo-app rn-popup-menu 
</pre>
<p>这将创建一个名为<code>rn-popup-menu</code>的Expo项目。</p>
<p>接下来，我们将安装创建弹出菜单所需的库。这个库是react-native-popup-menu，<a href="https://github.com/instea/react-native-popup-menu" target="_blank" rel="noopener">在它的GitHub repo上找到这里</a>:</p>
<pre class="language-bash hljs">npm install react-native-popup-menu --save
</pre>
<p>为了在模拟器/仿真器中启动项目，我们将运行命令<code>npx expo start</code>并为iOS选择<strong> i </strong>，为Android选择<strong> a </strong>。现在，我们应该在iOS模拟器中看到这个:</p>
<p id="gdcalert2"><img data-attachment-id="136957" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/open-app-js-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Open app js screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png" decoding="async" class="aligncenter size-full wp-image-136957 jetpack-lazy-image" src="../Images/53fe17b7429b89afc34ff875431010e2.png" alt="Starting UI Screen Open App.js To Get Started On Your App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen-133x300.png 133w" data-lazy-sizes="(max-width: 400px) 100vw, 400px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="136957" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/open-app-js-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Open app js screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-136957" src="../Images/53fe17b7429b89afc34ff875431010e2.png" alt="Starting UI Screen Open App.js To Get Started On Your App" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen-133x300.png 133w" sizes="(max-width: 400px) 100vw, 400px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/open-app-js-screen.png"/></noscript>
<p>接下来，我们将创建一个名为<code>components</code>的文件夹。我们将在这里创建不同的弹出菜单示例。</p>

<p><a href="https://blog.logrocket.com/creating-a-pop-up-modal-in-react-native/" target="_blank" rel="noopener">为了创建一个由点击按钮触发的基本弹出菜单</a>，我们将在我们的<code>component</code>文件夹中创建一个名为<code>SimpleMenu.js</code>的文件。该组件将被呈现在<code>App.js</code>文件中:</p>
<pre class="language-javascript hljs">// SimpleMenu.js
import { StyleSheet, Text, View } from "react-native";
import React from "react";

const SimpleMenu = () =&gt; {
 return (
   &lt;View style={styles.container}&gt;
     &lt;Text&gt;SimpleMenu&lt;/Text&gt;
   &lt;/View&gt;
 );
};

export default SimpleMenu;

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
   justifyContent: "center",
   alignItems: "center",
 },
});
</pre>
<pre class="language-javascript hljs">// App.js
import { StyleSheet, Text, View } from "react-native";
import SimpleMenu from "./components/SimpleMenu";

export default function App() {
 return (
   &lt;View style={styles.container}&gt;
     &lt;SimpleMenu /&gt;
   &lt;/View&gt;
 );
}

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
 },
});
</pre>
<p>现在，这将在我们的模拟器/仿真器中呈现:</p>
<p id="gdcalert3"><img data-attachment-id="136959" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/simple-menu-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Simple menu ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png" decoding="async" class="aligncenter size-full wp-image-136959 jetpack-lazy-image" src="../Images/9d19a547b8ad8bf71129c11362aeb31c.png" alt="Simple Menu Ui" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui-133x300.png 133w" data-lazy-sizes="(max-width: 400px) 100vw, 400px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="136959" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/simple-menu-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Simple menu ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-136959" src="../Images/9d19a547b8ad8bf71129c11362aeb31c.png" alt="Simple Menu Ui" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui-133x300.png 133w" sizes="(max-width: 400px) 100vw, 400px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-ui.png"/></noscript>
<p>接下来，从弹出菜单的实现开始，我们来看看这个库的一些内置API:</p>
<ul>
<li>这是一个API，提供了强制处理弹出菜单的方法</li>
<li><code>Menu</code>:作为根菜单组件，用于定义菜单名称和其他必要的事件</li>
<li><code>MenuTrigger</code>:允许我们定义弹出菜单的显示位置</li>
<li><code>MenuOptions</code>:包含所有菜单选项</li>
<li><code>MenuOption</code>:所有菜单选项的包装组件</li>
</ul>
<p><a href="https://github.com/instea/react-native-popup-menu/blob/master/doc/api.md" target="_blank" rel="noopener">你可以在这里</a>阅读更多关于这些API的信息。现在，我们将利用这些API来创建一个<code>SimpleMenu.js</code>文件:</p>
<pre class="language-javascript hljs">// SimpleMenu.js
import { StyleSheet, Text, View } from "react-native";
import React from "react";
import {
 Menu,
 MenuProvider,
 MenuOptions,
 MenuOption,
 MenuTrigger,
} from "react-native-popup-menu";

const SimpleMenu = () =&gt; {
 return (
   &lt;MenuProvider style={styles.container}&gt;
     &lt;Menu&gt;
       &lt;MenuTrigger
         text="Click for Option menu"
         customStyles={{
           triggerWrapper: {
             top: -20,
           },
         }}
       /&gt;
       &lt;MenuOptions&gt;
         &lt;MenuOption onSelect={() =&gt; alert(`Save`)} text="Save" /&gt;
         &lt;MenuOption onSelect={() =&gt; alert(`Delete`)} text="Delete" /&gt;
       &lt;/MenuOptions&gt;
     &lt;/Menu&gt;
   &lt;/MenuProvider&gt;
 );
};

export default SimpleMenu;

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
   justifyContent: "center",
   alignItems: "center",
   padding: 30,
   flexDirection: "column",
 },
});
</pre>
<p>这里，我们用上面的API创建了一个简单的弹出菜单。<code>MenuProvider</code>包装所有菜单内容。在<code>MenuTrigger</code>中，我们正在传递我们想要显示的文本选项，这是<strong>点击选项菜单。</strong></p>
<p>我们还使用自定义样式来定义<code>MenuTrigger</code>内容样式。<code>MenuOptions</code>有两个<code>MenuOption</code>孩子；这些是点击<code>MenuTrigger</code>时会弹出的内容。</p>
<p>最后，<code>onSelect</code>事件在菜单选项被选中时触发它。当我们选择每个菜单选项时，我们将显示一条警告消息:</p>

<p><code>MenuTrigger</code>和<code>MenuOption</code>可以有个性化的子结构，也就是说，我们可以按照我们想要的方式定义子结构及其样式。让我们用图标代替文本(<strong>点击选项菜单</strong>)来显示<code>MenuTrigger</code>:</p>
<pre class="language-javascript hljs">// SimpleMenu.js
import {
 Menu,
 MenuProvider,
 MenuOptions,
 MenuOption,
 MenuTrigger,
} from "react-native-popup-menu";
import { Entypo } from "@expo/vector-icons";

const SimpleMenu = () =&gt; {
 return (
   &lt;MenuProvider style={styles.container}&gt;
     &lt;Menu&gt;
       &lt;MenuTrigger
         customStyles={{
           triggerWrapper: {
             top: -20,
           },
         }}
       &gt;
         &lt;Entypo name="dots-three-vertical" size={24} color="black" /&gt;
       &lt;/MenuTrigger&gt;
       &lt;MenuOptions&gt;
         &lt;MenuOption onSelect={() =&gt; alert(`Save`)} text="Save" /&gt;
         &lt;MenuOption onSelect={() =&gt; alert(`Delete`)} text="Delete" /&gt;
       &lt;/MenuOptions&gt;
     &lt;/Menu&gt;
   &lt;/MenuProvider&gt;
 );
};

export default SimpleMenu;
</pre>
<p>现在，我们的仿真器/模拟器中将显示一个菜单图标，可用于触发菜单选项:</p>
<p id="gdcalert7"><img data-attachment-id="136968" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/simple-menu-icon/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Simple menu icon" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png" decoding="async" class="aligncenter size-full wp-image-136968 jetpack-lazy-image" src="../Images/8b90f0ae14531e4a9d3cd870b47fa68f.png" alt="Simple Menu Icon Three Vertical Dors" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon-133x300.png 133w" data-lazy-sizes="(max-width: 400px) 100vw, 400px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="136968" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/simple-menu-icon/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Simple menu icon" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-136968" src="../Images/8b90f0ae14531e4a9d3cd870b47fa68f.png" alt="Simple Menu Icon Three Vertical Dors" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon-133x300.png 133w" sizes="(max-width: 400px) 100vw, 400px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/simple-menu-icon.png"/></noscript>

<p>我们可以将我们创建的弹出菜单向前推进一步，就像我们在文章开头显示的示例菜单一样。为此，我们将定制<code>MenuTrigger</code>和<code>MenuOption</code>来拥有一个文本分隔线和图标。</p>
<p>为此，我们将创建两个新文件<code>CustomMenu.js</code>和<code>CustomContents.js</code>。在<code>CustomMenu.js</code>中，我们将照常导入API，为<code>MenuTrigger</code>创建一个图标，并将其命名为<code>customStyles</code>。</p>
<p>对于<code>MenuOptions</code>，我们将显示六个选项。每个选项都是在<code>CustomContents.js</code>中创建的组件:</p>
<pre class="language-javascript hljs">// CustomContents.js 
import { MenuOption } from "react-native-popup-menu";
import { Text } from "react-native";
import { Entypo } from "@expo/vector-icons";
import { SimpleLineIcons } from "@expo/vector-icons";
import { EvilIcons } from "@expo/vector-icons";

export const Block = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;Entypo name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);

export const Mute = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;Entypo name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);
export const Follow = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;SimpleLineIcons name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);

export const Why = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;EvilIcons name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);
export const Question = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;SimpleLineIcons name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);
export const NotInterested = ({ text, iconName, value }) =&gt; (
 &lt;MenuOption
   onSelect={() =&gt; alert(`You clicked ${value}`)}
   customStyles={{
     optionWrapper: {
       flexDirection: "row",
       alignItems: "center",
       justifyContent: "space-between",
     },
   }}
 &gt;
   &lt;Text&gt;{text}&lt;/Text&gt;
   &lt;Entypo name={iconName} size={24} color="black" /&gt;
 &lt;/MenuOption&gt;
);
</pre>
<p>对于这里的每个组件，我们正在析构三个道具:<code>text</code>、<code>iconName</code>和<code>value</code>，它们来自我们传递给<code>CustomMenu.js</code>的每个组件。</p>
<p>基本上，我们显示一个文本和一个图标，并使用<code>onSelect</code>在选项被点击时触发一个事件。</p>
<p>在<code>CustomMenu.js</code>文件中，我们正在导入所有的组件(<code>Block</code>、<code> Mute</code>、<code>Follow</code>、<code>Why</code>、<code>Question</code>和<code> NotInterested</code>)，并将它们作为<code>MenuOptions</code>子组件。然后，我们为之前析构的三个道具传递值。</p>
<p>我们还创建了一个<code>divider</code>组件，并赋予它自己的风格:</p>
<pre class="language-javascript hljs">import { StyleSheet, Text, View } from "react-native";
import React from "react";
import {
 Menu,
 MenuProvider,
 MenuOptions,
 MenuTrigger,
} from "react-native-popup-menu";
import { Entypo } from "@expo/vector-icons";
import {
 Block,
 Mute,
 Follow,
 Why,
 Question,
 NotInterested,
} from "./CustomContents";

const Divider = () =&gt; &lt;View style={styles.divider} /&gt;;
const CustomMenu = () =&gt; {
 return (
   &lt;MenuProvider style={styles.container}&gt;
     &lt;Menu&gt;
       &lt;MenuTrigger
         customStyles={{
           triggerWrapper: {
             top: -20,
           },
         }}
       &gt;
         &lt;Entypo name="dots-three-horizontal" size={24} color="black" /&gt;
       &lt;/MenuTrigger&gt;
       &lt;MenuOptions
         customStyles={{
           optionsContainer: {
             borderRadius: 10,
           },
         }}
       &gt;
         &lt;NotInterested
           text="Not interested"
           value="Not Interested"
           iconName="emoji-sad"
         /&gt;
         &lt;Divider /&gt;
         &lt;Block text="Block" value="Block" iconName="block" /&gt;
         &lt;Divider /&gt;
         &lt;Mute text="Mute" value="Mute" iconName="sound-mute" /&gt;
         &lt;Divider /&gt;
         &lt;Follow text="Follow" value="Follow" iconName="user-follow" /&gt;
         &lt;Divider /&gt;
         &lt;Why text="Why this ad?" value="why this ad" iconName="question" /&gt;
         &lt;Divider /&gt;
         &lt;Question
           text="Report this ad"
           value="Report this ad"
           iconName="flag"
         /&gt;
       &lt;/MenuOptions&gt;
     &lt;/Menu&gt;
   &lt;/MenuProvider&gt;
 );
};

export default CustomMenu;

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
   marginVertical: 100,
   marginHorizontal: 100,
 },
 divider: {
   height: StyleSheet.hairlineWidth,
   backgroundColor: "#7F8487",
 },
});
</pre>
<p>现在，我们可以检查我们所拥有的:</p>
<p id="gdcalert8"><img data-attachment-id="136970" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/menu-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Menu options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png" decoding="async" class="aligncenter size-full wp-image-136970 jetpack-lazy-image" src="../Images/1e7f1f4fa2ed974b7cd6c16dcd37c9c8.png" alt="Menu Icon Options On Click" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options-133x300.png 133w" data-lazy-sizes="(max-width: 400px) 100vw, 400px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="136970" data-permalink="https://blog.logrocket.com/how-create-customized-pop-up-menus-react-native/attachment/menu-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png" data-orig-size="400,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Menu options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options-133x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-136970" src="../Images/1e7f1f4fa2ed974b7cd6c16dcd37c9c8.png" alt="Menu Icon Options On Click" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png 400w, https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options-133x300.png 133w" sizes="(max-width: 400px) 100vw, 400px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/menu-options.png"/></noscript>

<p>对于带有滚动视图的<a href="https://blog.logrocket.com/common-bugs-react-native-scrollview/" target="_blank" rel="noopener">弹出菜单的渲染，</a>我们可以使用<code>FlatList</code>或<code>ScrollView</code>。</p>
<p>就像平常一样，我们将创建一个<code>ScrollViewMenu.js</code>文件。我们还将创建一个<code>data.js</code>文件，在这里我们将获得用于滚动视图的数据。在这个文件中，我们将使用<code>FlatList</code>和<code>ScrollView</code>来实现<code>ScrollView</code>。</p>
<p>我们将用于创建滚动视图的数据将在<code>data.js</code>文件中创建:</p>
<pre class="language-javascript hljs">// data.js
import { Entypo } from "@expo/vector-icons";
export const data = [
 {
   id: 1,
   name: "Mute",
   icon: &lt;Entypo name="sound-mute" size={24} color="black" /&gt;,
 },
 {
   id: 2,
   name: "Block",
   icon: &lt;Entypo name="block" size={24} color="black" /&gt;,
 },
 {
   id: 3,
   name: "Attachment",
   icon: &lt;Entypo name="attachment" size={24} color="black" /&gt;,
 },
 {
   id: 4,
   name: "Battery",
   icon: &lt;Entypo name="battery" size={24} color="black" /&gt;,
 },
 {
   id: 5,
   name: "Behance",
   icon: &lt;Entypo name="behance" size={24} color="black" /&gt;,
 },
 {
   id: 6,
   name: "Bookmark",
   icon: &lt;Entypo name="bookmark" size={24} color="black" /&gt;,
 },
 {
   id: 7,
   name: "Chat",
   icon: &lt;Entypo name="chat" size={24} color="black" /&gt;,
 },
 {
   id: 8,
   name: "Camera",
   icon: &lt;Entypo name="camera" size={24} color="black" /&gt;,
 },
];
</pre>
<p>对于<code>FlatList</code>，我们将从新创建的<code>data.js</code>文件中导入数据，并导入菜单弹出API。数据数组将被传递给<code>FlatList</code> API组件，并将被映射，因此每个项目都可以在滚动视图中呈现:</p>
<pre class="language-javascript hljs">// ScrollViewMenu.js
import { StyleSheet, Text, View, FlatList, ScrollView } from "react-native";
import React from "react";
import {
 Menu,
 MenuProvider,
 MenuOptions,
 MenuOption,
 MenuTrigger,
} from "react-native-popup-menu";
import { Entypo } from "@expo/vector-icons";
import { data } from "../data";

const ScrollViewMenu = () =&gt; {
 return (
   &lt;MenuProvider style={styles.container}&gt;
     &lt;Menu&gt;
       &lt;MenuTrigger
         customStyles={{
           triggerWrapper: {
             top: -40,
           },
         }}
       &gt;
         &lt;Entypo name="dots-three-vertical" size={24} color="black" /&gt;
       &lt;/MenuTrigger&gt;
       &lt;MenuOptions&gt;
         &lt;FlatList
           data={data}
           keyExtractor={(item) =&gt; item.id}
           style={{ height: 200 }}
           renderItem={({ item }) =&gt; (
             &lt;MenuOption
               onSelect={() =&gt; alert(item.name)}
               customStyles={{
                 optionWrapper: {
                   flexDirection: "row",
                   alignItems: "center",
                   justifyContent: "space-between",
                 },
               }}
             &gt;
               &lt;Text&gt;{item.name}&lt;/Text&gt;
               &lt;Text&gt;{item.icon}&lt;/Text&gt;
             &lt;/MenuOption&gt;
           )}
         /&gt;
       &lt;/MenuOptions&gt;
     &lt;/Menu&gt;
   &lt;/MenuProvider&gt;
 );
};

export default ScrollViewMenu;

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
   marginVertical: 200,
   marginHorizontal: 100,
 },
});
</pre>
<p>现在，我们可以检查模拟器/仿真器中的内容:</p>

<p>对于<code>ScrollView</code>，将重复相同的过程，除了我们将使用<code>ScrollView</code> API组件:</p>
<pre class="language-javascript hljs">import { StyleSheet, Text, View, FlatList, ScrollView } from "react-native";
import React from "react";
import {
 Menu,
 MenuProvider,
 MenuOptions,
 MenuOption,
 MenuTrigger,
} from "react-native-popup-menu";
import { Entypo } from "@expo/vector-icons";
import { data } from "../data";

const ScrollViewMenu = () =&gt; {
 return (
   &lt;MenuProvider style={styles.container}&gt;
     &lt;Menu&gt;
       &lt;MenuTrigger
         customStyles={{
           triggerWrapper: {
             top: -40,
           },
         }}
       &gt;
         &lt;Entypo name="dots-three-vertical" size={24} color="black" /&gt;
       &lt;/MenuTrigger&gt;
       &lt;MenuOptions&gt;
          &lt;ScrollView style={{ height: 200 }}&gt;
           {data.map((item) =&gt; (
             &lt;MenuOption
               key={item.key}
               customStyles={{
                 optionWrapper: {
                   flexDirection: "row",
                   alignItems: "center",
                   justifyContent: "space-between",
                 },
               }}
             &gt;
               &lt;Text&gt;{item.name}&lt;/Text&gt;
               &lt;Text&gt;{item.icon}&lt;/Text&gt;
             &lt;/MenuOption&gt;
           ))}
         &lt;/ScrollView&gt;
       &lt;/MenuOptions&gt;
     &lt;/Menu&gt;
   &lt;/MenuProvider&gt;
 );
};

export default ScrollViewMenu;

const styles = StyleSheet.create({
 container: {
   flex: 1,
   backgroundColor: "#fff",
   marginVertical: 200,
   marginHorizontal: 100,
 },
});
</pre>
<p>最后，我们已经成功地在React Native中实现了一个带有滚动视图的弹出菜单，如上面的模拟器/仿真器所示！</p>
<h2 id="conclusion">结论</h2>
<p>我希望这篇文章能让您了解如何根据自己的喜好构建自己的React本机弹出菜单！</p>
<p>当在React Native中构建在弹出菜单中有几个选项的移动应用程序时，它们肯定会派上用场。弹出式菜单也允许用户滚动到他们喜欢的选项。</p>
<p>希望本文也向您展示了如何在弹出菜单中实现图标，以及如何使用分隔线之类的东西。</p>
<p>你可以在这里查看完整的代码。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>