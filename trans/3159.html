<html>
<head>
<title>Build 3D visuals in Vue with Lunchbox.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 Lunchbox.js - LogRocket 博客在 Vue 中构建 3D 视觉效果</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/#0001-01-01">https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>自 2010 年问世以来，<a href="https://threejs.org" target="_blank" rel="noopener"> Three.js </a>已经成为在网络上构建 3D 视觉效果的事实标准。多年来，已经在这个库的基础上构建了几个抽象，整合了它的特性和 JavaScript 库的大型生态系统，以创建快速、出色和高性能的 web 应用程序。</p>
<p>随着 Vue.js 的成熟，它已经成为基于组件的用户界面开发的首选库之一。Vue 和 Three.js 的设计目标都差不多；这两种工具都以不同的方式控制 UI 元素，在 web 上创建交互式视觉效果。</p>
<p>在本文中，我们将介绍为 Three.js 定制的渲染器<a href="https://lunchboxjs.com" target="_blank" rel="noopener"> Lunchbox.js </a>。我们将涵盖开始使用 Lunchbox.js 在 Vue 中构建 3D 视觉效果所需的一切:</p>

<h2 id="prerequisites">先决条件</h2>
<p>要阅读本文，您应该具备以下条件:</p>
<ul>
<li>Vue 的基础知识及其概念</li>
<li>对 Three.js 的基本了解</li>
</ul>
<h2 id="what-is-lunchbox">什么是 Lunchbox.js？</h2>
<p>Lunchbox.js 使用 Vue 的基于组件的模型和声明式风格来处理必要的 Three.js 功能。</p>
<p>该库通过组件提供对原始 Three.js 对象和类的访问，例如:</p>
<ul>
<li>网状物</li>
<li>光</li>
<li>几何</li>
<li>组</li>
<li>材料</li>
</ul>
<p>这些组件是 Lunchbox.js 的构建块，它们是 Three.js 类的直接翻译。</p>
<p>例如，当在一个普通的 Three.js 项目中创建一个标准网格时，我们将使用一个类似于<code>BoxGeometry()</code>的几何类来创建一个长方体形状，使用类似于<code>MeshBasicMaterial()</code>的材质类对其应用颜色，然后通过使用<code>Mesh()</code>类组合两个对象来将其映射到几何图形，就像下面的代码一样:</p>
<pre class="language-javascript hljs">// create geometry with sides of length 1
const geometry = new THREE.BoxGeometry(1, 1, 1)
// create yellow basic material
const material = new THREE.MeshBasicMaterial({ color: 0xffff00 })
// combine geometry + material in mesh
const mesh = new THREE.Mesh(geometry, material)
// add that mesh to the scene (assuming you've created a scene)
scene.add(mesh)
</pre>
<p>为了在 Lunchbox.js 应用程序中创建相同的网格，我们将使用相同的类，除了作为组件，而不是将它们分配给变量并与一个<code>Mesh()</code>类组合，我们将它们嵌套在一个<code>&lt;mesh&gt;</code>组件中，如下所示:</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
    &lt;mesh&gt;
        &lt;boxGeometry :args="[1, 1 ,1]" /&gt;
        &lt;meshBasicMaterial :color="0xffff00" /&gt;
    &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p>您会注意到在上面的例子中，每个<code>&lt;Lunchbox&gt;</code>组件都匹配相应的带有 camelCase 名称的 Three.js 类。</p>
<pre class="language-javascript hljs">// three.js
new THREE.Mesh()
&lt;!-- Lunchbox --&gt;
&lt;mesh/&gt;
// three.js
new THREE.BoxGeometry()
&lt;!-- Lunchbox --&gt;
&lt;boxGeometry/&gt;
</pre>
<p>Lunchbox.js 和 Three.js 的语法非常相似，但是有一些不同之处需要注意。例如，每个<code>&lt;Lunchbox&gt;</code>组件都使用<code>args</code>属性将参数作为道具。<code>args</code> prop 接受一个参数数组，并将其传递给组件的类构造函数。</p>
<pre class="language-javascript hljs">new THREE.BoxGeometry(1, 2, 3)
</pre>
<p>上面的代码在午餐盒中会转化为以下内容:</p>
<pre class="language-javascript hljs">&lt;boxGeometry :args="[1, 2, 3]" /&gt;
</pre>
<p>其他的 Three.js 对象属性，比如<code>MeshBasicMaterial</code>类的<code>color</code>属性，可以被添加为<code>&lt;Lunchbox&gt;</code>组件上的反应道具。这就像我们在前面的例子中看到的一样。</p>
<pre class="language-javascript hljs">&lt;meshBasicMaterial :color="red" /&gt;
</pre>
<p>然而，利用点符号的属性，如<code>position</code>向量，将在<code>&lt;Lunchbox&gt;</code>组件中用破折号<code>-</code>来设置，如下所示:</p>
<pre class="language-javascript hljs">&lt;mesh :position-x="3" /&gt;
</pre>
<p>午餐盒为大多数 Three.js 类提供了内置支持；你可以在这里找到组件列表<a href="https://github.com/breakfast-studio/lunchboxjs/blob/main/src/components/autoGeneratedComponents.ts/" target="_blank" rel="noopener">。</a></p>
<p>包含组件中没有的类可以使用 Lunchbox 的<code>app.extend</code>方法添加。例如，下面是我们如何将<code>orbitControl</code>类添加到午餐盒中:</p>
<pre class="language-javascript hljs">import { createApp } from 'lunchboxjs'
import App from 'YourApp.vue'
//Import the class from three.js
import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'
// tell the app to extend Lunchbox to include OrbitControls and mount the app
createApp(App)
    .extend({ OrbitControls })
    .mount('#app')    
</pre>
<p><code>extend()</code>方法是 Lunchbox 的独特特性之一，用该方法添加的类继承了<code>&lt;Lunchbox&gt;</code>组件的所有特性。</p>
<p>我们已经了解了 Lunchbox.js 的核心概念，接下来我们将看看如何使用 Lunchbox 进行构建。在本教程中，我们将学习更多关于库的概念。</p>
<h2 id="getting-started-with-lunchbox">Lunchbox.js 入门</h2>
<p>要设置一个 Lunchbox.js 应用程序，首先使用 Vite 的 CLI 安装 Vue:</p>
<pre class="language-javascript hljs">npm create <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="baccd3cedffad6dbcedfc9ce">[email protected]</a>
</pre>
<p>运行命令后，从库列表中选择 Vue，并为项目命名。接下来，将 cd 放入项目文件夹并运行以下命令:</p>
<pre class="language-javascript hljs">npm install lunchboxjs three
</pre>
<p>该命令将安装 Lunchbox.js 和 Three.js 作为 Vue 应用程序的依赖项。您可以在根目录下的<code>package.json</code>文件中查看它们。</p>
<p>接下来，清除项目中的样板代码，打开<code>main.js</code>文件，并替换以下代码:</p>
<pre class="language-javascript hljs">import { createApp } from 'vue'
import App from './App.vue'
createApp(App).mount('#app')
</pre>
<p>使用此代码:</p>
<pre class="language-javascript hljs">import { createApp } from 'lunchboxjs'
import App from './App.vue'
createApp(App).mount('#app')
</pre>
<p>这里，我们从<code>lunchboxjs</code>而不是从<code>vue</code>导入了<code>createApp</code>函数。这将把 Vue 应用程序转变成一个午餐盒环境。</p>
<p>现在，我们可以开始在我们的应用程序中构建和渲染 3D 对象。</p>
<h2 id="creating-a-scene">创建场景</h2>
<p>场景是一个对象，它允许我们设置要渲染的项目。它就像一个显示区域，可以将对象放在一起并呈现给浏览器。下面是一个在 Three.js 中设置的<code>scene</code>的例子:</p>
<pre class="language-javascript hljs">const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );
</pre>
<p>在 Lunchbox.js 中设置一个场景更加简单，也不那么神秘。该库提供了一个<code>&lt;Lunchbox&gt;</code>组件，其中包含在 Three.js 中创建渲染器和场景的底层代码。</p>
<p>要设置它，转到<code>App.vue</code>主组件，将<code>&lt;Lunchbox&gt;</code>组件放在模板部分内，就像这样:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;Lunchbox&gt;
            &lt;!-- ... --&gt;
  &lt;/Lunchbox&gt;
&lt;/template&gt;
</pre>
<p>嵌套在<code>&lt;Lunchbox&gt;</code>标签中的每个对象都将被渲染到浏览器中。如果您保存代码并启动开发服务器，您应该会看到一个类似下面的黑屏。</p>
<p><img data-attachment-id="124363" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/black-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Black screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png" decoding="async" class="aligncenter size-full wp-image-124363 jetpack-lazy-image" src="../Images/d87045fa693e5f2087f31b3e8dceba2e.png" alt="Black Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen-300x161.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124363" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/black-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Black screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124363" src="../Images/d87045fa693e5f2087f31b3e8dceba2e.png" alt="Black Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen-300x161.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-screen.png"/></noscript>
<p>这个黑屏是我们应用的渲染器；我们添加到场景中的任何东西都会显示在这里。你可以用一个<code>background</code>道具改变背景颜色，就像这样:</p>
<pre class="language-javascript hljs">&lt;Lunchbox background="indigo"&gt;
            &lt;!-- ... --&gt;
&lt;/Lunchbox&gt;
</pre>
<p><img data-attachment-id="124367" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/purple-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Purple screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png" decoding="async" class="aligncenter size-full wp-image-124367 jetpack-lazy-image" src="../Images/ed28073b248cdd768da1ed52d4e25ebf.png" alt="Purple Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen-300x161.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124367" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/purple-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Purple screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124367" src="../Images/ed28073b248cdd768da1ed52d4e25ebf.png" alt="Purple Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen-300x161.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/purple-screen.png"/></noscript>
<p>以下是你可以在<code>&lt;Lunchbox&gt;</code>组件上使用的一些道具:</p>
<ul>
<li><code>background</code></li>
<li><code>cameraPosition</code></li>
<li><code>camera</code></li>
<li><code>zoom</code></li>
<li><code>shadow</code></li>
</ul>
<h2 id="adding-meshes">添加网格</h2>
<p>几何图形是用于定义网格形状的 Three.js 类。在本文的前面，我们演示了如何使用<code>boxGeometry</code>组件渲染长方体网格。在这里，我们将看到如何在浏览器中渲染更多的 3D 形状。</p>
<p>Lunchbox.js 带有几个自动生成的内置几何组件，你可以在这里看到可用组件的列表<a href="https://github.com/breakfast-studio/lunchboxjs/blob/main/src/components/autoGeneratedComponents.ts/" target="_blank" rel="noopener">。</a></p>
<p>继续在<code>Lunchbox</code>标签中添加一个<code>&lt;mesh&gt;</code>组件，并在其中嵌套您选择的任何几何组件。不要忘记包括一个带有<code>color</code>道具的材质组件。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
  &lt;mesh&gt;
     &lt;boxGeometry /&gt;
     &lt;MeshBasicMaterial color="red"/&gt; 
  &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p><img data-attachment-id="124372" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/red-cube/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png" data-orig-size="660,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Red cube" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png" decoding="async" class="aligncenter size-full wp-image-124372 jetpack-lazy-image" src="../Images/9d373cbb5f49e33552669c72bb5050b4.png" alt="Red Cube" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png 660w, https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-300x180.png 300w" data-lazy-sizes="(max-width: 660px) 100vw, 660px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124372" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/red-cube/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png" data-orig-size="660,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Red cube" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124372" src="../Images/9d373cbb5f49e33552669c72bb5050b4.png" alt="Red Cube" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png 660w, https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-300x180.png 300w" sizes="(max-width: 660px) 100vw, 660px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube.png"/></noscript>
<p>材质组件利用<a href="https://threejs.org/docs/#api/en/materials/Material" target="_blank" rel="noopener"> Three.js <code>Material()</code> </a>类来定义<code>mesh</code>的各种表面属性。</p>
<p>一个<code>&lt;mesh&gt;</code>组件只接受一个<code>Geometry()</code>和<code>Material()</code>组件。为了给场景添加更多的形状，我们必须创建更多的网格，每个<code>Geometry()</code>一个，如下所示。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
      &lt;mesh&gt;
         &lt;boxGeometry /&gt;
         &lt;MeshBasicMaterial color="red"/&gt; 
      &lt;/mesh&gt;
      &lt;mesh&gt;
         &lt;torusKnotBufferGeometry /&gt;
         &lt;MeshBasicMaterial color="grey"/&gt; 
      &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p><img data-attachment-id="124374" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/red-cube-gray-squiggle/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Red cube and gray squiggle" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png" decoding="async" class="aligncenter size-full wp-image-124374 jetpack-lazy-image" src="../Images/e90b840f143ef07d22d17c8983339a0e.png" alt="Red Cube and Gray Squiggle" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle-300x155.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124374" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/red-cube-gray-squiggle/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png" data-orig-size="730,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Red cube and gray squiggle" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124374" src="../Images/e90b840f143ef07d22d17c8983339a0e.png" alt="Red Cube and Gray Squiggle" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle-300x155.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/red-cube-gray-squiggle.png"/></noscript>
<p>或者，我们可以为每个形状创建单独的组件，并将它们导入主组件，如下所示:</p>
<pre class="language-javascript hljs">&lt;script&gt;
      import {Sphere} from './Sphere.vue'
&lt;/script&gt;
&lt;template&gt;
      &lt;Lunchbox&gt;
            &lt;Sphere /&gt;
      &lt;/Lunchbox&gt;
&lt;/template&gt;
</pre>
<p>每个<code>Geometry</code>组件接受独特的参数，这些参数可用于微调和操作其宽度、高度、平滑度和其他视觉特征。这些参数可以在饭盒中使用<code>args</code>道具进行设置。</p>
<pre class="language-javascript hljs">&lt;torusKnotBufferGeometry :args="[1, 0.4, 240, 20]"/&gt;
</pre>
<p><code>&lt;mesh&gt;</code>组件也接受几个道具。由于它是<code>Geometry()</code>的容器，它也可以用来操纵位置、旋转等。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
  &lt;mesh position-x="4" position-x="4"&gt;
      ...
  &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p>在上面的代码中，我们添加了一个<code>position</code>道具，它将沿着 x 轴向右移动球体网格 4px。</p>
<p>以下是一些可用于操纵形状的网格道具:</p>
<ul>
<li><code>position (x, y, z)</code></li>
<li><code>rotation (x, y, x)</code></li>
<li><code>scale (x, y)</code></li>
</ul>
<p>网格也可以使用<code>&lt;group&gt;</code>组件进行分组。这个组件充当几何图形的容器，我们可以在每个<code>&lt;group&gt;</code>中添加任意多的<code>&lt;mesh&gt;</code>。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
     &lt;group&gt;
        &lt;mesh&gt;
           &lt;boxGeometry /&gt;
           &lt;MeshBasicMaterial color="red"/&gt; 
        &lt;/mesh&gt;
        &lt;mesh&gt;
           &lt;torusKnotGeometry /&gt;
           &lt;MeshBasicMaterial color="grey"/&gt; 
        &lt;/mesh&gt;
     &lt;/group&gt;
&lt;/Lunchbox&gt;
</pre>
<h2 id="adding-textures">添加纹理</h2>
<p>目前，我们的网格看起来不是很真实。应用材料使它们看起来有点塑料。我们可以应用纹理，使用饭盒中的<code>&lt;textureLoader&gt;</code>组件，给每个网格一个更真实的外观。</p>
<p><code>&lt;textureLoader&gt;</code>组件利用了<a href="https://threejs.org/docs/#api/en/textures/Texture" target="_blank" rel="noopener"> Three.js <code>Texture()</code>类</a>，让我们将真实的纹理映射到引擎罩下的网格表面。为了演示这个过程，我们将创建一个地球的 3D 模型。</p>
<p><img data-attachment-id="124376" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png" decoding="async" class="aligncenter size-full wp-image-124376 jetpack-lazy-image" src="../Images/8501e08c1642d5546778740a147f01b8.png" alt="3D Earth Render" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-300x158.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124376" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124376" src="../Images/8501e08c1642d5546778740a147f01b8.png" alt="3D Earth Render" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-300x158.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render.png"/></noscript>
<p>要创建地球，清理场景，然后使用<code>&lt;sphereGeometry</code> <code>/&gt;</code>组件创建一个新的球形几何网格。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
  &lt;mesh&gt;
     &lt;sphereGeometry /&gt;
  &lt;/mesh&gt; 
&lt;/Lunchbox&gt;
</pre>
<p>接下来，在网格中添加一个<code>&lt;meshPhysicalMaterial&gt;</code>组件，并将<code>&lt;textureLoader&gt;</code>嵌套在其中，如下所示:</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
  &lt;mesh&gt;
      &lt;sphereGeometry :args="[1, 32, 32]" /&gt;
      &lt;meshPhysicalMaterial&gt;
            &lt;textureLoader /&gt;
      &lt;/meshPhysicalMaterial&gt;
  &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p><code>&lt;textureLoader&gt;</code>组件接受一个<code>src</code>和一个<code>attach</code>道具。<code>src</code>道具接受纹理材质的相对或绝对路径，而<code>attach</code>道具接受贴图选项。</p>
<p>在这个例子中，我们将使用<code>map</code>和<code>bumpMap</code>选项。换句话说，我们必须在网格组件中声明第二个<code>&lt;textureLoader&gt;</code>。</p>
<p>抓取下面的图片，并将它们放在项目的<code>/public</code>文件夹中:</p>
<p><img data-attachment-id="124378" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/map-of-earth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Map of Earth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth-300x150.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg" decoding="async" class="aligncenter size-full wp-image-124378 jetpack-lazy-image" src="../Images/73820e9b897afe5f1d98e37c9d94ee9b.png" alt="Map of Earth" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth-300x150.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124378" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/map-of-earth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Map of Earth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth-300x150.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124378" src="../Images/73820e9b897afe5f1d98e37c9d94ee9b.png" alt="Map of Earth" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth-300x150.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/map-of-earth.jpeg"/></noscript>
<p><img data-attachment-id="124380" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/grayscale-map-of-earth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grayscale map of Earth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth-300x150.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg" decoding="async" class="aligncenter size-full wp-image-124380 jetpack-lazy-image" src="../Images/600a14259a5172da2d5ceafd2a85fb0e.png" alt="Grayscale Map of Earth" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth-300x150.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124380" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/grayscale-map-of-earth/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grayscale map of Earth" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth-300x150.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124380" src="../Images/600a14259a5172da2d5ceafd2a85fb0e.png" alt="Grayscale Map of Earth" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth-300x150.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/grayscale-map-of-earth.jpeg"/></noscript>
<p>接下来，将第一个图像的路径添加到第一个<code>&lt;textureLoader&gt;</code>组件的<code>src</code>属性中，并给<code>attach</code>属性一个<code>"map"</code>值。</p>
<pre class="language-javascript hljs">&lt;meshPhysicalMaterial&gt;
      &lt;textureLoader src="/first-image" attach="map" /&gt;
      &lt;textureLoader ... /&gt;
&lt;/meshPhysicalMaterial&gt;
</pre>
<p>如果您现在保存项目，浏览器中将出现一个球形轮廓。这是因为我们的场景没有光源。</p>
<p><img data-attachment-id="124382" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/black-circle/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png" data-orig-size="686,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Black circle" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png" decoding="async" class="aligncenter size-full wp-image-124382 jetpack-lazy-image" src="../Images/2ed2a23fb61be8f571d7c0d50b4b537b.png" alt="Black Circle" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png 686w, https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle-300x167.png 300w" data-lazy-sizes="(max-width: 686px) 100vw, 686px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124382" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/black-circle/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png" data-orig-size="686,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Black circle" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124382" src="../Images/2ed2a23fb61be8f571d7c0d50b4b537b.png" alt="Black Circle" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png 686w, https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle-300x167.png 300w" sizes="(max-width: 686px) 100vw, 686px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/black-circle.png"/></noscript>
<p>要解决这个问题，请在<code>&lt;Lunchbox&gt;</code>组件中添加<code>&lt;pointLight</code> <code>/&gt;</code>和<code>&lt;directionalLight</code> <code>/&gt;</code>组件。</p>
<pre class="language-javascript hljs">&lt;Lunchbox&gt;
  &lt;directionalLight /&gt;
  &lt;pointLight /&gt;
  &lt;mesh&gt;
      ...
  &lt;/mesh&gt;
&lt;/Lunchbox&gt;
</pre>
<p>现在，如果您保存项目并返回浏览器，您应该会看到类似下图的内容:</p>
<p><img data-attachment-id="124385" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png" data-orig-size="720,394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Smooth 3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png" decoding="async" class="aligncenter size-full wp-image-124385 jetpack-lazy-image" src="../Images/68b1ae7cc6e8863cec6ac18680dbaff1.png" alt="Smooth 3D Earth Render" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2-300x164.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124385" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png" data-orig-size="720,394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Smooth 3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124385" src="../Images/68b1ae7cc6e8863cec6ac18680dbaff1.png" alt="Smooth 3D Earth Render" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2-300x164.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-2.png"/></noscript>
<p>为了使图像更加有趣和视觉震撼，我们将使用第二个图像添加真实的轮廓到地球。</p>
<p>我们将像处理第一张图片一样处理它。将图像的路径添加到<code>src</code>属性，但是这次给<code>attach</code>属性一个<code>"bumpMap"</code>值。</p>
<p><img data-attachment-id="124387" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/textured-3d-earth-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Textured 3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png" decoding="async" class="aligncenter size-full wp-image-124387 jetpack-lazy-image" src="../Images/a3d94f7b00a3de4175104fabe02cb5c6.png" alt="Textured 3D Earth Render" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render-300x158.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124387" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/textured-3d-earth-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png" data-orig-size="730,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Textured 3D Earth render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render-300x158.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124387" src="../Images/a3d94f7b00a3de4175104fabe02cb5c6.png" alt="Textured 3D Earth Render" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render-300x158.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/textured-3d-earth-render.png"/></noscript>
<h2 id="adding-animation">添加动画</h2>
<p>Lunchbox.js 提供了一个<code>onBeforeRender</code>函数，在渲染之前或之后的每一帧都会调用这个函数。有了这个函数，我们可以通过在每一帧上给它的<code>rotation</code>属性添加一个值来激活我们的地球。</p>
<p>转到<code>App.vue</code>组件的脚本部分，从 Vue 导入<code>ref</code>,从 Lunchbox 导入<code>onBeforeRender</code>函数。</p>
<pre class="language-javascript hljs">import {ref} from 'vue'
import {onBeforeRender} from 'lunchboxjs'
</pre>
<p>接下来，将<code>ref</code>分配给一个<code>rotation</code>变量，并传递给它一个具有以下属性的对象:</p>
<pre class="language-javascript hljs">const rotation = ref({y: 0});
</pre>
<p>然后，调用<code>onBeforeRender</code>函数并添加以下代码:</p>
<pre class="language-javascript hljs">onBeforeRender(() =&gt;{
   rotation.value.y += 0.02
})
</pre>
<p>这里，我们在每一帧上给对象的 y 轴旋转增加 0.02 度。最后，给地球的网格添加一个<code>rotation-y</code>道具，并传递给它<code>rotation.y</code>值，就像这样:</p>
<pre class="language-javascript hljs">&lt;mesh rotation-y="rotation.y"&gt;
        &lt;sphereGeometry /&gt;
        &lt;meshPhysicalMaterial&gt;
              &lt;textureLoader ... /&gt;
              &lt;textureLoader ... /&gt;
        &lt;/meshPhysicalMaterial&gt;
  &lt;/mesh&gt;
</pre>
<p>现在，如果你保存这个项目，你的地球仪应该像下面的例子一样很好的动画。</p>
<p><img data-attachment-id="124390" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-turning/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth render turning" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning-300x166.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif" decoding="async" class="aligncenter size-full wp-image-124390 jetpack-lazy-image" src="../Images/9a82743485afdbab5e25bb4ef8680933.png" alt="3D Earth Render Turning" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124390" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-turning/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth render turning" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning-300x166.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124390" src="../Images/9a82743485afdbab5e25bb4ef8680933.png" alt="3D Earth Render Turning" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-turning.gif"/></noscript>
<p>您可以通过将<code>x</code>和<code>z</code>属性添加到<code>ref</code>、<code>onBeforeRender</code>函数和地球网格中来添加更多旋转动画。</p>
<h2 id="adding-events">添加事件</h2>
<p>我们可以将事件监听器添加到<code>&lt;Lunchbox&gt;</code>组件中，就像我们在 Vue 中添加任何其他元素一样。为了演示，我们将添加一个单击事件，当它被触发时，将暂停我们的地球动画。</p>
<p>继续在地球网格上创建一个<code>onClick</code>事件，如下所示:</p>
<pre class="language-javascript hljs">&lt;mesh rotation-y="rotation.y" @click=""&gt;
    ...
&lt;/mesh&gt;
</pre>
<p>接下来，用<code>ref</code>创建一个变量，并给它传递一个布尔值<code>true</code>。用一个<code>if</code>语句将声明包装在<code>onBeforeRender</code>函数中:</p>
<pre class="language-javascript hljs">const active = ref(true)
onBeforeRender(() =&gt;{
 if(active){
   rotation.value.y += 0.02
  }
})
</pre>
<p>这里，我们将变量<code>active</code>指定为<code>if</code>语句的条件。当该值设置为<code>false</code>时，将不执行语句中的代码，动画将暂停。</p>
<p>最后，将以下代码添加到<code>&lt;mesh&gt;</code>组件上的<code>onClick</code>事件中:</p>
<pre class="language-javascript hljs">&lt;mesh rotation-y="rotation.y" @click="active = !active"&gt;
    ...
&lt;/mesh&gt;
</pre>
<p>现在，当单击地球时，它的动画将暂停并播放，如下所示:</p>
<p><img data-attachment-id="124392" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-pausing-when-clicked/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif" data-orig-size="730,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth Render pausing when clicked" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked-300x160.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif" decoding="async" class="aligncenter size-full wp-image-124392 jetpack-lazy-image" src="../Images/5db46c133d4843039600db2d9b397500.png" alt="3D Earth Render Pausing When Clicked" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="124392" data-permalink="https://blog.logrocket.com/build-3d-visuals-vue-lunchbox-js/attachment/3d-earth-render-pausing-when-clicked/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif" data-orig-size="730,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="3D Earth Render pausing when clicked" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked-300x160.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-124392" src="../Images/5db46c133d4843039600db2d9b397500.png" alt="3D Earth Render Pausing When Clicked" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/3d-earth-render-pausing-when-clicked.gif"/></noscript>
<p>就是这样！我们已经在 Vue 中成功构建了 3D 视觉效果！</p>
<p>作为一个挑战，尝试在场景中添加一个有星星的黑色背景，给地球一个更真实的感觉。通过在场景中添加一个平面几何体并映射夜空的纹理，你可以很容易地实现这一点。祝你好运！</p>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们介绍了 Lunchbox.js 的核心概念，并演示了如何使用该工具在 Vue 中创建 3D 视觉效果。在我们的教程中，我们创建了一个场景，构建了不同的网格几何体，向网格添加了纹理，动画网格，并向场景中的对象添加了事件侦听器。</p>
<p>Lunchbox.js 仍在开发中，但已经可以投入生产了。您可以放心地将它与您的应用程序一起发运。要了解更多关于这个库的信息，请访问官方文档并查看一些用 Lunchbox.js 构建的示例项目。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的 Vue 应用</h2><p>调试 Vue.js 应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的 Vue 突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的 DVR，记录你的 Vue 应用程序中发生的一切，包括网络请求、JavaScript 错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex 插件将 Vuex 突变记录到 LogRocket 控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试 Vue 应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>