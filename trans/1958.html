<html>
<head>
<title>React Final Form: A library for more performant forms - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Final Form:一个性能更好的表单库</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/#0001-01-01">https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/#0001-01-01</a></blockquote><div><article class="article-post">
<p>有许多库可用于创建和管理表单。在 React 中，表单总是有点复杂。表单库旨在简化表单管理而不影响性能。</p>
<p>在本文中，我们将看看<a href="https://github.com/final-form/react-final-form"> React Final Form </a>，这是一个流行的表单管理库。我们将介绍 React Final Form 是如何工作的，将它与一些竞争对手进行比较，最后用一个相关的例子进行测试。我们开始吧！</p>
<h2 id="whatisreactfinalform">什么是反应最终形式？</h2>
<p>React Final Form 是一个用核心 JavaScript 编写的轻量级表单库，它作为一个表单状态管理库,<a href="https://final-form.org"> Final Form </a>的包装器。</p>
<p>React 最终形式使用<a href="https://blog.logrocket.com/how-typescript-design-patterns-help-you-write-better-code/#theobserverpattern:Iknowwhathappenedtoyou">观察者设计模式</a>，其中组件订阅特定事件。不是重新呈现整个表单，而是仅重新呈现已订阅的字段。</p>
<p>让我们看看 React Final Form 的一些主要特性。</p>
<h3>最小束尺寸</h3>
<p>React 最终表单是一个简单的最终表单库的包装器。它没有依赖性，并且是用纯 JavaScript 编写的，这使得它与框架无关。React 最终形式的 bundle 大小只有<a href="https://bundlephobia.com/package/react-final-form@6.5.3"> 3.2kB minified </a>和 gzipped。</p>
<h3>简单</h3>
<p>由于其简单的表单状态管理，React Final Form 强调为所需功能编写代码，而不是为简单表单编写不必要的代码。React Final Form 的设计是高度模块化的，这使它成为许多用例的完美选择。</p>
<h3>高性能</h3>
<p>虽然在小表单中重新渲染没什么大不了的，但是随着表单大小的增加，我们会发现每次重新渲染的性能都会有明显的滞后。由于其基于订阅的模式，React Final Form 仅重新呈现必填字段，以防止延迟。</p>
<p>现在我们知道了 React Final Form 的基础知识，让我们来看看 Formik，一个类似的库，看看这两者是如何比较的。</p>
<h2 id="comparisontoformik">与 Formik 的比较</h2>
<p>Formik 是一个库，它在三个方面帮助开发人员编写 React 代码:获取表单状态的值、验证和错误消息，以及表单提交。</p>
<h3>受欢迎程度和社区</h3>
<p>让我们看看这两个图书馆的<a href="https://www.npmtrends.com/"> npm </a>趋势，以衡量受欢迎程度和社区规模。我们看到，在过去的六个月里，<a href="https://formik.org/"> Formik </a>获得了比 React Final Form 更高的周下载量。</p>
<p><img data-attachment-id="58946" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-react-final-form-npm-downloads/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png" data-orig-size="730,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-react-final-form-npm-downloads" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads-300x118.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png" decoding="async" class="aligncenter wp-image-58946 size-full jetpack-lazy-image" src="../Images/94a9b44168a377a62749a578a85f643f.png" alt="Formik React Final Form Npm Downloads" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads-300x118.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58946" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-react-final-form-npm-downloads/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png" data-orig-size="730,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-react-final-form-npm-downloads" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads-300x118.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png" decoding="async" loading="lazy" class="aligncenter wp-image-58946 size-full" src="../Images/94a9b44168a377a62749a578a85f643f.png" alt="Formik React Final Form Npm Downloads" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads-300x118.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-react-final-form-npm-downloads.png"/></noscript>
<p>在 GitHub 上，<a href="https://github.com/final-form/react-final-form"> React 最终形态</a>有 6.6K 颗星，而<a href="https://github.com/formium/formik"> Formik </a>有 27.7K 颗星。Formik 显然有一个更大的在线社区，但是，这两个库都有大量的线程和论坛，这意味着您应该能够获得社区支持。</p>
<p>正如下面的截图所示，这两个库都经常更新:</p>
<p><img data-attachment-id="58947" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-formik-updates/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-formik-updates" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png" decoding="async" class="aligncenter wp-image-58947 size-full jetpack-lazy-image" src="../Images/19dcafd24db5ce6394c10d74f94f876b.png" alt="React Final Form Formik Updates" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates-300x67.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58947" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-formik-updates/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-formik-updates" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png" decoding="async" loading="lazy" class="aligncenter wp-image-58947 size-full" src="../Images/19dcafd24db5ce6394c10d74f94f876b.png" alt="React Final Form Formik Updates" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates-300x67.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-formik-updates.png"/></noscript>
<p>React Final Form 目前在 GitHub 上的公开问题比 Formik 少，但如果这个库越来越受欢迎，这种情况将来可能会改变。</p>
<h3>大小和依赖性</h3>
<p>Formik 的捆绑包大小为<a href="https://bundlephobia.com/package/formik@2.2.9"> 13kB </a>，大于 React Final Form 的 3.2 kB 的捆绑包大小。</p>
<p>下面，我们可以看到两个库的包组合。React 最终形式具有更少的依赖性，减少了库在更新时崩溃的可能性。</p>
<p><img data-attachment-id="58952" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-bundle-composition/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png" data-orig-size="730,165" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-bundle-composition" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition-300x68.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png" decoding="async" class="aligncenter wp-image-58952 size-full jetpack-lazy-image" src="../Images/3ae91113bd3f74209285cb2aff6043f9.png" alt="React Final Form Bundle Composition" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition-300x68.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58952" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-bundle-composition/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png" data-orig-size="730,165" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-bundle-composition" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition-300x68.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png" decoding="async" loading="lazy" class="aligncenter wp-image-58952 size-full" src="../Images/3ae91113bd3f74209285cb2aff6043f9.png" alt="React Final Form Bundle Composition" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition-300x68.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-bundle-composition.png"/></noscript>
<p><img data-attachment-id="58953" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-bundle-composition/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png" data-orig-size="730,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-bundle-composition" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition-300x82.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png" decoding="async" class="aligncenter wp-image-58953 size-full jetpack-lazy-image" src="../Images/702209f7128eee9263024517ad330ae8.png" alt="Formik Bundle Composition" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition-300x82.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58953" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-bundle-composition/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png" data-orig-size="730,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-bundle-composition" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition-300x82.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png" decoding="async" loading="lazy" class="aligncenter wp-image-58953 size-full" src="../Images/702209f7128eee9263024517ad330ae8.png" alt="Formik Bundle Composition" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition-300x82.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-bundle-composition.png"/></noscript>
<h2 id="settingupreactfinalform">设置 React 最终表单</h2>
<p>让我们通过启动自己的项目来测试 React 最终表单的功能。通过运行以下命令，设置 React 项目并安装 React 最终表单库:</p>
<pre>npm install --save final-form react-final-form
</pre>
<p>安装完库后，从库中导入主要组件，如下所示:</p>
<pre>import { Form, Field } from 'react-final-form'
</pre>
<p>注意，在上面的代码片段中，我们导入了两个组件，<code>Form</code>和<code>Field</code>。<code>Form</code>是父组件，负责管理我们的表单，而<code>Field</code>包装 HTML 元素来创建一个独立的最终表单组件。由<code>Field</code>创建的组件有自己的状态，由<code>Form</code>标签管理。</p>
<p>让我们用 React Final Form 编写一个简单输入表单的代码。我们的代码包含用于<code>firstName</code>和<code>lastName</code>的输入字段。我们还添加了一个<code>submit</code>按钮:</p>
<pre>/* eslint-disable jsx-a11y/accessible-emoji */
import React from 'react'
import { render } from 'react-dom'
import Styles from './Styles'
import { Form, Field } from 'react-final-form'

const sleep = ms =&gt; new Promise(resolve =&gt; setTimeout(resolve, ms))

const onSubmit = async values =&gt; {
  await sleep(300)
  window.alert(JSON.stringify(values, 0, 2))
}

const App = () =&gt; (
  &lt;Styles&gt;
    &lt;h1&gt;React Final Form - Simple Example&lt;/h1&gt;

    &lt;Form
      onSubmit={onSubmit}
      initialValues={{ firstname: '', lastname :''}}
      render={({ handleSubmit, form, submitting, pristine, values }) =&gt; (
        &lt;form onSubmit={handleSubmit}&gt;
          &lt;div&gt;
            &lt;label&gt;First Name&lt;/label&gt;
            &lt;Field
              name="firstName"
              component="input"
              type="text"
              placeholder="First Name"
            /&gt;
          &lt;/div&gt;
          &lt;div&gt;
            &lt;label&gt;Last Name&lt;/label&gt;
            &lt;Field
              name="lastName"
              component="input"
              type="text"
              placeholder="Last Name"
            /&gt;
          &lt;/div&gt;

          &lt;div className="buttons"&gt;
            &lt;button type="submit" disabled={submitting || pristine}&gt;
              Submit
            &lt;/button&gt;
            &lt;button
              type="button"
              onClick={form.reset}
              disabled={submitting || pristine}
            &gt;
              Reset
            &lt;/button&gt;
          &lt;/div&gt;
        &lt;/form&gt;
      )}
    /&gt;
  &lt;/Styles&gt;
)

render(&lt;App /&gt;, document.getElementById('root'))
</pre>
<p>启动服务器会给我们以下输出。</p>
<p><img data-attachment-id="58954" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/starting-react-final-form-server-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png" data-orig-size="730,168" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="starting-react-final-form-server-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output-300x69.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png" decoding="async" class="aligncenter wp-image-58954 size-full jetpack-lazy-image" src="../Images/08587e4a089d33fba93a5af154e06721.png" alt="Starting React Final Form Server Output" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output-300x69.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58954" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/starting-react-final-form-server-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png" data-orig-size="730,168" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="starting-react-final-form-server-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output-300x69.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png" decoding="async" loading="lazy" class="aligncenter wp-image-58954 size-full" src="../Images/08587e4a089d33fba93a5af154e06721.png" alt="Starting React Final Form Server Output" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output-300x69.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/starting-react-final-form-server-output.png"/></noscript>
<p>我们调用两个日志，一个来自<code>Form</code>，一个来自<code>Field</code>。让我们试试在<code>FirstName</code>中输入<code>sam</code>，看看会发生什么！</p>
<p><img data-attachment-id="58956" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/call-field-form-logs-react-final-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png" data-orig-size="570,174" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="call-field-form-logs-react-final-form" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form-300x92.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png" decoding="async" class="aligncenter wp-image-58956 size-full jetpack-lazy-image" src="../Images/a81e7ab9866260bb70616a2f5919f97c.png" alt="Call Field Form Logs React Final Form" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png 570w, https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form-300x92.png 300w" data-lazy-sizes="(max-width: 570px) 100vw, 570px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58956" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/call-field-form-logs-react-final-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png" data-orig-size="570,174" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="call-field-form-logs-react-final-form" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form-300x92.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png" decoding="async" loading="lazy" class="aligncenter wp-image-58956 size-full" src="../Images/a81e7ab9866260bb70616a2f5919f97c.png" alt="Call Field Form Logs React Final Form" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png 570w, https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form-300x92.png 300w" sizes="(max-width: 570px) 100vw, 570px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/call-field-form-logs-react-final-form.png"/></noscript>
<p><img data-attachment-id="58958" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-single-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png" data-orig-size="730,41" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-single-render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render-300x17.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png" decoding="async" class="aligncenter wp-image-58958 size-full jetpack-lazy-image" src="../Images/51194233b987af0a075c2c38b6cb49a7.png" alt="React Final Form Single Render" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render-300x17.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58958" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-single-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png" data-orig-size="730,41" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-single-render" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render-300x17.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png" decoding="async" loading="lazy" class="aligncenter wp-image-58958 size-full" src="../Images/51194233b987af0a075c2c38b6cb49a7.png" alt="React Final Form Single Render" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render-300x17.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-single-render.png"/></noscript>
<p>注意<code>Form</code>只渲染了一次。<code>Field</code>组件显示了独立的行为，因为它呈现的次数与输入的字符数相同。在 React 中，我们应该总是以更少的重渲染次数为目标，以避免表单大小增长时的延迟。</p>
<p>我们使用了一个<a href="https://blog.logrocket.com/react-reference-guide-render-props/">渲染道具</a>，它让我们可以从<code>Form</code>组件访问不同的道具。请参见下面示例的最终输出:</p>
<p><img data-attachment-id="58959" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-example-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png" data-orig-size="730,319" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-example-form" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form-300x131.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png" decoding="async" class="aligncenter wp-image-58959 size-full jetpack-lazy-image" src="../Images/eb673be4eb1a62dc8f371140cdb5051f.png" alt="React Final Form Example Form" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form-300x131.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58959" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/react-final-form-example-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png" data-orig-size="730,319" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-final-form-example-form" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form-300x131.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png" decoding="async" loading="lazy" class="aligncenter wp-image-58959 size-full" src="../Images/eb673be4eb1a62dc8f371140cdb5051f.png" alt="React Final Form Example Form" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form-300x131.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/react-final-form-example-form.png"/></noscript>
<p>现在我们已经看到了 React Final Form 是如何工作的，让我们使用 Formik 运行相同的示例。</p>
<h2 id="settingupformik">设置 Formik</h2>
<p>和以前一样，我们将建立一个简单的表单，其中包含一个用于<code>firstName</code>的字段、一个用于<code>lastName</code>的字段和一个提交按钮。让我们称我们的形式为<code>Client Profile</code>:</p>
<pre>import React from "react";
import ReactDOM from "react-dom";
import { Formik, Form, Field } from "formik";


// Messages
export default function App() {
  return (
    &lt;Formik
      initialValues={{
        firstname: "",
        lastname: "",
      }}
      onSubmit={(values, { setSubmitting }) =&gt; {
        setTimeout(() =&gt; {
          console.log(JSON.stringify(values, null, 2));
          setSubmitting(false);
        }, 400);
      }}
    &gt;
      {({ errors, touched, isValidating }) =&gt; (
        &lt;div className="container"&gt;
          &lt;div&gt;
            &lt;h3&gt;Client Profile&lt;/h3&gt;
          &lt;/div&gt;
          &lt;div&gt;
            &lt;Form&gt;
              {console.log(“Render”)}
              &lt;div&gt;
                &lt;Field
                  type="text"
                  placeholder="First Name"
                  name="firstname"
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;Field

                  type="text"
                  placeholder="lastname"
                  name="name" 
                /&gt;
              &lt;/div&gt;
            &lt;button type="submit"&gt;Submit&lt;/button&gt;
            &lt;/Form&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}
    &lt;/Formik&gt;
  );
}

const rootElement = document.getElementById("root");
ReactDOM.render(&lt;App /&gt;, rootElement);
</pre>
<p>在第一次渲染时，我们的表单如下图所示:</p>
<p><img data-attachment-id="58961" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-first-rendr-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png" data-orig-size="730,139" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-first-render-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output-300x57.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png" decoding="async" class="aligncenter wp-image-58961 size-full jetpack-lazy-image" src="../Images/075ec0fc668d6a14e113ff5579243701.png" alt="Formik First Render Output" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output-300x57.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58961" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-first-rendr-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png" data-orig-size="730,139" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-first-render-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output-300x57.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png" decoding="async" loading="lazy" class="aligncenter wp-image-58961 size-full" src="../Images/075ec0fc668d6a14e113ff5579243701.png" alt="Formik First Render Output" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output-300x57.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-first-rendr-output.png"/></noscript>
<p>我们在<code>Form</code>标签中放置了一个日志来跟踪渲染。让我们在<code>input</code>字段中输入<code>Sam</code>。我们得到以下输出:</p>
<p><img data-attachment-id="58962" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-log-form-tag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png" data-orig-size="730,237" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-log-form-tag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag-300x97.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png" decoding="async" class="aligncenter wp-image-58962 size-full jetpack-lazy-image" src="../Images/b18fce2feedb908bdff68bba66c6efe2.png" alt="Formik Log Form Tag" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag-300x97.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="58962" data-permalink="https://blog.logrocket.com/build-high-performance-forms-using-react-final-form/formik-log-form-tag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png" data-orig-size="730,237" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="formik-log-form-tag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag-300x97.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png" decoding="async" loading="lazy" class="aligncenter wp-image-58962 size-full" src="../Images/b18fce2feedb908bdff68bba66c6efe2.png" alt="Formik Log Form Tag" srcset="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag-300x97.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/07/formik-log-form-tag.png"/></noscript>
<p>请注意，当我们输入一个输入值时，表单总共重新呈现了九次，而 React Final Form 只呈现了一次。让我们深入考虑这些例子。</p>
<h3><code>subscription</code>道具</h3>
<p>在 React 最终形式中，<code>Form</code>组件采用了<code>subscription</code>道具，它实现了观察者设计模式并减少了渲染。<code>subscription</code>道具类似于<code><a href="https://reactjs.org/docs/hooks-effect.html">useEffect</a></code>钩子，因为它会观察传递给它的值，并在它们改变时重新渲染。</p>
<p>在上面的 Formik 代码块中，我们没有在 prop 内部传递值。相反，<code>Form</code>在观察<code>{submitting || pristine}</code>的变化。</p>
<h3>确认</h3>
<p>React 最终表单提供了两种类型的验证:表单级验证和字段级验证。使用字段级验证，您可以在更改<code>Field</code>时运行验证。在表单级验证中，验证测试在提交<code>Form</code>时运行。</p>
<p>Formik 也有类似的机制，使用<a href="https://blog.logrocket.com/react-native-form-validations-with-formik-and-yup/"> <code>validationSchema</code> </a>进行验证。因此，两个库在这方面是平等的。</p>
<h2 id="conclusion">结论</h2>
<p>React Final Form 处理表单的范例与其他库不同。它通过使用观察者设计模式有效地处理了不同库的重渲染问题。</p>
<p>React 最终形式不仅在尺寸上比 Formik 小，而且速度也更快。因此，如果您的目标是在不影响性能的情况下为 React 应用程序创建大型复杂表单，React Final Form 是最佳选择。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用 LogRocket 消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款 React analytics 解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket 告诉您 React 应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS 异常、前端性能指标和用户交互。然后，LogRocket 使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的 React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试 LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
 <p class="clearfix"/>
</article>

</div>    
</body>
</html>