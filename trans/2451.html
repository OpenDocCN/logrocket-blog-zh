<html>
<head>
<title>Generating PDFs in React with react-pdf - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 react-pdf - LogRocket 博客在 React 中生成 pdf</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/generating-pdfs-react/#0001-01-01">https://blog.logrocket.com/generating-pdfs-react/#0001-01-01</a></blockquote><div><article class="article-post">
<p>假设你拥有一家成功的在线企业。在这种情况下，您需要生成发票并通过电子邮件发送给客户。要为每个买方创建收据，您必须执行以下操作:</p>
<ul>
<li>打开您的文字处理器，粘贴用户的个人信息</li>
<li>将用户的购买量写入表中并计算总额</li>
<li>下载此文件并将其转换为 PDF 格式</li>
<li>通过电子邮件将此文档发送给用户</li>
</ul>
<p>当然，这可能有用。但考虑一下:如果在一天内获得数百个客户，情况会怎样？这将浪费大量的时间和精力，因为你要一遍又一遍地重复同样的过程。那么，我们该如何缓解这个问题呢？</p>
<p>解决这个问题的最好方法是通过使用 API 来自动化这个操作。这就是<a href="https://react-pdf.org/" target="_blank" rel="noopener"> react-pdf </a>的用武之地。它是一个开源、易用的库，允许开发人员在 React 环境中生成 PDF 文档。</p>
<p>在本文中，您将学习到<a href="https://react-pdf.org/" target="_blank" rel="noopener"> react-pdf </a>库的基础知识。我们将涵盖以下概念:</p>

<h2 id="installation">装置</h2>
<p>要安装 react-pdf 包，请运行以下终端命令:</p>
<pre class="language-react hljs">npm i @react-pdf/renderer
</pre>
<h2 id="simple-usage">简单用法</h2>
<p>以下代码块在浏览器中呈现一个基本的 PDF 文档:</p>
<pre class="language-react hljs">import {
  Document,
  Page,
  Text,
  View,
  StyleSheet,
  PDFViewer,
} from "@react-pdf/renderer";
// Create styles
const styles = StyleSheet.create({
  page: {
    backgroundColor: "#d11fb6",
    color: "white",
  },
  section: {
    margin: 10,
    padding: 10,
  },
  viewer: {
    width: window.innerWidth, //the pdf viewer will take up all of the width and height
    height: window.innerHeight,
  },
});

// Create Document Component
function BasicDocument() {
  return (
    &lt;PDFViewer style={styles.viewer}&gt;
      {/* Start of the document*/}
      &lt;Document&gt;
        {/*render a single page*/}
        &lt;Page size="A4" style={styles.page}&gt;
          &lt;View style={styles.section}&gt;
            &lt;Text&gt;Hello&lt;/Text&gt;
          &lt;/View&gt;
          &lt;View style={styles.section}&gt;
            &lt;Text&gt;World&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/Page&gt;
      &lt;/Document&gt;
    &lt;/PDFViewer&gt;
  );
}
export default BasicDocument;
</pre>
<p>从这段代码中可以得出一些推论:</p>
<ul>
<li><code>StyleSheet</code>模块允许开发者在他们的 PDF 文档上应用 CSS 代码。这里，我们告诉 React 改变页面的背景颜色和字体颜色</li>
<li>此外，在<code>viewer</code>对象中，我们使用了<code>width</code>和<code>height</code>属性。因此，这将告诉 react-pdf 我们希望浏览器的 pdf 查看器占据页面上的所有空间</li>
<li>顾名思义，<code>PDFViewer</code>组件将在浏览器上呈现一个 PDF 查看器</li>
</ul>
<p>让我们来测试一下！下一步，将<code>BasicDocument</code>组件呈现给 DOM，如下所示:</p>
<pre class="language-react hljs">import BasicDocument from "./BasicDocument";
function App() {
  return (
    &lt;div className="App"&gt;
      &lt;BasicDocument /&gt;
    &lt;/div&gt;
  );
}
export default App;
</pre>
<p><img data-attachment-id="81799" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png" data-orig-size="730,829" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Render the BasicDocument component to the DOM" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-264x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png" decoding="async" class="aligncenter wp-image-81799 size-full jetpack-lazy-image" src="../Images/055bda66bffdaafcbfc75351026cb27c.png" alt="Rendering the BasicDocument Component to the DOM" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-264x300.png 264w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81799" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png" data-orig-size="730,829" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Render the BasicDocument component to the DOM" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-264x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png" decoding="async" loading="lazy" class="aligncenter wp-image-81799 size-full" src="../Images/055bda66bffdaafcbfc75351026cb27c.png" alt="Rendering the BasicDocument Component to the DOM" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-264x300.png 264w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf.png"/></noscript>
<p>我们甚至可以减少观众的可用空间:</p>
<pre class="language-react hljs">const styles = StyleSheet.create({
  viewer: {
    width: window.innerWidth / 3,
    height: window.innerHeight / 2,
  },
  //further code...
});
</pre>
<p>在这个代码片段中，我们限制了视口的<code>width</code>和<code>height</code>属性。这将减少它们在页面上的可用大小。</p>
<p><img data-attachment-id="81801" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-2-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png" data-orig-size="730,819" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2-267x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png" decoding="async" class="aligncenter wp-image-81801 size-full jetpack-lazy-image" src="../Images/6fa426b4f83c362e88e16a6f2b4b2d37.png" alt="Decreasing the Viewport's Width and Height Properties" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2-267x300.png 267w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81801" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-2-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png" data-orig-size="730,819" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2-267x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png" decoding="async" loading="lazy" class="aligncenter wp-image-81801 size-full" src="../Images/6fa426b4f83c362e88e16a6f2b4b2d37.png" alt="Decreasing the Viewport's Width and Height Properties" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2-267x300.png 267w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-2.png"/></noscript>
<h2 id="fundamental-components">基本组件</h2>
<h3 id="embedding-links">嵌入链接</h3>
<p>我们可以使用<a href="https://react-pdf.org/components#link" target="_blank" rel="noopener"> <code>L</code>组件</a>显示锚链接。这对于您想要将用户重定向到网站的情况非常方便:</p>
<pre class="language-react hljs">import { Link } from "@react-pdf/renderer";
&lt;Text&gt;
  &lt;Link src="www.facebook.com"&gt;Go to Facebook&lt;/Link&gt;
&lt;/Text&gt;
</pre>
<p>这里，我们将<code>src</code>道具分配给脸书的网站。当用户点击这段文字时，应用程序会将他们重定向到页面。</p>
<p><img data-attachment-id="81804" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif" data-orig-size="730,975" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3-225x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif" decoding="async" class="aligncenter wp-image-81804 size-full jetpack-lazy-image" src="../Images/fe5b1b483d2e2d82a3eb8a69e37d579a.png" alt="App Redirecting Users to a Different Page" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81804" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif" data-orig-size="730,975" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3-225x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif" decoding="async" loading="lazy" class="aligncenter wp-image-81804 size-full" src="../Images/fe5b1b483d2e2d82a3eb8a69e37d579a.png" alt="App Redirecting Users to a Different Page" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-3.gif"/></noscript>
<h3 id="displaying-annotations">显示注释</h3>
<p>要在文档中附加注释，请使用<a href="https://react-pdf.org/components#note" target="_blank" rel="noopener"> <code>Note</code> </a>组件。这个元素的一个关键用例是当您需要在文件中显示注释时:</p>
<pre class="language-react hljs">import { Note } from "@react-pdf/renderer";
&lt;Note&gt;This will take the user to Facebook&lt;/Note&gt;
</pre>
<p><img data-attachment-id="81806" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-4/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif" data-orig-size="730,975" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4-225x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif" decoding="async" class="aligncenter wp-image-81806 size-full jetpack-lazy-image" src="../Images/ac2fa401a5c777fd508ea1606f27941d.png" alt="Attaching Annotations Using the Note Component" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81806" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-4/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif" data-orig-size="730,975" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4-225x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif" decoding="async" loading="lazy" class="aligncenter wp-image-81806 size-full" src="../Images/ac2fa401a5c777fd508ea1606f27941d.png" alt="Attaching Annotations Using the Note Component" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-4.gif"/></noscript>
<h3 id="displaying-graphics-in-a-canvas">在<code>Canvas</code>中显示图形</h3>
<p><a href="https://react-pdf.org/components#canvas" target="_blank" rel="noopener"> <code>Canvas</code> </a>组件让用户在页面上绘制内容。这适用于显示 SVG 格式的简单图表和徽标。</p>
<p>以下代码片段在页面上呈现一个三角形:</p>
<pre class="language-react hljs">import { Canvas } from "@react-pdf/renderer";
// Create styles
const styles = StyleSheet.create({
  canvas: {
    backgroundColor: "black",
    height: 500,
    width: 500,
  },
});
&lt;Canvas
  style={styles.canvas}
  paint={
    (painterObject) =&gt;
      painterObject
        .save()
        .moveTo(100, 100) //move to position 100,100
        .lineTo(300, 100) //draw a line till 300, 100
        .lineTo(300, 300) //draw another line till 300,300
        .fill("red") //when the diagram is drawn, set the background color to pink
  }
/&gt;
</pre>
<p>在上面的代码片段中，我们使用了<code>Canvas</code>组件来显示一个图表。<code>paint</code>道具是一个回调函数。它的参数之一是一个<code>painterObject</code>参数，它让我们可以访问绘图方法。</p>
<p><img data-attachment-id="81808" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-5/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png" data-orig-size="730,724" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-300x298.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png" decoding="async" class="aligncenter wp-image-81808 size-full jetpack-lazy-image" src="../Images/e9f63285991daf0b8504e5b176075201.png" alt="Rendering a Triangle on the Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-300x298.png 300w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-150x150.png?crop=1 150w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81808" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdf-react-react-pdf-5/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png" data-orig-size="730,724" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Generating PDFs in React with react-pdf" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-300x298.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png" decoding="async" loading="lazy" class="aligncenter wp-image-81808 size-full" src="../Images/e9f63285991daf0b8504e5b176075201.png" alt="Rendering a Triangle on the Page" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-300x298.png 300w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5-150x150.png?crop=1 150w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdf-react-react-pdf-5.png"/></noscript>
<h3 id="displaying-svg-images">显示 SVG 图像</h3>
<p>react-pdf 还捆绑了一个<a href="https://react-pdf.org/svg" target="_blank" rel="noopener"> <code>SVG</code>组件</a>来呈现<a href="https://blog.logrocket.com/how-to-use-svgs-in-react/" target="_blank" rel="noopener"> SVG 图</a>。就像<code>Canvas</code>一样，我们可以用这个来渲染简单的图。</p>
<p>这段代码在页面上呈现了一行:</p>
<pre class="language-react hljs">import { Line, Svg } from "@react-pdf/renderer";
// Create styles
const styles = StyleSheet.create({
  line: {
    x1: "0", //starting coords are x1 and y1
    y1: "0",
    x2: "200", //ending coords:
    y2: "200",
    strokeWidth: 2,
    stroke: "rgb(255,255,255)", //stroke color
  },
});
&lt;Svg width={"50%"} height={"50%"} style={{ backgroundColor: "blue" }}&gt;
  &lt;Line style={styles.line} /&gt;
&lt;/Svg&gt;
</pre>
<p>这里，我们用<a href="https://react-pdf.org/svg#line" target="_blank" rel="noopener"> <code>Line</code> </a>来渲染文档中的一行。注意<code>Line</code>是<code>Svg</code>组件的子组件。</p>
<p><img data-attachment-id="81812" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png" data-orig-size="730,883" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-6" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6-248x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png" decoding="async" class="aligncenter wp-image-81812 size-full jetpack-lazy-image" src="../Images/176084babcbf51e4847345d31ac67de4.png" alt="Rendering a Line in the Document" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6-248x300.png 248w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81812" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png" data-orig-size="730,883" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-6" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6-248x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png" decoding="async" loading="lazy" class="aligncenter wp-image-81812 size-full" src="../Images/176084babcbf51e4847345d31ac67de4.png" alt="Rendering a Line in the Document" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6-248x300.png 248w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-6.png"/></noscript>
<p>我们也可以使用<a href="https://react-pdf.org/svg#polygon" target="_blank" rel="noopener"> <code>Polygon</code> </a>组件来渲染封闭的形状，如下所示:</p>
<pre class="language-react hljs">&lt;Svg width={"50%"} height={"50%"} style={{ backgroundColor: "blue" }}&gt;
  &lt;Polygon
    points="100,100 200,100 200,250 100,250"
    fill="white" //color of background
    stroke="black" //color of border
    strokeWidth={10} //border thickness
  /&gt;
&lt;/Svg&gt;
</pre>
<p>属性接受一个坐标数据集。这将有助于应用程序渲染图形。</p>
<p><img data-attachment-id="81814" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png" data-orig-size="730,698" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-7" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7-300x287.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png" decoding="async" class="aligncenter wp-image-81814 size-full jetpack-lazy-image" src="../Images/d9ddaf38b7ec37ad71779f695063e081.png" alt="Rendering Closed Shapes in the Document" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7-300x287.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81814" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png" data-orig-size="730,698" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-7" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7-300x287.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png" decoding="async" loading="lazy" class="aligncenter wp-image-81814 size-full" src="../Images/d9ddaf38b7ec37ad71779f695063e081.png" alt="Rendering Closed Shapes in the Document" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7-300x287.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-7.png"/></noscript>
<h3 id="rendering-jpg-or-png-photos">渲染 JPG 或 PNG 照片</h3>
<p><a href="https://react-pdf.org/components#image" target="_blank" rel="noopener"> <code>Image</code> </a>组件让我们能够通过网络或在本地磁盘上插入图像。这对于显示复杂的图表或截图非常有用。</p>
<p>这段代码在 PDF 上呈现一个 500 x 500 像素的图像:</p>
<pre class="language-react hljs">import { Image } from "@react-pdf/renderer";
const styles = StyleSheet.create({
  image: {
    width: 500,
    height: 500,
  },
});
&lt;Image
  style={styles.image}
  src="https://image.shutterstock.com/image-photo/tiny-floating-house-on-lake-600w-1980476267.jpg"
/&gt; 
</pre>
<p>属性包含我们想要渲染的图像的源 URL。</p>
<p><img data-attachment-id="81816" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-8/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png" data-orig-size="730,789" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-8" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png" decoding="async" class="aligncenter wp-image-81816 size-full jetpack-lazy-image" src="../Images/d75fb396e121a055c42c31dc6e757cb2.png" alt="Rendering a Pixel Image on the PDF" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8-278x300.png 278w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81816" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-8/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png" data-orig-size="730,789" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-8" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png" decoding="async" loading="lazy" class="aligncenter wp-image-81816 size-full" src="../Images/d75fb396e121a055c42c31dc6e757cb2.png" alt="Rendering a Pixel Image on the PDF" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8-278x300.png 278w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-8.png"/></noscript>
<h2 id="advanced-concepts">高级概念</h2>
<h3 id="using-flex-boxes">使用伸缩盒</h3>
<p>就像 CSS 一样，react-pdf 允许开发人员使用<code>flex</code>属性，这允许响应式设计。如果您希望根据设备的屏幕大小放大或缩小文档，这非常方便:</p>
<pre class="language-react hljs">// Create styles. Notice that we have specified a flex direction.
const styles = StyleSheet.create({
  page: {
    flexDirection: "column",
  },
});
&lt;Page size="A4" style={styles.page}&gt;
  &lt;View style={{ backgroundColor: "black", flex: 1 }}&gt;&lt;/View&gt;
  &lt;View style={(styles.section, { backgroundColor: "pink", flex: 1 })}&gt;&lt;/View&gt;
&lt;/Page&gt;
</pre>
<p>在这段代码中，我们在两个<code>View</code>组件上使用了<code>flex</code>属性。这意味着页面的一半背景颜色为黑色，另一半背景颜色为粉色。</p>
<p><img data-attachment-id="81820" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-9/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png" data-orig-size="730,878" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-9" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9-249x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png" decoding="async" class="aligncenter wp-image-81820 size-full jetpack-lazy-image" src="../Images/3ab9019e92235707c8507db3db6fcfa4.png" alt="Using the Flex Property so the Background is Half Black and Half Pink" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9-249x300.png 249w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81820" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-9/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png" data-orig-size="730,878" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-9" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9-249x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png" decoding="async" loading="lazy" class="aligncenter wp-image-81820 size-full" src="../Images/3ab9019e92235707c8507db3db6fcfa4.png" alt="Using the Flex Property so the Background is Half Black and Half Pink" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9-249x300.png 249w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-9.png"/></noscript>
<h3 id="page-breaks">分页符</h3>
<p>分页符对于确保某个元素总是显示在页面顶部很有用。</p>
<p>我们可以像这样通过<code>break</code>属性启用分页符:</p>
<pre class="language-react hljs">// Create styles
const styles = StyleSheet.create({
  text: {
    fontSize: 40,
  },
});
// Create Document Component
&lt;Page&gt;
  &lt;Text break style={styles.text}&gt;
    First PDF break
  &lt;/Text&gt;
  &lt;Text break style={styles.text}&gt;
    Second break
  &lt;/Text&gt;
&lt;/Page&gt;
</pre>
<p><img data-attachment-id="81824" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-10/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif" data-orig-size="730,688" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-10" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10-300x283.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif" decoding="async" class="aligncenter wp-image-81824 size-full jetpack-lazy-image" src="../Images/5eca75ccc31f991a81a89b683241e3f7.png" alt="Enabling Page Breaks" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81824" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-10/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif" data-orig-size="730,688" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-10" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10-300x283.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif" decoding="async" loading="lazy" class="aligncenter wp-image-81824 size-full" src="../Images/5eca75ccc31f991a81a89b683241e3f7.png" alt="Enabling Page Breaks" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-10.gif"/></noscript>
<h3 id="dynamic-page-content">动态页面内容</h3>
<p>使用 react-pdf，我们可以使用<code>Text</code>组件的<code>render</code>属性来呈现动态文本，如下所示:</p>
<pre class="language-react hljs">&lt;Document&gt;
  &lt;Page size="A4"&gt;
    &lt;Text
      style={styles.text}
      render={({ pageNumber, totalPages }) =&gt;
        `Page ${pageNumber} of ${totalPages}`
      }
      fixed
    /&gt;
  &lt;/Page&gt;
  &lt;Page&gt;
    &lt;Text&gt; Hello, second page!&lt;/Text&gt;
  &lt;/Page&gt;
&lt;/Document&gt;
</pre>
<p>这里，<code>render</code>属性有两个参数:<code>pageNumber</code>(页面的当前索引)，和<code>totalPages</code>(这个文档包含的总页数)。我们向客户展示了它们的价值。</p>
<p><img data-attachment-id="81828" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-11/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png" data-orig-size="730,794" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-11" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11-276x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png" decoding="async" class="aligncenter wp-image-81828 size-full jetpack-lazy-image" src="../Images/15b44ff88d83fcedc134d8719f07d617.png" alt="Displaying Both Page Number and Total Pages to the Client on the Document" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11-276x300.png 276w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81828" data-permalink="https://blog.logrocket.com/generating-pdfs-react/generating-pdfs-react-react-pdf-11/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png" data-orig-size="730,794" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generating-pdfs-react-react-pdf-11" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11-276x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png" decoding="async" loading="lazy" class="aligncenter wp-image-81828 size-full" src="../Images/15b44ff88d83fcedc134d8719f07d617.png" alt="Displaying Both Page Number and Total Pages to the Client on the Document" srcset="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11-276x300.png 276w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/12/generating-pdfs-react-react-pdf-11.png"/></noscript>
<p><em>注意，</em> <code>render</code> <em>函数对</em> <code>&lt;Text /&gt;</code> <em>元素执行两次:一次用于页面换行过程中的布局，另一次在它知道</em> <em>文档将有多少页之后。</em> <em>因此，在 app 性能不成问题的情况下使用。</em></p>
<p>我们也可以在我们的<code>View</code>元素上使用<code>render</code>道具:</p>
<pre class="language-react hljs">&lt;View render={({ pageNumber }) =&gt; (
    //detect if user is NOT on an even page:
        pageNumber % 2 === 0 &amp;&amp; (
          &lt;View style={{ background: 'red' }}&gt;
            {/*If condition is fulfilled, display this component*/}
            &lt;Text&gt;I'm only visible in odd pages!&lt;/Text&gt;
          &lt;/View&gt;
        )
      )} /&gt;
</pre>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们介绍了 react-pdf 库的基础知识。它不仅安全可靠，而且重量很轻，从而提高了性能。</p>
<p>非常感谢您的阅读！编码快乐！</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用 LogRocket 消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款 React analytics 解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket 告诉您 React 应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS 异常、前端性能指标和用户交互。然后，LogRocket 使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的 React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试 LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>