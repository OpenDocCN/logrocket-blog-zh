<html>
<head>
<title>Getting started with Gridsome - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Gridsome - LogRocket 博客入门</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-with-gridsome/#0001-01-01">https://blog.logrocket.com/getting-started-with-gridsome/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>快速小结</h2>
<p>每当您的单页面应用程序遇到性能问题时，您可以考虑使用静态站点生成器来减轻一些性能负担。有数百个静态站点生成器，Gridsome 是最受欢迎的一个，在 Github 上有超过 7000 颗星。Gridsome 当然值得详细看看，那就开始吧。</p>
<h2>介绍</h2>
<p>在本文中，我们将进一步了解 Gridsome:它是如何工作的，如何开始，如何使用 Gridsome 创建默认情况下快速的<a href="https://gridsome.org/docs/fast-by-default/">网站和应用程序，最后，学习如何用 GraphQL 获取 markdown 内容。</a></p>
<p>本教程是专门为那些想开始使用 Gridsome 并且已经使用了<a href="https://vuejs.org/"> Vue.js </a>的开发者准备的。在本教程结束时，您将理解如何利用 Gridsome 的许多功能——以及一些“陷阱”和需要记住的事情。</p>
<p>要开始使用 Gridsome，您需要确保安装了以下工具:</p>

<blockquote><p>为了确认您已经安装了 Node，您可以在终端中运行<code>node --version</code></p></blockquote>
<ul>
<li>npm(与 Node 一起包装)或<a href="https://yarnpkg.com/en/docs/install">纱线</a></li>
<li>基本了解如何使用<a href="https://www.linode.com/docs/tools-reference/tools/using-the-terminal/">终端</a></li>
<li>HTML、CSS 和 Vue.js 的基础知识</li>
</ul>
<p>知道 GraphQL 如何工作是一个优势，尽管他们的文档中有很多例子可以快速查看。</p>
<h2>为什么是 Gridsome？</h2>
<p>Gridsome 是一个免费开源的 Vue 驱动的静态站点生成器(SSG ),用于构建快速、现代化的网站和应用程序</p>
<p>作为一个快速提醒，静态站点生成器自动构建个人 HTML 页面，并准备好这些页面提供给用户——访问/使用你的网站或应用程序的人。SSG 通过基于原始数据(例如，Markdown)和一组模板构建成熟的静态 HTML 页面来实现这一点。</p>
<p>Gridsome 利用 GraphQL 从不同来源获取数据，然后动态生成页面。</p>
<p>Gridsome 提供了一些现成的有用特性。Gridsome 在<a href="https://jamstack.org/"> JAMStack </a>之上运行良好。像大多数静态站点生成器一样，它支持 Markdown 和 headless CMS。最终产品是一个包含静态 HTML 文件的文件夹，您可以将其部署到任何地方。你可以把它放在服务器上的<code>/public_html</code>文件夹中，或者部署到 CDN 上。</p>
<p>Gridsome 还提供自动路由<strong>。</strong>您在<code>/src/pages</code>文件夹中创建的 Vue 组件会自动映射到一个带有<code>vue-router</code>的新页面，而无需您做任何事情。例如，如果你想为你的博客创建一个“关于”页面，你只需要创建一个名为<code>/src/pages/About.vue</code>的新文件，你的网站上就会自动出现一个<a href="http://localhost:8080/about">http://localhost:8080/About</a>页面。这与<a href="https://nuxtjs.org/"> Nuxt </a>和<a href="https://www.gatsbyjs.org/"> Gatsby </a>的工作方式非常相似；它们有一个已定义的文件夹，其中的组件被映射到路由器中的页面，因此您不需要配置它们。</p>
<p>此外，Gridsome 还提供代码分割和资产优化。在 Vue 应用中，当你创建一个到另一个页面的内部链接时，你使用<code>&lt;router-link&gt;</code>。对于 Gridsome，您可以使用<code>&lt;g-link&gt;</code>来代替。它使用您可能熟悉的相同参数，但除此之外，它还通过预取当前视图中作为链接引用的资源和页面，在后台提供页面的视口内预取。您需要谨慎使用这个特性，因为它可能会给用户带来性能开销，因为他们可能永远不会真正使用这些页面和资产，但是它可以加快简单页面的体验。</p>
<p>Gridsome 还有一个内置的<code>&lt;g-image&gt;</code>组件，可以输出优化的压缩图像。它还可以在开发过程中实时调整大小和裁剪。它的工作原理类似于一个<code>&lt;img&gt;</code>元素，但是<code>&lt;g-image&gt;</code>也会生成一个原始图像的压缩模糊版本作为占位符。因此，当用户的浏览器最终从服务器接收到图像时，它会用实际的图像替换占位符。</p>
<h2 id="gridsome-and-other-static-site-generators">Gridsome 和其他静态站点生成器</h2>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/6a344ea8fdca685d30007b1e78ca501f.png" alt="A chart comparing stars on Github between different Frameworks" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611847876733_stats.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611847876733_stats.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/6a344ea8fdca685d30007b1e78ca501f.png" alt="A chart comparing stars on Github between different Frameworks" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611847876733_stats.png"/></noscript>
<p>考虑到有很多其他 Vue.js SSGs，如 Nuxt.js、<a href="https://github.com/vuejs/vuepress"> VuePress </a>和<a href="https://github.com/saberland/saber"> saber </a>，值得探索 Gridsome 何时使用有意义，何时没有意义。与 React 中的 Gatsby 类似，Gridsome 是一个数据驱动的框架，它使用 GraphQL 层来检索内容，并从中动态生成页面。虽然它还没有像 Nuxt.js 和 VuePress 那样成熟，但 Gridsome 有一些独特的功能，值得您在下一个项目中探索。</p>
<h3>Gridsome vs Nuxt.js vs VuePress</h3>
<p>Nuxt.js 绝对是一个更完整的框架，Gridsome 能做的几乎都能做。然而，与使用 Apollo 配置的 Nuxt.js 相比，使用 Gridsome 可以将 GraphQL 数据层中的数据查询到任何页面、模板或组件中，而无需使用模块。</p>
<p>如果您计划构建一个大规模的应用程序，其中处理认证更适合服务器端，那么 Nuxt.js 可能是一个更好的选择。</p>
<p>如果你想建立一个漂亮、快速、搜索引擎友好的文档网站，并想使用 Markdown 和 markdown-it 及其广泛的生态系统，VuePress 是一个不错的选择。</p>
<p>如果你想用一个无头 CMS 连接你的站点，构建一个 JAMstack 项目，Gridsome 更强大。我认为 GraphQL 数据层使用起来非常方便和简单，因为它允许您从数据源构建静态内容。在这种情况下，Gridsome 是最好的选择。</p>
<h2>入门指南</h2>
<figure class="wp-caption aligncenter"><img decoding="async" src="../Images/4c1c308f1d5114ae2b3d3d8ae412f923.png" alt="A screenshot of the Gridsome website" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1610528855878_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1610528855878_Capture.PNG"/><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" src="../Images/4c1c308f1d5114ae2b3d3d8ae412f923.png" alt="A screenshot of the Gridsome website" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1610528855878_Capture.PNG"/></noscript><figcaption class="wp-caption-text">Source: Gridsome website</figcaption></figure>
<p>Gridsome 从 CMSs(任何无头 CMS，Contentful，WordPress，Drupal，Sanity.io 等)这样的数据源获取数据。)、本地文件或外部 API，并将数据存储在本地数据库中。GraphQL 作为一个集中式数据管理系统，让您能够在 Vue 组件中提取和使用数据。</p>
<p>然后，你可以将整个网站或应用部署到 CDN，如<a href="https://gridsome.org/docs/deploy-to-netlify/"> Netlify </a>、<a href="https://gridsome.org/docs/deploy-to-amplify/"> AWS Amplify </a>或<a href="https://gridsome.org/docs/deploy-to-vercel/"> Vercel </a>。一个 Gridsome 站点可以在不中断的情况下处理数千到数百万次点击，并且没有昂贵的服务器成本。</p>
<h2>装置</h2>
<p>一旦您确定已经在计算机上设置了 Node 和 npm 或 Yarn，现在就可以开始安装 Gridsome 了。如前所述，建议使用 Grisome 时了解如何使用终端。</p>
<p>第一步是安装 Gridsome CLI 工具:</p>
<ul>
<li>使用纱线:<code>yarn global add @gridsome/cli</code></li>
<li>使用 npm: <code>npm install --global @gridsome/cli</code></li>
</ul>
<p>您现在可以开始创建您的第一个 Gridsome 项目了！🎉</p>
<ol>
<li>运行<code>gridsome create first-gridsome-site</code>创建一个新项目</li>
<li>用<code>cd first-gridsome-site</code>进入项目目录</li>
<li>运行<code>gridsome develop</code>以在<code><a href="http://localhost:8080" rel="nofollow">http://localhost:8080</a></code>启动本地开发服务器</li>
</ol>
<p>现在，您可以在浏览器上启动开发服务器:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/aaf5ca0a8a3e161592cacc2932a3f584.png" alt="Screenshot of empty Gridsome website" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611386287045_localhost.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611386287045_localhost.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/aaf5ca0a8a3e161592cacc2932a3f584.png" alt="Screenshot of empty Gridsome website" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611386287045_localhost.PNG"/></noscript>
<h2>目录结构</h2>
<p>下面是一个基本 Gridsome 项目的结构:</p>
<pre><code>.
├── package<span class="hljs-selector-class">.json</span>
├── gridsome<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span>
├── gridsome<span class="hljs-selector-class">.server</span><span class="hljs-selector-class">.js</span>
├── static/
└── src/
    ├── main<span class="hljs-selector-class">.js</span>
    ├── index<span class="hljs-selector-class">.html</span>
    ├── App<span class="hljs-selector-class">.vue</span>
    ├── layouts/
    │   └── Default<span class="hljs-selector-class">.vue</span>
    ├── pages/
    │   ├── Index<span class="hljs-selector-class">.vue</span>
    │   └── Blog<span class="hljs-selector-class">.vue</span>
    └── templates/
        └── BlogPost.vue
</code></pre>
<p>根目录由 5 个主要文件和文件夹组成。</p>
<ol>
<li><code>package.json</code>是存储项目所有依赖项的地方</li>
<li><code>gridsome.config.js</code>作为 Gridsome 站点的配置文件，您可以在其中配置插件</li>
<li><code>gridsome.server.js</code>是可选的，用于挂接 Gridsome 服务器的各个部分</li>
<li>在构建期间，<code>/static directory</code>中的所有文件将被直接复制到<code>dist</code>。例如，<code>/static/robots.txt</code>将位于<a href="https://yoursite.com/robots.txt">https://yoursite.com/robots.txt</a></li>
<li>大多数代码都在这里。在这个文件夹中，我们有:</li>
</ol>
<p><code>main.js</code>，导入全局样式和脚本。这个文件包含所有的应用程序配置，这样它就可以将应用程序的其他部分插入 Gridsome API。</p>
<p><code>layouts/</code>，其组件用于换行。布局应该包含页眉、页脚或侧边栏等组件，这些组件将在整个网站中使用。所有布局组件都位于<code>src/layouts</code>文件夹中，并应指示为全局组件或每页导入。</p>
<h2>使用布局</h2>
<h3>使布局全局化</h3>
<p>如果您不想将布局导入每个单独的页面或模板，您可以创建全局布局。为此，转到<code>src/main.js</code>并导入您的布局文件。然后在导出函数中使布局全局化。</p>
<p>例如:</p>
<pre><code>

<span class="hljs-keyword">import</span> Layout <span class="hljs-keyword">from</span> <span class="hljs-string">'~/layouts/Default.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Vue, { head, router, isServer }</span>) </span>{
  Vue.component(<span class="hljs-string">'Layout'</span>, Layout)
}
</code></pre>
<p>现在，您可以在 Gridsome 项目中的任何地方使用<code>&lt;Layout&gt;</code>,而无需将其导入到每个页面:</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">layout</span>&gt;</span>
    
  <span class="hljs-tag">&lt;/<span class="hljs-name">layout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3>将布局导入特定页面</h3>
<p>在某种情况下，某个布局并不适用于所有页面(例如，如果该布局包含 navbar，而您不希望它出现在登录和注册页面上)，那么您必须将这样的布局只导入到您需要的页面。</p>
<p>创建布局后，您需要将其导入到页面和模板中。这是在<code>&lt;script&gt;</code>标签中完成的:</p>
<pre><code><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">navLayout</span>&gt;</span>
    Add page content here
  <span class="hljs-tag">&lt;/<span class="hljs-name">navLayout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> navLayout <span class="hljs-keyword">from</span> <span class="hljs-string">'~/layouts/navLayout.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> </span></span><span class="hljs-template-variable">{
  components: {
    navLayout
  }</span><span class="xml"><span class="undefined">
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<p>每个布局都需要一个<code>&lt;slot&gt;</code>组件。这是来自页面和模板的内容将被插入的地方。布局可以有<a href="https://gridsome.org/docs/layouts/#multiple-content-slots">个多槽</a>:</p>
<pre><code>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><code>pages/</code>目录中的每个组件都成为网站上的一个页面。每个页面都将根据<code>.vue</code>文件的位置获得它的路径。例如，<code>src/pages/Index.vue</code>将成为<code>homepage/</code>，而<code>src/pages/Blog.vue</code>将成为<code>localhost:8080/blog</code>或<code>example.com/blog</code>，它们将被渲染为博客页面。</p>
<p><code>templates/</code>用于 GraphQL 集合的单帖子视图。要添加模板，创建一个与 GraphQL 集合同名的<code>.vue</code>文件到<code>src/templates</code>。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<p>如果你正在导入一个外部数据源，比如来自 WordPress 博客的文章，到你的项目中，每个文章将在这个目录中寻找一个组件作为它的模板。组件文件的名称必须与 GraphQL 模式中的节点类型相匹配。</p>
<h3>Gridsome 入门网站</h3>
<p>Gridsome starter 站点是预先构建的项目，任何人都可以用来构建自己的网站。Gridsome 有 40 个+ <a href="https://gridsome.org/starters/"> starter sites </a>，横跨 Markdown、Strapi、WordPress、Auth0 等众多平台。为了这篇文章，我将安装<a href="https://gridsome.org/starters/gridsome-blog-starter/">官方 Gridsome 博客启动器</a>。</p>
<p>Gridsome Blog Starter 是一个简单的、可修改的、极简主义的 grid some Starter，它对内容使用 Markdown。它还具有暗/亮模式功能。</p>
<p>这是你的网站安装这个入门网站后的样子——<a href="https://gridsome-starter-blog.netlify.com/">https://gridsome-starter-blog.netlify.com/</a></p>
<h3>安装步骤</h3>
<p>首先安装 Gridsome CLI 工具:<code>npm install --global @gridsome/cli</code>。</p>
<p>如果不确定有没有，可以用<code>gridsome -v</code>确认是否已经安装了 Gridsome CLI。</p>
<p>接下来，安装入门网站:</p>
<ol>
<li>输入<code>gridsome create my-blog <a href="https://github.com/gridsome/gridsome-starter-blog.git" rel="nofollow">https://github.com/gridsome/gridsome-starter-blog.git</a></code></li>
<li>运行<code>cd my-blog</code>进入项目目录</li>
<li>运行<code>gridsome develop</code>以在<code><a href="http://localhost:8080" rel="nofollow">http://localhost:8080</a></code>启动本地开发服务器</li>
</ol>
<p>恭喜，我们现在已经建立了一个 stater 站点，可以根据我们自己的口味进行修改！<em>🎉</em></p>
<p>请访问<code><a href="http://localhost:8080" rel="nofollow">http://localhost:8080</a></code>进入该网站:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/c1161504a6f25614bc9468d8ecdbd329.png" alt="Screenshot of a Gridsome blog starter site" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609789327533_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609789327533_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/c1161504a6f25614bc9468d8ecdbd329.png" alt="Screenshot of a Gridsome blog starter site" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609789327533_Capture.PNG"/></noscript>
<p>现在，您可以打开 vsCode 或您喜欢的代码编辑器，根据您的喜好调整该站点。例如，您可以创建一个新的主页，将此页面转换为博客，并将其用作您的作品集网站。</p>
<h2>Gridsome 插件</h2>
<p>插件支持附加的功能，这些功能可以绑定到你的 Gridsome 应用上。Gridsome 有一个蓬勃发展的插件生态系统，可以与许多东西进行复杂的集成。这些通常是使用 npm 安装的 JavaScript 库，然后根据项目需求进行配置。</p>
<p>在写的时候，Gridsome 有 194 个插件，你可以在这里访问<a href="https://gridsome.org/plugins/">。要安装任何 Gridsome 插件，可以使用 npm 或 Yarn。</a></p>
<blockquote><p>任何以<code>@gridsome/</code>开头的插件都意味着它是 Gridsome 创建者的官方插件。要安装一个插件，你所要做的就是访问通用插件页面，搜索想要的插件，然后按照安装步骤操作。</p></blockquote>
<h2 id="building-a-blog-that-fetches-markdown-content">建立一个获取降价内容的博客</h2>
<p>使用 Markdown 构建博客的第一步是创建和设置一个 Gridsome 项目，如前面使用<code>gridsome create gridsome-blog</code>所解释的。</p>
<p>在本教程中，我将使用两个插件:</p>
<ol>
<li><a href="https://gridsome.org/plugins/@gridsome/source-filesystem"> <code>@gridsome/source-filesystem</code> </a>插件，用于将文件转换成可以用组件中的 GraphQL 获取的内容</li>
<li><a href="https://gridsome.org/plugins/@gridsome/transformer-remark"> <code>@gridsome/transformer remark</code> </a>，一个带备注的网格降价转换器</li>
</ol>
<h3>降价</h3>
<p>Markdown 是一种轻量级的标记语言，可以用来为纯文本文档添加格式元素。由约翰·格鲁伯于 2004 年创建的 Markdown 现在是世界上最流行的标记语言之一。Markdown 几乎可以用于任何东西，比如<a href="https://www.markdownguide.org/getting-started/#websites">网站、文档、笔记、书籍、演示文稿、电子邮件和技术文档。</a></p>
<h3>安装插件</h3>
<p>如前所述，您可以使用 Yarn 或 npm 来安装插件。让我们使用 npm 同时安装这两个组件，如下所示:</p>
<pre><code><span class="hljs-built_in">npm</span> i -S @gridsome/source-filesystem @gridsome/transformer-remark
</code></pre>
<p>一旦安装成功，您将需要在<code>gridsome.config.js</code>文件中配置<code>@gridsome/source-filesystem</code>插件。这就是为什么 Gridsome 会查找<code>blog</code>文件夹，并添加所有待查询的帖子:</p>
<pre><code>// gridsome.config.js

module.exports = {
  siteName: <span class="hljs-string">'Gridsome'</span>,
  plugins: [
    {
      use: <span class="hljs-string">'@gridsome/source-filesystem'</span>,
      options: {
        typeName: <span class="hljs-string">'BlogPost'</span>,
        path: <span class="hljs-string">'./blog/**/*.md'</span>,
      },
    },
  ],
  templates: {
    BlogPost: <span class="hljs-string">'/blog/:title'</span>,
  },
};
</code></pre>
<p>以上配置就是我们设置<code>source-filesystem</code>插件所需要的。</p>
<ul>
<li><code>typeName</code>是 GraphQL 的类型和模板名</li>
</ul>
<blockquote><p><code>src/templates</code>中的<code>.vue</code>文件必须与<code>typeName</code>相匹配，才能拥有它的模板。</p></blockquote>
<ul>
<li><code>path</code>是我们将在帖子/博客中消费的降价内容的位置</li>
<li><code>templates.BlogPost</code>是每个帖子将遵循的路线，即<code>localhost:8080/blog/new-post</code></li>
</ul>
<p>所以这不会变得太复杂，让我们创建我们的降价文件/帖子。这些将作为虚拟博客帖子。首先，创建包含我们博客文章的<code>blog</code>文件夹:</p>
<p><code>blog/welcome.md</code></p>
<pre><code><span class="hljs-meta">---</span>
<span class="hljs-attr">title:</span> <span class="hljs-string">'Welcome to the blog'</span>
<span class="hljs-attr">date:</span> <span class="hljs-number">2020</span><span class="hljs-bullet">-04</span><span class="hljs-bullet">-20</span>
<span class="hljs-meta">---</span>



This is the first post in this brand new blog.
Of course we have all the power of Markdown here,
so we can make things **bold** or _italic_.
</code></pre>
<p><code>blog/happy-easter.md</code></p>
<pre><code><span class="hljs-meta">---</span>
<span class="hljs-attr">title:</span> <span class="hljs-string">'Happy Easter'</span>
<span class="hljs-attr">date:</span> <span class="hljs-number">2020</span><span class="hljs-bullet">-04</span><span class="hljs-bullet">-12</span>
<span class="hljs-meta">---</span>



As it turns out I<span class="hljs-string">'m writing this on Easter,
so why not include a picture of a easter egg here.

!\[easter egg\](https://images.unsplash.com/photo-1457301353672-324d6d14f471?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=80)</span>
</code></pre>
<p>为了避免混淆，下面是我的文件和文件夹结构的样子:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/82e8fc3c5c27c47f686854568355ab67.png" alt="Screenshot of an IDE" data-lazy-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613396133980_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613396133980_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/82e8fc3c5c27c47f686854568355ab67.png" alt="Screenshot of an IDE" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613396133980_Capture.PNG"/></noscript>
<p>每当您修改<code>gridsome.config.js</code>文件或添加新的博客文章时，您都需要点击(Ctrl + c)来重启 Gridsome 开发服务器，这样它就会获得新的配置和您刚刚创建的文件。<a name="GraphQL"/></p>
<h3>使用 GraphQL 查询数据</h3>
<p>在 Gridsome 中，有很多方法可以将数据放入您的站点，但是一种非常流行和简单的方法是通过 GraphQL。既然我们已经设置了插件并创建了虚拟帖子，让我们来看看 GraphQL 操场。</p>
<p>数据可以从 GraphQL 数据层查询到任何页面、模板或组件中。在 pages &amp;模板中添加一个<code>&lt;page-query&gt;</code>块，或者在组件中添加一个<code>&lt;static-query&gt;</code>块。</p>
<p>运行<code>gridsome develop</code>并导航到<a href="http://localhost:8080/___explore">http://localhost:8080/_ _ _ 探索</a>:</p>
<pre><code>
query {
  posts: allBlogPost {
    edges {
      <span class="hljs-keyword">node</span> <span class="hljs-title">{
        id</span>
        title
        <span class="hljs-keyword">date</span> (format: <span class="hljs-string">"MMMM D, YYYY"</span>)
        path
      }
    }
  }
}
</code></pre>
<p>当您单击大的<strong>播放</strong>按钮时，我们会得到下面的结果，显示我们作为 Markdown 文件创建的两篇博客文章现在可以通过 GraphQL 端点获得:</p>
<pre><code>{
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"posts"</span>: {
      <span class="hljs-attr">"edges"</span>: [
        {
          <span class="hljs-attr">"node"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"46ea6f212d1378a5dcc360216e17dbc4"</span>,
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Welcome to the blog"</span>,
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"April 20, 2020"</span>,
            <span class="hljs-attr">"path"</span>: <span class="hljs-string">"/blog/welcome-to-the-blog/"</span>
          }
        },
        {
          <span class="hljs-attr">"node"</span>: {
            <span class="hljs-attr">"id"</span>: <span class="hljs-string">"54c8892e9cf791f134c7ace95dcbcf5e"</span>,
            <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Happy Easter"</span>,
            <span class="hljs-attr">"date"</span>: <span class="hljs-string">"April 12, 2020"</span>,
            <span class="hljs-attr">"path"</span>: <span class="hljs-string">"/blog/happy-easter/"</span>
          }
        }
      ]
    }
  }
}
</code></pre>
<p>下一步是在组件或页面中查询和显示数据。之前，我们在 pages 文件夹中创建了一个文件<code>Blog.vue</code>。现在我们有了一些内容，让我们把它添加到页面上。</p>
<p>让我们在<code>src/components/</code>中创建一个组件<code>BlogPostList</code>，使我们的项目更容易维护和测试。在<code>BlogPostList.vue</code>文件中，使用下面的代码:</p>
<pre><code><span class="xml">// src/components/BlogPostList.vue

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"post-list"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"post in posts"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"post.node.id"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span></span><span class="hljs-template-variable">{{post.node.title}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Published on </span><span class="hljs-template-variable">{{post.node.date}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">g-link</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">"post.node.path"</span>&gt;</span>Read article<span class="hljs-tag">&lt;/<span class="hljs-name">g-link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">props</span>: [<span class="hljs-string">'posts'</span>]
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.post-list</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">12px</span>;
}

<span class="hljs-selector-class">.post</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">0</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p>这个文件只是接收来自<code>Blog.vue</code>文件的数据作为道具，我们将在这个文件中获取我们的博客文章。</p>
<p>我们将使用<code>&lt;page-query&gt;</code>从 GraphQL 端点获取博客文章列表，因为它是一个页面:</p>
<pre><code><span class="xml">// src/pages/Blog.vue

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Blog<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is the blog page.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">BlogPostList</span> <span class="hljs-attr">:posts</span>=<span class="hljs-string">"$page.posts.edges"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> BlogPostList <span class="hljs-keyword">from</span> <span class="hljs-string">'~/components/BlogPostList.vue'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> </span></span><span class="hljs-template-variable">{
  metaInfo: {
    title: 'Blog'
  }</span><span class="xml"><span class="undefined">,
  components: </span></span><span class="hljs-template-variable">{
    BlogPostList
  }</span><span class="xml"><span class="undefined">
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">page-query</span>&gt;</span>
query </span><span class="hljs-template-variable">{
  posts: allBlogPost {
    edges {
      node {
        id
        title
        date (format: "MMMM D, YYYY")
        path
      }</span><span class="xml">
    }
  }
}
<span class="hljs-tag">&lt;/<span class="hljs-name">page-query</span>&gt;</span></span>
</code></pre>
<p>现在，当您通过<code><a href="http://localhost:8081/blog/" rel="nofollow">http://localhost:8081/blog/</a></code>访问博客页面时，我们应该会看到博客文章列表:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/e423ecf67a9ebd1da7670257b091a146.png" alt="Screenshot of empty Gridsome blog page" data-lazy-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613397470795_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613397470795_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/e423ecf67a9ebd1da7670257b091a146.png" alt="Screenshot of empty Gridsome blog page" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613397470795_Capture.PNG"/></noscript>
<h3>创建文章页面</h3>
<p>现在是时候创建一个帖子页面了。在这一点上，如果你试图点击每篇文章下面的<strong>阅读文章</strong>链接，它会把你带到一个 404 错误页面。这是因为我们还没有为每篇博客文章创建一个页面。</p>
<blockquote><p>404 页面可以<a href="https://gridsome.org/docs/pages/#custom-404-page">轻松定制</a>。</p></blockquote>
<p>提醒一下，<code>typeName</code>是 GraphQL 的类型和模板名，<code>src/templates</code>中的<code>.vue</code>文件必须与<code>typeName</code>匹配才能拥有模板。</p>
<p>要为集合中的节点创建单个页面(在本例中，集合是<code>BlogPost</code>)，让我们创建一个新文件<code>src/templates/BlogPost.vue</code>，在这里我们定义博客文章的外观。</p>
<p>我们将需要再次添加一个页面查询来从 GraphQL 端点获取文章本身，这一次我们还需要字段<code>content</code>,因为它包含 HTML 格式的文章正文:</p>
<pre><code><span class="xml">// src/templates/BlogPost.vue

<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">{{$page.post.title}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Published on </span><span class="hljs-template-variable">{{$page.post.date}}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span></span><span class="hljs-template-variable">{{$page.post.timeToRead}}</span><span class="xml">min to read<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">"$page.post.content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">article</span> &gt; <span class="hljs-selector-tag">header</span> {
  <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">48px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">page-query</span>&gt;</span>
query Post ($path: String!) {
   post: blogPost (path: $path) {
    id
    title
    date (format: "MMMM D, YYYY")
    timeToRead
    content
  }
}
<span class="hljs-tag">&lt;/<span class="hljs-name">page-query</span>&gt;</span></span>
</code></pre>
<p>有了这些，我们就可以创建一个博客，获取降价内容和文件作为帖子。在这里，您可以随意添加额外的内容和功能到您的网站。</p>
<blockquote><p>你可以在这里找到我的源代码</p></blockquote>
<h2>构建学生档案网站</h2>
<p>在本教程中，我将使用<code><a href="https://gridsome.org/plugins/@gridsome/source-faker">gridsome/source-faker</a></code>插件来获取站点数据。将使用 GraphQL 查询这些数据。</p>
<h3>安装插件</h3>
<p>如前所述，您可以使用 yarn 或 npm 来运行此安装:</p>
<pre><code><span class="hljs-selector-tag">yarn</span> <span class="hljs-selector-tag">add</span> @<span class="hljs-keyword">gridsome</span>/<span class="hljs-keyword">source</span>-<span class="hljs-keyword">faker</span>
</code></pre>
<p>或者</p>
<pre><code><span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">install</span> @<span class="hljs-keyword">gridsome</span>/<span class="hljs-keyword">source</span>-<span class="hljs-keyword">faker</span>
</code></pre>
<p>安装完成后，下一步是在<code>gridsome.config.js</code>中注册插件:</p>
<pre><code><span class="hljs-selector-tag">export</span> <span class="hljs-selector-tag">default</span> {
  <span class="hljs-attribute">plugins</span>: [
    {
      use: <span class="hljs-string">'@gridsome/source-faker'</span>,
      options: {
        numNodes: <span class="hljs-number">100</span>
      }
    }
  ]
}
</code></pre>
<h3>使用 TailwindCSS 进行样式设置</h3>
<p>为了使这个网站有吸引力，我将使用 TailwindCSS。在 Gridsome 中有许多<a href="https://tailwindcss.com/docs/installation">选项</a>可以用来安装 TailwindCSS，但我将使用他们的 CDN。</p>
<p>在<code>main.js</code>文件中，我们将添加头部元数据，然后包含外部 CSS/CDN 链接:</p>
<pre><code><span class="hljs-keyword">import</span> DefaultLayout <span class="hljs-keyword">from</span> <span class="hljs-string">'~/layouts/Default.vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">Vue, { router, head, isClient }</span>) </span>{
  
  Vue.component(<span class="hljs-string">'Layout'</span>, DefaultLayout)
   head.link.push({
    <span class="hljs-attr">rel</span>: <span class="hljs-string">'stylesheet'</span>,
    <span class="hljs-attr">href</span>: <span class="hljs-string">'https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="205441494c57494e4443535360">[email protected]</a>^2/dist/tailwind.min.css'</span>
  })
}
</code></pre>
<h3>创建个人资料页面和链接</h3>
<p>成功设置插件和 TailwindCSS 后，下一步是创建一个新页面，然后在我们的默认布局中链接它:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/e10e0009cd54a9f8580e12d8f5285b6f.png" alt="Screenshot of an IDE with profile.vue page circled" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611466693668_profile.vue+added.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611466693668_profile.vue+added.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/e10e0009cd54a9f8580e12d8f5285b6f.png" alt="Screenshot of an IDE with profile.vue page circled" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1611466693668_profile.vue+added.PNG"/></noscript>
<p>创建新页面后，转到<code>layouts/Default.vue</code>将这个新链接包含在导航栏中，要知道<code>Default.vue</code>出现在所有页面上，因为它用于包装页面组件:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"layout"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">g-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span></span><span class="hljs-template-variable">{{ $static.metadata.siteName }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">g-link</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">g-link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav__link"</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">g-link</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">g-link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav__link"</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/profile/"</span>&gt;</span>Profile<span class="hljs-tag">&lt;/<span class="hljs-name">g-link</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">g-link</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav__link"</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about/"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">g-link</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<p>为了确保新页面使用了<code>defualt.vue</code>，我们需要用<code>main.js</code>中给它的名字包装我们的代码，如前所述，这个名字在<code>layout</code>中。</p>
<h3>使用 GraphQL 查询数据</h3>
<p>我们在本文前面已经讨论过这个主题<a href="#GraphQL">，</a>,所以你可以继续学习这部分教程。你可以在这里找到我的<a href="https://github.com/olawanlejoel/student-profile">源代码</a>，还有这里的<a href="https://xenodochial-tesla-f43309.netlify.app/profile/">直播站点。</a></p>
<h2>实时部署</h2>
<p>使用 Gridsome 时，部署站点的最佳方式是利用 GitHub 之类的 Git 服务，然后连接一个部署服务(Netlify、AWS Amplify、Vercel、Github Pages、Surge.sh 等)。)从选定的存储库中构建您的站点。其中一些服务(例如 Vercel 和 Surge.sh)允许您从终端部署静态 Gridsome 站点。</p>
<p>Gridsome 附带了一组用于开发和生产目的的有用命令:</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>创造</td>
<td>脚手架工具，使您能够使用<code>gridsome create my-app</code>在几秒钟内创建 Gridsome 应用程序</td>
</tr>
<tr>
<td>发展</td>
<td>在<a href="http://localhost:8080/"> http://localhost:8080/ </a>启动一个本地开发服务器，使用<code>gridsome develop</code>进行热重装</td>
</tr>
<tr>
<td>建设</td>
<td>该命令使用<code>gridsome build</code>在项目的<code>dist</code>目录中生成一个静态站点</td>
</tr>
<tr>
<td>探索</td>
<td>要启动<a href="https://github.com/prisma/graphql-playground"> GraphQL 游乐场</a>并探索您的模式或数据，请转到<code><a href="http://localhost:8080/___explore" rel="nofollow">http://localhost:8080/___explore</a></code></td>
</tr>
<tr>
<td>信息</td>
<td>使用<code>gridsome info</code>输出关于本地环境的信息</td>
</tr>
</tbody>
</table>
<h3>部署到网络</h3>
<p>使用 Netlify 部署您的项目或网站需要两件主要的事情:</p>
<ol>
<li>GitHub 账户</li>
<li>一个<a href="https://netlify.com/"> Netlify </a>账户(您可以使用您的 GitHub 详细信息在 Netlify 上注册)</li>
</ol>
<p>如果你有一个 GitHub 和一个 Netlify 账户，那么你可以通过 Git 把你的代码推送到 GitHub。</p>
<p>推送至 GitHub 后，通过 netlify.com 访问您的 Netlify 仪表盘并登录:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/fac29f351f4043301b649e04d8296768.png" alt="Screenshot of Netlify page with New Site From Git button highlighted" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609793809584_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609793809584_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/fac29f351f4043301b649e04d8296768.png" alt="Screenshot of Netlify page with New Site From Git button highlighted" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609793809584_Capture.PNG"/></noscript>
<p>登录后，您现在可以点击 Git 中的<strong>新站点按钮，然后<strong>选择 GitHub </strong>作为 Git 提供者，在那里托管您站点的源代码以进行持续部署:</strong></p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/9cee76d2ff230ee6bb502ee3fff17d09.png" alt="Screenshot of create new site page on netlify" data-lazy-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613408135756_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613408135756_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/9cee76d2ff230ee6bb502ee3fff17d09.png" alt="Screenshot of create new site page on netlify" data-original-src="https://paper-attachments.dropbox.com/s_ABE45E6ADF8366A046E6ACAC5B7D39C69B220B86693B82704D188241521D6B8A_1613408135756_Capture.PNG"/></noscript>
<p>您现在可以搜索存储库，这样您就可以开始部署您的网站，如上图所示。</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/234afd399356c2e19c51b6eca533c8d1.png" alt="Screenshot of netlify Create New Site page with gridsome build in the build command line" data-lazy-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609794630480_Capture.PNG?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609794630480_Capture.PNG"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/234afd399356c2e19c51b6eca533c8d1.png" alt="Screenshot of netlify Create New Site page with gridsome build in the build command line" data-original-src="https://paper-attachments.dropbox.com/s_5FBA256964376AC18387D86B49BDD42DA09858653782C869DE804C25C0870993_1609794630480_Capture.PNG"/></noscript>
<p>为 Gridsome 添加构建命令(<code>gridsome build</code>)。部署可能需要一些时间，但一旦完成，您就可以通过 Netlify 为您生成的链接访问您的站点。</p>
<p>运行<code>gridsome build</code>命令后，还可以通过使用生成的<code>dist</code>文件夹来使用<a href="https://app.netlify.com/drop">网络删除</a>。</p>
<h3>FTP 部署</h3>
<p>FTP 代表文件传输协议，它是计算机通过互联网将文件从一个系统传输到另一个系统时遵循的一组规则。要通过 FTP 在传统主机上托管您的 Gridsome 站点，您需要通过运行项目文件夹中的<code>gridsome build</code>从终端手动构建您的项目，以便在您生成的站点所在的位置生成一个<code>dist</code>文件夹。</p>
<p>生成的文件夹现在可以上传到任何 FTP。</p>
<h2>结论</h2>
<p>随着静态站点生成器越来越受欢迎，您必须能够理解如何使用像 Gridsome 这样的 SSG 来轻松地构建静态网站，从而向您的用户交付内容。</p>
<p>本文只是对 Gridsome 的一个介绍。你可以查看 Gridsome 官方文档，在这里了解更多<a href="https://gridsome.org/docs/">。</a></p>
<p>要了解更多关于 Gridsome 的信息，您可以查看以下链接:</p>

<p>如果你有任何问题，你可以把它们留在评论区，我很乐意回答每一个问题！感谢阅读！</p>
<h2 id="resources">资源</h2>

<p>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p>
<p>Focus on the bugs that matter — <a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">try LogRocket today</a>.</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>