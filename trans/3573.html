<html>
<head>
<title>Create parallax scrolling with CSS </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用CSS创建视差滚动</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/create-parallax-scrolling-css/#0001-01-01">https://blog.logrocket.com/create-parallax-scrolling-css/#0001-01-01</a></blockquote><div><article class="article-post">
<p>视差滚动可以通过使网站更加动态和身临其境来改善网站的浏览体验。用最简单的术语来说，视差滚动是一种<a href="https://en.wikipedia.org/wiki/Three-dimensional_space_(mathematics)">三维</a>效果，用于增加网页的深度。这其中有一些细微的差别，我们稍后会澄清。</p>
<p>在本文中，我们将讨论考虑使用视差滚动的原因。我们将演示如何用CSS实现视差滚动效果，并且我们将分享使用CSS而不是JavaScript来创建视差效果的一些好处。在整个教程中，我们将分享几个CSS视差效果的例子和用例。</p>
<p>视差滚动的一个著名且执行良好的例子是<a href="http://www.firewatchgame.com"> Firewatch电脑游戏网站</a>。英雄部分包含了一个乡村场景，一个徒步旅行者穿过山谷凝视着一个小山站。当用户向下滚动时，视差效果会使场景消失以显示下面的内容:</p>
<figure id="attachment_141021" aria-describedby="caption-attachment-141021" class="wp-caption aligncenter"><img data-attachment-id="141021" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/firewatch-website/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif" data-orig-size="730,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Firewatch website" data-image-description="" data-image-caption="&lt;p&gt;Parallax scrolling effect example from the Firewatch; Firewatch is a trademark of Campo Santo.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website-300x140.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif" decoding="async" class="wp-image-141021 size-full jetpack-lazy-image" src="../Images/9bad36e7405bacc390f574c6646292dd.png" alt="Parallax Scrolling Example From Firewatch Website" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="141021" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/firewatch-website/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif" data-orig-size="730,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Firewatch website" data-image-description="" data-image-caption="&lt;p&gt;Parallax scrolling effect example from the Firewatch; Firewatch is a trademark of Campo Santo.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website-300x140.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif" decoding="async" loading="lazy" class="wp-image-141021 size-full" src="../Images/9bad36e7405bacc390f574c6646292dd.png" alt="Parallax Scrolling Example From Firewatch Website" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/firewatch-website.gif"/></noscript><figcaption id="caption-attachment-141021" class="wp-caption-text">Parallax scrolling effect example from the <a href="http://www.firewatchgame.com/">Firewatch</a>; Firewatch is a trademark of Campo Santo.</figcaption></figure>
<p>看起来像魔术，对吧？🪄🎩</p>
<p>让我们去后台看看奇迹是如何发生的！🧐⚙️</p>
<p><em>向前跳转:</em></p>


<p>视差滚动是一种计算机图形技术，其中背景图像比前景图像移动得更慢，从而在2D场景中产生深度错觉。这项技术起源于20世纪30年代<a href="https://en.wikipedia.org/wiki/Traditional_animation">传统动画</a>中使用的<a href="https://en.wikipedia.org/wiki/Multiplane_camera">多平面摄像机</a>技术；</p>

<p>模拟3D场景外观的2.5D滚动示例。<a href="https://en.wikipedia.org/wiki/File:MultiplaneDemo.webm">由维基百科用户Janke </a>制作。公共领域，通过维基百科。</p>
<p>上述示例通常被称为2.5D(二维半)或伪3D透视图，因为它模拟了三维场景的外观。</p>
<p>视差滚动在<a href="https://en.wikipedia.org/wiki/2D_computer_graphics"> 2D计算机图形学</a>中得到普及，并从20世纪80年代初开始包含在<a href="https://en.wikipedia.org/wiki/Video_games">视频游戏</a>中。许多人认为街机游戏<a href="https://en.wikipedia.org/wiki/Moon_Patrol">月球巡逻</a>是这种效果在侧滚游戏中的首次应用。视差滚动使其成为80年代和90年代许多流行的平台游戏，如<a href="https://en.wikipedia.org/wiki/Sonic_the_Hedgehog">刺猬索尼克</a>。</p>
<p>游戏<a href="https://en.wikipedia.org/wiki/The_Whispered_World">耳语世界</a>通过图层的合成实现了视差效果。下面是游戏各层的等轴视图，每一层都用一个彩色框架来区分:</p>
<figure id="attachment_141043" aria-describedby="caption-attachment-141043" class="wp-caption aligncenter"><img data-attachment-id="141043" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/side-view-of-the-whispered-world/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg" data-orig-size="730,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Side view of The Whispered World" data-image-description="" data-image-caption="&lt;p&gt;sss&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg" decoding="async" class="wp-image-141043 size-full jetpack-lazy-image" src="../Images/92046b5982777e581cf3753a279192be.png" alt="Side View of The Whispered World" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world-300x141.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg"/><noscript><img data-lazy-fallback="1" data-attachment-id="141043" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/side-view-of-the-whispered-world/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg" data-orig-size="730,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Side view of The Whispered World" data-image-description="" data-image-caption="&lt;p&gt;sss&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg" decoding="async" loading="lazy" class="wp-image-141043 size-full" src="../Images/92046b5982777e581cf3753a279192be.png" alt="Side View of The Whispered World" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world-300x141.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/side-view-of-the-whispered-world.jpeg"/></noscript><figcaption id="caption-attachment-141043" class="wp-caption-text">A side view of the layers used for parallax scrolling in <a href="https://en.wikipedia.org/wiki/The_Whispered_World">The Whispered World</a>. <a href="https://en.wikipedia.org/wiki/Parallax_scrolling#/media/File:The_Whispered_World_parallax_scrolling_sample_1.jpg">Claas Paletta, PR &amp; New Business Manager of Daedalic Entertainment GmbH (rights owner)</a>. Free use, via Wikimedia Commons.</figcaption></figure>
<p>从正面看，这些层构成了一个完整的场景:</p>
<figure id="attachment_141048" aria-describedby="caption-attachment-141048" class="wp-caption aligncenter"><img data-attachment-id="141048" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/front-view-of-the-whispered-world/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg" data-orig-size="730,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Front view of The Whispered World" data-image-description="" data-image-caption="&lt;p&gt;sss&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg" decoding="async" class="wp-image-141048 size-full jetpack-lazy-image" src="../Images/19251b8bb63d9f26f1520263e943b73a.png" alt="Front View of The Whispered World" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world-300x141.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg"/><noscript><img data-lazy-fallback="1" data-attachment-id="141048" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/front-view-of-the-whispered-world/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg" data-orig-size="730,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Front view of The Whispered World" data-image-description="" data-image-caption="&lt;p&gt;sss&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg" decoding="async" loading="lazy" class="wp-image-141048 size-full" src="../Images/19251b8bb63d9f26f1520263e943b73a.png" alt="Front View of The Whispered World" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world-300x141.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/front-view-of-the-whispered-world.jpeg"/></noscript><figcaption id="caption-attachment-141048" class="wp-caption-text">A front view of the layers used for parallax scrolling in <a href="https://en.wikipedia.org/wiki/The_Whispered_World">The Whispered World</a>. <a href="https://en.wikipedia.org/wiki/Parallax_scrolling#/media/File:The_Whispered_World_parallax_scrolling_sample_1.jpg">Claas Paletta, PR &amp; New Business Manager of Daedalic Entertainment GmbH (rights owner)</a>. Free use, via Wikimedia Commons.</figcaption></figure>
<p>这种技术被整合到网页设计中，但直到2011年推出<a href="https://en.wikipedia.org/wiki/HTML5"> HTML5 </a>和<a href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets#CSS_3"> CSS 3 </a>才开始流行。随着CSS的成熟，不使用JavaScript和黑客技术实现这一效果变得越来越容易。</p>
<p>一个不幸的结果是，许多人将视差效应视为一个笼统的术语；它已经成为“免费滚动效果”的同义词。但实际上，视差效果不需要任何动画或滚动触发的事件。它纯粹基于以不同速度移动的元素来给出深度感。</p>
<p>在网页设计中，这是通过将元素分组为“层”，并控制每层移动的速度来实现的。在典型的网页中，元素是垂直布局的，移动是用户滚动页面的结果。</p>

<p>在你把它放到一个网站上之前，考虑一下你为什么想要使用视差滚动效果是很重要的！这里有几个原因。</p>
<h3 id="improved-user-engagement">提高用户参与度</h3>
<p>视差图形可以抓住用户的注意力，提高参与度。这可以减少用户在浏览完网站的一页后点击后退按钮或关闭标签的比例。如果你的网站的成功依赖于用户浏览一个以上的页面，那么提高(或降低)跳出率是有益的。</p>
<h3 id="serves-as-a-storytelling-aid">作为讲故事的辅助工具</h3>
<p>好的设计会对用户产生影响。视差图形可以帮助用户进行身临其境的旅行。您可以使用视差滚动来制作一个单页网站，访问者可以阅读关于您的产品或品牌的整个故事，而无需导航到多个页面。查看Netlify 制作的<a href="https://matterday.netlify.com/"> Matterday，获得一个很好的例子；这个网站讲述了一个关于网络生活如何节省时间的令人信服的故事，并提供了如何利用额外时间的建议！</a></p>
<h2 id="how-to-implement-the-parallax-effect-in-css">如何在CSS中实现视差效果</h2>
<p>一般来说，用CSS实现视差效果有两种方法。让我们来探讨和比较这两种方法。</p>
<h3 id="fixing-the-position-of-the-background">方法1:固定背景的位置</h3>
<p>固定背景的位置是用CSS创建视差效果的最早方法。你可以把它想象成2.5D视差实现。</p>
<p>这种方法的秘密是为一个部分使用背景图像并固定其位置，通常使用<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-attachment">background-attachment:fixed</a></code>。当用户滚动特定部分时，背景不会滚动，但其他元素会滚动。然而，一旦用户滚动到该部分之外，就会出现不同的背景。通过让元素以不同的速度移动，我们创造了一个视差效果！</p>
<p>使用这种方法需要记住的一点是，<a href="https://caniuse.com/background-attachmenthttps://caniuse.com/background-attachment">手机浏览器对</a> <code><a href="https://caniuse.com/background-attachmenthttps://caniuse.com/background-attachment">background-attachment:fixed</a></code> <a href="https://caniuse.com/background-attachmenthttps://caniuse.com/background-attachment">的支持似乎仍有问题</a>！我们将在本文后面讨论这个问题的解决方法。</p>
<p>让我们探索一个具体的例子来更好地理解这种方法是如何工作的。这里有一个完整的例子，展示了阿根廷塞罗托雷山的活动:</p>

<h4 id="laying-out-the-design">设计布局</h4>
<p>当提到视差例子时，许多开发者似乎更喜欢那些有山的场景。我想这是因为当你看到一些东西从山上升起的时候看起来很酷，但是不要让这限制了你对这种技术的应用！</p>
<p>以下是网页设计的概述。我们创建了一种带状设计，其中我们将视差部分与非视差部分交错(我称之为“缓冲”部分):</p>
<p><img data-attachment-id="141050" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/webpage-design-with-sections/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png" data-orig-size="730,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Webpage design with sections" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-149x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-507x1024.png" decoding="async" class="aligncenter wp-image-141050 size-full jetpack-lazy-image" src="../Images/65a83d6582ac3f88beb4d97d2e208c75.png" alt="Webpage Design with Sections For Creating Parallax Scrolling" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-149x300.png 149w, https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-507x1024.png 507w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141050" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/webpage-design-with-sections/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png" data-orig-size="730,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Webpage design with sections" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-149x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-507x1024.png" decoding="async" loading="lazy" class="aligncenter wp-image-141050 size-full" src="../Images/65a83d6582ac3f88beb4d97d2e208c75.png" alt="Webpage Design with Sections For Creating Parallax Scrolling" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-149x300.png 149w, https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections-507x1024.png 507w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/webpage-design-with-sections.png"/></noscript>
<p>“缓冲”部分不是视差效果工作所必需的，但是，它可以作为视差部分之间的空白。此外，它可以提供对随后的视差部分的背景的起点的更多控制。</p>
<p>例如，在1920px的屏幕上，如果我们向下滚动第一个视差部分的大部分，我们会在第二个视差部分看到山区背景的中间:</p>
<p><img data-attachment-id="141052" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/mountainous-background/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png" data-orig-size="730,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mountainous background" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png" decoding="async" class="aligncenter wp-image-141052 size-full jetpack-lazy-image" src="../Images/f25901b93b6c3d2ea58a460340478517.png" alt="First Parallax Section, Depicting A Mountainous Background" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-300x169.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141052" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/mountainous-background/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png" data-orig-size="730,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mountainous background" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png" decoding="async" loading="lazy" class="aligncenter wp-image-141052 size-full" src="../Images/f25901b93b6c3d2ea58a460340478517.png" alt="First Parallax Section, Depicting A Mountainous Background" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-300x169.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background.png"/></noscript>
<p>如果没有第一个“缓冲”部分，下面是我们将在页面的相同位置看到的内容。你会注意到第二个视差部分的山地背景的初始视图更高:</p>
<p><img data-attachment-id="141056" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/mountainous-background-second-parallax/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png" data-orig-size="730,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mountainous background in second parallax" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png" decoding="async" class="aligncenter wp-image-141056 size-full jetpack-lazy-image" src="../Images/c5f33a1f68e2267a624a2f068ab46e64.png" alt="Mountainous Background in Second Parallax Section" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax-300x169.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141056" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/mountainous-background-second-parallax/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png" data-orig-size="730,411" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Mountainous background in second parallax" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png" decoding="async" loading="lazy" class="aligncenter wp-image-141056 size-full" src="../Images/c5f33a1f68e2267a624a2f068ab46e64.png" alt="Mountainous Background in Second Parallax Section" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax-300x169.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/mountainous-background-second-parallax.png"/></noscript>
<p>最终，“缓冲”部分是一个设计决策；这不是实现要求。</p>
<p>以下是上述示例的代码笔:</p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="KKRrKNz" data-user="robatronbobby">见笔<a href="https://codepen.io/robatronbobby/pen/KKRrKNz"> <br/>固定背景视差卷轴</a>by rob 2(<a href="https://codepen.io/robatronbobby">@ robatronbobby</a>)<br/>on<a href="https://codepen.io">code Pen</a>。</p>
<p/>
<p>创建视差容器的关键是用您选择的图像设置<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-image">background-image</a></code>属性，然后将<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/background-attachment">background-attachment</a></code>属性设置为<code>fixed</code>。<code>fixed</code>值确定背景图像相对于视窗的位置。</p>
<h4 id="scaling-the-design">缩放设计</h4>
<p>使用<code>background-size: cover;</code>将图像缩放到尽可能小的尺寸以填充容器，同时保持其纵横比，这是可选的，但通常是可取的。在下面的代码中，我还使用<code>background-position: center</code>将背景图像的位置居中:</p>
<pre class="language-css hljs">.parallax-container {
  /*  this is where the magic happens:  */
  background-image: url("https://images.unsplash.com/photo-1519120944692-1a8d8cfc107f?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=872&amp;q=80");
  background-attachment: fixed;
  background-position: center;
  background-size: cover;

  /* dimensions are important, ensure it is tall enough to scroll */ 
  min-height: 100vh;

  /* you are free to lay out the container items with flexbox or whatever means you wish */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
</pre>
<p>此外，你必须注意视差容器的尺寸。容器应该足够高，需要大量的滚动！保证这一点的一个简单方法是在视差容器上设置<code>min-height: 100vh</code>,这样它将至少与屏幕的高度一样高，而不管它包含的元素。</p>
<h4 id="handling-mobile-browser-compatibility-issues">处理移动浏览器兼容性问题</h4>
<p>遗憾的是，在移动浏览器上，<code>background-attachment:</code> <code>fixed</code>仍然存在挥之不去的问题。如果你想更好地理解这些问题，<a href="https://caniuse.com/background-attachment">阅读这个文档</a>。</p>
<p>幸运的是，我们有一些选项来克服任何移动浏览器的不兼容性。</p>
<p>例如，我们可以采用核方法，使用媒体查询在移动设备(较小的屏幕)上完全消除视差。CSS大概是这样的:</p>
<pre class="language-css hljs"> /* Turn off parallax scrolling for all tablets and phones. Increase/decrease the pixels if needed */
@media only screen and (max-device-width: 1366px) {
  .parallax-container {
    background-attachment: scroll;
  }
} 
</pre>
<p>Murtuzaali Surti写了一篇关于<a href="https://css-tricks.com/the-fixed-background-attachment-hack/">固定后台黑客</a>的文章，并展示了当使用<code>background-attachment:</code> <code>fixed</code>时，手机浏览器中的漏洞是如何显现的。简而言之，Murtuzaali建议使用<code>position: fixed</code>创建一个带有背景图像的元素，将内容放入一个单独的元素中，然后将其完全放置在背景元素之上(堆叠在背景元素之上)。</p>
<p>类似地，我们可以为固定的背景图像使用一个伪元素，它的工作原理应该是一样的。我自己没有试过，所以我个人不能保证这种方法！</p>
<h4 id="pros-and-cons">固定背景位置的利弊</h4>
<p>通过固定背景的位置来实现视差滚动既有优点也有缺点。</p>
<p>优点:</p>
<ul>
<li>相对容易理解</li>
<li>易于实施</li>
</ul>
<p>缺点:</p>
<ul>
<li>移动浏览器支持仍然有问题，但是解决方法是可用的</li>
<li>只能有两层</li>
<li>无法控制图层的速度</li>
</ul>
<h3 id="using-3d-translations">方法2:使用3D翻译</h3>
<p>在CSS中，我们可以在三维空间中定位元素。我们可以沿z轴定位元素，以增加或减少用户和元素之间的可感知距离:</p>
<p><img data-attachment-id="141059" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/x-y-z-axis/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg" data-orig-size="368,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="X, Y, Z axis" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis-275x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg" decoding="async" class="aligncenter wp-image-141059 size-full jetpack-lazy-image" src="../Images/71ea499992edbba167125fe7a37a5ac1.png" alt="X, Y, Z Axis to position CSS Elements in 3D" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg 368w, https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis-275x300.jpeg 275w" data-lazy-sizes="(max-width: 368px) 100vw, 368px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141059" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/x-y-z-axis/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg" data-orig-size="368,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="X, Y, Z axis" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis-275x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-141059 size-full" src="../Images/71ea499992edbba167125fe7a37a5ac1.png" alt="X, Y, Z Axis to position CSS Elements in 3D" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg 368w, https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis-275x300.jpeg 275w" sizes="(max-width: 368px) 100vw, 368px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/x-y-z-axis.jpeg"/></noscript>
<p>由于3D翻译模拟现实，所以在我们的数字世界中，当我们移动东西时，会有类似的物理效果。更远的东西(即z轴上的负平移)将移动得更慢。相反，越近的东西(即z轴上的正平移)移动得越快。我们可以劫持z轴来控制滚动速度！</p>
<p>另一个物理效应是规模。如果我们把某物移得更远，它就会显得更小。如果更近，就会显得更大。如果你想对抗这种调整，你需要自己放大或缩小它。</p>
<p>为了实现视差效果，我们将利用三个CSS属性:<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">position</a></code>、<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/perspective">perspective</a></code>和<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform">transform</a></code>来布局元素并将其分组到层中。然后，我们将使用<code>translateZ()</code>和<code>scale()</code>转换函数来控制相对于父元素上设置的<code>perspective</code>的滚动速度和层的大小。</p>
<p>在我们继续之前，请记住这是一个棘手的话题，因为它违背了典型的事物。因此，让我们列出一个你应该熟悉的小清单，以便真正掌握这种方法:</p>
<ul>
<li>CSS转换:<a href="https://blog.logrocket.com/deep-dive-css-individual-transform-properties/">转换属性是CSS </a>的核心；理解3D方面尤其重要</li>
<li>z-index:通过<code>position</code>和<code>transform</code>属性堆叠元素可能会导致层没有像您预期的那样堆叠。这通常是因为<code>transform</code>创造了一个新的堆叠环境。你可能需要干预和<a href="https://blog.logrocket.com/best-practices-stacking-elements-css/">管理</a> <code><a href="https://blog.logrocket.com/best-practices-stacking-elements-css/">z-index</a></code> <a href="https://blog.logrocket.com/best-practices-stacking-elements-css/">层</a>取决于你的设计。如果你想提高你的理解水平，我可以推荐Ahmad Shadeed的文章</li>
<li>溢出:在3D中使用重叠元素时，必须注意溢出。如果您不太了解溢出，<a href="https://blog.logrocket.com/how-to-prevent-overflow-scrolling-css/">这里有一个资源</a>可能会对您有所帮助</li>
</ul>
<p>基思·克拉克在2014年写了关于3D翻译方法的开创性教程。本教程是对这种方法的一个很好的阐述，尽管它在实际的例子上有点轻，这可能使这种方法更容易掌握。</p>
<p>我不会在这里重复相同的信息，我将通过一个视差滚动的例子，并分享一些在那篇文章中没有涉及的细节。我推荐你读一读基思的文章；你可以忽略任何关于浏览器漏洞的讨论，因为这些已经不是问题了。</p>
<h3 id="demo">视差滚动演示</h3>
<p>让我们创建一个基本的视差滚动例子，有三层，有一些文字和不同的背景颜色。</p>
<p>这是HTML:</p>
<pre class="language-xml hljs">&lt;div class="parallax"&gt;
  &lt;!--layer 1 will be the bottom layer, layer 3 will be the top layer--&gt;
  &lt;div class="parallax-layer layer1"&gt;LAYER 1&lt;/div&gt;
  &lt;div class="parallax-layer layer2"&gt;LAYER 2&lt;/div&gt;
  &lt;div class="parallax-layer layer3"&gt;LAYER 3&lt;/div&gt;
&lt;/div&gt;
</pre>
<p>下面是我们可以重用的基本CSS:</p>
<pre class="language-css hljs">/* if you do not remove the margin, you will see a vertical scrollbar on the .parallax div */
body {
  margin: 0;
}

/* parallax "viewport" */
.parallax {
  height: 100vh;

  overflow-x: hidden;
  overflow-y: auto;

  perspective: 1px;
}

.parallax-layer {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

.layer1 {
  transform: translateZ(0);
}

.layer2 {
  transform: translateZ(-1px);
}

.layer3 {
  transform: translateZ(-2px);
}
</pre>
<p>关于这段CSS代码，有一些事情需要注意。</p>
<p>首先，<code>parallax</code>类是魔法发生的地方。定义元素的<code>height</code>和<code>perspective</code>样式属性会创建一个固定原点的3D视口。</p>
<p><code>perspective</code>属性定义了对象离用户有多远。我为<code>parallax</code>类的<code>perspective</code>属性选择了1px的值，这意味着我们非常非常接近div。如果想要更明显的视差效果，可以增加该值。</p>
<p>效果的速度由为<code>perspective</code>和<code>translateZ()</code>提供的值的组合控制。减少<code>translateZ()</code>的值会将元素推得更远，并且该元素会滚动得更慢。该值离零越远，视差效应越明显，即<code>translateZ(-5px)</code>的滚动速度将比<code>translateZ(-1px)</code>慢。</p>
<p>除了基本的CSS，你应该总是考虑层的<code>height</code>。如果一个层没有太多的内容，它可能太小，无法创建适当高的滚动上下文。有些人喜欢在<code>.parallax-layer</code>中设置默认大小。这取决于你！</p>
<p>我们可以使用属性:<code>top</code>、<code>right</code>、<code>left</code>和<code>bottom</code>来改变层的位置，以实现我们的设计。或者，我们也可以使用<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate3d">translate3d()</a></code>沿着x轴和y轴移动一个元素。</p>
<p>现在，让我们调整大小，位置，并添加一个背景颜色到每一层，以证明这一切都适合在一起。</p>
<p>这是我们在z轴上所做工作的大概数字:</p>
<p><img data-attachment-id="141061" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/z-axis-layers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png" data-orig-size="730,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Z axis layers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png" decoding="async" class="aligncenter wp-image-141061 size-full jetpack-lazy-image" src="../Images/2cfb64be0097fa11a79b340768b80190.png" alt="Z Axis Layers Relating to Parallax" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-150x150.png?crop=1 150w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141061" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/z-axis-layers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png" data-orig-size="730,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Z axis layers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png" decoding="async" loading="lazy" class="aligncenter wp-image-141061 size-full" src="../Images/2cfb64be0097fa11a79b340768b80190.png" alt="Z Axis Layers Relating to Parallax" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers-150x150.png?crop=1 150w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/z-axis-layers.png"/></noscript>
<p>接下来，我们将使层2和层3的高度为层1的一半，这样我们就可以清楚地看到每一层。</p>
<p>然后，我们将使用<code>top</code>将第2层放置在y轴的下方，这样它就从第1层的下方开始。接下来，我们将对第3层进行同样的操作，使其从第2层开始:</p>
<pre class="language-css hljs">.parallax-layer.layer1 {
  width: 100%;
  height: 100rem;

  background-color: red;
}

.parallax-layer.layer2 {
  top: 10rem;

  width: 100%;
  height: 50rem;

  background-color: green;
}

.parallax-layer.layer3 {
  top: 20rem;

  width: 100%;
  height: 50rem;

  background-color: blue;
}

div{
  font-size: 50px;
  text-align: center;
}
</pre>
<p>这是密码笔:</p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="BaxGyKQ" data-user="robatronbobby">参见笔<a href="https://codepen.io/robatronbobby/pen/BaxGyKQ"> <br/>基本视差滚动示例</a>by rob 2(<a href="https://codepen.io/robatronbobby">@ robatronbobby</a>)<br/>on<a href="https://codepen.io">code Pen</a>。</p>
<p/>
<p>这是它全屏显示的样子；这有点像俄罗斯套娃:</p>
<p><img data-attachment-id="141064" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/layers-nesting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png" data-orig-size="730,973" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Layers nesting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting-225x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png" decoding="async" class="aligncenter wp-image-141064 size-full jetpack-lazy-image" src="../Images/7f62ce7d798aa7481d35deb5129eb618.png" alt="Parallax 3D Layers Nesting" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting-225x300.png 225w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141064" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/layers-nesting/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png" data-orig-size="730,973" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Layers nesting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting-225x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png" decoding="async" loading="lazy" class="aligncenter wp-image-141064 size-full" src="../Images/7f62ce7d798aa7481d35deb5129eb618.png" alt="Parallax 3D Layers Nesting" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting-225x300.png 225w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-nesting.png"/></noscript>
<p>你觉得这种出现有什么出乎意料的地方吗？😕</p>
<p>您是否注意到，即使第2层和第3层有相同的<code>height</code>，第3层看起来比第2层短？</p>
<p>这是因为我们之前讨论过的3D转换。第三层更远，所以显得更小！如果想让它们看起来大小相等，可以使用<code>scale()</code>功能。</p>
<p>想知道为什么第一层是底层？</p>
<p>在HTML中，第1层<code>div</code>在第3层<code>div</code>之前。这些<code>div</code>是绝对定位的，这意味着第3层应该是顶层，因为它在DOM中排在最后。嗯，一个<code>transform</code>创建了一个新的堆栈上下文。这促使每一个<code>div</code>坐在它之前的事物之上！因此层的顺序与DOM中的顺序相反。😯</p>
<p>要点是记住“视差”容器或部分中的第一个元素将成为底层。</p>
<p>此外，如果您在主体上有一个<code>margin</code>(默认设置)，我们的“parallax”<code>div</code>将会有一个可见的滚动条，这可能是意料之外的，如下所示。这是因为层比容器高，所以会溢出:</p>
<p><img data-attachment-id="141066" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/layers-overflowing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png" data-orig-size="730,732" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Layers overflowing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png" decoding="async" class="aligncenter wp-image-141066 size-full jetpack-lazy-image" src="../Images/0e142f6b42be6c0134540aceb0e4cfc3.png" alt="Parallax Layers Overflowing" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-150x150.png?crop=1 150w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141066" data-permalink="https://blog.logrocket.com/create-parallax-scrolling-css/attachment/layers-overflowing/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png" data-orig-size="730,732" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Layers overflowing" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png" decoding="async" loading="lazy" class="aligncenter wp-image-141066 size-full" src="../Images/0e142f6b42be6c0134540aceb0e4cfc3.png" alt="Parallax Layers Overflowing" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing-150x150.png?crop=1 150w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/layers-overflowing.png"/></noscript>
<p>这就是碎片如何组合在一起！</p>
<p>如果你想创建一个有独立视差段的设计，可以参考Keith文章的<a href="https://keithclark.co.uk/articles/pure-css-parallax-websites/#parallax-sections">这一段。</a></p>
<p>如果这一切感觉有点难以承受，不要担心！一旦你像我们一样探索了核心机制，你可以通过探索一些好的例子来填补你理解中缺失的部分。让我们收集一些！</p>
<h3 id="examples">使用3D翻译的好例子</h3>
<p>如果你想要一个关于如何创建视差英雄部分的引导式演练，请观看这个<a href="https://www.youtube.com/watch?v=mxHoPYFsTuk">视频教程</a>。下面是讨论的示例的代码笔:</p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="vYjQZNa" data-user="robatronbobby">看笔<a href="https://codepen.io/robatronbobby/pen/vYjQZNa"><br/>CSS</a>by rob 2(<a href="https://codepen.io/robatronbobby">@ robatronbobby</a>)<br/>上<a href="https://codepen.io"> CodePen </a>。</p>
<p/>
<p>如果你想复制Firewatch网站，这里有一个相当不错的CSS重建代码笔(代码由<a href="https://codepen.io/lemmin"> lemmin </a>编写):</p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="dyeQWvN" data-user="robatronbobby">见笔<a href="https://codepen.io/robatronbobby/pen/dyeQWvN"> <br/> CSS Only Parallax示例:Firewatch发射场</a>by rob 2(<a href="https://codepen.io/robatronbobby">@ robatronbobby</a>)<br/>on<a href="https://codepen.io">code Pen</a>。</p>
<p/>
<p>如果你想看到一个使用Firewatch原创作品的版本，Sam Beckham在 <a href="https://sam.beckham.io/wrote/css-parallax-effect/">上就这个话题</a>写了一篇<a href="https://sam.beckham.io/wrote/css-parallax-effect/">短博文。这是这个例子的代码:</a></p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="OPXPNp" data-user="samdbeckham">参见<a href="https://codepen.io"> CodePen </a>上Sam Beckham(<a href="https://codepen.io/samdbeckham">@ samdbeckham</a>)<br/>的CSS 中的Pen<a href="https://codepen.io/samdbeckham/pen/OPXPNp">fire watch Parallax。</a></p>
<p/>
<p>Lynn的Fisher在Matterday微型网站上的作品进一步阐述了这一技术。很好玩，很独特。我认为让每个背景在其他内容下通过的粘性迷你“窗口”真的很新颖。</p>

<p>林恩写了一篇关于她如何创造这种效果的精彩博文。我需要更详细地挑选它来解开她使用的所有诡计！该代码可在<a href="https://github.com/netlify/matterday.netlify.com"> GitHub </a>上获得。</p>
<h4 id="pros-and-cons-2">使用3D翻译的利弊</h4>
<p>优点:</p>
<ul>
<li>可以使用多层</li>
<li>可以控制图层的速度</li>
<li>跨浏览器支持非常好</li>
</ul>
<p>缺点:</p>
<ul>
<li>比方法1更难理解</li>
<li>实施可能会很棘手</li>
</ul>

<p>如果你正在寻找在哪里使用视差滚动的灵感，有几个资源。Adobe写了一篇文章<a href="https://xd.adobe.com/ideas/principles/web-design/best-practices-for-parallax-websites/"> 10个最好的视差网站设计实例</a>里面有一些优秀的设计。<a href="https://dribbble.com/">运球</a>是另一个很好的资源。你可以搜索运球来找到来自有创意的人的设计。</p>
<h2 id="why-use-css-instead-of-javascript">为什么要用CSS而不是JavaScript？</h2>
<p>如果你能用CSS而不是JavaScript完成一些事情，你通常会得到一个更好的结果。作为一个行业，一度似乎有些人想用JavaScript做所有的事情，但我认为现在围绕这个话题有了更多的启示。</p>
<p><a href="https://www.sketch.com/"> Sketch </a>在他们的设计博客上写了关于<a href="https://www.sketch.com/blog/2022/07/22/what-is-a-parallax-effect/">视差的文章，并讲述了他们如何在其网站主页上实现一种微妙的视差滚动效果。他们选择使用一个叫做</a><a href="https://stimulus.hotwired.dev/">刺激</a>的JS框架:</p>
<blockquote><p>Richárd解释说，从发展的角度来看，这也很简单。“我们使用一个叫做<a href="https://stimulus.hotwired.dev/">刺激</a>的超级小JS框架。它让我们可以创建由HTML数据属性控制的小型JavaScript组件，”他继续说道。只需几个额外的HTML数据参数，团队就可以根据滚动速度控制水平和垂直速度。“因此，在虚拟空间中，较大的物体和元素可以移动得较慢，而较小的物体和元素可以移动得较快，”Richárd总结道。</p></blockquote>
<p>我认为重要的是要明白不需要框架或JavaScript！如果这篇博文是我第一次介绍视差效果，我可能会认为我也应该用JavaScript框架来实现它。</p>
<p>开发团队可能会选择JavaScript，因为他们已经在使用一个框架，只需要一点额外的JavaScript就可以达到同样的效果。我不想告诫任何人那样做，也许是情有可原的。然而，随着时间的推移，当您添加独立的特性时，很容易养成发布越来越多的JavaScript的习惯。</p>
<p>此外，请记住，这不是一个互斥的选择，您可以使用大部分CSS和一些JavaScript。<a href="https://twitter.com/keyframers">关键帧制作者</a>在<a href="https://youtu.be/vatBdNK-OiQ">的编码流</a>中做了一个有趣的例子。下面是附带的代码笔:</p>
<p class="codepen" data-height="300" data-default-tab="result" data-slug-hash="PaRJWm" data-user="shshaw">见笔<a href="https://codepen.io/shshaw/pen/PaRJWm"> <br/>动山⛰️| @ key framers 1 . 12 . 0</a>by shaw(<a href="https://codepen.io/shshaw">@ shshaw</a>)<br/>on<a href="https://codepen.io">code pen</a>。</p>
<p/>
<p>像这样一个平衡的方法是很重要的。你不应该感到两极分化，觉得这是CSS和JavaScript的事情。</p>
<p>有时候你需要接触JavaScript。如果你想要一个动画滚动体验，这就是JavaScript将被调用的地方。<a href="https://greensock.com/"> GreenSock </a>是最好的网页动画JavaScript库。</p>
<h2 id="conclusion">结论</h2>
<p>一个精心制作的视差滚动网站可以帮助你脱颖而出，给访问者留下持久的印象。但是，我建议使用视差滚动时要小心。您必须注意设计和实现，以确保滚动不会受到影响，并且在各种大小的设备上都有良好的用户体验！</p>
<p>我希望这篇文章为你揭开了视差滚动技术的神秘面纱，并提供了关于如何用CSS实现它的见解。别忘了从中得到乐趣；创造一些令人敬畏的东西！</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>你的前端是否占用了用户的CPU？</h2><p>随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用、内存使用等感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>