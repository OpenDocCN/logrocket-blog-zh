<html>
<head>
<title>Firestore in Swift tutorial - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>swift 教程中的 forestore-log rocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/firestore-swift-tutorial/#0001-01-01">https://blog.logrocket.com/firestore-swift-tutorial/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Swift 是苹果公司开发的一种通用、多参数、编译的编程语言，专门用于 iOS 开发。在编写任何 Swift 应用程序时，开发人员通常希望在其应用程序中添加数据库功能。这就是 Firestore 的用武之地。</p>
<p>Firestore 是一个 NoSQL 文档数据库，为自动缩放、高性能和简单的应用程序开发而构建。在 Firestore 中，所有数据都有一组键值对，并存储在一个集合中。</p>
<p>在本教程中，我们将学习如何在 Swift 应用程序中设置和配置 Firestore。Firestore 可以轻松地在云中存储数据，同时管理身份验证和安全性，无需后端开发人员。</p>
<h2>Swift 先决条件中的 Firestore</h2>
<p>要开始本教程，请确保您具备以下条件:</p>
<ul>
<li>熟悉 swift 编程</li>
<li>熟悉 SwiftUI</li>
<li>Xcode 安装在您的本地机器上</li>
<li>Windows 用户的在线 Swift 游乐场</li>
<li>安装了 CocoaPods</li>
</ul>
<h2>设置 Swift 项目</h2>
<p>让我们从创建一个新的 Swift 应用程序开始。打开 Xcode 应用程序，选择<strong> App </strong>搭建一个新项目。</p>
<p><img data-attachment-id="62305" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-new-swift-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png" data-orig-size="730,560" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new Swift app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app-300x230.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png" decoding="async" class="aligncenter size-full wp-image-62305 jetpack-lazy-image" src="../Images/47e93a9abd2cfc8cc2ac65af11ea6ff5.png" alt="Create A New Swift App By Clicking The App Button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app-300x230.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62305" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-new-swift-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png" data-orig-size="730,560" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new Swift app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app-300x230.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62305" src="../Images/47e93a9abd2cfc8cc2ac65af11ea6ff5.png" alt="Create A New Swift App By Clicking The App Button" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app-300x230.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Swift-app.png"/></noscript>
<p>命名应用程序，单击下一个按钮的<strong>，并选择在本地机器上保存应用程序的位置。</strong></p>
<p><img data-attachment-id="62307" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/save-swift-app-local-machine/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png" data-orig-size="730,525" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Save Swift app local machine" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine-300x216.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png" decoding="async" class="aligncenter size-full wp-image-62307 jetpack-lazy-image" src="../Images/71cf2eaa900fd78c45db478027536ae5.png" alt="Save Swift App To Local Machine" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine-300x216.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62307" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/save-swift-app-local-machine/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png" data-orig-size="730,525" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Save Swift app local machine" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine-300x216.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62307" src="../Images/71cf2eaa900fd78c45db478027536ae5.png" alt="Save Swift App To Local Machine" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine-300x216.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Save-Swift-app-local-machine.png"/></noscript>
<p>建立项目后，我们必须初始化我们的 pods，并通过我们的终端更新<br/> <code>Podfile</code>。为此，首先进入项目目录并运行以下命令:</p>
<pre class="language-swift hljs">pod init;open Podfile 
</pre>
<p><code>pod init</code>初始化吊舱，<code>open Podfile</code>打开配置终端更新<code>Podfile</code>。</p>
<p>我们还必须通过包含以下内容来包含<code>Podfile</code>的 Firebase pods:</p>
<pre class="language-swift hljs">pod ‘Firebase/Core'
pod ‘Firebase/Firestore' 
</pre>
<p>您可以在终端中看到这个配置。</p>
<p><img data-attachment-id="62309" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/adding-firebase-pods-terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png" data-orig-size="730,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding Firebase pods terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal-300x185.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png" decoding="async" class="aligncenter size-full wp-image-62309 jetpack-lazy-image" src="../Images/2e209e69182f8948caf377cc0d23336b.png" alt="Adding Firebase Pods In The Terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal-300x185.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62309" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/adding-firebase-pods-terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png" data-orig-size="730,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding Firebase pods terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal-300x185.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62309" src="../Images/2e209e69182f8948caf377cc0d23336b.png" alt="Adding Firebase Pods In The Terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal-300x185.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-Firebase-pods-terminal.png"/></noscript>
<p>完成此操作后，按 Command + S 保存<code>Podfile</code>并关闭终端编辑器。</p>
<h3>带来了与椰子的依赖</h3>
<p>接下来，让我们通过运行<code>pod install</code>引入 Firestore 依赖项来安装我们的 pod。</p>
<p>如果您在尝试安装 pod 时出现以下错误，请通过运行<code>sudo gem install cocoapods</code>在您的本地机器上安装<code>cocoapods</code>。CocoaPods 是 Swift 的一个依赖项管理器，它管理在我们的 Swift 应用程序中安装依赖项。</p>
<p><img data-attachment-id="62311" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/cocoapods-error/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CocoaPods error" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png" decoding="async" class="aligncenter size-full wp-image-62311 jetpack-lazy-image" src="../Images/60e3a7e17c58633292426c29b06f07cb.png" alt="CocoaPods Error Highlighted In Terminal Indicating Need For CocoaPods Update" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error-300x195.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62311" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/cocoapods-error/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CocoaPods error" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62311" src="../Images/60e3a7e17c58633292426c29b06f07cb.png" alt="CocoaPods Error Highlighted In Terminal Indicating Need For CocoaPods Update" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error-300x195.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/CocoaPods-error.png"/></noscript>
<p>安装后，使用<code>pod setup</code>命令更新<code>cocoapods</code>。</p>
<p>如果错误仍然存在，请使用 brew 通过以下命令安装<code>cocoapods</code>:</p>
<pre class="language-swift hljs">brew install cocoapods
</pre>
<p>然后，使用以下命令覆盖旧版本:</p>
<pre class="language-swift hljs">brew link --overwrite cocoapods
</pre>
<p>完成后，您现在可以运行<code>pod install</code>来为我们的应用程序安装依赖项。<br/>安装完 pods 后，打开项目目录，在 Xcode 中打开<code>funfirebase.xcworkspace</code>文件。</p>
<h2>设置 Firebase</h2>
<p>现在，前往<a href="https://console.firebase.google.com/">https://console.firebase.google.com/</a>，点击<strong>创建项目</strong>按钮。输入项目名称，例如“funfirebase”</p>
<p><img data-attachment-id="62313" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-new-firebase-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png" data-orig-size="730,569" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new Firebase project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project-300x234.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png" decoding="async" class="aligncenter size-full wp-image-62313 jetpack-lazy-image" src="../Images/fd03cfe046de9716793c9423e07eb679.png" alt="Creating A New Firebase Project Named funfirebase" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project-300x234.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62313" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-new-firebase-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png" data-orig-size="730,569" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new Firebase project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project-300x234.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62313" src="../Images/fd03cfe046de9716793c9423e07eb679.png" alt="Creating A New Firebase Project Named funfirebase" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project-300x234.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-new-Firebase-project.png"/></noscript>
<p>点击<strong>继续</strong>按钮，禁用该项目的 Google Analytics，点击<strong>创建项目</strong>按钮。</p>
<p>完成项目设置后，单击<strong> iOS </strong>图标启动设置提示。</p>
<p><img data-attachment-id="62315" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/launch-ios-setup-prompt-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png" data-orig-size="730,490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launch iOS setup prompt Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png" decoding="async" class="aligncenter size-full wp-image-62315 jetpack-lazy-image" src="../Images/8353904345f733915334ceee16b5ba12.png" alt="Launching The iOS Setup Prompt In Firebase By Clicking iOS Button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase-300x201.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62315" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/launch-ios-setup-prompt-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png" data-orig-size="730,490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launch iOS setup prompt Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62315" src="../Images/8353904345f733915334ceee16b5ba12.png" alt="Launching The iOS Setup Prompt In Firebase By Clicking iOS Button" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase-300x201.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Launch-iOS-setup-prompt-Firebase.png"/></noscript>
<p>添加应用包标识符并点击<strong>注册应用</strong>按钮。应用程序昵称和应用程序商店 ID 是可选的，所以我们可以忽略它。</p>
<p><img data-attachment-id="62317" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-ios-bundle-id-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png" data-orig-size="730,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add iOS bundle ID Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png" decoding="async" class="aligncenter size-full wp-image-62317 jetpack-lazy-image" src="../Images/4d02ae9cf653f187b309dc31ecd6f72d.png" alt="Adding The iOS Bundle ID To Firebase" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase-300x148.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62317" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-ios-bundle-id-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png" data-orig-size="730,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add iOS bundle ID Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62317" src="../Images/4d02ae9cf653f187b309dc31ecd6f72d.png" alt="Adding The iOS Bundle ID To Firebase" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase-300x148.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-iOS-bundle-ID-Firebase.png"/></noscript>
<p>接下来，点击<strong>下载 GoogleService-Info.plist </strong>按钮下载 iOS 配置。下载此文件后，将文件移动到您的根 Xcode 项目中。</p>
<p><img data-attachment-id="62320" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/download-ios-config-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png" data-orig-size="730,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Download iOS config Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase-300x118.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png" decoding="async" class="aligncenter size-full wp-image-62320 jetpack-lazy-image" src="../Images/2b7987384831646e31b83c1415895ef0.png" alt="Download The iOS Config For Firebase By Clicking The Download GoogleService-Info.plist Button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase-300x118.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62320" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/download-ios-config-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png" data-orig-size="730,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Download iOS config Firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase-300x118.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62320" src="../Images/2b7987384831646e31b83c1415895ef0.png" alt="Download The iOS Config For Firebase By Clicking The Download GoogleService-Info.plist Button" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase-300x118.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Download-iOS-config-Firebase.png"/></noscript>
<h2>设置 firestorm sdk</h2>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4nsz74zosz65zuz68zez72zz78zaz83zgrz82zz89zptz74zz70zc3z65zjz67z30z66z">Firestore SDK 管理您的云 Firestore 项目中的全套数据。要开始设置，o </span>打开<code>funfirebaseApp.swift</code>文件，创建一个<code>funfirebaseApp</code>扩展名，并添加一个<code>initFirebase</code>方法。</p>
<p><a href="https://blog.logrocket.com/swift-extensions-an-overview-with-examples/">Swift 中的扩展将新功能</a>添加到一个<a href="https://blog.logrocket.com/introduction-to-classes-and-structs-in-swift/">现有的类、结构</a>、枚举或<a href="https://blog.logrocket.com/understanding-protocols-in-swift/">协议类型</a>:</p>
<pre class="language-swift hljs">extension funfirebaseApp {
  private func initFirebase() {
    FirebaseApp.configure()
  }
}
</pre>
<p><code>FirebaseApp.config</code>方法为我们的应用程序配置一个默认的 Firebase 应用程序。我们必须通过在我们的<code>funfirebaseApp</code>结构中调用它来初始化<code>initFirebase</code>方法:</p>
<pre class="language-swift hljs">@main
struct funfirebaseApp: App {
    // init firebase
    init() {
        initFirebase()
      }

    var body: some Scene {
        WindowGroup {
            ContentView()
        }
    }
}
</pre>
<h2>使用 Firestore 构建快捷的待办应用程序</h2>
<p>我们将构建一个简单的待办事项应用程序，它将为用户添加一个任务列表。构建这个项目的目的是帮助我们理解如何从云 Firestore 添加和检索数据。</p>
<p>让我们首先为我们的应用程序创建一个简单的 UI，并使用 SwiftUI 来实现。首先，打开<code>ContentView.swift</code>文件，将其更新为以下内容:</p>
<pre class="language-swift hljs">//
//  ContentView.swift
//  funfirebase
//
//  Created by Wisdom Ekpot on 7/19/21.
//

import SwiftUI

struct ContentView: View {
    @State private var task:String = ""
    var body: some View {

        // input field
        TextField("Start typing a task...", text: $task)
            .padding()
            .border(Color.black)
            .frame(minWidth: 100, idealWidth: 150, maxWidth: 240, minHeight: 30, idealHeight: 40, maxHeight: 50, alignment: .leading)

        // button to add
        Button(action: { print("Task added \(task)")}) {
            Text("Add Task")
        }.padding()
        .foregroundColor(.white)
        .background(Color.black)
        .cornerRadius(5)


        //
        NavigationView {
            List {
                Text("Read")
                Text("Execise")
                Text("Text John")
                Text("Say hello")
            }.navigationTitle("All Tasks")
        }

    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        Group {
            ContentView()
        }
    }
}
</pre>
<p>让我们分解代码。我们从创建输入字段开始:</p>
<pre class="language-swift hljs"> TextField("Start typing a task...", text: $task)
.padding()
.border(Color.black)
.frame(minWidth: 100, idealWidth: 150, maxWidth: 240, minHeight: 30, idealHeight: 40, maxHeight: 50, alignment: .leading)
</pre>
<p>使用<code>TextField</code>属性，我们在 Swift 中创建输入字段，包括一个定义的<code>minWidth</code>和<code>minHeight</code>以及一个默认的占位符。在<code>body</code>变量中定义的<code>task</code>变量存储输入字段状态:</p>
<pre class="language-swift hljs">@State private var task:String = ""
</pre>
<p>接下来，我们将添加一个按钮，用于向 Firestore 数据库添加待办任务:</p>
<pre class="language-swift hljs">// button to add
        Button(action: { print("Task added \(task)")}) {
            Text("Add Task")
        }.padding()
        .foregroundColor(.white)
        .background(Color.black)
        .cornerRadius(5)
</pre>
<p>这将为按钮分配一个动作来打印输入字段的值。</p>
<p>接下来，使用<code>List</code>属性列出所有待办事项:</p>
<pre class="language-swift hljs"> // list all items
        NavigationView {
            List {
                Text("Read")
                Text("Execise")
                Text("Text John")
                Text("Say hello")
            }.navigationTitle("All Tasks")
        }
</pre>
<p>有了定义的列表，我们现在可以在任何模拟器设备上预览我们的应用程序。本教程使用 iPhone 11 预览应用程序，它应该是这样的:</p>
<p><img data-attachment-id="62322" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/preview-to-do-list-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png" data-orig-size="434,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Preview to-do list app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app-178x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png" decoding="async" class="aligncenter size-full wp-image-62322 jetpack-lazy-image" src="../Images/3d522784d6f4f2f44dfbdb4c8997e9fc.png" alt="Preview To-Do List App With To-Do Tasks Listed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png 434w, https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app-178x300.png 178w" data-lazy-sizes="(max-width: 434px) 100vw, 434px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62322" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/preview-to-do-list-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png" data-orig-size="434,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Preview to-do list app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app-178x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62322" src="../Images/3d522784d6f4f2f44dfbdb4c8997e9fc.png" alt="Preview To-Do List App With To-Do Tasks Listed" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png 434w, https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app-178x300.png 178w" sizes="(max-width: 434px) 100vw, 434px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Preview-to-do-list-app.png"/></noscript>
<h2>添加应用程序的功能</h2>
<p>我们将继续创建<code>get</code>和<code>add</code>功能。添加这两个功能后，用户可以添加一个新的待办任务，并获得应用程序中所有待办任务的列表。</p>
<p>让我们首先为我们的待办事项列表创建一个模型。创建一个<code>Models</code>目录。在内部，创建一个<code>Todo.swift</code>文件并添加以下代码片段:</p>
<pre class="language-swift hljs">import SwiftUI
struct Todo: Codable, Identifiable {
    var id: String = UUID().uuidString
    var name: String?
}
</pre>
<p>我们的待办事项列表遵循这种数据结构。</p>
<p>接下来，创建一个<code>viewModel</code>目录，在该目录中，创建一个<code>TodoViewModel.swift</code>文件并添加以下代码:</p>
<pre class="language-swift hljs">import Foundation
import FirebaseFirestore

class TodoViewModel: ObservableObject {

    @Published var todos = [Todo]()

    private var db = Firestore.firestore()

    func getAllData() {
        db.collection("todos").addSnapshotListener { (querySnapshot, error) in
            guard let documents = querySnapshot?.documents else {
                print("No documents")
                return
            }

            self.todos = documents.map { (queryDocumentSnapshot) -&gt; Todo in
                let data = queryDocumentSnapshot.data()
                let name = data["name"] as? String ?? ""
                return Todo(name: name)
            }
        }
    }

    func addNewData(name: String) {
           do {
               _ = try db.collection("todos").addDocument(data: ["name": name])
           }
           catch {
               print(error.localizedDescription)
           }
       }
}
</pre>
<p>这里我们有两个函数:<code>getAllData</code>函数从我们的 Firestore 数据库获取所有数据，而<code>addNewData</code>函数向 Firestore 数据库添加一个新项目。</p>
<p>要使用<code>TodoViewModel.swift</code>文件，我们必须将它连接到我们的<code>ContentView</code>结构中的<code>ContentView.swift</code>文件:</p>
<pre class="language-swift hljs">@ObservedObject private var viewModel = TodoViewModel()
</pre>
<p>有了这个定义，我们必须更新我们的<code>List</code>元素如下:</p>
<pre class="language-swift hljs"> List(viewModel.todos) { todo in
                            VStack(alignment: .leading) {
                                Text(todo.name ?? "")
                            }
                        }.onAppear() {
                            self.viewModel.getAllData()
                        }.navigationTitle("All Tasks")
</pre>
<p>当然，这会呈现一个空白列表，因为我们的数据库中没有任何待办任务。</p>
<p>要添加待办任务，请前往 Firebase 控制台，点击<strong> Firestore </strong> <strong>数据库</strong>。点击<strong>创建数据库</strong>按钮，并选择<strong>在测试模式下启动</strong>单选按钮。</p>
<p><img data-attachment-id="62325" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-firestore-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png" data-orig-size="730,394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create Firestore database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png" decoding="async" class="aligncenter size-full wp-image-62325 jetpack-lazy-image" src="../Images/f9fb2a58f377eabfeab9de5e4c5ce23c.png" alt="Create Firestore Database Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database-300x162.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62325" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/create-firestore-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png" data-orig-size="730,394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create Firestore database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database-300x162.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62325" src="../Images/f9fb2a58f377eabfeab9de5e4c5ce23c.png" alt="Create Firestore Database Page" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database-300x162.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Create-Firestore-database.png"/></noscript>
<p>完成这些后，我们可以开始将待办任务添加到我们的数据库中。</p>
<p><img data-attachment-id="62327" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/adding-to-do-tasks-firestore-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png" data-orig-size="730,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding to-do tasks Firestore directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory-300x160.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png" decoding="async" class="aligncenter size-full wp-image-62327 jetpack-lazy-image" src="../Images/be8ee04123989af7850a3c772e8de46a.png" alt="Adding To-Do Tasks Firestore Directory" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory-300x160.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62327" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/adding-to-do-tasks-firestore-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png" data-orig-size="730,390" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding to-do tasks Firestore directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory-300x160.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62327" src="../Images/be8ee04123989af7850a3c772e8de46a.png" alt="Adding To-Do Tasks Firestore Directory" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory-300x160.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Adding-to-do-tasks-Firestore-directory.png"/></noscript>
<p>点击<strong>开始收藏</strong>链接，添加“todos”作为收藏 ID。</p>
<p><img data-attachment-id="62329" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-todos-collection-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png" data-orig-size="730,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add todos collection ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png" decoding="async" class="aligncenter size-full wp-image-62329 jetpack-lazy-image" src="../Images/97615d5536b6aafb1b8e3f30c7858410.png" alt="Adding Todos Collection ID" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID-300x170.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62329" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-todos-collection-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png" data-orig-size="730,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add todos collection ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62329" src="../Images/97615d5536b6aafb1b8e3f30c7858410.png" alt="Adding Todos Collection ID" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID-300x170.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-todos-collection-ID.png"/></noscript>
<p>现在，开始向数据库中添加新的待办事项。始终将字段名称设置为<strong>名称</strong>。</p>
<p><img data-attachment-id="62331" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-to-do-tasks-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png" data-orig-size="730,458" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add to-do tasks database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png" decoding="async" class="aligncenter size-full wp-image-62331 jetpack-lazy-image" src="../Images/a35fc4591c884cecdb489c6dca5fbb4b.png" alt="Add To-Do Tasks In Database" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database-300x188.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62331" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/add-to-do-tasks-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png" data-orig-size="730,458" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Add to-do tasks database" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62331" src="../Images/a35fc4591c884cecdb489c6dca5fbb4b.png" alt="Add To-Do Tasks In Database" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database-300x188.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/Add-to-do-tasks-database.png"/></noscript>
<p>点击<strong>保存</strong>按钮，应用程序会自动更新我们的更改。</p>
<p><img data-attachment-id="62333" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/to-do-task-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png" data-orig-size="730,1394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="To-do Task Application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-157x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-536x1024.png" decoding="async" class="aligncenter size-full wp-image-62333 jetpack-lazy-image" src="../Images/ebf2de8a3041e2ca12861b43e21c38ff.png" alt="To-do Task Application With One Task And Button To Add More Tasks" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-157x300.png 157w, https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-536x1024.png 536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="62333" data-permalink="https://blog.logrocket.com/firestore-swift-tutorial/attachment/to-do-task-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png" data-orig-size="730,1394" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="To-do Task Application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-157x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-536x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-62333" src="../Images/ebf2de8a3041e2ca12861b43e21c38ff.png" alt="To-do Task Application With One Task And Button To Add More Tasks" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-157x300.png 157w, https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application-536x1024.png 536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/To-do-task-application.png"/></noscript>
<h3>实施<code>add</code>功能</h3>
<p>我们还必须更新我们的按钮来调用我们创建的<code>addNewData</code>函数。我们必须添加一个任务名称作为参数，它是从输入字段中检索的。</p>
<p>为此，请将按钮修改如下:</p>
<pre class="language-swift hljs"> Button(action: { self.viewModel.addNewData(name: task)}) {
            Text("Add Task")
        }.padding()
        .foregroundColor(.white)
        .background(Color.black)
        .cornerRadius(5)
</pre>
<p>现在，当单击按钮时，它从输入字段获取值，并将其传递给参数<code>addNewData</code>，将其存储在 Firestore 集合中。</p>
<h2>结论</h2>
<p>在我们的 Swift 应用程序中使用 Firestore 非常简单明了。在本文中，我们学习了如何使用 SwiftUI 为我们的应用程序设置用户界面，以及如何从云 Firestore 添加和检索数据。</p>
<p><a href="https://github.com/Wisdom132/swiftfirestore">点击此处获取该应用程序的源代码</a>。</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>