<html>
<head>
<title>Using Fastlane for Flutter: A complete guide - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用浪子颤振:一个完整的指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/fastlane-flutter-complete-guide/#0001-01-01">https://blog.logrocket.com/fastlane-flutter-complete-guide/#0001-01-01</a></blockquote><div><article class="article-post">
<p>浪子是一个开源工具套件，用于自动发布和部署 Android 和 iOS 应用，受到许多开发者的青睐，因为它可以大大减少部署时间。使用 Android 和 iOS 应用程序可能会非常乏味，尤其是在处理截图、测试版部署、应用商店部署和代码签名等时。</p>
<p>这篇文章将指导你如何在你的 Flutter 应用中使用浪子。我们开始吧！</p>

<h2 id="prerequisites">先决条件</h2>
<p>要继续，我建议您:</p>
<ul>
<li>主动颤振应用</li>
<li>熟悉 Flutter 和 Flutter SDK</li>
<li>熟悉 Firebase，并在其设备上安装 Firebase CLI</li>
<li>安装自制软件。如果你还没有，这里有一个关于如何在 Mac 上这么做的链接</li>
</ul>
<h2 id="setting-up">安装</h2>
<h3><strong>安装浪子</strong></h3>
<p>要在您的 Flutter 应用程序中使用浪子，您需要正确安装它(注意，我们使用 macOS 来运行我们的应用程序)。</p>
<p>你可以查看关于在你选择的任何设备上安装浪子的文档。使用以下命令安装浪子:</p>
<pre class="language-bash hljs">brew install fastlane
</pre>
<p>要确认浪子已成功安装在您的设备上，请运行以下命令检查其版本:</p>
<pre class="language-bash hljs">fastlane -v
</pre>
<p>如果返回了浪子的版本和安装路径，我们就成功安装了浪子。</p>
<h3><strong>设置您的套餐</strong><strong>n</strong>name</h3>
<p>应用程序的包名必须不同。</p>
<p>如果您使用 Android Studio 创建了 Flutter 应用程序，那么您已经为您的应用程序分配了一个默认的包名。包名称对您的本地设备是唯一的，但可能不在 Google Play 或 App Store 上。</p>
<p>如果你想改变你的应用程序包名称，你可以在 Android Studio 中完成。在 Android Studio 的项目窗格中，单击顶部的设置图标:</p>
<p><img data-attachment-id="98520" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/android-studio-project-pane/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png" data-orig-size="573,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-project-pane" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane-300x223.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png" decoding="async" class="aligncenter wp-image-98520 size-full jetpack-lazy-image" src="../Images/14cd77cb9fe046083c865d554a55f2f3.png" alt="Android Studio Project Pane" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png 573w, https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane-300x223.png 300w" data-lazy-sizes="(max-width: 573px) 100vw, 573px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98520" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/android-studio-project-pane/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png" data-orig-size="573,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-project-pane" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane-300x223.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png" decoding="async" loading="lazy" class="aligncenter wp-image-98520 size-full" src="../Images/14cd77cb9fe046083c865d554a55f2f3.png" alt="Android Studio Project Pane" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png 573w, https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane-300x223.png 300w" sizes="(max-width: 573px) 100vw, 573px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-project-pane.png"/></noscript>
<p>这将弹出一个下拉菜单；确保未选中<strong>压缩目录</strong>选项:</p>
<p><img data-attachment-id="98522" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/android-studio-dropdown-compact-categories/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png" data-orig-size="730,596" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-dropdown-compact-categories" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories-300x245.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png" decoding="async" class="aligncenter wp-image-98522 size-full jetpack-lazy-image" src="../Images/7814bb516c3b6ed35a66aaeafc07c91b.png" alt="Android Studio Dropdown Compact Categories" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories-300x245.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98522" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/android-studio-dropdown-compact-categories/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png" data-orig-size="730,596" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="android-studio-dropdown-compact-categories" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories-300x245.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png" decoding="async" loading="lazy" class="aligncenter wp-image-98522 size-full" src="../Images/7814bb516c3b6ed35a66aaeafc07c91b.png" alt="Android Studio Dropdown Compact Categories" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories-300x245.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/android-studio-dropdown-compact-categories.png"/></noscript>
<p>接下来，您可以重构您的包名。为此，右击应用程序的包名，选择<strong>重构</strong>，然后选择<strong>重命名</strong>。将弹出一个窗口；在窗口中点击<strong>重命名包</strong>，重命名，然后保存更新。</p>
<h3><strong>设置供应</strong> <strong>和</strong> <strong>获取我们的 JSON 文件</strong></h3>
<p>Supply 是浪子的一个工具，可以让你上传应用元数据、二进制文件和截图到 Google Play。</p>
<p>要初始化 Supply，您需要在 Google Play 控制台中将 APK 成功上传到您的应用程序至少一次。设置它需要从您的 Google 开发者服务帐户下载一个凭证文件。</p>
<p>现在，我们需要获得我们的 JSON 秘密文件。当我们设置浪子部署流程时，将需要这个文件。要获取该文件，请按照下列步骤操作:</p>
<ol>
<li>打开你的<a href="https://play.google.com/console/" target="_blank" rel="noopener"> Google Play 控制台</a>账户，点击<strong>账户详情</strong>部分，记下列出的开发者账户 ID</li>
<li>接下来，点击<strong>设置</strong>，然后点击<strong> API 访问</strong></li>
<li>点击<strong>创建新的服务账户</strong>按钮</li>
<li>关注对话框中的谷歌云平台链接；这将打开一个新窗口，然后执行以下操作:<ol>
<li>点击位于谷歌云平台控制台顶部的<strong>创建服务账户</strong>按钮</li>
<li>确保你在正确的谷歌云平台项目上</li>
<li>输入服务帐户名，点击<strong>创建</strong></li>
<li>接下来，选择一个角色；找到并选择<strong>服务账户用户</strong>，点击<strong>继续</strong></li>
<li>点击<strong>完成</strong></li>
<li>接下来，选择您刚刚创建的服务帐户的<strong>动作</strong>垂直三点图标</li>
<li>在菜单上选择<strong>管理</strong>T2 键。</li>
<li>点击<strong>添加密钥</strong>，然后<strong>创建新密钥</strong></li>
<li>确保选择 JSON 作为密钥类型，然后单击<strong>创建</strong></li>
<li>创建完成后，您就有了 JSON 文件。记下文件的路径</li>
</ol>
</li>
<li>回到 Google Play 控制台模块，点击<strong>完成</strong>关闭对话框</li>
<li>接下来，为屏幕底部新添加的服务帐户选择<strong>授权访问</strong>。如果没有显示，请尝试刷新页面以反映最新更新</li>
<li>选择您选择的权限</li>
<li>邀请用户结束流程</li>
</ol>
<h2 id="initializing-fastlane">正在初始化浪子</h2>
<p>在标准的手动应用程序部署实例中，一旦有了惟一的包名，下一步就是打包应用程序进行分发，然后创建新的密钥库，等等。我们将使用浪子来处理整个过程。</p>
<p>要继续，请转到您的 Flutter 应用程序的根目录，并通过导航到您的 Android 文件夹目录并运行以下命令来初始化 Android 部署的浪子:</p>
<pre class="language-bash hljs">fastlane init
</pre>
<p>您将收到输入应用程序包名称的提示；在我们的例子中，我们的应用程序名是 votersapp，包名是<code>com.votersapp.votersapp</code>。</p>
<blockquote><p><strong>注意</strong>，你可以在<code>defaultConfig</code>选项的<code>bundle.gradle</code>文件下找到你的包名。</p></blockquote>
<p>输入您的包名后，点击<strong>进入</strong>。</p>
<p><img data-attachment-id="98525" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/bundle-gradle-package-name/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png" data-orig-size="730,137" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bundle-gradle-package-name" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name-300x56.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png" decoding="async" class="aligncenter wp-image-98525 size-full jetpack-lazy-image" src="../Images/bc1b1ac61668f6f744bdc4fa76bced07.png" alt="Bundle Gradle Package Name" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name-300x56.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98525" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/bundle-gradle-package-name/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png" data-orig-size="730,137" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bundle-gradle-package-name" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name-300x56.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png" decoding="async" loading="lazy" class="aligncenter wp-image-98525 size-full" src="../Images/bc1b1ac61668f6f744bdc4fa76bced07.png" alt="Bundle Gradle Package Name" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name-300x56.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/bundle-gradle-package-name.png"/></noscript>
<p>接下来，您将收到一个提示，要求您输入 JSON secret 文件的路径。输入我们上面下载的 JSON 文件的路径。或者，如果您还没有获得 JSON 文件，单击<strong>输入</strong>跳过这一步。</p>
<p><img data-attachment-id="98527" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/path-json-secret-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="path-json-secret-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png" decoding="async" class="aligncenter wp-image-98527 size-full jetpack-lazy-image" src="../Images/c539645428ec07cdf56fcdafde1f6767.png" alt="Path JSON Secret File" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file-300x55.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98527" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/path-json-secret-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png" data-orig-size="730,133" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="path-json-secret-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png" decoding="async" loading="lazy" class="aligncenter wp-image-98527 size-full" src="../Images/c539645428ec07cdf56fcdafde1f6767.png" alt="Path JSON Secret File" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file-300x55.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/path-json-secret-file.png"/></noscript>
<p>接下来，您会收到一个通知或弹出窗口，询问您是否打算上传任何元数据或截图；在本演示中，我们不会上传这些内容，因此输入“n”。</p>
<p><img data-attachment-id="98529" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/upload-metadata-no/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png" data-orig-size="730,141" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="upload-metadata-no" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png" decoding="async" class="aligncenter wp-image-98529 size-full jetpack-lazy-image" src="../Images/008cd0085278c95c060fd74efaa03d42.png" alt="Uploading Metadata" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no-300x58.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98529" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/upload-metadata-no/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png" data-orig-size="730,141" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="upload-metadata-no" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png" decoding="async" loading="lazy" class="aligncenter wp-image-98529 size-full" src="../Images/008cd0085278c95c060fd74efaa03d42.png" alt="Uploading Metadata" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no-300x58.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/upload-metadata-no.png"/></noscript>
<p>点击<strong>进入</strong>从这里开始设置其余的初始化。</p>
<p>一旦完成，我们将在 Android 目录中看到一个<code>Fastlane</code>文件夹。这里面有一个<code>Appfile</code>和一个<code>fastfile</code>。按照流程初始化 iOS 版浪子。浪子文件包含所有浪子配置工具。</p>
<p>要获取所有 Google Play 商店元数据，请运行:</p>
<pre class="language-bash hljs">fastlane supply init
</pre>
<p>现在，要将我们的应用程序部署到 Play Store，导航到项目的目录并在终端中执行以下命令:</p>
<pre class="language-bash hljs">flutter clean &amp;&amp; flutter build apk
</pre>
<h2 id="deploying-the-application-for-testing">部署应用程序进行测试</h2>
<p>为了展示浪子的能力，我们将部署我们的 APK 到 Firebase 应用程序分发。我们可以使用浪子应用程序执行测试和 CI/CD。</p>
<p>现在，我们将设置我们的 Firebase 项目。为此，请按照下列步骤操作:</p>
<ol>
<li>前往<a href="https://console.firebase.google.com/" target="_blank" rel="noopener"> Google Firebase 控制台</a>并创建一个帐户，如果你还没有的话</li>
<li>点击<strong>创建一个项目</strong></li>
<li>指定您的项目名称并点击<strong>继续</strong></li>
<li>在左侧的菜单边栏上，选择<strong>应用分发</strong>和 Android 图标</li>
<li>点击<strong>注册申请</strong></li>
<li>为包名指定与应用程序中指定的相同的包名。如果您没有使用任何 Firebase 服务，请跳过下载<code>google-services.json</code>文件</li>
<li>点击<strong>继续</strong>为您的项目注册应用分发</li>
<li>您的设置应该是这样的:<br/> <img data-attachment-id="98531" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/firebase-app-distribution-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-app-distribution-dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png" decoding="async" class="aligncenter wp-image-98531 size-full jetpack-lazy-image" src="../Images/861beab66ec405dc8d91b8975bb0338e.png" alt="Firebase App Distribution Dashboard" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="98531" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/firebase-app-distribution-dashboard/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-app-distribution-dashboard" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png" decoding="async" loading="lazy" class="aligncenter wp-image-98531 size-full" src="../Images/861beab66ec405dc8d91b8975bb0338e.png" alt="Firebase App Distribution Dashboard" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-app-distribution-dashboard.png"/> </noscript></li>
<li>最后，转到 tester and group 部分，创建一个新的组。然后，向组中添加一个新的测试人员</li>
</ol>
<p>要将 Flutter 应用程序分配给浪子，请在您的终端中执行以下命令:</p>
<pre class="language-bash hljs">fastlane app_plugin firebase_app_distribution
</pre>
<p>在您的浪子文件中，用下面的代码替换现有代码。该代码将确保您映射浪子发行版以部署到 Firebase。</p>
<pre class="language-dart hljs">default_platform(:android)

platform :android do
 desc "Deploy to Firebase app distribution"
 lane :deploy do
  begin
  firebase_app_distribution(
   groups: "testers",
   release_notes: "Fixing bug in features",
   apk_path: "../build/app/outputs/flutter-apk/app-release.apk",
   firebase_cli_path: "/usr/local/bin/firebase",
   firebase_cli_token: &lt;FIREBASE_CLI_TOKEN&gt;
   app: &lt;YOUR_APP_ID&gt;
  )
  end
 end
end
</pre>
<p>在您的终端中运行下面的命令，并授予 Firebase 访问权限，以获得上面代码中的 Firebase CLI 令牌。</p>
<pre class="language-bash hljs">firebase login:ci
</pre>
<p>复制并替换为上面代码中<code>firebase_cli_token</code>的值。</p>
<blockquote><p><strong> N.B. </strong>，这是秘密，应该妥善保管。</p></blockquote>
<p>从 Firebase 控制台获取您的应用 ID。</p>
<p>接下来，我们将通过指定我们希望部署的通道来部署我们的应用程序。</p>
<p>在我们放在浪子文件中的代码中，我们部署了“lane”字段的值。因此，要在其他通道中执行部署，我们将告诉浪子运行该特定通道。为了使用浪子部署我们的应用程序，我们在这里实现命令:</p>
<pre class="language-bash hljs">fastlane deploy.
</pre>
<p>上面的命令将上传特定车道中指定的 APK。完成后，您可以前往 Firebase 控制台，查看使用浪子部署的应用程序。</p>
<p><img data-attachment-id="98533" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/firebase-console-deployed-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg" data-orig-size="730,344" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="firebase-console-deployed-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg" decoding="async" class="aligncenter wp-image-98533 size-full jetpack-lazy-image" src="../Images/a1a9f462e046ad34b813029341ad704f.png" alt="Firebase Console Deployed Application" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application-300x141.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98533" data-permalink="https://blog.logrocket.com/fastlane-flutter-complete-guide/firebase-console-deployed-application/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg" data-orig-size="730,344" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="firebase-console-deployed-application" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application-300x141.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-98533 size-full" src="../Images/a1a9f462e046ad34b813029341ad704f.png" alt="Firebase Console Deployed Application" srcset="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application-300x141.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/03/firebase-console-deployed-application.jpeg"/></noscript>
<h2 id="conclusion">结论</h2>
<p>浪子简单且易于实现——正如我在介绍中提到的，它节省了几个小时的部署时间，而且非常有用。</p>
<p>在本文中，我们展示了安装和初始化浪子以及部署应用程序进行测试的过程。查看官方文件以了解更多关于浪子的信息。编码快乐！</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>