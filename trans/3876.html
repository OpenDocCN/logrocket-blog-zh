<html>
<head>
<title>Build a fintech app with Plaid and React Native </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用格子和React Native构建一个金融科技应用</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-fintech-app-plaid-react-native/#0001-01-01">https://blog.logrocket.com/build-fintech-app-plaid-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>React Native是一个流行的JavaScript框架，使开发人员能够为Android和iOS平台构建原生移动应用程序。在本文中，我们将讨论如何使用React Native和<a href="https://plaid.com"> Plaid </a>构建一个移动应用程序，允许用户管理他们的财务账户并跟踪他们的支出。</p>
<p>我们将演示如何设置一个<a href="https://blog.logrocket.com/integrate-react-native-components-native-apps/"> React本地开发环境</a>以及如何将Plaid的API和特性集成到React本地应用中。无论您是初学者还是有经验的开发人员，本文都将为您提供入门React Native和grid所需的知识和资源。</p>
<h2 id="contents">内容</h2>

<h2 id="prerequisites">先决条件</h2>
<p>要阅读本文，您需要以下内容:</p>
<ul>
<li>系统上安装的Node.js v16或更高版本</li>
<li>React Native <a href="https://reactnative.dev/docs/environment-setup">开发环境</a></li>
<li>用于测试的iOS模拟器或Android模拟器</li>
<li>对JavaScript、React和React Native有基本的了解</li>
</ul>
<h2 id="setting-up-react-native-application">设置React本机应用程序</h2>
<p>首先，创建一个项目文件夹。在这种情况下，我们将其命名为<code>RNPlaidExample</code>:</p>
<pre class="language-shell hljs">mkdir RNPlaidExample
# To create a RNPlaidExample directory
cd RNPlaidExample 
</pre>
<p>接下来，cd进入项目目录，并通过运行以下命令安装React本地项目:</p>
<pre class="language-shell hljs">npx react-native init ReactNativeApp
# navigate to project directory
cd ReactNativeApp
</pre>
<p>这个命令将为我们的Plaid应用程序创建一个新的React本地项目。</p>
<p><strong> <em>注意，</em> </strong> <em>我们在这篇文章中使用的是</em><em>React Native v 0 . 70 . 6</em></p>
<p>接下来，添加以下依赖项，以便将Plaid SDK与React本地应用程序集成:</p>
<pre class="language-shell hljs">yarn add react-native-plaid-link-sdk
</pre>
<p><strong> <em>注意，</em> </strong>我们在本文中使用的是react-native-plaid-link-SD v 8 . 0 . 1；更多关于其<a href="https://github.com/plaid/react-native-plaid-link-sdk">版本兼容性</a>的细节请见GitHub</p>
<p>现在，在终端中使用以下命令之一来运行您的iOS或Android应用程序:</p>
<pre class="language-shell hljs"># To run the iOS app
npx react-native run-ios


# To run the Android's app
npx react-native run-android
</pre>
<p>这两个命令启动<a href="https://github.com/facebook/metro">Metro</a>(React Native的JavaScript bundler)，创建应用程序，并在模拟器(iOS)或仿真器(Android)中启动它。</p>
<h2 id="configuring-plaid-sdk-ios">为iOS配置Plaid SDK</h2>
<p>为了完成iOS应用程序的设置，请运行以下命令:</p>
<pre class="language-javascript hljs">cd ios &amp;&amp; pod install 
</pre>
<p>接下来，按照以下步骤确保在Xcode中正确配置项目:</p>
<ol>
<li>在Xcode中打开<code>ReactNativeApp</code>文件</li>
<li>从左侧导航中，选择<strong>反应应用</strong></li>
<li>点击<strong>签约&amp;能力</strong></li>
<li>取消选择<strong>自动管理签名</strong>复选框</li>
<li>点击<strong> +能力</strong>页签，在弹出菜单中选择<strong>关联域</strong>，在<strong>域字段</strong>中添加<code>applinks:localhost:3000/</code></li>
</ol>
<p><img data-attachment-id="157139" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/configuring-plaid-sdk-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png" data-orig-size="720,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Configuring Plaid SDK iOS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png" decoding="async" class="aligncenter wp-image-157139 size-full jetpack-lazy-image" src="../Images/bf1a7bcfa661ed0ca916e516ef397056.png" alt="Configuring Plaid SDK iOS" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios-300x188.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157139" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/configuring-plaid-sdk-ios/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png" data-orig-size="720,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Configuring Plaid SDK iOS" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png" decoding="async" loading="lazy" class="aligncenter wp-image-157139 size-full" src="../Images/bf1a7bcfa661ed0ca916e516ef397056.png" alt="Configuring Plaid SDK iOS" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios-300x188.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/configuring-plaid-sdk-ios.png"/></noscript>
<h2 id="configuring-plaid-sdk-android">为Android配置Plaid SDK</h2>
<p>为Android配置Plaid SDK不需要任何更改。</p>
<h2 id="setting-up-plaid-account">设置格子账户</h2>
<p>Plaid <code>client_id</code>和<code>secret key</code>键是为后端配置沙盒环境所必需的。</p>
<p>首先<a href="https://dashboard.plaid.com/signup">创建一个格子账户</a>(如果你还没有的话)。然后，打开格子仪表板，从左侧导航栏中选择<strong>键</strong>。接下来，从<strong>客户端id </strong>和<strong>沙箱</strong>字段中复制信息。我们稍后将在后端沙盒配置中使用这些密钥:</p>
<p><img data-attachment-id="157141" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/plaid-dashboard-getting-client-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png" data-orig-size="720,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Plaid dashboard getting client ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png" decoding="async" class="aligncenter wp-image-157141 size-full jetpack-lazy-image" src="../Images/93bb3a8d9c9b68dc555f776d8d08f92e.png" alt="Plaid Dashboard Getting Client ID" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id-300x157.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157141" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/plaid-dashboard-getting-client-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png" data-orig-size="720,376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Plaid dashboard getting client ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png" decoding="async" loading="lazy" class="aligncenter wp-image-157141 size-full" src="../Images/93bb3a8d9c9b68dc555f776d8d08f92e.png" alt="Plaid Dashboard Getting Client ID" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id-300x157.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-getting-client-id.png"/></noscript>
<p><em> <strong>注意，</strong>请记住不要与任何人共享密钥，因为那样会提供对您的格子账户的访问；如果密钥泄露，点击刷新符号</em>更新密钥</p>
<p>接下来，我们需要在我们的格子仪表板中创建和设置一个重定向URI。转到左侧导航中的<a href="https://dashboard.plaid.com/team/api"> <strong> API </strong> </a>，指定<code>localhost:3000/</code>为<strong>重定向URI </strong>，同时添加<strong> Android包名</strong>，如下图所示:</p>
<p><img data-attachment-id="157143" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/plaid-dashboard-setting-up-redirect-uri/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png" data-orig-size="720,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Plaid Dashboard Setting Up Redirect URI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png" decoding="async" class="aligncenter wp-image-157143 size-full jetpack-lazy-image" src="../Images/4c2e97f2b9df0da2ae1917fcb6f1e3b9.png" alt="Plaid Dashboard Setting Up Redirect URI" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri-300x175.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157143" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/plaid-dashboard-setting-up-redirect-uri/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png" data-orig-size="720,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Plaid Dashboard Setting Up Redirect URI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png" decoding="async" loading="lazy" class="aligncenter wp-image-157143 size-full" src="../Images/4c2e97f2b9df0da2ae1917fcb6f1e3b9.png" alt="Plaid Dashboard Setting Up Redirect URI" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri-300x175.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/plaid-dashboard-setting-up-redirect-uri.png"/></noscript>
<p><em> <strong>注意，</strong>重定向URI必须使用HTTPS。唯一的例外是Plaid沙箱，出于测试目的，指向本地主机的重定向URIs可能会使用&lt; HTTP。关于重定向URI </em>  的更多细节参见<a href="https://plaid.com/docs/link/oauth/"> <em>的官方文档</em></a></p>
<h2 id="configuring-backend-sandbox">配置后端沙箱</h2>
<p>接下来，我们需要设置一个后端沙箱，以便我们可以测试我们的应用程序。在<code>RNPlaidExample</code>项目文件夹下创建一个新文件夹<code>backend</code>。我们将使用<a href="https://github.com/plaid/quickstart">格子快速启动库</a>为后端创建一个沙盒环境。</p>
<p>Plaid QuickStart存储库支持多种后端语言。在本教程中，我们将直接使用Node.js作为后端，但是，您也可以使用Docker。</p>
<p>通过在<code>backend</code>文件夹中创建一个<code>.env</code>文件来设置环境变量，如下所示:</p>
<pre class="language-javascript hljs">cp .env.example .env
</pre>
<p>接下来，将<code>.env.example</code>内容复制到<code>.env</code>文件中，添加不带字符串的<code>PLAID_CLIENT_ID</code>和<code>PLAID_SECRET</code>。按照上一节中概述的步骤从Plaid仪表板获取客户机ID和密码:</p>
<pre class="language-javascript hljs"># Get your Plaid API keys from the dashboard: https://dashboard.plaid.com/team/keys
PLAID_CLIENT_ID=
PLAID_SECRET=

PLAID_ENV=sandbox
PLAID_PRODUCTS=auth,transactions
PLAID_COUNTRY_CODES=US,CA

# For sandbox, set PLAID_REDIRECT_URI to 'http://localhost:3000/'

PLAID_REDIRECT_URI=http://localhost:3000/
</pre>
<p>现在，一旦设置好环境变量，通过运行下面的命令启动后端服务器。它将在<code><a href="http://localhost:8080/" rel="nofollow">http://localhost:8080/</a></code>启动并运行:</p>
<pre class="language-javascript hljs">yarn start 
&gt;</pre>
<p>既然后端沙箱已经启动并运行，是时候设置格子链接流了。</p>
<h2 id="setting-up-plaid-link-flow">设置格子链接流</h2>
<p>Plaid Link用于将用户财务帐户(或沙箱)连接到Plaid API。在我们的教程中，我们将使用Plaid Link建立一个流来显示钱包的交易历史和余额。</p>
<p>首先，从项目文件夹导航到React本地应用程序文件夹<code>ReactNativeApp</code>。</p>
<p>要访问大多数Plaid API端点，您需要一个访问令牌:</p>
<pre class="language-javascript hljs">const createLinkToken = React.useCallback(async () =&gt; {
    await fetch(`http://${address}:8080/api/create_link_token`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
    })
      .then(response =&gt; response.json())
      .then(data =&gt; {
        setLinkToken(data.link_token);
      })
      .catch(err =&gt; {
        console.log(err);
      });
  }, [setLinkToken]);
  React.useEffect(() =&gt; {
    if (linkToken == null) {
      createLinkToken();
    }
  }, [linkToken]);
</pre>
<p>在上面的代码中，<code>api/create_link_token</code> API端点用于获得一个<code>link_token</code>。这个<code>link_token</code>用于配置和初始化<code>PlaidLink</code>流程，比如:</p>
<pre class="language-javascript hljs"> &lt;PlaidLink
          tokenConfig={{
            token: linkToken,
            noLoadingState: false,
          }}
          onSuccess={async success =&gt; {
            await fetch(`http://${address}:8080/api/set_access_token`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({public_token: success.publicToken}),
            })
              .then(response =&gt; response.json())
              .then(data =&gt; {
                dispatch({
                  type: 'SET_STATE',
                  accessToken: data.access_token,
                  itemId: data.item_id,
                });
              })
              .catch(err =&gt; {
                console.log(err);
              });
            navigation.navigate('WalletDetails');
          }}
          onExit={response =&gt; {
            console.log(response);
          }}&gt;&lt;PlaidLink/&gt;
</pre>
<p>为了启动Plaid SDK，我们将把UI添加到我们的主页，并使用上面的代码初始化Plaid SDK流:</p>
<p><img data-attachment-id="157145" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/launching-plaid-sdk-ios-android-homepage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png" data-orig-size="720,601" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launching Plaid SDK iOS Android homepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage-300x250.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png" decoding="async" class="aligncenter wp-image-157145 size-full jetpack-lazy-image" src="../Images/7d023ba28cde22dcf4755731b87fa4ca.png" alt="Launching Plaid SDK iOS Android Homepage" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage-300x250.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157145" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/launching-plaid-sdk-ios-android-homepage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png" data-orig-size="720,601" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launching Plaid SDK iOS Android homepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage-300x250.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png" decoding="async" loading="lazy" class="aligncenter wp-image-157145 size-full" src="../Images/7d023ba28cde22dcf4755731b87fa4ca.png" alt="Launching Plaid SDK iOS Android Homepage" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage-300x250.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launching-plaid-sdk-ios-android-homepage.png"/></noscript>
<p>当你点击<strong>启动钱包</strong>按钮时，Plaid SDK打开，支付流程启动，iOS和Android如下所示:</p>
<p><img data-attachment-id="157148" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/launch-wallet-button-opening-plaid-sdk-ios-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png" data-orig-size="720,651" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launch wallet button opening Plaid SDK iOS Android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android-300x271.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png" decoding="async" class="aligncenter wp-image-157148 size-full jetpack-lazy-image" src="../Images/38946b35a099968e86861d5a3d727f6b.png" alt="Launch Wallet Button Opening Plaid SDK iOS Android" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android-300x271.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157148" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/launch-wallet-button-opening-plaid-sdk-ios-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png" data-orig-size="720,651" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Launch wallet button opening Plaid SDK iOS Android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android-300x271.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png" decoding="async" loading="lazy" class="aligncenter wp-image-157148 size-full" src="../Images/38946b35a099968e86861d5a3d727f6b.png" alt="Launch Wallet Button Opening Plaid SDK iOS Android" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android-300x271.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/launch-wallet-button-opening-plaid-sdk-ios-android.png"/></noscript>
<p>以下是成功完成<code>PlaidLink</code>流程后您将收到的消息:</p>
<p><img data-attachment-id="157151" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/successful-plaid-link-flow-ios-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png" data-orig-size="720,693" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Successful Plaid link flow iOS Android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android-300x289.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png" decoding="async" class="aligncenter wp-image-157151 size-full jetpack-lazy-image" src="../Images/219b37bdc4503c806fedc83e9b7d872d.png" alt="Successful Plaid Link Flow iOS Android" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android-300x289.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157151" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/successful-plaid-link-flow-ios-android/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png" data-orig-size="720,693" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Successful Plaid link flow iOS Android" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android-300x289.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png" decoding="async" loading="lazy" class="aligncenter wp-image-157151 size-full" src="../Images/219b37bdc4503c806fedc83e9b7d872d.png" alt="Successful Plaid Link Flow iOS Android" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android-300x289.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/successful-plaid-link-flow-ios-android.png"/></noscript>
<p>一旦用户成功完成支付链接流程，<code>PlaidLink</code>将通过<code>onSuccess</code>回调返回一个新的公共令牌。这个<code>public_token</code>是用来交换<code>access_token</code>的。然后，可以使用它来调用Plaid API的其他端点，以获取诸如余额和交易之类的信息:</p>
<pre class="language-javascript hljs">onSuccess={async success =&gt; {
            await fetch(`http://${address}:8080/api/set_access_token`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({public_token: success.publicToken}),
            })
              .then(response =&gt; response.json())
              .then(data =&gt; {
                dispatch({
                  type: 'SET_STATE',
                  accessToken: data.access_token,
                  itemId: data.item_id,
                });plaidli
              })
              .catch(err =&gt; {
                console.log(err);
              });
</pre>
<p>为了在其他API请求中使用这个交换的访问令牌，并获得关于项目、钱包和资产余额的信息，我们通过一个已经配置好的全局上下文提供者在我们的全局状态中设置它。</p>
<p>在成功回调<code>PlaidLink</code> SDK流之后，用户被重定向到WalletDetails屏幕，对于iOS和Android如下所示:</p>
<p><img data-attachment-id="157153" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/wallet-details-screen-ios-android-plaid-link-callback/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png" data-orig-size="720,704" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Wallet details screen iOS Android Plaid Link callback" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback-300x293.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png" decoding="async" class="aligncenter wp-image-157153 size-full jetpack-lazy-image" src="../Images/080ea75c542a2beb1d59c8a19ead4215.png" alt="Wallet Details Screen iOS Android Plaid Link Callback" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback-300x293.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="157153" data-permalink="https://blog.logrocket.com/build-fintech-app-plaid-react-native/attachment/wallet-details-screen-ios-android-plaid-link-callback/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png" data-orig-size="720,704" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Wallet details screen iOS Android Plaid Link callback" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback-300x293.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png" decoding="async" loading="lazy" class="aligncenter wp-image-157153 size-full" src="../Images/080ea75c542a2beb1d59c8a19ead4215.png" alt="Wallet Details Screen iOS Android Plaid Link Callback" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png 720w, https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback-300x293.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/wallet-details-screen-ios-android-plaid-link-callback.png"/></noscript>
<p>我们与<code>/api/balance</code> API端点通信以获取余额信息，并与<code>api/transaction</code> API端点通信以获取最近的交易历史:</p>
<pre class="language-javascript hljs">const getBalance = React.useCallback(async () =&gt; {
    await fetch(`http://${address}:8080/api/balance`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        access_token: accessToken,
      },
    })
      .then(response =&gt; response.json())
      .then(data =&gt; {
        setData(data);
      })
      .catch(err =&gt; {
        console.log(err);
      });
  });
 const getTransactions = React.useCallback(async () =&gt; {
    await fetch(`http://${address}:8080/api/transactions`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        access_token: accessToken,
      },
    })
      .then(response =&gt; response.json())
      .then(data =&gt; {
        setTransactionData(data);
      })
      .catch(err =&gt; {
        console.log(err);
      });
  });
</pre>
<p>要了解更多关于额外的Plaid API端点的信息，请访问官方文档。</p>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们介绍了如何为React本机应用程序设置Plaid，为后端创建沙盒环境，以及定义环境变量。我们还演示了如何创建公共链接令牌来访问大多数API端点数据。</p>
<p>作为我们的例子，我们使用Plaid和React Native构建了一个适用于iOS和Android的fintech应用程序。我们启动了一个格子链接流来显示钱包的余额和最近的交易历史。本文中使用的源代码可以在<a href="https://github.com/mukeshmandiwal/RNPlaidExample"> GitHub </a>上获得。</p>
<p>我希望这篇文章对使用React Native创建一个格子应用程序有所帮助。如果你有更多的问题，请在下面的评论中告诉我。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>