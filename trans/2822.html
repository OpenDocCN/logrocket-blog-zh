<html>
<head>
<title>When will Safari finally get it together? - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Safari 什么时候才能最终整合起来？- LogRocket 博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/when-will-safari-finally-get-it-together/#0001-01-01">https://blog.logrocket.com/when-will-safari-finally-get-it-together/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>最大的侮辱</h2>
<p>将浏览器称为“新的 Internet Explorer”是所有现代浏览器厂商都想避免的事情。对苹果来说，不幸的是，Safari 已经在特定的子主题和尖刻的黑客新闻中获得了不想要的标签。Internet Explorer 6 阻止了 web 开发者使用许多最新、最酷的 web APIs，直到 2016 年 1 月微软正式停止支持它。Safari 在更小的程度上也在做同样的事情。</p>
<p>在 15.4 版本发布之前，Safari——或者更确切地说，是驱动它的 WebKit 引擎——远远落后于他们的竞争对手。15.4 之前的 PWA 支持是有限的，不支持主屏幕图标和通知。阴谋论者推测，苹果故意削弱 WebKit 以保护其应用商店业务。这些指控并不成立，但 Safari 仍然与臭名昭著的 Internet Explorer 有些许相似之处。</p>
<p>以下是苹果布道者珍·西蒙斯(Jen Simmons)恍然大悟的时刻:</p>

<p>可怜的珍似乎对这些批评有点吃惊。这条发自 2022 年 2 月的推文清楚地表明，苹果并没有意识到那些伟大的、无知的开发者大众认为 IE 6 的灵魂在 Safari 内部。</p>
<p>我们中的许多人都足够老了，以至于还记得 ie6–11 的黑暗日子，当时 web 开发人员在每个开发周期的末尾开始了专门针对 IE 修复 bug 的周期。</p>
<p>随着自动更新的 Internet Explorer Edge 的出现，微软也在帮助世界摆脱其旧的、Edge 之前的浏览器，Safari 发现自己正在努力获得任何流行。</p>
<p>根据 Web 平台测试仪表板，Safari 在 15.4 版本中的 interop 2022 仪表板上从 50 分跃升至 72 分。那么，这种粗鄙的指责 Safari 是新 IE 的说法有事实依据吗？</p>
<h2>Safari 为什么会获得“新 IE”的称号？</h2>
<p>Safari 的新名称不讨人喜欢的主要原因之一是，苹果明智地将其浏览器版本与 macOS 版本捆绑在一起。这使得发布关键漏洞修复需要几周或几个月的时间。包括 Rich Harris 在内的许多人都公开评论说这是开发人员的主要痛点:</p>

<p/>
<p>相比之下，Chrome 的发布周期为四周。但是 Safari 可能需要几个月才能发布一个小版本:</p>
<table class="center aligncenter">
<thead>
<tr>
<th>次要版本</th>
<th>iOS 版本</th>
<th>发布日期</th>
</tr>
</thead>
<tbody>
<tr>
<td>15.1</td>
<td>15.1</td>
<td>2021 年 10 月 25 日</td>
</tr>
<tr>
<td>15.2</td>
<td>15.2</td>
<td>2021 年 12 月 13 日</td>
</tr>
<tr>
<td>15.3</td>
<td>15.3</td>
<td>2022 年 1 月 26 日</td>
</tr>
<tr>
<td>15.4</td>
<td>15.4</td>
<td>2022 年 3 月 14 日</td>
</tr>
</tbody>
</table>
<p>更新被认为是不透明的，没有公开的路线图，也没有新功能或错误修复预计何时到来的信号。</p>
<p>PWA 支持让 Safari 成为 Chrome 和 Firefox 最穷的亲戚。对于任何想要在浏览器中创建类似应用程序的体验的开发者来说，缺乏推送通知是一个巨大的损失。不支持延迟加载图像是一个需要填补的巨大漏洞。</p>
<p>苹果在 2017 年 6 月添加了<a href="https://webrtc.org/" target="_blank" rel="noopener"> WebRTC </a>支持，这大约是 Chrome 正式添加开箱即用功能的四年半之后。您可能会认为这种延迟阻碍了 WebRTC 的广泛采用。</p>
<p>在<a href="https://webkit.org/blog/12445/new-webkit-features-in-safari-15-4/" target="_blank" rel="noopener"> 15.4 发布</a>之前，可以公平地说苹果已经失手了。他们至少需要对境况不佳的野生动物园进行清理和润色。他们成功了吗？</p>
<h2>safari 15.4 版让世界回归正轨</h2>
<p>苹果在<a href="https://webkit.org/blog/12445/new-webkit-features-in-safari-15-4/" target="_blank" rel="noopener">15.4</a>版本中增加了 70 项新功能。70 个新特性是一个重要的版本，它与小规模、经常发布的现代连续交付实践背道而驰。相比之下，Chrome 99 有 28 个安全补丁。</p>
<p>其中之一是——最后——延迟加载映像的能力，这是对包大小敏感的开发人员和对延迟敏感的开发人员绝对必须具备的。然而，我们不要忘记，自 2019 年发布的版本 77 以来，他一直是 Chrome 的一个功能，自 2020 年发布的版本 75 以来，他一直是 Firefox 的一个功能。</p>
<p>Safari 的 PWA 支持在此版本中有所改进，最终支持在 web 应用清单中声明图标。<a href="https://w3c.github.io/ServiceWorker/#service-worker-registration-navigationpreload" target="_blank" rel="noopener">service worker navigation preload</a>是一个受欢迎的新增功能，它可以通过允许网络请求与 service worker 启动并行发生来减少启动时间。不幸的是，推送通知仍然只有实验性的支持。</p>
<p>任何称职的 web 开发人员都曾在桌面和移动 Safari 上与许多滚动错误作斗争。15.4 版本引入了<a href="https://www.w3.org/TR/css-overflow-3/#smooth-scrolling" target="_blank" rel="noopener">平滑滚动</a>，让开发者能够从一个位置跳到另一个位置，并平滑地动画滚动操作。</p>
<p>另一个值得注意的增加是<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Perfect_negotiation" target="_blank" rel="noopener">完美的 WebRTC 协商</a>，最终使 Safari 符合<a href="https://wpt.fyi/results/webrtc/RTCPeerConnection-perfect-negotiation.https.html?run_id=5729316372480000&amp;run_id=5655500883492864&amp;run_id=5068969076588544&amp;run_id=5723126955507712" target="_blank" rel="noopener"> WebRTC 1.0 规范</a>。从背景来看，Chrome 在 2015 年发布的 Chrome 47 中开始添加 WebRTC 支持，Firefox 在 2013 年发布的 Firefox 20 中开始添加支持。Safari 很晚才参加聚会，并在 2020 年发布的 Safari 13.5 中开始添加 WebRTC 支持！</p>
<h2>我们在 15.4 中没有得到的</h2>
<p>没有推送通知是这个版本的一个明显的遗漏，这引起了许多 PWA 开发人员的愤怒。Web 应用程序或 PWAs 无法在 Safari 中提供与 Chrome 或 Firefox 相当的体验，除非以非实验性的方式在桌面和移动设备上添加这一功能。遗憾的是，这仍然是实验性的，因为这仍然是一个需要填补的空白，以获得真正的 PWA 支持。</p>
<p>另一个让我与 Chrome 联系在一起的功能是<a href="https://www.theverge.com/2021/3/2/22309154/google-chrome-reading-list-new-profile-bookmarks-colors-features" target="_blank" rel="noopener">配置文件</a>。作为一名自由软件开发人员，我可能在一个工作日有多个账户，能够在 Chrome 档案中将这些账户联系在一起是一种生产力优势，其他人应该在这方面进行创新。</p>
<h2>Safari 成功了吗？</h2>
<p>苹果应该为 15.4 版本得到很多信任，我希望随后的次要和主要版本继续推动这种巨大的飞跃。至少现在，苹果确实意识到了开发者对 Safari 的看法，而且大量的资源似乎都在致力于改进 Safari。</p>
<p>在移动设备上，Safari 在全球市场份额上仍然是第二名，苹果至少需要巩固这一地位才能继续留在游戏中，然后争取第一名。</p>
<h2>我们需要创新，Chrome 需要竞争</h2>
<p>在出版的时候，Chrome 太占优势了。它在全球桌面和移动设备上占有超过 60%的市场份额。</p>
<p id="all-browser-ww-monthly-202102-202202"/>
<p/>
<p>来源:<a href="https://gs.statcounter.com/browser-market-share"> StatCounter 全球统计–浏览器市场份额</a></p>
<p/>
<p>这种优势的一个后果是，谷歌开发者在重要的对话中获得了太多的发言权，比如 TC39 会议。他们带来了太多符合自己需求的提议，比如<a href="https://developers.google.com/protocol-buffers" target="_blank" rel="noopener"> protobuf </a>和<a href="https://en.wikipedia.org/wiki/Brotli" target="_blank" rel="noopener"> Brotli </a>，最终从非谷歌开发者提出的其他想法中获益。首先，他们在<a href="https://github.com/tc39/proposal-cancelable-promises/issues/70" target="_blank" rel="noopener">完全关闭了承诺取消，这是一个悲伤的 GitHub 问题</a>，它将永远留在我的脑海里。</p>
<p>非 Chrome 浏览器被拿来与搜索引擎<a href="https://duckduckgo.com/" target="_blank" rel="noopener"> DuckDuckGo </a>相比较，后者是谷歌搜索的竞争对手，我希望能成功，但我仍然使用谷歌，因为结果更好。</p>
<p>竞争孕育创新，我们需要可行的替代方案来推动技术进步。不幸的是，在我写作的这段时间，在 Chrome 上开发是最适合我快速完成工作的地方。我不能做出不符合人体工程学的立场，但苹果公司有足够的资金和开发资源来至少创造公平的竞争环境，如果不是让 Safari 成为真正的竞争对手的话。但是看起来，至少在 15.4 之前，他们要么故意选择不这样做，要么没有意识到这种需要。</p>
<h2>下一步是什么？</h2>
<p>Safari 的下一步是一个清晰的路线图和更好的更新故事。我不知道 Chrome 的版本号，因为更新刚刚发生，但我现在对 Safari(和 Internet Explorer)版本都很清楚。版本号应该无关紧要，而不是声名狼藉。</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

 </div>    
</body>
</html>