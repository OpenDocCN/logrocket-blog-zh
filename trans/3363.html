<html>
<head>
<title>Getting started with Playwright component testing - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>剧作家组件测试入门- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-playwright-component-testing/#0001-01-01">https://blog.logrocket.com/getting-started-playwright-component-testing/#0001-01-01</a></blockquote><div><article class="article-post">
<p>随着React和Vue等web框架和库的广泛采用，web应用程序的开发已经从每页一个HTML文件转变为使用小的可重用组件来呈现应用程序的特定部分。</p>
<p>类似地，测试实践也已经从只有页面的端到端(E2E)测试扩展到有几个单元测试，以及单独测试前端组件。</p>
<p>如果您一直在使用剧作家来实现您的应用程序的E2E测试，您可能会意识到剧作家现在提供了单独测试您的前端组件的能力。</p>
<p>本教程将带你完成使用剧作家最近发布的，目前处于实验阶段的组件测试特性，为你的Svelte、Vue和React组件编写单元测试的过程。我们将涵盖:</p>

<p>如果你想直接进入完成的测试用例，可以在GitHub 上的<code><a href="https://github.com/vickywane/playwright-frontend-e2e-tests" target="_blank" rel="noreferrer noopener">playwright-frontend-e2e-tests</a></code> <a href="https://github.com/vickywane/playwright-frontend-e2e-tests" target="_blank" rel="noreferrer noopener">库的<code>playwright-ct</code>分支中找到代码。</a></p>
<h2>先决条件</h2>
<p>本教程包含的实践步骤将指导您使用剧作家来测试用React、Vue和Svelte构建的组件。您将在单个Yarn工作空间中克隆一个包含React、Vue和Svelte组件的样板项目。</p>
<p>要遵循这些步骤，您需要以下内容:</p>
<ul>
<li>安装在计算机上的Node.js v16</li>
<li>安装在您计算机上的Git CLI</li>
<li>基本熟悉React、Vue或Svelte框架</li>
</ul>
<h2 id="what-playwright">什么是剧作家？</h2>
<p>剧作家是一个开源测试工具，主要支持web应用程序，并为移动应用程序提供额外的实验支持。</p>
<p>与手动测试应用程序的界面不同，剧作家为您提供了使用JavaScript或TypeScript、Java编写的可执行脚本来自动化测试的能力。NET和Python。</p>
<h2 id="introduction-playwright-component-testing-features">剧作家的组件测试特性介绍</h2>
<p>实验性的剧作家测试组件测试特性允许你创建测试用例，在其中导入和测试你的前端组件，而不必通过编程导航到整个页面。</p>
<p>以前，已经在使用剧作家E2E测试的开发人员可能仍然需要单元测试。那些开发人员不得不采用其他测试库，比如Jest T1，来直接测试他们的组件。</p>
<p>在2022年5月发布的<a href="https://github.com/microsoft/playwright/releases/tag/v1.22.0" target="_blank" rel="noreferrer noopener"> v1.22.0版本中，剧作家通过组件测试特性消除了这一限制。</a></p>
<p>目前，组件测试功能仅支持React、Vue和Svelte。剧作家提供了一个额外的包，该包包装了<code><a href="https://www.npmjs.com/package/@playwright/test" target="_blank" rel="noreferrer noopener">@playwright/test</a></code>包，以提供其他方法，如用于安装单个组件的<code>mount</code>。</p>
<p>当您考虑使用剧作家进行前端单元测试时，请记住组件测试功能仍处于试验阶段。因此，API将来可能会有变化。</p>
<h2 id="testing-components-playwright">使用剧作家测试你的组件</h2>
<p>为了使您能够专注于使用剧作家，本教程使用了现有的monorepo项目，其中包含较小的React、Vue和Svelte应用程序。</p>
<p>monorepo使用<a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/" target="_blank" rel="noreferrer noopener"> Yarn workspaces </a>进行管理，React、Vue和Svelte应用程序将呈现相同的页面，显示从<a href="https://rickandmortyapi.com/documentation/#introduction" target="_blank" rel="noreferrer noopener"> Rick和Morty API </a>获取的JSON数据，其中包含来自电视节目Rick和Morty的信息。</p>
<p>首先，启动您的终端，并使用Git CLI从GitHub存储库中克隆预构建的前端项目:</p>
<pre class="language-bash hljs">&gt;git clone https://github.com/vickywane/playwright-frontend-e2e-tests.git</pre>
<p>使用下面的下一个命令将目录更改为克隆的项目，安装项目依赖项，并运行前端应用程序。项目<a href="https://www.npmjs.com/package/concurrently" target="_blank" rel="noreferrer noopener">使用</a>下面的 <code><a href="https://www.npmjs.com/package/concurrently" target="_blank" rel="noreferrer noopener">concurrently</a></code> <a href="https://www.npmjs.com/package/concurrently" target="_blank" rel="noreferrer noopener">包从一个终端运行React、Vue和Svelte应用程序。</a></p>
<pre class="language-bash hljs"># change directory
cd playwright-frontend-e2e-tests

# install dependencies
yarn install 

# start all applications
yarn start:all</pre>
<p>然后，您应该会看到类似下面的内容:</p>
<p><img data-attachment-id="132130" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img1-playwright-component-testing-project-setup-yarn-workspaces/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png" data-orig-size="730,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-project-setup-Yarn-workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png" decoding="async" class="aligncenter size-full wp-image-132130 jetpack-lazy-image" src="../Images/11575fa4858358ff12714ad1bb8ab428.png" alt="Playwright Component Testing Project Setup In Yarn Workspaces" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces-300x205.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132130" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img1-playwright-component-testing-project-setup-yarn-workspaces/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png" data-orig-size="730,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-project-setup-Yarn-workspaces" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132130" src="../Images/11575fa4858358ff12714ad1bb8ab428.png" alt="Playwright Component Testing Project Setup In Yarn Workspaces" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces-300x205.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img1-Playwright-component-testing-project-setup-Yarn-workspaces.png"/></noscript>
<p>通过使用monorepo的Yarn工作空间，您只需要在根文件夹中安装一次项目依赖项，Yarn就会自动将它们链接到其他项目。<a href="https://blog.logrocket.com/exploring-workspaces-other-advanced-package-manager-features/" target="_blank" rel="noreferrer noopener">了解更多关于Yarn workspaces和monorepos的信息</a>。</p>
<p>项目中的每个前端应用程序显示从Rick和Morty API获取的20个字符，这些字符跨越了主组件中导入的三个子组件。在接下来的部分中，您将为每个子组件编写组件测试。</p>
<p>有了项目设置，让我们通过使用剧作家在单个应用程序中设置和编写E2E测试的过程。</p>
<h3 id="setting-up-playwright-component-testing-react-components">为React组件设置剧作家组件测试</h3>
<p>在开始编写E2E测试之前，使用浏览器导航到<a href="http://localhost:3000"> http://localhost:3000 </a>来查看React应用程序。您将为下图中突出显示的<code>SearchField</code>组件编写组件测试:</p>
<p><img data-attachment-id="132135" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img2-playwright-component-testing-project-frontend-searchfield-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-project-frontend-SearchField-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png" decoding="async" class="aligncenter size-full wp-image-132135 jetpack-lazy-image" src="../Images/dce30bc4bd678247d657590a3bbf264b.png" alt="Playwright Component Testing Project Frontend, A Character Glossary For The Show Rick And Morty, With A Red Box Showing React SearchField Component Under A Title Component And Above Character Tiles" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component-300x187.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132135" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img2-playwright-component-testing-project-frontend-searchfield-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-project-frontend-SearchField-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132135" src="../Images/dce30bc4bd678247d657590a3bbf264b.png" alt="Playwright Component Testing Project Frontend, A Character Glossary For The Show Rick And Morty, With A Red Box Showing React SearchField Component Under A Title Component And Above Character Tiles" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component-300x187.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img2-Playwright-component-testing-project-frontend-SearchField-component.png"/></noscript>
<p>执行下一个命令，将您的终端目录更改为<code>react-components</code>文件夹，并启动交互式的剧作家CLI:</p>
<pre class="language-bash hljs">cd react-components

yarn create playwright --ct</pre>
<p>上面命令中附加的<code>--ct</code>标志将指导剧作家CLI设置测试，尤其是测试组件。</p>
<p>在设置过程中，选择<code>JavaScript</code>作为编写E2E测试的编程语言，选择<code>React</code>作为前端框架选项。</p>
<p>剧作家生成的所有配置都将存储在一个<code>playwright-ct.config.js</code>文件中，如果您想更改默认配置，可以对该文件进行调整。</p>
<p><img data-attachment-id="132139" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img3-playwright-component-testing-react-setup/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png" data-orig-size="730,634" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup-300x261.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png" decoding="async" class="aligncenter size-full wp-image-132139 jetpack-lazy-image" src="../Images/f2143a084e1f0d66b1b439feda63e6d9.png" alt="Contents Of Playwright Config File Set Up For Playwright Component Testing For React Components" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup-300x261.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132139" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img3-playwright-component-testing-react-setup/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png" data-orig-size="730,634" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup-300x261.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132139" src="../Images/f2143a084e1f0d66b1b439feda63e6d9.png" alt="Contents Of Playwright Config File Set Up For Playwright Component Testing For React Components" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup-300x261.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img3-Playwright-component-testing-React-setup.png"/></noscript>
<p>作为安装过程的一部分，剧作家将自动安装<code>@playwright/experimental-ct-react</code>包以使用组件测试特性。</p>
<p>此时，剧作家已经在<code>react-components</code>应用程序中设置好了。</p>
<p>使用您的代码编辑器打开整个<code>playwright-frontend-e2e-tests</code>项目，因为您将在接下来的部分中开始创建您的第一个测试用例。</p>
<h3 id="writing-playwright-component-tests-react">为React编写剧作家组件测试</h3>
<p>使用您的代码编辑器，在<code>react-components/src</code>目录中创建一个名为<code>tests</code>的目录。<code>tests</code>文件夹将包含你将为剧作家创建的所有测试文件。</p>
<p>接下来，在测试目录中创建一个<code>SearchField.spec.jsx</code>文件。该文件将包含<code>SearchField</code>组件的组件测试，用于搜索一个字符。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>剧作家将文件扩展名前面带有<code>.spec</code>的文件识别为测试文件。</p>
<p>将下面下一个代码块的内容添加到<code>SearchField.spec.jsx</code>文件中，以断言<code>SearchField</code>组件中的输入字段接受文本值。</p>
<p><a href="https://playwright.dev/docs/api/class-locator" target="_blank" rel="noreferrer noopener">下面的测试用例使用</a> <code><a href="https://playwright.dev/docs/api/class-locator" target="_blank" rel="noreferrer noopener">locator</a></code> <a href="https://playwright.dev/docs/api/class-locator" target="_blank" rel="noreferrer noopener">方法</a>找到带有<code>search-field</code> id属性的HTML元素，用文本<code>Rick</code>填充，断言输入元素的值为“Rick”。</p>
<pre class="language-javascript hljs">import { test, expect } from '@playwright/experimental-ct-react';
import App, { SearchField } from '../App';

test('SearchField accepts text input', async ({ mount }) =&gt; {
    const searchComponent = await mount(&lt;SearchField /&gt; );
    const searchField = searchComponent.locator('#search-field')
    
    await searchField.fill('Rick')

    await expect(searchField).toHaveValue('Rick')
});</pre>
<p>接下来，将下面的代码添加到<code>SearchField.spec.jsx</code>文件中，以断言当组件中的按钮被单击时<code>executeSearch</code>属性被执行:</p>
<pre class="language-javascript hljs">test('Click on `Find Character` button executes executeSearch prop', async ({ mount }) =&gt; {
    let isCalled = false
    const searchComponent = await mount(
        &lt;SearchField
            executeSearch={() =&gt; isCalled = true}
        /&gt;
    );

    await searchComponent.locator('#search-field').fill('test character')
    await searchComponent.locator('#find').click()

    expect(isCalled).toBeTruthy()
});</pre>
<p>作为良好用户体验的一部分，表单中的按钮应该被禁用，直到表单中的强制输入字段被填充。</p>
<p>添加下面的代码，当输入字段为空时，断言组件的按钮被禁用:</p>
<pre class="language-javascript hljs">test('Input field text length controls `Find Character` button disabled state', async ({ mount }) =&gt; {
    const searchComponent = await mount( &lt;SearchField /&gt; );

    const btn = await searchComponent.locator('#find').isDisabled()
    expect(btn).toBeTruthy()

    await searchComponent.locator('#search-field').fill('test character')
      await expect(searchComponent.locator('#find')).toBeEnabled();
});</pre>
<p>这个测试用例是必要的，以确保只有当用户输入文本时才触发搜索。</p>
<p>添加了上面的代码，现在在<code>SearchField.spec.jsx</code>文件中有三个测试用例。让我们开始执行吧！</p>
<p>使用下面的命令执行您为<code>SearchField</code>组件创建的测试用例:</p>
<pre class="language-bash hljs">yarn test-ct</pre>
<p>然后，您应该会看到类似下图的内容:</p>
<p><img data-attachment-id="132143" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img4-playwright-component-testing-react-execution/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png" data-orig-size="730,458" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-execution" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png" decoding="async" class="aligncenter size-full wp-image-132143 jetpack-lazy-image" src="../Images/929ff5580b2a1c615cc943185ce12abc.png" alt="Result Of Executing Playwright Component Testing For React Components Showing Nine Passed Test Result And Instructions To Open Html Report" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution-300x188.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132143" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img4-playwright-component-testing-react-execution/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png" data-orig-size="730,458" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-execution" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132143" src="../Images/929ff5580b2a1c615cc943185ce12abc.png" alt="Result Of Executing Playwright Component Testing For React Components Showing Nine Passed Test Result And Instructions To Open Html Report" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution-300x188.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img4-Playwright-component-testing-React-execution.png"/></noscript>
<p>默认情况下，组件测试将以无头模式执行，不需要打开Chromium、Webkit和Firefox浏览器。将<code>--headless</code>标志添加到<code>yarn test-ct</code>命令中，以启动三个浏览器并查看正在测试的组件。</p>
<p>剧作家有一个内置的特性，为每次测试运行生成并提供一个HTML报告。HTML报告包含每个测试用例的测试名称、执行状态和持续时间。</p>
<p>使用剧作家的<code>show-report</code>命令为您的测试生成一个HTML报告:</p>
<pre class="language-bash hljs">npx playwright show-report</pre>
<p>剧作家将在端口<code>9323</code>上为HTML报告启动一个本地服务器。使用您的浏览器，导航至<code><a href="http://localhost:9323" rel="nofollow">http://localhost:9323</a></code>查看HTML报告:</p>
<p><img data-attachment-id="132158" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img5-playwright-component-testing-react-html-report/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png" data-orig-size="730,460" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-HTML-report" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report-300x189.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png" decoding="async" class="aligncenter size-full wp-image-132158 jetpack-lazy-image" src="../Images/2640f2200fad744cf548d29820665227.png" alt="Html Report For Playwright React Component Tests Showing Successful Test Results Tagged With Tested Browser Names And Time To Complete Test" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report-300x189.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132158" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img5-playwright-component-testing-react-html-report/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png" data-orig-size="730,460" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-React-HTML-report" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report-300x189.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132158" src="../Images/2640f2200fad744cf548d29820665227.png" alt="Html Report For Playwright React Component Tests Showing Successful Test Results Tagged With Tested Browser Names And Time To Complete Test" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report-300x189.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img5-Playwright-component-testing-React-HTML-report.png"/></noscript>
<p>至此，您已经看到了使用React构建的组件是如何直接使用剧作家进行测试的。让我们继续为项目中的<code>vue-components</code>应用程序设置剧作家。</p>
<h3 id="setting-up-playwright-component-testing-vue-components">为Vue组件设置剧作家组件测试</h3>
<p>在上一节中，您在<code>react-components</code>应用程序中使用了剧作家来测试<code>SearchField</code>组件。</p>
<p>在本节中，您将以类似的方式在<code>vue-components</code>应用程序中使用剧作家来测试<code>Character</code>组件，该组件显示来自Rick和Morty API的单个角色的详细信息。</p>
<p>执行下一个命令，将您的终端目录更改为<code>vue-components</code>目录，并运行剧作家安装程序:</p>
<pre class="language-bash hljs">cd ../vue-components

yarn create playwright --ct</pre>
<p>对于设置提示，确保选择Vue作为前端框架。选择Vue将导致剧作家CLI自动安装用于编写组件测试的<code>@playwright/experimental-ct-vue</code>包。</p>
<p>在下一步中，您将为<code>vue-components</code>应用程序中的<code>Character</code>组件编写两个测试。<code>Character</code>组件呈现在一个网格列表中，该列表使用从父组件接收的道具显示瑞克和莫蒂角色的图像和一些细节。</p>
<p>下图中突出显示的方框显示了<code>Character</code>组件的示例:</p>
<p><img data-attachment-id="132162" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img6-playwright-component-testing-vue-project-frontend-character-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png" data-orig-size="730,282" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Vue-project-frontend-Character-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component-300x116.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png" decoding="async" class="aligncenter size-full wp-image-132162 jetpack-lazy-image" src="../Images/5179736118c722c4faba672d58e30f9d.png" alt="Playwright Component Testing Project Frontend With Red Box And Arrow Showing Vue Character Component To Be Tested" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component-300x116.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132162" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img6-playwright-component-testing-vue-project-frontend-character-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png" data-orig-size="730,282" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Vue-project-frontend-Character-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component-300x116.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132162" src="../Images/5179736118c722c4faba672d58e30f9d.png" alt="Playwright Component Testing Project Frontend With Red Box And Arrow Showing Vue Character Component To Be Tested" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component-300x116.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img6-Playwright-component-testing-Vue-project-frontend-Character-component.png"/></noscript>
<h3 id="writing-playwright-component-tests-vue">为Vue编写剧作家组件测试</h3>
<p>在<code>vue-components/src</code>目录中创建一个名为<code>tests</code>的目录。正如您对<code>react-components</code>应用程序所做的那样，<code>vue-components</code>的测试文件也将存储在测试目录中。</p>
<p>在测试目录中创建一个<code>Character.spec.js</code>文件来存储<code>Character</code>组件的测试用例。</p>
<p>将下面代码块的内容添加到<code>Character.spec.js</code>文件中，以断言<code>Character</code>组件将传入组件的道具显示为角色的细节。</p>
<pre class="language-javascript hljs">import { test, expect } from '@playwright/experimental-ct-vue';
import Character from '../components/Character.vue'

const SAMPLE_CHARACTER = {
    "name": "Toxic Rick",
    "gender": "Male",
    "specie": "Humanoid",
    "type": "Rick's Toxic Side",
    "link": "https://rickandmortyapi.com/api/location/64",
    "image": "https://rickandmortyapi.com/api/character/avatar/361.jpeg"
}

test('Component displays character details from props', async ({ mount }) =&gt; {
    const characterComponent = await mount(Character, {
        props: { ...SAMPLE_CHARACTER }
    });


       await expect(characterComponent.locator('#character-name')).toHaveText(SAMPLE_CHARACTER.name);
  
   await expect(characterComponent.locator('#character-gender')).toHaveText(SAMPLE_CHARACTER.gender);
  
   await expect(characterComponent.locator('#character-type')).toHaveText(SAMPLE_CHARACTER.type);
  
   await expect(characterComponent.locator('#character-specie')).toHaveText(SAMPLE_CHARACTER.specie);

});</pre>
<p>上面的代码包含一个对象，该对象具有一个字符的样本字段，该字符类似于从对Rick和Morty API的实际请求中检索到的字符。</p>
<p>接下来，添加下面的第二个测试用例，断言<code>Character</code>组件显示角色的名字，并带有一个具有href属性的锚元素。</p>
<pre class="language-javascript hljs">test('Character name renders anchor link to character', async ({ mount }) =&gt; {
    const characterComponent = await mount(Character, {
        props: { ...SAMPLE_CHARACTER }
    });

   
   await expect(characterComponent.locator('#character-name &gt; a') ).toHaveAttribute("href")

});</pre>
<p>现在，执行<code>test-ct</code>命令来运行您使用上面的两个代码块创建的两个剧作家测试用例:</p>
<pre class="language-bash hljs">yarn test-ct</pre>
<p>如前一节所述，您应该能够看到您的测试结果，并为您的测试生成一个HTML报告。</p>
<h3 id="setting-up-playwright-component-testing-svelte-components">为苗条组件设置剧作家组件测试</h3>
<p>在本文的前几节中，您已经使用了带有React和Vue应用程序的剧作家，现在您正在使用带有苗条应用程序的剧作家。</p>
<p>首先，执行以下命令将您的终端目录更改为<code>svelte-components</code>目录，并运行剧作家安装程序。</p>
<pre class="language-bash hljs">cd ../svelte-components

yarn create playwright --ct</pre>
<p>当你浏览设置提示时，确保选择Svelte作为前端框架。选择Svelte会导致剧作家自动安装<code>@playwright/experimental-ct-svelte</code>包。</p>
<p>在下一部分中，您将为<code>Paginator</code>组件编写两个测试用例，它将呈现一个页码下拉列表。当用户点击<code>Paginator</code>组件中列出的页面时，他们将被带到查看该页面上列出的字符，如下图所示:</p>
<p><img data-attachment-id="132165" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img7-playwright-component-testing-svelte-project-frontend-paginator-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png" data-orig-size="730,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Svelte-project-frontend-Paginator-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png" decoding="async" class="aligncenter size-full wp-image-132165 jetpack-lazy-image" src="../Images/a22cf8baefbab3c8f31040927db57dd9.png" alt="Playwright Component Testing Project Frontend With Red Box And Arrow Showing Svelte Paginator Component To Be Tested" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component-300x148.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132165" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img7-playwright-component-testing-svelte-project-frontend-paginator-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png" data-orig-size="730,360" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Svelte-project-frontend-Paginator-component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132165" src="../Images/a22cf8baefbab3c8f31040927db57dd9.png" alt="Playwright Component Testing Project Frontend With Red Box And Arrow Showing Svelte Paginator Component To Be Tested" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component-300x148.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img7-Playwright-component-testing-Svelte-project-frontend-Paginator-component.png"/></noscript>
<h3 id="writing-playwright-component-tests-svelte">为Svelte编写剧作家组件测试</h3>
<p>在<code>svelte-components/src</code>目录中创建一个名为<code>tests</code>的目录来存储包含你的剧作家测试用例的文件。</p>
<p>接下来，在<code>tests</code>目录下创建一个<code>Paginator.spec.js</code>文件来存储<code>Paginator</code>组件的测试用例。</p>
<p>将下面代码块的内容添加到<code>Paginator.spec.js</code>文件中。这段代码将创建一个测试用例，断言<code>Paginator</code>组件将基于通过<code>pagesCount</code>属性传递的数字显示选项元素。</p>
<pre class="language-javascript hljs">import { test, expect } from '@playwright/experimental-ct-svelte'
import Paginator from '../src/components/Paginator.svelte'

test('Displays pages option based on pagesCount prop', async ({ mount }) =&gt; {
    const component = await mount(Paginator, {
        props: {
            pagesCount: 42
        }
    })

   expect(await component.locator('#pages-option &gt; option').count()).toBe(42)})
})</pre>
<p>添加下面的第二个测试用例，以断言分页器组件的<code>handlePageSelect</code>属性在单击一个选项时返回一个数字，以便根据数字对Rick和Morty字符进行分页:</p>
<pre class="language-javascript hljs">test('`handlePageSelect` prop returns the pages number when clicked', async ({ mount }) =&gt; {
    let pageClicked;
    const component = await mount(Paginator, {
        props: {
            handlePageSelect: number =&gt; pageClicked = number,
            pagesCount: 10,
        }
    })

    await component.locator('#pages-option &gt; option').first().click()                                                        
    expect(pageClicked).toBe(1)
})</pre>
<p>最后，为分页组件运行<code>test-ct</code>两个测试用例。</p>
<pre class="language-bash hljs">yarn test-ct</pre>
<p><img data-attachment-id="132169" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img8-playwright-component-testing-svelte-execution/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Svelte-execution" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png" decoding="async" class="aligncenter size-full wp-image-132169 jetpack-lazy-image" src="../Images/01e7e770d3268f24eefa62c193b0d270.png" alt="Result Of Executing Playwright Component Testing For Svelte Components Showing Six Passed Test Result And Instructions To Open Html Report" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="132169" data-permalink="https://blog.logrocket.com/getting-started-playwright-component-testing/attachment/img8-playwright-component-testing-svelte-execution/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png" data-orig-size="730,444" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Playwright-component-testing-Svelte-execution" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-132169" src="../Images/01e7e770d3268f24eefa62c193b0d270.png" alt="Result Of Executing Playwright Component Testing For Svelte Components Showing Six Passed Test Result And Instructions To Open Html Report" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/img8-Playwright-component-testing-Svelte-execution.png"/></noscript>
<p>就是这样！</p>
<p>在通过了对Svelte应用程序的这些最后的剧作家组件测试之后，您已经成功地使用了剧作家的组件测试特性来测试这个示例项目中的React、Vue和Svelte应用程序。</p>
<h2 id="final-thoughts-playwright-component-testing">关于剧作家组件测试的最后思考</h2>
<p>在本教程的开始，您将学习如何使用剧作家测试您的前端组件。</p>
<p>本教程解释了什么是剧作家组件测试特性，并带您体验了使用包含React、Vue和Svelte组件的monorepo项目进行组件测试的实践。</p>
<p>如前所述，重要的是要记住，剧作家的组件测试功能相对较新，仍然被认为是实验性的。它还不支持Angular，与其他已经存在多年的测试工具相比，你可能会发现有些断言对剧作家来说是不可用的。</p>
<p>如果您在尝试剧作家组件测试功能时遇到任何问题，<a href="https://github.com/microsoft/playwright/issues/new/choose" target="_blank" rel="noreferrer noopener">在GitHub知识库中提出适当的问题</a>或<a href="https://aka.ms/playwright-slack" target="_blank" rel="noreferrer noopener">在Slack上与剧作家社区聊天</a>。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>