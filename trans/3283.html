<html>
<head>
<title>How to use NFC tags in React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在React Native - LogRocket博客中使用NFC标签</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-nfc-tags-react-native/#0001-01-01">https://blog.logrocket.com/using-nfc-tags-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>近场通信(NFC)允许数据在彼此靠近的设备之间传输。NFC标签是嵌入了存储信息的微型芯片的贴纸或腕带，可以在十厘米内被NFC阅读器读取。</p>
<p>使用NFC标签，您可以轻松传输少量信息，如应用程序URL、加密的银行帐户等。NFC最大的优点是不需要配对或任何手动输入来建立连接。您只需轻轻一点就可以传输数据，我们稍后会演示这一点。在本文中，我们将介绍什么是NFC标签，以及如何在React Native中使用它们。我们开始吧！</p>


<p>我们可以在需要快速交换数字化数据的应用中使用NFC标签。NFC标签包含存储器和无线电芯片。由于磁感应，NFC标签没有自己的电源。相反，它们从读取它们的设备获得能量。</p>
<p>本质上，当NFC阅读器被带到NFC标签的10厘米范围内时，NFC标签被通电，传输存储在其微芯片内的任何数据。当阅读器验证信息时，信息交换完成。NFC读卡器一次只能连接一个NFC标签，最大限度地减少意外交易。</p>
<h2 id="how-do-nfc-tag-readers-work">NFC标签阅读器是如何工作的？</h2>
<p>之前，我们提到NFC标签读取器充当电源，从无源NFC标签读取信息。NFC标签读取器需要电源通过线圈将电流传递到NFC标签，从而在读取器周围产生磁场。</p>
<p>由于<a href="https://en.wikipedia.org/wiki/Faraday%27s_law_of_induction">法拉第感应定律</a>，将标签放在磁场范围内会导致两个线圈之间的感应耦合，这就是信息交换发生的时间。</p>

<p>现在我们已经了解了NFC标签和NFC标签读取器的基础知识，让我们学习如何编写React本机代码来读写NFC标签。首先，让我们使用下面的命令初始化一个新的React本地项目:</p>
<pre class="language-bash hljs">npx react-native init NFCTutorial
</pre>
<p>上面的命令将在您选择的位置安装一个新的React本机样板文件，这样您就可以快速开始编写代码。运行以下命令，使用pods安装iOS依赖项。<a href="https://cocoapods.org/"> CocoaPods </a>是Swift等iOS编程语言的依赖管理器:</p>
<pre class="language-bash hljs">cd ios &amp;&amp; pod install &amp;&amp; cd ..
</pre>
<p>然后，运行<code>npm start</code>启动<a href="https://facebook.github.io/metro/"> Metro bundler </a>和<code>npm ios</code>在iOS模拟器上运行项目。</p>
<p>在本教程中，我们将使用<a href="https://github.com/revtel/react-native-nfc-manager"> react-native-nfc-manager </a>。但是，在进入代码之前，我们需要配置Android和iOS平台来启用NFC。尽管我们将介绍Android和iOS平台的配置，但我们将只演示在iOS设备上读写NFC标签。</p>
<h2 id="nfc-configuration-android-platform">Android的NFC配置</h2>
<p>为了访问Android设备的NFC硬件并正确处理NFC意图，我们将在<code>AndroidManifest.xml</code>文件中声明这些项目:</p>
<p><code>uses-feature</code>元素确保应用程序仅在具有NFC硬件的设备上显示在Google Play中:</p>
<pre class="language-xml hljs">&lt;uses-feature android:name="android.hardware.nfc" android:required="true" /&gt;
</pre>
<p>NFC <code>uses-permission</code>元素允许访问NFC硬件:</p>
<pre class="language-xml hljs">&lt;uses-permission android:name="android.permission.NFC" /&gt;
</pre>
<h2 id="requesting-nfc-access-iphone">在iPhone上请求NFC访问</h2>
<p>首先，你需要注册<a href="https://idmsa.apple.com/IDMSWebAuth/signin?appIdKey=891bd3417a7776362562d2197f89480a8547b108fd934911bcbea0110d07f757&amp;path=%2Faccount%2F&amp;rv=1">苹果开发者计划</a>；您还需要为应用程序创建一个应用程序身份，以便可以在iOS设备上测试NFC项目。</p>
<ul>
<li>在Mac上的Xcode中，导航到<strong> Xcode </strong> → <strong>偏好设置</strong> → <strong>账户</strong></li>
<li>点击左下角的<strong> + </strong>图标，添加您的Apple ID</li>
<li>选择您的帐户。在主账户窗口右侧<code>Team</code>下显示为<code>(Personal Team)</code>，<code>Role</code>显示为<code>User</code></li>
</ul>
<p><img data-attachment-id="128760" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/xcode-account-registration-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png" data-orig-size="730,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-account-registration-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png" decoding="async" class="aligncenter wp-image-128760 size-full jetpack-lazy-image" src="../Images/74a97aec342a69b3d8f07e8299cdad16.png" alt="Xcode Account Registration UI" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui-300x200.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128760" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/xcode-account-registration-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png" data-orig-size="730,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-account-registration-ui" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png" decoding="async" loading="lazy" class="aligncenter wp-image-128760 size-full" src="../Images/74a97aec342a69b3d8f07e8299cdad16.png" alt="Xcode Account Registration UI" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui-300x200.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-account-registration-ui.png"/></noscript>
<ul>
<li>从菜单栏中点击<strong>窗口</strong> → <strong>设备和模拟器</strong> <em> → </em> <strong>设备</strong></li>
<li>用lightning线缆连接您的iPhone，并通过右侧的<strong>活动方案</strong>下拉菜单选择它作为构建目的地</li>
<li>接下来，打开我们之前在Xcode上安装的项目</li>
<li>在<strong> General </strong>选项卡下，将捆绑包标识符更改为唯一标识符</li>
</ul>
<p>在<code>Signing and capabilities</code>选项卡中，选择您用于项目的合适团队。然后，在<code>Signing and capabilities</code>选项卡下，选择<strong>功能</strong>或点击<strong> + </strong>符号并搜索<code>Near field communication tag</code>以在项目上启用NFC功能:</p>
<p><img data-attachment-id="128762" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/enable-nfc-capabilities-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg" data-orig-size="730,741" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="enable-nfc-capabilities-xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode-296x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg" decoding="async" class="aligncenter wp-image-128762 size-full jetpack-lazy-image" src="../Images/90b915dc2df9c343eb66c79f12f850c2.png" alt="Enable NFC Capabilities Xcode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode-296x300.jpeg 296w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128762" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/enable-nfc-capabilities-xcode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg" data-orig-size="730,741" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="enable-nfc-capabilities-xcode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode-296x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-128762 size-full" src="../Images/90b915dc2df9c343eb66c79f12f850c2.png" alt="Enable NFC Capabilities Xcode" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode-296x300.jpeg 296w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/enable-nfc-capabilities-xcode.jpeg"/></noscript>
<p>请注意Xcode如何创建了一个名为<code>entitlements</code>的文件夹，其中包含应用程序功能:</p>
<p><img data-attachment-id="128764" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/xcode-entitlements-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png" data-orig-size="520,156" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-entitlements-folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder-300x90.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png" decoding="async" class="aligncenter wp-image-128764 size-full jetpack-lazy-image" src="../Images/b0a69be9cf1f57253f344bc873abb232.png" alt="Xcode Entitlements Folder" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png 520w, https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder-300x90.png 300w" data-lazy-sizes="(max-width: 520px) 100vw, 520px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128764" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/xcode-entitlements-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png" data-orig-size="520,156" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xcode-entitlements-folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder-300x90.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png" decoding="async" loading="lazy" class="aligncenter wp-image-128764 size-full" src="../Images/b0a69be9cf1f57253f344bc873abb232.png" alt="Xcode Entitlements Folder" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png 520w, https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder-300x90.png 300w" sizes="(max-width: 520px) 100vw, 520px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/xcode-entitlements-folder.png"/></noscript>
<p>最后，让我们编辑<code>info.plist</code>文件，添加下面几行描述项目的代码:</p>
<pre class="language-bash hljs">&lt;key&gt;NFCReaderUsageDescription&lt;/key&gt;
&lt;string&gt;Reading NFC with react native&lt;/string&gt;
</pre>
<p>这就是所有需要的配置！继续操作，点击Xcode上的<strong> run </strong>按钮，这样我们就可以在连接的iPhone设备上查看项目了。现在，让我们继续编写代码吧！</p>
<h2 id="how-read-nfc-tag-react-native">如何使用React Native读取NFC标签</h2>
<p>首先，让我们安装react-native-nfc-manager库:</p>
<pre class="language-bash hljs">npm i --save react-native-nfc-manager
</pre>
<p>记得再次运行<code>cd ios &amp;&amp; pod install</code>。</p>
<h3 id="check-current-device-nfc-support">检查当前设备是否支持NFC</h3>
<p>我们需要导入react-native-nfc-manager库，然后我们将使用<code>isSupported()</code>方法来确定设备是否支持nfc。在下面的代码中，我们创建了一个状态，当我们发现设备是否支持NFC时，该状态将被更新:</p>
<pre class="language-javascript hljs">import NfcManager, { NfcEvents } from 'react-native-nfc-manager';

 const [hasNfc, setHasNFC ] = useState(null);
</pre>
<p>当组件挂载时，我们将在一个<code>useEffect</code>钩子中更新状态。一旦我们确认设备支持NFC，我们将继续使用<code>start()</code>方法初始化NFC模块:</p>
<pre class="language-javascript hljs">useEffect(() =&gt; {
    const checkIsSupported = async () =&gt; {
      const deviceIsSupported = await NfcManager.isSupported()

      setHasNFC(deviceIsSupported)
      if (deviceIsSupported) {
        await NfcManager.start()
      }
    }

    checkIsSupported()
  }, [])
</pre>
<p>现在，让我们编写将读取NFC标签的代码:</p>
<pre class="language-javascript hljs">useEffect(() =&gt; {
    NfcManager.setEventListener(NfcEvents.DiscoverTag, (tag) =&gt; {
      console.log('tag found')
    })

    return () =&gt; {
      NfcManager.setEventListener(NfcEvents.DiscoverTag, null);
    }
  }, [])


  const readTag = async () =&gt; {
    await NfcManager.registerTagEvent();
  }
</pre>
<p>在上面的<code>useEffect()</code>钩子中，事件监听器正在监听一个名为<code>onDiscoverTag</code>的事件。您还可以使用<code>setAlertMessages()</code>来设置用户界面消息的形式，供用户查看。我们用<code>registerTagEvent()</code>开始检测NFC标签的过程，用<code>unregisterTagEvent()</code>取消它。</p>
<p>如果设备支持NFC，我们将有条件地呈现一个按钮，如果不支持，我们将呈现一条消息。下面的代码是点击时调用<code>readTag()</code>的按钮的代码:</p>
<pre class="language-javascript hljs">if (hasNfc === null) return null;

  if (!hasNfc) {
    return (
      &lt;View style={styles.sectionContainer}&gt;
        &lt;Text&gt;NFC not supported&lt;/Text&gt;
      &lt;/View&gt;
    )
  }

  return (
    &lt;SafeAreaView style={styles.sectionContainer}&gt;
      &lt;Text&gt;Hello world&lt;/Text&gt;
      &lt;TouchableOpacity style={[styles.btn, styles.btnScan]} onPress={readTag}&gt;
        &lt;Text style={{ color: "white" }}&gt;Scan Tag&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
      &lt;TouchableOpacity style={[styles.btn, styles.btnCancel]} onPress={cancelReadTag}&gt;
        &lt;Text style={{ color: "white" }}&gt;Cancel Scan&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
    &lt;/SafeAreaView&gt;
  );
</pre>
<p>下图显示了不支持NFC扫描的模拟器上的项目:</p>
<p><img data-attachment-id="128767" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/project-simulator-nfc-disabled/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg" data-orig-size="614,1240" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="project-simulator-nfc-disabled" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-149x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-507x1024.jpeg" decoding="async" class="aligncenter wp-image-128767 size-full jetpack-lazy-image" src="../Images/8ec41650b13e0b2ede992daab0d7b214.png" alt="Project Simulator NFC Disabled" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg 614w, https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-149x300.jpeg 149w, https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-507x1024.jpeg 507w" data-lazy-sizes="(max-width: 614px) 100vw, 614px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128767" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/project-simulator-nfc-disabled/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg" data-orig-size="614,1240" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="project-simulator-nfc-disabled" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-149x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-507x1024.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-128767 size-full" src="../Images/8ec41650b13e0b2ede992daab0d7b214.png" alt="Project Simulator NFC Disabled" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg 614w, https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-149x300.jpeg 149w, https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled-507x1024.jpeg 507w" sizes="(max-width: 614px) 100vw, 614px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/project-simulator-nfc-disabled.jpeg"/></noscript>
<p>下面的屏幕截图显示了项目在物理设备上的样子:</p>
<p><img data-attachment-id="128771" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/hello-world-project-device/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="hello-world-project-device" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-473x1024.jpeg" decoding="async" class="aligncenter wp-image-128771 size-full jetpack-lazy-image" src="../Images/eee5bff56dd92d9ac36bccc45a878a5f.png" alt="Hello World Project Device" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-710x1536.jpeg 710w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128771" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/hello-world-project-device/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="hello-world-project-device" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-473x1024.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-128771 size-full" src="../Images/eee5bff56dd92d9ac36bccc45a878a5f.png" alt="Hello World Project Device" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device-710x1536.jpeg 710w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/hello-world-project-device.jpeg"/></noscript>
<p>当您点击<strong>扫描标签</strong>按钮时，如下图所示，设备将准备读取NFC标签:</p>
<p><img data-attachment-id="128773" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/scan-tag-read-scan-nfc-tag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="scan-tag-read-scan-nfc-tag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-473x1024.jpeg" decoding="async" class="aligncenter wp-image-128773 size-full jetpack-lazy-image" src="../Images/db63f0822d07e1ad5ab6c768a2f9d9ac.png" alt="Scan Tag Read Scan NFC Tag" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-710x1536.jpeg 710w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128773" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/scan-tag-read-scan-nfc-tag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="scan-tag-read-scan-nfc-tag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-473x1024.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-128773 size-full" src="../Images/db63f0822d07e1ad5ab6c768a2f9d9ac.png" alt="Scan Tag Read Scan NFC Tag" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag-710x1536.jpeg 710w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/scan-tag-read-scan-nfc-tag.jpeg"/></noscript>
<p>如何编写NFC标签</p>
<h2 id="how-write-nfc-tag">到目前为止，我们已经建立了如何检查设备是否支持NFC标签，以及如何读取NFC标签来访问其中存储的信息。现在，我们将学习如何将信息编码到NFC标签中，以便当读取器读取它时，他们将访问我们写入标签的信息。例如，我们将对<a href="https://blog.logrocket.com/">日志URL </a>进行编码:</h2>
<p>在上面的代码中，我们通过<code>NfcManager.requestTechnology</code>请求了特定的NFC技术。在我们的例子中，它是<a href="https://developer.android.com/reference/android/nfc/tech/Ndef"> Ndef技术</a>，一种数据格式。然后，我们使用<code>Ndef.encodeMessage</code>对我们想要编写的URL进行编码，并使用<code>writeNdefMessage(bytes)</code>来编写它。</p>
<pre class="language-javascript hljs">const writeNFC = async() =&gt; {
    let result = false;

    try {
      await NfcManager.requestTechnology(NfcTech.Ndef);

      const bytes = Ndef.encodeMessage([Ndef.uriRecord('https://blog.logrocket.com/')]);

      if (bytes) {
        await NfcManager.ndefHandler
          .writeNdefMessage(bytes);
        result = true;
      }
    } catch (ex) {
      console.warn(ex);
    } finally {
      NfcManager.cancelTechnologyRequest();
    }

    return result;
  }
</pre>
<p>现在，我们将创建一个按钮，当用户想要将LogRocket博客URL写入NFC标签时，该按钮将调用此函数:</p>
<p>因此，当单击按钮时，NFC抽屉准备将LogRocket URL编码为NFC标签:</p>
<pre class="language-javascript hljs">&lt;TouchableOpacity style={[styles.btn, styles.btnWrite]} onPress={writeNFC}&gt;
        &lt;Text style={{ color: "white" }}&gt;Write Tag&lt;/Text&gt;
 &lt;/TouchableOpacity&gt;
</pre>
<p><img data-attachment-id="128778" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/nfc-drawer-encode-url/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="nfc-drawer-encode-url" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-473x1024.jpeg" decoding="async" class="aligncenter wp-image-128778 size-full jetpack-lazy-image" src="../Images/5b3e8d804793913e66ff6cfb6364b7f4.png" alt="NFC Drawer Encode URL" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-710x1536.jpeg 710w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg"/></p>
<p>结论</p><noscript><img data-lazy-fallback="1" data-attachment-id="128778" data-permalink="https://blog.logrocket.com/using-nfc-tags-react-native/attachment/nfc-drawer-encode-url/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg" data-orig-size="730,1580" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="nfc-drawer-encode-url" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-139x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-473x1024.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-128778 size-full" src="../Images/5b3e8d804793913e66ff6cfb6364b7f4.png" alt="NFC Drawer Encode URL" srcset="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-139x300.jpeg 139w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-473x1024.jpeg 473w, https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url-710x1536.jpeg 710w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/08/nfc-drawer-encode-url.jpeg"/></noscript>
<h2 id="conclusion">NFC技术用于我们日常生活的许多方面，包括非接触式支付、音乐会门票兑换和场地位置登记，仅举几例。</h2>
<p>在本文中，我们探讨了如何读写NFC标签来编码或访问其中的信息。我们使用React Native和iOS构建了一个示例应用程序来轻松传输URL，但是，您可以根据本教程中的信息在自己的项目中实现NFC标签。我希望你喜欢这本书，如果你有任何问题，一定要留下评论。编码快乐！</p>
<p><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p><p>Start proactively monitoring your React Native apps — <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">try LogRocket for free</a>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>