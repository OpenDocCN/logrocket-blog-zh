<html>
<head>
<title>Troubleshooting nested pages in Nuxt.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Nuxt.js - LogRocket 博客中嵌套页面的故障排除</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/troubleshooting-nested-pages-nuxt/#0001-01-01">https://blog.logrocket.com/troubleshooting-nested-pages-nuxt/#0001-01-01</a></blockquote><div><article class="article-post">
<p>简单地说，嵌套页面是页面中的页面。当我们需要在页面之外添加单独的分支或部分时，我们使用嵌套页面，展示网页的组织并突出它们之间的关系。</p>
<p>比如在 URL <code><a href="https://blog.logrocket.com/author/idorenyinudoh/" rel="nofollow">https://blog.logrocket.com/author/idorenyinudoh/</a></code>中，<code>idorenyinudoh</code>是<code>author</code>中的嵌套页面，<code>author</code>是<code>blog.logrocket.com</code>中的嵌套页面。<code>idorenyinudoh</code>是<code>author</code>版块的作者。</p>
<p>js 以非常直观的方式实现了嵌套页面。Nuxt.js 应用程序中的<code>pages</code>目录包含该应用程序的路线。Nuxt.js 会自动读取<code>pages</code>目录下的<code>.vue</code>、<code>.js</code>或<code>.ts</code>文件，并设置路由器配置。</p>
<p><code>pages</code>目录中的其他目录也为其各自目录名的页面内的嵌套页面存储文件，遵循以下结构:</p>
<pre>pages directory
  directory #1
    page #1
    page #2
directory #2
  filenames (nested pages)
</pre>
<p>尽管这种结构很有用，但是在向 Nuxt.js 应用程序添加嵌套页面时，还是会出现一些常见的问题。在本文中，我们将探索在 Nuxt.js 中构建嵌套页面，用简单的解决方案解决其中的一些问题。我们开始吧！</p>
<h2>创建根级页面</h2>
<p>在创建嵌套页面之前，我们首先要创建一个根级页面，它是包含其他嵌套页面的父页面。在前面的例子中，<code>blog.logrocket.com</code>是根级页面。</p>
<p>要创建根级页面，在<code>pages</code>目录的根目录下创建一个<code>.vue</code>文件，并随意命名。在下面的结构中，<code>author.vue</code>的内容呈现在<code>/author</code>页面上，<code>index.vue</code>的内容呈现在<code>homepage (/)</code>页面上。注意<code>index.vue</code>始终用于主页:</p>
<pre class="language-nuxt hljs">pages/
  author.vue
  index.vue
</pre>
<h2>嵌套页面</h2>
<p>要创建嵌套页面，我们首先需要在<code>pages</code>目录中创建一个新目录。我们将根据我们想要存储嵌套页面的页面来命名它。例如，如果我们想为<code>/author/idorenyinudoh</code>创建一个页面，我们将创建一个包含<code>idorenyinudoh.vue</code>文件的<code>author</code>目录:</p>
<pre class="language-nuxt hljs">pages/
  author/
    idorenyinudoh.vue
  author.vue
  index.vue
</pre>
<p>因此，当我们导航到<code>/author/idorenyinudoh</code>时，<code>idorenyinudoh.vue</code>的内容就会加载到浏览器上。</p>
<p>对于要在<code>/author/idorenyinudoh</code>上显示的<code>idorenyinudoh.vue</code>的内容，<code>author.vue</code>中必须有一个<code>&lt;NuxtChild&gt;</code>元素，并且<code>/author/idorenyinudoh</code>页面要链接到<code>&lt;NuxtLink&gt;</code>。</p>
<h2>深度嵌套的页面</h2>
<p>深度嵌套的页面实际上只是嵌套页面中的页面。如果<code>a/b/c</code>是一个页面，<code>a</code>将是根级页面，<code>b</code>是嵌套页面，<code>c</code>是深层嵌套页面。</p>
<p>在 Nuxt.js 应用程序中实现深度嵌套页面类似于创建嵌套页面。让我们用这个例子的一个修改版本来解释这一点。假设我们想要创建一个名为<code>/author/idorenyinudoh/this-article</code>的页面。</p>
<p>将<code>idorenyinudoh.vue</code>的内容移动到一个名为<code>idorenyinudoh</code>目录下的<code>index.vue</code>文件中。在<code>idorenyinudoh</code>中，创建一个名为<code>this-article.vue</code>的文件。在该文件中包含以下内容:</p>
<pre class="language-nuxt hljs">pages
  author
    idorenyinudoh
      this-article.vue
      index.vue
    index.vue
  index.vue
</pre>
<p>既然我们已经熟悉了 Nuxt.js 中的嵌套页面、根级页面和深度嵌套页面，那么让我们回顾一下开发人员遇到的一些常见问题。</p>
<h2>Nuxt.js 嵌套页面没有呈现</h2>
<p>有时，尽管我们将正确的文件放在各自的目录中，它们可能不会显示。通常，当 Nuxt.js 不知道在哪里呈现嵌套页面的内容时，就会出现问题。</p>
<p>在我们创建了必要的文件和目录之后，我们需要为嵌套页面的内容包含一个<code>&lt;NuxtChild&gt;</code>组件。我们还必须确保嵌套页面与一个<code>&lt;NuxtLink&gt;</code>组件相链接。让我们通过一个例子更深入地探讨这个问题。</p>
<p>假设我们使用以下目录结构:</p>
<pre class="language-nuxt hljs">pages
  author
    idorenyinudoh.vue
  author.vue
  index.vue
</pre>
<p>我们的<code>author.vue</code>文件如下:</p>
<pre class="language-nuxt hljs">&lt;template&gt;
  &lt;h1&gt;Authors&lt;/h1&gt;
  &lt;p&gt;Our authors mean a lot to us. Without them, we wouldn't be where we are today. If you check them out, we will appreciate that gesture. Thank you very much.&lt;/p&gt;
  &lt;NuxtLink to="/author/idorenyinudoh"&gt;Check out Idorenyin Udoh&lt;/NuxtLink&gt;
  &lt;NuxtChild /&gt;
&lt;/template&gt;
</pre>
<p>嵌套页面<code><a href="https://blog.logrocket.com/author/idorenyinudoh" rel="nofollow">https://blog.logrocket.com/author/idorenyinudoh</a></code>的内容将在<code>&lt;NuxtChild&gt;</code>组件中呈现。<code>&lt;NuxtLink&gt;</code>组件触发它的渲染。</p>
<p>然而，使用这种方法，<code><a href="https://blog.logrocket.com/author" rel="nofollow">https://blog.logrocket.com/author</a></code>的内容将总是出现在嵌套页面<code><a href="https://blog.logrocket.com/author/idorenyinudoh" rel="nofollow">https://blog.logrocket.com/author/idorenyinudoh</a></code>中。让我们看看如何解决这个问题。</p>
<h2>父页面的内容出现在嵌套页面中</h2>
<p>父页面的内容有时会无意中出现在嵌套页面中。<code>&lt;NuxtChild&gt;</code>组件出现在父页面中，但是父页面上的其他内容也是如此。</p>
<p>为了解决这个问题，我们希望避免在父页面中呈现嵌套页面的内容。然而，如果我们省略了<code>&lt;NuxtChild&gt;</code>组件，嵌套页面的内容将在任何地方都不可见。</p>
<p>让我们尝试以下步骤:</p>
<ol>
<li>在嵌套页面的目录中创建一个<code>index.vue</code>文件</li>
<li>将父<code>.vue</code>文件的内容移动到新创建的<code>index.vue</code>文件中</li>
<li>删除父文件<code>.vue</code></li>
</ol>
<p>之前我们提到过<code>index.vue</code>总是被指定为首页。<code>author</code>目录下的<code>index.vue</code>文件将用于<code>author</code>页面的首页，<code><a href="https://blog.logrocket.com/author" rel="nofollow">https://blog.logrocket.com/author</a></code>。</p>
<p>在我们的示例中实现这种方法，我们将得到以下结果:</p>
<pre class="language-nuxt hljs">pages
  author
    index.vue
    idorenyinudoh.vue
  index.vue
</pre>
<p>现在，当我们导航到<code>/author/idorenyinudoh</code>时，<code>idorenyinudoh.vue</code>将被加载。在<code>/author</code>上可以找到的<code>author/index.vue</code>的内容将不会出现。我们也不再需要在任何地方包含<code>&lt;NuxtChild&gt;</code>组件。</p>
<h2>深度嵌套的页面没有呈现</h2>
<p>当创建一个深度嵌套的页面时，我们可能会遇到与之前相同的问题，即嵌套页面无法呈现。在实现了上面的目录结构之后，如果你没有看到你期望看到的页面，交叉检查必要的<code>&lt;NuxtLink&gt;</code>和<code>&lt;NuxtChild&gt;</code>组件是否已经就位。</p>
<h2>结论</h2>
<p>在本文中，我们讨论了如何在 Nuxt.js 中创建、配置和排除嵌套页面的故障。如果您遇到任何与 Nuxt.js 应用程序中的页面相关的意外结果，首先，您应该确认必要的<code>&lt;NuxtLink&gt;</code>和<code>&lt;NuxtChild&gt;</code>组件存在。</p>
<p>我们讨论的概念也适用于 Nuxt.js 中的动态页面，唯一的区别是目录或<code>.vue</code>文件名前的下划线。我希望这个教程对你有用。</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>