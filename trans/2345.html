<html>
<head>
<title>Creating a carousel with React Slick - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用 React Slick - LogRocket 博客创建一个旋转木马</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/create-carousel-react-slick/#0001-01-01">https://blog.logrocket.com/create-carousel-react-slick/#0001-01-01</a></blockquote><div><article class="article-post">
<p>经常需要将传送带集成到我们的 web 应用程序中。旋转木马是在单个空间中显示多个项目的 UI 组件。</p>
<p>它们是网页上最具美感的组件之一，但通常很难从头开始创建，尤其是在 React 这样的框架中。</p>
<p>React Slick 是一个创建旋转木马的伟大的库。它提供了可访问性和响应性，以及其他功能，来帮助您创建高性能的旋转木马。在本文中，您将学习如何使用 React Slick 创建一个简单的 carousel 组件，并探索它的一些主要特性。</p>
<h2>先决条件</h2>
<p>要跟上，您应该对有一个基本的了解</p>
<ul>
<li>反应</li>
<li>ES6(扩展运算符，可选链接)</li>
</ul>
<h2>设置项目</h2>
<p>在本教程中，我们将创建一个显示酒店可用房间的旋转视图。</p>
<p>打开您的终端并运行以下命令来安装 React:</p>
<pre class="language-bash hljs">npx create-react-app react-carousel
</pre>
<p>接下来进入 react-carousel 目录:</p>
<pre class="language-bash hljs">cd react-carousel
</pre>
<p>并安装以下依赖项:</p>
<pre class="language-bash hljs">npm install react-slick slick-carousel react-icons
</pre>
<p>React Slick 是为我们提供 carousel 组件的主库。slick-carousel 为这个组件提供了样式，而 react-icons 将用于导入图标。</p>
<p>该应用程序的所有样式都位于<a href="https://github.com/Chinwike1/react-slick-carousel" target="_blank" rel="noopener">源代码</a>中的<code>src/index.css</code>中。查看<a href="https://chinwike1.github.io/react-slick-carousel/" target="_blank" rel="noopener">直播项目</a>。</p>
<h2>创建转盘组件</h2>
<p>从根目录创建路径<code>components/Carousel.js</code>并将该组件导入<code>App.js</code>:</p>
<pre>//App.js
import Carousel from "../components/Carousel";

export default function App() {
  return &lt;Carousel /&gt;;
}
</pre>
<p>通常，轮播的每个项目中显示的内容都是相似的。因此，我们可以将这些内容存储在一个数组中，如下所示:</p>
<pre>// Carousel.js
import 'slick-carousel/slick/slick.css'
import 'slick-carousel/slick/slick-theme.css'

export default function Carousel() {
  const hotelCards = [
    {
      imageSrc:
        'https://images.unsplash.com/photo-1559508551-44bff1de756b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=387&amp;q=80',
      title: 'Studio Room',
      description: 'Lorem ipsum dolor sit amet, consectur dolori',
      pricingText: 'USD 50/Day',
      features: ['Free Wifi', 'Free breakfast'],
    },
    {
      imageSrc:
        'https://images.unsplash.com/photo-1616940844649-535215ae4eb1?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=387&amp;q=80',
      title: 'Deluxe Room',
      description: 'Lorem ipsum dolor sit amet, consectur dolori',
      pricingText: 'USD 80/Day',
      features: ['Free Wifi', 'Free breakfast'],
    },
    {
      imageSrc:
        'https://images.unsplash.com/photo-1599619351208-3e6c839d6828?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=872&amp;q=80',
      title: 'King Deluxe Room',
      description: 'Lorem ipsum dolor sit amet, consectur dolori',
      pricingText: 'USD 150/Day',
      features: ['Free Wifi', 'Free breakfast', 'Discounted Meals'],
    },
    {
      imageSrc:
        'https://images.unsplash.com/photo-1461092746677-7b4afb1178f6?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=774&amp;q=80',
      title: 'Royal Suite',
      description: 'Lorem ipsum dolor sit amet, consectur dolori',
      pricingText: 'USD 299/Day',
      features: [
        'Free Wifi',
        'Free breakfast',
        'Discounted Meals',
        "MacBook for work use (hotel's property)",
      ],
    },
  ]

  return (
    &lt;div className='content'&gt;&lt;/div&gt;
  )
}
</pre>
<p>注意，我还从组件顶部的 slick-carousel 导入了两个样式表。</p>
<h2>使用<code>Slider</code>和配置<code>Slider</code>设置</h2>
<p>有了我们需要的内容，让我们开始绘制 Carousel 组件的结构。React Slick 有一个负责显示传送带的<code>Slider</code>组件:</p>
<pre>// Carousel.js
import Slider from 'react-slick'

import 'slick-carousel/slick/slick.css'
import 'slick-carousel/slick/slick-theme.css'

export default function Carousel() {

  const sliderSettings = {
    slidesToShow: 3,
    slidesToScroll: 1,
    infinite: false,
  }

  const hotelCards = [
    // ...
  ]

  return (
    &lt;div className='content'&gt;
      &lt;Slider {...sliderSettings}&gt;
        {hotelCards.map((card, index) =&gt; (
          &lt;div key={index}&gt;
            &lt;h2&gt;{card.title}&lt;/h2&gt;
            &lt;img alt={card.title} src={card.imageSrc} width="100" height="100" /&gt;
            &lt;p&gt;{card.description}&lt;/p&gt;
            &lt;ul&gt;
              {card.features.map((feature, index) =&gt; (
                &lt;li key={index}&gt;{feature}&lt;/li&gt;
              ))}
            &lt;/ul&gt;
            &lt;button className='btn'&gt;Buy Now&lt;/button&gt;
          &lt;/div&gt;
        ))}
      &lt;/Slider&gt;
    &lt;/div&gt;
  )
}
</pre>
<p>在上面的代码块中，我们创建了一个<code>sliderSettings</code>变量来存储轮播设置。然后我们将这个对象扩展到<code>Slider</code>组件中。</p>
<p><code>sliderSettings</code>到目前为止有三种配置:</p>
<ul>
<li><code>slidesToShow</code> —数字，用于确定要保留在视图中的幻灯片数量</li>
<li><code>slidesToScroll</code> —数字，用于确定浏览转盘时要移动的载玻片数量</li>
<li><code>infinite</code> —用于确定到达最后一个项目时转盘是否继续循环的布尔值</li>
</ul>
<p>此时的最终结果应该是这样的:</p>
<p><img data-attachment-id="76049" data-permalink="https://blog.logrocket.com/create-carousel-react-slick/react-slick-carousel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg" data-orig-size="730,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Slick carousel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel-300x136.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg" decoding="async" class="size-full wp-image-76049 aligncenter jetpack-lazy-image" src="../Images/6e4696675da97b71656fbfb74920d29f.png" alt="React Slick Carousel" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel-300x136.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="76049" data-permalink="https://blog.logrocket.com/create-carousel-react-slick/react-slick-carousel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg" data-orig-size="730,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Slick carousel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel-300x136.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg" decoding="async" loading="lazy" class="size-full wp-image-76049 aligncenter" src="../Images/6e4696675da97b71656fbfb74920d29f.png" alt="React Slick Carousel" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel-300x136.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-carousel.jpeg"/></noscript>
<p><em>注意:React Slick 有更多的旋转木马配置，我们稍后会介绍。</em></p>
<h2>自定义<strong>下一个</strong>和<strong>上一个</strong>按钮</h2>
<p>React Slick 给出的默认控制按钮可以完成这项工作，但是可能没有通过 UI 测试。</p>
<p>因此，让我们创建自己的自定义按钮，并使用 React Slick 的 API 来使它们发挥作用。我们将从移除按钮开始:</p>
<pre>// Carousel.js
import {useState} from 'react'
import Slider from 'react-slick'
import {FaChevronLeft, FaChevronRight} from 'react-icons'

import 'slick-carousel/slick/slick.css'
import 'slick-carousel/slick/slick-theme.css'

export default function Carousel() {
  const [sliderRef, setSliderRef] = useState(null)

  const sliderSettings = {
    // removes default buttons
    arrows: false,
    slidesToShow: 3,
    slidesToScroll: 1,
    infinite: false,
  }

  const hotelCards = [
    // ...
  ]

  return (
    &lt;div className='content'&gt;
      &lt;div className='controls'&gt;
        &lt;button&gt;
          &lt;FaChevronLeft /&gt;
        &lt;/button&gt;
        &lt;button&gt;
          &lt;FaChevronRight /&gt;
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;Slider ref={setSliderRef} {...sliderSettings}&gt;
        {pricingCards.map((card, index) =&gt; (
          &lt;div key={index}&gt;
            &lt;h2&gt;{card.title}&lt;/h2&gt;
            &lt;p&gt;{card.description}&lt;/p&gt;
            &lt;ul&gt;
              {card.features.map((feature, index) =&gt; (
                &lt;li key={index}&gt;{feature}&lt;/li&gt;
              ))}
            &lt;/ul&gt;
            &lt;button&gt;Buy Now&lt;/button&gt;
          &lt;/div&gt;
        ))}
      &lt;/Slider&gt;
    &lt;/div&gt;
  )
}
</pre>
<p>为了访问 React Slick 的 API，我们必须通过将<code>Slider</code>的 ref 值链接到 state——其初始值设置为<code>null</code>,将<code>Slider</code>的实例存储在变量(state)中。当组件呈现时，我们可以通过这个状态访问 API。</p>
<p>我们想从 API 中使用的两个函数是<code>slickPrev</code>和<code>slickNext</code>，它们分别按照<code>slidesToScroll</code>中指定的数量来回移动转盘。将这个应用到按钮上，我们的返回函数应该是这样的:</p>
<pre>return (
    &lt;div className='content'&gt;
      &lt;button onCLick={sliderRef?.slickPrev}&gt;
        &lt;FaChevronLeft /&gt;
      &lt;/button&gt;
      &lt;button onCLick={sliderRef?.slickNext}&gt;
        &lt;FaChevronRight /&gt;
      &lt;/button&gt;
      &lt;Slider ref={setSliderRef} {...sliderSettings}&gt;
        {pricingCards.map((card, index) =&gt; (
          &lt;div key={index}&gt;
            &lt;h2&gt;{card.title}&lt;/h2&gt;
            &lt;p&gt;{card.description}&lt;/p&gt;
            &lt;ul&gt;
              {card.features.map((feature, index) =&gt; (
                &lt;li key={index}&gt;{feature}&lt;/li&gt;
              ))}
            &lt;/ul&gt;
            &lt;button&gt;Buy Now&lt;/button&gt;
          &lt;/div&gt;
        ))}
      &lt;/Slider&gt;
    &lt;/div&gt;
  )
</pre>
<p><img data-attachment-id="76053" data-permalink="https://blog.logrocket.com/create-carousel-react-slick/react-slick-demo-carousel-gif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Slick carousel demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif-300x135.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif" decoding="async" class="size-full wp-image-76053 aligncenter jetpack-lazy-image" src="../Images/ef2ecdf6d6130c6dc11fcf6dec284ecc.png" alt="React Slick Carousel Demo" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="76053" data-permalink="https://blog.logrocket.com/create-carousel-react-slick/react-slick-demo-carousel-gif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Slick carousel demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif-300x135.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif" decoding="async" loading="lazy" class="size-full wp-image-76053 aligncenter" src="../Images/ef2ecdf6d6130c6dc11fcf6dec284ecc.png" alt="React Slick Carousel Demo" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/react-slick-demo-carousel-gif.gif"/></noscript>
<h2>响应设置</h2>
<p>React Slick 还让我们通过<code>responsive</code>属性控制响应。</p>
<p><code>responsive</code>属性是一个有两个值的数组:<code>breakpoint</code>和<code>settings</code>。</p>
<ul>
<li><code>breakpoint</code> —我们希望后续设置生效的数字(以像素为单位)</li>
<li><code>settings</code> —包含到达断点时要应用的转盘设置的对象</li>
</ul>
<p>将以下配置添加到<code>sliderSettings</code>:</p>
<pre>const sliderSettings = {
  // ...
  responsive: [
    {
      breakpoint: 1024,
      settings: {
       slidesToShow: 2,
      }
    },
    {
      breakpoint: 600,
      settings: {
       slidesToShow: 1,
      }
     }
  ]
};
</pre>
<p>这样，在不损坏 UX 的情况下，在多个设备上控制我们的旋转木马的视图变得更加容易。</p>
<p>除了响应性，React Slick 还将其<code>accessibility</code>选项默认设置为<code>true</code>。这允许箭头键和在转盘上拖动鼠标的手势来移动转盘。</p>
<p>下面是一些你可以尝试的其他设置。在他们的<a href="https://react-slick.neostack.com/docs/example/simple-slider/" target="_blank" rel="noopener">页面</a>上查看所有示例:</p>
<pre>const settings = { 
    fade: true ,
    speed: 500, // ms
    autoplay: false,
    initialSlide: 2,
    lazyLoad: true,
    autoplaySpeed: 3000,
}
</pre>
<h2>结论</h2>
<p>React Slick 是一个库，其中充满了可以轻松融入您的 web 项目的好选项。凭借在<a href="https://www.npmjs.com/package/react-slick" target="_blank" rel="noopener"> npm </a>上超过 80 万的下载量，React Slick 可能真的是你需要的最后一个 React carousel。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产 React 应用</h2><p>调试 React 应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪 Redux 状态、自动显示 JavaScript 错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的 web 和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket 不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试 React 应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>