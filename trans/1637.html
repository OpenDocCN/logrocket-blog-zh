<html>
<head>
<title>Using CDNs to optimize website performance - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用 CDNs 优化网站性能</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-cdns-to-optimize-website-performance/#0001-01-01">https://blog.logrocket.com/using-cdns-to-optimize-website-performance/#0001-01-01</a></blockquote><div><article class="article-post">
<p>最近，我们看到网站部署出现了新的形式，从传统的托管方法转向云服务器。无论你选择什么样的网站，都需要不断的优化。实现这一点的一种方法是通过内容交付网络(cdn)。</p>
<h2 id="whatarecdns">cdn 是什么？</h2>
<p>cdn 是一组地理上分布的服务器，配置为高效地协同工作，以提供互联网内容的快速交付。根据<a href="https://trends.builtwith.com/cdn/traffic/Top-10k"> Builtwith </a>的报道，据估计，CDN 服务于目前在移动设备上浏览的 69%的网站。</p>
<p>cdn 有三种类型:私有、公共和混合。</p>
<ul>
<li><strong>公共 CDN </strong>:公共 CDN 涉及使用 CDN 提供商的服务器基础设施来满足您的内容交付需求。随着本文的深入，我们将更多地讨论 CDN 提供商</li>
<li>私人 CDN:私人 CDN 需要在你自己的服务器上开发和托管你的网站。好处包括从控制 CDN 位置到增强安全性和隐私性。挑战包括拥有所需的技术技能和获得足够的 IT 基础设施</li>
<li>混合 CDN:混合 CDN 融合了在私有 CDN 上托管一些站点，以及利用公共 CDN 提供商</li>
</ul>
<p>如果您熟悉网站部署，您可能会想，“这与典型的 web 主机有什么不同？”让我们来看看。</p>
<h2 id="cdnsvstraditionalwebhosting">CDNs 与传统虚拟主机</h2>
<p>传统的虚拟主机服务在提供的服务器上为你的网站分配空间来存储文件、代码、图像等。，从而使您的网站可以通过互联网公开访问。这就是虚拟主机的全部内容！</p>
<p>在大多数情况下，没有提供安全性、更快的性能或高可用性，而这些是一些 cdn 默认提供的。这通常使网站容易受到恶意攻击(特别是 DDoS ),并且没有任何优化。</p>
<p>另一方面，cdn 提供缓存。它们不托管网络内容，也不能取代对传统网络托管服务的需求。但是，它们会在网络边缘缓存网站内容的副本，从而使其更易于访问，进而提高网站性能。你可以在这里阅读更多关于缓存的信息。</p>
<p>在本教程的后面，我们将更详细地介绍什么是 cdn，以及如何最大限度地发挥其优势。</p>
<h2 id="howdocdnswork">cdn 是如何工作的？</h2>
<p>足够的嗡嗡声，我如何让我的网站与 CDN 连接？</p>
<p>cdn 使用一种叫做存在点(POP)的东西。pop 是具有多个地理位置的服务器，用于存储网站内容的缓存版本。</p>
<p>要使 CDN 正常工作，它需要成为所有传入流量的默认入站网关。这需要修改网站的 DNS 配置。</p>
<p>今天的 CDN 供应商提供了一步一步的指导，帮助您完成激活和配置阶段。他们还通过他们的支持团队提供帮助。整个过程归结为几个复制和粘贴，瞧:我们有一个配置了 CDNs 的网站。</p>
<h2 id="whatproblemsdocdnssolve">cdn 解决什么问题？</h2>
<p>潜伏。这就是百万美元答案。</p>
<p>延迟是指在你请求加载网页和网页内容出现在屏幕上之间令人讨厌的延迟。这可能是由许多因素造成的，从互联网连接不良到网页的开发方式。</p>
<p>然而，一个主要原因是从主机服务器获取所请求的内容的延迟，这可能离用户所在的位置很远。</p>
<p>那么 CDN 如何降低延迟呢？CDN 的主要目标是缩短用户和 web 托管服务器之间的距离，改善内容呈现、速度和性能。请注意，当 CDN 从 web 托管服务器中获取内容时，它会存储(缓存)该内容的副本，以便同一位置的下一个用户可以更快地获取。</p>
<h2 id="benefitsofusingcdns">使用 cdn 的好处</h2>
<p>除了通过缓存内容来优化和缩短加载时间之外，cdn 还有很多其他好处。</p>
<h3 id="increasedavailability">提高可用性</h3>
<p>可用性衡量的是在给定的时间段内，您的网站及其内容保持可访问状态的时间。在一个不使用 CDN 并且流量直接由 web 服务器提供的网站中，随着更多的流量访问该网站，服务器必须扩展以处理这些需求。如果流量超过了服务器的容量，网站就会关闭。</p>
<p>当使用 CDN 时(并且网站内容缓存在 CDN 边缘服务器上)，随着流量增加，内容从 CDN 提供，因此很少或没有流量直接到达服务器。此外，如果网络服务器出现故障，用户仍然可以访问缓存在 CDN 上的内容</p>
<h3 id="improvedwebsiteloadtime">缩短网站加载时间</h3>
<p>cdn 的一个亮点是，它们让你的网站内容更加贴近你的用户。它允许更快的加载时间，从而降低跳出率。</p>
<h3 id="improvedwebsitesecurity">提高网站安全性</h3>
<p>由于 cdn 是所有传入流量的第一接触点，因此也是恶意攻击的第一接触点，因此也是防御恶意攻击的第一道防线。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自 LogRocket 的精彩文章:</h3>

<hr/></div>
<p>默认情况下，cdn 提供标准的安全功能，可以在一定程度上防止恶意攻击，并带有可选的高级安全附件，如 DDoS 保护和防火墙。</p>
<h2 id="howisthecdncacheupdated">CDN 缓存如何更新？</h2>
<p>帮助 cdn 优化速度的一个主要因素是它们能够长时间缓存内容。因此，了解如何监管 CDN edge 网络中的内容非常重要，这样您的网站访问者就可以始终获得您网站的最新版本。那么，我们如何确保 CDN 的内容是我们服务器中内容的镜像呢？</p>
<p>让我们看一个例子。在电子商务商店中，网站利用 CDN 并缓存了用户通常搜索的几件衣服和鞋子。很快，这家电子商务商店将只进行 24 小时的打折销售。但是缓存上设置的保留期是 72 小时。</p>
<p>如果不强制刷新缓存，许多用户将错过销售机会，因为他们是从现在保存过时数据的 CDN 获得服务的。我们如何更新内容？</p>
<p>不同的 CDN 提供商有不同的设置和配置来帮助解决这一问题，但通常我们可以使用以下方法:</p>
<ul>
<li><strong>缓存控制头</strong>:这些是在配置中传递的头，用来控制 CDN <br/> <code>Cache-Control: max-age=3600;</code>的行为</li>
<li><strong>expires 头</strong>:这里我们设置了缓存内容不再有效的具体日期和时间<br/> <code>Expires: Mon, 25 May 2021 21:31:12 WAT</code></li>
<li><strong>清除缓存</strong>:一些提供商提供了一个选项，您可以调用他们的 API，这样，如果 web 服务器和 CDN 上的内容发生变化，缓存就会被清除</li>
</ul>
<h2 id="cdnproviders">CDN 提供商</h2>
<p>要正确配置和整合您的网站与 CDN，您需要一个提供商。以下是一些提供商的列表，它们可以让建立 CDN 变得相对简单，而无需倾家荡产。</p>
<ul>
<li><strong> Cloudflare </strong>将新手友好的易用性与专家级的特性和功能相结合。通过这种设置，您只需更新名称服务器以指向 Cloudflare</li>
<li>从某种意义上说，Fastly 是一个高度可配置的 CDN，它可以被调整以适应您网站的大多数(如果不是全部)特定需求。然而，设置可能会很棘手</li>
<li>KeyCDN 的价格非常低，而且有免费的 SSL，这是试验 CDN 的一个很好的提供商</li>
<li>Akamai 有令人印象深刻的性能和广泛的覆盖面，但是它对初学者并不友好</li>
</ul>
<blockquote><p>请注意，这个列表不是详尽的，也不是基于任何特定的情绪或兴趣。</p></blockquote>
<h2 id="shouldyourwebsiteuseacdn">你的网站应该使用 CDN 吗？</h2>
<p>根据我们目前所了解的情况，说“是”是很有诱惑力的。但情况并非总是如此。</p>
<p>如果你是一个小企业，只在一个特定的地区运营，你的用户群是本地的，CDN 可能是多余的。</p>
<p>例如，你是新加坡的一名针织商，你生产的羊毛衫只在当地销售。你建立了一个网站，这样你的客户就可以看到新的设计并下订单。在这种情况下，您的企业通过本地化的网站运营，您的用户群也集中在托管您网站的地方。</p>
<p>在这种情况下，实施 cdn 是不必要的，因为本地服务器已经为您的客户端提供了高效的服务。</p>
<h2 id="conclusion">结论</h2>
<p>cdn 是惊人的，可以成为你的 web 开发工具箱中有用的一部分。cdn 有助于提高可扩展性，从而留住用户并增加用户回报。KeyCDN 进行的一项关于网站延迟的调查显示，拥有 CDN 的网站延迟降低了 83%。最终，这意味着更多的首次或回头客被保留，你的企业赚更多的钱。</p>
<p>我希望这篇教程已经详细地阐明了你需要知道的关于 cdn 的事情，以及它们是否是你的网站的一个好选择。</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的 bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试 LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>