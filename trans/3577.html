<html>
<head>
<title>Build an SSG blog with Capri </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>与卡普里一起创建一个SSG博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/build-ssg-blog-capri/#0001-01-01">https://blog.logrocket.com/build-ssg-blog-capri/#0001-01-01</a></blockquote><div><article class="article-post">
<p>使用静态站点生成器(SSG)的一个有趣的地方是能够轻松地运行应用程序并对其进行添加和更改。这使得它非常适合构建博客，因为博客会不断地添加和编辑文章。</p>
<p>在本文中，我们将使用<a href="https://capri.build/"> Capri </a>，一个静态站点生成器，它使用islands架构模型生成静态站点。</p>
<p><em>向前跳转:</em></p>

<h2 id="capri-work">卡普里岛是如何运作的？</h2>
<p>通常，默认情况下，Capri不向前端发送任何JavaScript，只发送静态HTML和CSS。为了处理Capri博客上的交互性和动态数据，我们需要通过使用一个<code>*island.*</code>后缀来增加它的水分。这意味着，如果您正在获取数据或处理与组件的交互，您可以将其命名为<code>componentname.island.jsx</code>。这个名称格式取决于我们使用的框架/库——例如，如果我们使用Vue，它将是<code>componentname.island.vue</code>。</p>
<p>在我们需要在同一个组件中同时呈现静态和动态内容的情况下，或者当我们有一个将属性传递给静态组件的动态组件时，我们使用<code>*lagoon.*</code>后缀。这样做的目的是确保现场速度更快，仅在必要时对动态成分进行水合。</p>
<h2 id="getting-started">入门指南</h2>
<p>让我们使用React和Capri来提升我们的博客。要触发快速启动，请在终端中运行以下命令:</p>
<pre class="language-bash hljs">npm init capri my-capri-site -- -e react
</pre>
<p>它在React中建立了一个样本Capri站点。我们将不得不删除样板代码，并为我们的项目添加自定义组件。</p>
<p>我们也可以将Capri与其他支持SSR的流行UI框架结合使用，比如Vue、Svelte、Preact等。：</p>
<p><img data-attachment-id="141241" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/capri-frameworks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="capri-frameworks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png" decoding="async" class="aligncenter wp-image-141241 size-full jetpack-lazy-image" src="../Images/6fdd109cacb533bb8f1ee3f733245f23.png" alt="Capri frameworks" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks-300x161.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141241" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/capri-frameworks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="capri-frameworks" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png" decoding="async" loading="lazy" class="aligncenter wp-image-141241 size-full" src="../Images/6fdd109cacb533bb8f1ee3f733245f23.png" alt="Capri frameworks" srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks-300x161.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/capri-frameworks.png"/></noscript>
<p>你应该知道，Capri提供了一个预览模式，可以在本地运行我们的应用程序时进行热重装。它在本地将我们的应用程序呈现为一个SPA。</p>
<pre class="language-typescript hljs">import { Navigate } from "react-router-dom";
/**
 * Handle preview requests like `/preview?slug=/about` by redirecting
 * to the given slug parameter.
 */
export default function Preview() {
  const url = new URL(window.location.href);
  const slug = url.searchParams.get("slug") ?? "/";
  return &lt;Navigate to={slug} /&gt;;
}
/**
 * Component to display a banner when the site is viewed as SPA.
 */
export function PreviewBanner() {
  return &lt;div className="banner"&gt;Preview Mode&lt;/div&gt;;
}

// src/preview.tsx
</pre>
<p>我们将预览组件包装在<code>&lt;App/&gt;</code>组件周围:</p>
<pre class="language-typescript hljs">import { StrictMode } from "react";
import ReactDOM from "react-dom/client";
import { BrowserRouter } from "react-router-dom";
import { App } from "./App";
import { PreviewBanner } from "./Preview.jsx";
ReactDOM.createRoot(document.getElementById("app")!).render(
  &lt;StrictMode&gt;
    &lt;BrowserRouter basename={import.meta.env.BASE_URL}&gt;
      &lt;PreviewBanner /&gt;
      &lt;App /&gt;
    &lt;/BrowserRouter&gt;
  &lt;/StrictMode&gt;
);

// src/main.tsx
</pre>
<p>因此，对于我们的服务器渲染，条目文件如下所示:</p>
<pre class="language-typescript hljs">import { RenderFunction, renderToString } from "@capri-js/react/server";
import { StrictMode } from "react";
import { StaticRouter } from "react-router-dom/server.js";
import { App } from "./App";
export const render: RenderFunction = async (url: string) =&gt; {
  return {
    "#app": await renderToString(
      &lt;StrictMode&gt;
        &lt;StaticRouter location={url} basename={import.meta.env.BASE_URL}&gt;
          &lt;App /&gt;
        &lt;/StaticRouter&gt;
      &lt;/StrictMode&gt;
    ),
  };
};

// src/main.server.tsx
</pre>
<p>另一件要注意的事情是Capri使用Vite开箱即用进行配置。</p>
<pre class="language-typescript hljs">import capri from "@capri-js/react";
import react from "@vitejs/plugin-react";
import { defineConfig } from "vite";
export default defineConfig({
  plugins: [
    react(),
    capri({
      spa: "/preview",
    }),
  ],
});
</pre>
<p>最后，在我们的根文件夹中有根文件<code>index.html</code>:</p>
<pre class="language-html hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;link rel="icon" type="image/svg+xml" href="/src/capri.svg" /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;&lt;/div&gt;
    &lt;script type="module" src="/src/main.tsx"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<h2 id="building-blog">建立我们的博客</h2>
<p>我们将建立一个Rick和Morty的博客，每个帖子都包含了这个系列中角色的信息。</p>
<p><img data-attachment-id="141245" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/rick-morty-blog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif" data-orig-size="730,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rick-morty-blog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-300x172.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif" decoding="async" class="aligncenter wp-image-141245 size-full jetpack-lazy-image" src="../Images/b924e1836b52094e9046c32cda5987fa.png" alt="Rick and Morty blog." data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141245" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/rick-morty-blog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif" data-orig-size="730,419" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rick-morty-blog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-300x172.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif" decoding="async" loading="lazy" class="aligncenter wp-image-141245 size-full" src="../Images/b924e1836b52094e9046c32cda5987fa.png" alt="Rick and Morty blog." data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog.gif"/></noscript>
<h3 id="scaffolding-home-page">搭建主页</h3>
<p>让我们建立我们的博客主页。在我们的<code>src</code>文件夹中创建一个<code>Home.tsx</code>文件。这是用户登陆博客后看到的第一页。这将是一个静态组件。</p>
<pre class="language-typescript hljs">export default function Home() {
  return (
    &lt;main&gt;
      &lt;h1&gt;Welcome To Our Rick and Morty Blog&lt;/h1&gt;
      &lt;h5&gt;
        Each blog post contains information about individual characters in the
        series.
      &lt;/h5&gt;
      &lt;Posts /&gt;
    &lt;/main&gt;
  );
}

// src/Home.tsx
</pre>
<p>我们现在可以进入我们的<code>App.tsx</code>文件并导入我们的<code>Home.tsx</code>文件。</p>
<pre class="language-typescript hljs">import "./App.css";
import { Suspense } from "react";
import Preview from "./Preview.jsx";
import { Route, Routes } from "react-router-dom";
import Home from "./Home";

export function App() {
  return (
    &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;
      &lt;Routes&gt;
        &lt;Route index element={&lt;Home /&gt;} /&gt;
        &lt;Route path="/preview" element={&lt;Preview /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/Suspense&gt;
  );
}

// src/App.tsx
</pre>
<p>我们使用<a href="https://blog.logrocket.com/migrating-react-router-v6-complete-guide/"> React路由器</a>和<code><a href="https://17.reactjs.org/docs/concurrent-mode-suspense.html">Suspense</a></code>包装我们的组件，分别处理我们的应用程序的路由和数据获取。</p>
<h3 id="displaying-list-posts">显示帖子列表</h3>
<p>接下来，我们需要显示文章列表。为此，让我们在一个名为<code>Posts.lagoon.tsx</code>的文件中创建一个<code>Posts</code>组件:</p>
<pre class="language-typescript hljs">import { Link } from "react-router-dom";

export default function Posts() {
  const container = {
    display: "grid",
  };
  const containerItem = {
    paddingBottom: "3rem",
  };
  return (
    &lt;div style={container}&gt;
      {[...Array(10)].map((x, i) =&gt; (
        &lt;div style={containerItem}&gt;
          &lt;Link to={`/post/${i + 1}`}&gt;
            Post/{i + 1}
          &lt;/Link&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}

// Posts.lagoon.tsx
</pre>
<p>这里，我们遍历一个数组中的10个条目，显示10篇文章。每个条目都有一个<code>Link</code>(来自React Router)，它使用动态参数将一个<code>id</code>传递给页面。我们将在本文的后面讨论这个<code>id</code>。</p>
<p>现在，让我们将<code>Posts.lagoon.tsx</code>组件导入到<code>Home.tsx</code>组件中。</p>
<pre class="language-typescript hljs">import Posts from "./Posts.lagoon";

export default function Home() {
  return (
    &lt;main&gt;
      &lt;h1&gt;Welcome To Our Rick and Morty Blog&lt;/h1&gt;
      &lt;h5&gt;
        Each blog post contains information about individual characters in the
        series.
      &lt;/h5&gt;
      &lt;Posts /&gt;
    &lt;/main&gt;
  );
}
</pre>
<p>我们列出了十个邮件项目。如前所述，我们目前处于预览模式，因为我们仍然在本地运行应用程序。</p>
<p><img data-attachment-id="141249" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/rick-morty-blog-welcome-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rick-morty-blog-welcome-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png" decoding="async" class="aligncenter wp-image-141249 size-full jetpack-lazy-image" src="../Images/9127fc407f9099b704df0c192632bec7.png" alt="Rick and Morty blog welcome page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page-300x161.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="141249" data-permalink="https://blog.logrocket.com/build-ssg-blog-capri/attachment/rick-morty-blog-welcome-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png" data-orig-size="730,392" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rick-morty-blog-welcome-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page-300x161.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png" decoding="async" loading="lazy" class="aligncenter wp-image-141249 size-full" src="../Images/9127fc407f9099b704df0c192632bec7.png" alt="Rick and Morty blog welcome page." srcset="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page-300x161.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/11/rick-morty-blog-welcome-page.png"/></noscript>
<p>然后，我们需要创建一个名为<code>PostItem.lagoon.tsx</code>文件的新组件来显示每篇文章。</p>
<pre class="language-typescript hljs">import { Link, useParams } from "react-router-dom";
import axios from "axios";
import useSWR from "swr";
export default function PostItem() {
  let { id } = useParams();
  const url = `https://rickandmortyapi.com/api/character/${id}`;
  const fetcher = (url: string) =&gt;
axios.get(url).then((res: any) =&gt; res.data);
  const { data, error } = useSWR(url, fetcher, { suspense: true });
  if (error) return &lt;div&gt;failed to load&lt;/div&gt;;
  return (
    &lt;main&gt;
      &lt;h1&gt;{data.name}&lt;/h1&gt;
      &lt;img src={data.image}&gt;&lt;/img&gt;
      &lt;section&gt;Status: {data.status}&lt;/section&gt;
      &lt;section&gt;Species: {data.species}&lt;/section&gt;
      &lt;section&gt;Number of episodes featured: {data.episode.length}&lt;/section&gt;
      &lt;section&gt;
        &lt;h5&gt;Location: {data.location.name}&lt;/h5&gt;
        &lt;h5&gt;Gender: {data.gender}&lt;/h5&gt;
      &lt;/section&gt;
      &lt;Link to="/"&gt;Back Home&lt;/Link&gt;
    &lt;/main&gt;
  );
}
</pre>
<p>在这个组件中，我们将从<code>Posts.lagoon.tsx</code>中检索<code>id</code>。我们将利用React路由器实例中的<code>useParams</code>钩子从URL参数中获取当前的<code>id</code>。然后我们将把这个<code>id</code>添加到我们的Rick和Morty端点。</p>
<p>为了调用这个端点，我们将使用<code><a href="https://blog.logrocket.com/swr-vs-tanstack-query-react/">useSWR</a></code>和<a href="https://blog.logrocket.com/how-to-make-http-requests-like-a-pro-with-axios/">轴</a>。要使用它，我们必须安装两个软件包:</p>
<pre class="language-bash hljs">yarn add swr

yarn add axios
</pre>
<p>接下来，我们编写一个接收端点的<code>fetcher</code>函数，使用<code>axios</code>发出一个<code>GET</code>请求，并返回响应。</p>
<pre class="language-typescript hljs">const fetcher = (url: string) =&gt;
axios.get(url).then((res: any) =&gt; res.data);
const { data, error } = useSWR(url, fetcher, { suspense: true });
</pre>
<p>然后我们使用<code>useSWR</code>发出实际的请求。我们传入<code>fetcher</code>函数，并将<code>suspense</code>指定为<code>true</code>来处理我们的加载状态。</p>
<p>加载状态是我们等待端点响应时的临时时间范围。如果我们的请求按预期工作，我们将响应分配给<code>data</code>。如果有错误，我们将显示<code>&lt;div&gt;failed to load&lt;/div&gt;</code>。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>之后，我们可以显示组件中的所有数据。我们还将添加一个<code>Link</code>，它将把我们带回到主页。</p>
<pre class="language-html hljs">&lt;main&gt;
  &lt;h1&gt;{data.name}&lt;/h1&gt;
  &lt;img src={data.image}&gt;&lt;/img&gt;
  &lt;section&gt;Status: {data.status}&lt;/section&gt;
  &lt;section&gt;Species: {data.species}&lt;/section&gt;
  &lt;section&gt;Number of episodes featured: {data.episode.length}&lt;/section&gt;
  &lt;section&gt;
    &lt;h5&gt;Location: {data.location.name}&lt;/h5&gt;
    &lt;h5&gt;Gender: {data.gender}&lt;/h5&gt;
  &lt;/section&gt;
  &lt;Link to="/"&gt;Back Home&lt;/Link&gt;
&lt;/main&gt;
</pre>
<p>现在让我们将这个<code>PostItem.lagoon.tsx</code>组件作为路由导入到我们的<code>App.tsx</code>中。</p>
<pre class="language-typescript hljs">import "./App.css";
import { Suspense } from "react";
import { Route, Routes } from "react-router-dom";
import Home from "./Home";
import Preview from "./Preview.jsx";
import PostItem from "./PostItem.lagoon";
export function App() {
  return (
    &lt;Suspense fallback={&lt;div&gt;loading...&lt;/div&gt;}&gt;
      &lt;Routes&gt;
        &lt;Route index element={&lt;Home /&gt;} /&gt;
        &lt;Route path="/preview" element={&lt;Preview /&gt;} /&gt;
        &lt;Route path="/post/:id" element={&lt;PostItem /&gt;} /&gt;
      &lt;/Routes&gt;
    &lt;/Suspense&gt;
  );
}

// App.tsx
</pre>
<p>现场演示就在这里，而代码则在我的吉斯 <a href="https://github.com/Atanda1/capriblog"> ub </a>上<a href="https://github.com/Atanda1/capriblog">托管。</a></p>
<h2 id="conclusion">结论</h2>
<p>恭喜🎉。我们已经成功地从Capri开始，并在创纪录的时间内建立了我们自己的博客。</p>
<p>如果你正在寻找另一个项目，你可以将Capri的超能力与无头内容管理系统(CMS)合并，如<a href="https://www.contentful.com/"> Contentful </a>或<a href="https://www.storyblok.com/home"> Storyblok </a>。这些CMS充当我们数据的来源。您可以将数据上传到您首选的CMS，并将其拉入您的Capri应用程序。</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>