<html>
<head>
<title>Using Shopify Hydrogen to build modern ecommerce storefronts </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Shopify Hydrogen构建现代电子商务店面</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/#0001-01-01">https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/#0001-01-01</a></blockquote><div><article class="article-post">
<p>2022年，Shopify发布了一个名为Hydrogen的无头商务电子商务堆栈。Hydrogen的创新技术在保持高性能的同时，让购物体验变得格外动感。</p>
<p>这个新框架有一个快速启动的构建环境、智能缓存、开箱即用的组件和内置的缓存默认值，所以电子商务开发人员对此感到兴奋也就不足为奇了。</p>
<p>在这篇文章中，我们将讨论如何用Shopify Hydrogen和Shopify的Storefront API建立一个现代的电子商务商店。</p>
<p>向前跳:</p>

<p>作为本教程的先决条件，你应该对<a href="https://reactjs.org/"> React </a>、<a href="https://vitejs.dev/"> Vite </a>和<a href="https://tailwindcss.com/"> Tailwind CSS </a>有一个基本的了解，以及一个活跃的Shopify商店。</p>
<h2 id="getting-started-shopify-hydrogen">Shopify Hydrogen入门</h2>
<p><a href="https://shopify.dev/custom-storefronts/hydrogen"> Hydrogen是一个使用<a href="https://blog.logrocket.com/fastify-vite-serving-vite-ssr-hydration/"> Vite进行服务器端渲染的React框架</a>和一个构建在Shopify storefront API之上的水合中间件</a>。这意味着它使用来自Shopify的数据来创建一个交互式前端应用程序。</p>
<p>要开始使用Shopify Hydrogen，<a href="https://accounts.shopify.com/store-login">登录Shopify </a>并创建一个Shopify商店(如果您还没有)。我把我的运动鞋叫做售货亭。</p>
<p>接下来，单击页面左下方的“设置”图标:</p>
<p><img data-attachment-id="151334" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img1-shopify-store-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png" decoding="async" class="aligncenter size-full wp-image-151334 jetpack-lazy-image" src="../Images/8a257625fc7f2047a7e1531e58d7e454.png" alt="Shopify Store Management Page With Menu Bar At Left Side. Red Arrow Points Down To Settings Option Indicated By Red Circle" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151334" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img1-shopify-store-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151334" src="../Images/8a257625fc7f2047a7e1531e58d7e454.png" alt="Shopify Store Management Page With Menu Bar At Left Side. Red Arrow Points Down To Settings Option Indicated By Red Circle" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img1-Shopify-store-settings.png"/></noscript>
<p>导航至“应用和销售渠道”选项卡，点击“为你的商店开发应用”按钮，创建自定义应用:</p>
<p><img data-attachment-id="151336" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img2-shopify-store-app-sales-channel-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-app-sales-channel-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png" decoding="async" class="aligncenter size-full wp-image-151336 jetpack-lazy-image" src="../Images/edb5451fb126d3708db3e8567d79bde3.png" alt="Shopify Store Settings Page With Apps And Sales Channels Menu Tab Circled In Red With Number One Label. Another Red Circle With Number Two Label Indicates Button To Develop Apps For Store" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151336" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img2-shopify-store-app-sales-channel-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-app-sales-channel-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151336" src="../Images/edb5451fb126d3708db3e8567d79bde3.png" alt="Shopify Store Settings Page With Apps And Sales Channels Menu Tab Circled In Red With Number One Label. Another Red Circle With Number Two Label Indicates Button To Develop Apps For Store" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img2-Shopify-store-app-sales-channel-settings.png"/></noscript>
<p>创建自定义应用程序后，单击“配置Storefront API范围”按钮来配置应用程序的storefront API令牌:</p>
<p><img data-attachment-id="151340" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img3-shopify-store-api-config-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-API-config-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png" decoding="async" class="aligncenter size-full wp-image-151340 jetpack-lazy-image" src="../Images/afd44ebe2e9710f569ae5107ee4f647b.png" alt="Shopify Store Settings Shown After Creating Custom Application. Red Circle And Number One Label Indicate Button To Configure Storefront Api Scopes" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151340" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img3-shopify-store-api-config-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-API-config-settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151340" src="../Images/afd44ebe2e9710f569ae5107ee4f647b.png" alt="Shopify Store Settings Shown After Creating Custom Application. Red Circle And Number One Label Indicate Button To Configure Storefront Api Scopes" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img3-Shopify-store-API-config-settings.png"/></noscript>
<p>在商店配置页面上，我们将保存我们的配置，如下所示:</p>
<p><img data-attachment-id="151342" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img4-shopify-store-configuration-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-configuration-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png" decoding="async" class="aligncenter size-full wp-image-151342 jetpack-lazy-image" src="../Images/79b36043eb02b8ec68613188d2ceceaf.png" alt="Shopify Store Configuration Page With Saved Configurations Shown Under Storefront Api Access Scopes With Green Button To Save Settings" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151342" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img4-shopify-store-configuration-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-configuration-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151342" src="../Images/79b36043eb02b8ec68613188d2ceceaf.png" alt="Shopify Store Configuration Page With Saved Configurations Shown Under Storefront Api Access Scopes With Green Button To Save Settings" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img4-Shopify-store-configuration-page.png"/></noscript>
<p>成功保存配置后，我们将导航至“API凭据”选项卡。在那里，我们将看到一个在我们的商店上安装应用程序的选项:</p>
<p><img data-attachment-id="151344" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img5-shopify-store-api-credentials-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-API-credentials-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png" decoding="async" class="aligncenter size-full wp-image-151344 jetpack-lazy-image" src="../Images/bbba1cf68019941ab40f518493e4c51a.png" alt="Shopify Store Settings Api Credentials Tab Showing Option To Install Newly Created App On Store" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page-300x192.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151344" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img5-shopify-store-api-credentials-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png" data-orig-size="730,468" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-API-credentials-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page-300x192.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151344" src="../Images/bbba1cf68019941ab40f518493e4c51a.png" alt="Shopify Store Settings Api Credentials Tab Showing Option To Install Newly Created App On Store" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page-300x192.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img5-Shopify-store-API-credentials-page.png"/></noscript>
<p>在下一个屏幕上，我们将看到我们的访问令牌。复制并保存这些代币，我们稍后将使用它们与我们的Shopify商店互动。</p>
<h2 id="adding-products-store">向我们的商店添加产品</h2>
<p>随着商店的建立，我们现在可以上传我们的产品。有两种方法可以做到这一点。</p>
<p>首先，我们可以手动将单个产品上传到我们的商店，如下所示:</p>
<p><img data-attachment-id="151346" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img6-shopify-store-manual-product-upload/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png" data-orig-size="730,439" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-manual-product-upload" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png" decoding="async" class="aligncenter size-full wp-image-151346 jetpack-lazy-image" src="../Images/f37ad8e06e108bd99065b2c431e92f00.png" alt="Setup Guide For Manually Adding Products To Shopify Form With Progress Bar At Top Indicating Zero Of Five Tasks Complete And Prompts To Add First Product Shown" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload-300x180.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151346" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img6-shopify-store-manual-product-upload/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png" data-orig-size="730,439" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-store-manual-product-upload" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload-300x180.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151346" src="../Images/f37ad8e06e108bd99065b2c431e92f00.png" alt="Setup Guide For Manually Adding Products To Shopify Form With Progress Bar At Top Indicating Zero Of Five Tasks Complete And Prompts To Add First Product Shown" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload-300x180.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img6-Shopify-store-manual-product-upload.png"/></noscript>
<p>其次，我们可以安装来自Shopify商店的简单样本数据,为店面生成虚拟数据。导航到菜单栏的“应用程序”选项卡，搜索“简单示例数据”:</p>
<p><img data-attachment-id="151348" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img7-shopify-extension-dummy-data/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png" data-orig-size="730,416" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-extension-dummy-data" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png" decoding="async" class="aligncenter size-full wp-image-151348 jetpack-lazy-image" src="../Images/93bb3f501d8dd575c995a1cf1aaad192.png" alt="Shopify Menu Bar With Apps Tab Circled In Red With Number One Label. Search Bar At Top Also Circled In Red And Labeled Number Two. Search For Simple Sample Data Shown" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151348" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img7-shopify-extension-dummy-data/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png" data-orig-size="730,416" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shopify-extension-dummy-data" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151348" src="../Images/93bb3f501d8dd575c995a1cf1aaad192.png" alt="Shopify Menu Bar With Apps Tab Circled In Red With Number One Label. Search Bar At Top Also Circled In Red And Labeled Number Two. Search For Simple Sample Data Shown" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img7-Shopify-extension-dummy-data.png"/></noscript>
<p>选择应用程序，然后点按按钮进行安装。然后，选择一个产品类别和我们想要生成的集合。最后，单击“生成”按钮，用所选产品填充商店。这样，我们的商店就准备好了。</p>
<h2 id="installing-hydrogen-dev-environment">在我们的开发环境中安装氢气</h2>
<p>运行以下命令，安装带有一些<code>hello-world</code>文本的Hydrogen starter应用程序:</p>
<pre class="language-npm hljs">yarn create @shopify/hydrogen --template hello-world
</pre>
<p>接下来，让我们用以下代码片段将我们的Shopify商店连接到<code>hydrogen.config.js</code>文件中的Hydrogen应用程序:</p>
<pre class="language-javascript hljs">// hydrogen.config.js
import { defineConfig } from "@shopify/hydrogen/config";
export default defineConfig({
  shopify: {
    storeDomain: "&lt;your store url&gt;", //without the "https://" part
    storefrontToken: "&lt;your generated access token&gt;",
    storefrontApiVersion: "2022-07",
  },
});
</pre>
<p>有了上面的代码片段，我们现在可以在本地访问我们的商店数据了。</p>
<h2 id="fetching-displaying-products">获取和展示产品</h2>
<p>现在，让我们将虚拟产品引入氢气应用。创建一个<code>components</code>文件夹，并在其中创建一个<code>FeaturedProducts.server.jsx</code>文件。用以下代码片段更新文件:</p>
<pre class="language-html hljs">// src/components/FeaturedProducts.server.jsx
import { Image, Link, gql, useShopQuery, CacheLong } from "@shopify/hydrogen";

const QUERY = gql`
  query Home {
    products(first: 3) {
      nodes {
        id
        title
        handle
        featuredImage {
          height
          width
          altText
          URL
        }
      }
    }
  }
`;

export default function FeaturedProducts() {
  const {
    data: { products },
  } = useShopQuery({
    query: QUERY,
    cache: CacheLong(),
  });
  // return() function here
}
</pre>
<p>在上面的代码片段中，我们从<code>@shopify/hydrogen</code>导入了<code>useQuery</code>和<code>gql</code>。我们还构造了一个<code>QUERY</code>常量，它将获取前三个产品及其属性。最后，我们通过将<code>QUERY</code>常量传递到<code>useShopQuery</code>来从商店中获取产品，并析构响应。</p>
<p>在<code>FeaturedProducts.server.jsx</code>文件中，让我们通过用以下代码片段更新<code>return()</code>函数来显示提取的产品:</p>
<pre class="language-html hljs">// src/components/FeaturedProducts.server.jsx

export default function FeaturedProducts() {
  // Define data and QUERY constants
  return (
    &lt;&gt;
      &lt;h1&gt;Featured Products&lt;/h1&gt;
      &lt;div&gt;
        {products &amp;&amp;
          products.nodes.map((prod, index) =&gt; (
            &lt;div key={index}&gt;
              &lt;div className="p-2"&gt;
                &lt;Link to={`/product/${prod.handle}`} className=""&gt;
                  &lt;Image
                    width={prod.featuredImage.width}
                    height={prod.featuredImage.height}
                    src={prod.featuredImage.url}
                    alt={`Image of ${prod.featuredImage.alttext}`}
                  /&gt;
                &lt;/Link&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;Link to={`/product/${prod.handle}`}&gt;
                  &lt;h3 className="font-medium"&gt;{prod.title}&lt;/h3&gt;
                &lt;/Link&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          ))}
      &lt;/div&gt;
    &lt;/&gt;
  );
}
</pre>
<p>在这里，我们循环遍历产品，<a href="https://blog.logrocket.com/react-conditional-rendering-9-methods/">有条件地呈现它们</a>。</p>
<p>接下来，让我们导入并渲染<code>src/routes/index.server.jsx</code>文件中的<code>FeaturedProducts.server.jsx</code>组件:</p>
<pre class="language-html hljs">// src/routes/index.server.jsx

import { Suspense } from "react";
import Hero from "../components/Hero.server";
import { Layout } from "../components/Layout.server";
import FeaturedProducts from "../components/FeaturedProducts.server";

export default function Home() {
  return (
    &lt;Layout&gt;
      &lt;Suspense&gt;
        &lt;Hero /&gt;
        &lt;FeaturedProducts /&gt;
      &lt;/Suspense&gt;
    &lt;/Layout&gt;
  );
}
</pre>
<p>在浏览器中，该应用程序将类似于下图:</p>
<p><img data-attachment-id="151350" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img8-featured-products-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png" data-orig-size="730,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Featured-products-UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI-300x85.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png" decoding="async" class="aligncenter size-full wp-image-151350 jetpack-lazy-image" src="../Images/d03bbc41530b42394d960ae58589541e.png" alt="Featured Products Ui As Shown In Browser With Three Sneaker Styles Shown In Horizontal Row" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI-300x85.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151350" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img8-featured-products-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png" data-orig-size="730,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Featured-products-UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI-300x85.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151350" src="../Images/d03bbc41530b42394d960ae58589541e.png" alt="Featured Products Ui As Shown In Browser With Three Sneaker Styles Shown In Horizontal Row" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI-300x85.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img8-Featured-products-UI.png"/></noscript>
<p>根据您在设置简单示例数据时选择的产品类别和集合，您可能会看到不同的特色产品。</p>
<p>接下来，创建一个产品展示页面。在components文件夹中，让我们用下面的代码片段创建一个<code>ProductDetails.client.jsx</code>文件:</p>
<pre class="language-html hljs">// src/components/ProductDetails.jsx
import { ProductOptionsProvider } from "@shopify/hydrogen";
export default function ProductDetails({ product }) {
  return (
    &lt;ProductOptionsProvider data={product}&gt;
      &lt;section&gt;
        &lt;div&gt;
          &lt;div&gt;
            &lt;div&gt;{/* product gallery here */}&lt;/div&gt;
          &lt;/div&gt;
          &lt;div&gt;
            &lt;div&gt;
              &lt;h1&gt;{product.title}&lt;/h1&gt;
              &lt;span&gt;{product.vendor}&lt;/span&gt;
            &lt;/div&gt;
            {/* Product form here */}
            &lt;div&gt;
              &lt;div
                dangerouslySetInnerHTML={{ __html: product.descriptionHtml }}
              &gt;&lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/section&gt;
    &lt;/ProductOptionsProvider&gt;
  );
}
</pre>
<p>在上面的代码片段中，我们从<code>@shopify/hydrogen</code>导入了<code>ProductOptionsProvider</code>，创建了<code>ProductDetails()</code>函数，并将<code>product</code>作为道具传递给它。我们还用<code>ProductOptionsProvider</code>包装了我们的标记。</p>
<p>接下来，让我们更新<code>ProductDetails.jsx</code>文件，用以下代码片段显示产品图像:</p>
<pre class="language-html hljs">// src/components/ProductDetails.jsx
import { MediaFile } from "@shopify/hydrogen";

export default function ProductDetails({ product }) {
  return &lt;div&gt;product gallery&lt;/div&gt;;
}

function ProductGallery({ media }) {
  if (!media.length) {
    return null;
  }
  return (
    &lt;div&gt;
      {media.map((med, i) =&gt; {
        let extraProps = {};
        if (med.mediaContentType === "MODEL_3D") {
          extraProps = {
            interactionPromptThreshold: "0",
            ar: true,
            loading: "eager",
            disableZoom: true,
          };
        }
        const data = {
          ...med,
          image: {
            ...med.image,
            altText: med.alt || "Product image",
          },
        };
        return (
          &lt;div&gt;
            &lt;MediaFile
              tabIndex="0"
              data={data}
              options={{
                crop: "center",
              }}
              {...extraProps}
            /&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
}
</pre>
<p>在上面的代码片段中，我们从<code>@shopify/hydrogen</code>导入了<code>MediaFile</code>并创建了<code>ProductGallery()</code>函数，该函数接收媒体文件并使用Shopify的内置媒体处理程序<code>MediaFile</code>根据它们的媒体类型呈现它们。</p>
<p>接下来，在<code>ProductDetails</code>组件中呈现<code>ProductGallery</code>,以显示不同的产品图像变量:</p>
<pre class="language-html hljs">// src/components/ProductDetails.jsx

export default function ProductDetails({ product }) {
  return (
    &lt;ProductGallery /&gt;
  )
}
</pre>
<p>在浏览器中，这应该类似于以下内容:</p>
<p><img data-attachment-id="151352" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img9-product-gallery-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Product-gallery-UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png" decoding="async" class="aligncenter size-full wp-image-151352 jetpack-lazy-image" src="../Images/c26e43f7e57037c3cdf5cddd2de1b66b.png" alt="Selected Product Gallery Ui Shown With Two Image Variants Of Red Sneakers Shown Side By Side While The Beginning Of A Third Image Is Shown Cut Off Below" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI-300x157.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151352" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img9-product-gallery-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Product-gallery-UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151352" src="../Images/c26e43f7e57037c3cdf5cddd2de1b66b.png" alt="Selected Product Gallery Ui Shown With Two Image Variants Of Red Sneakers Shown Side By Side While The Beginning Of A Third Image Is Shown Cut Off Below" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI-300x157.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img9-Product-gallery-UI.png"/></noscript>
<p>接下来，用下面的代码片段创建一个<code>form</code>来处理用户的产品选择:</p>
<pre class="language-html hljs">// src/components/ProductDetails.jsx

import { ProductPrice, BuyNowButton } from "@shopify/hydrogen";
function ProductForm({ product }) {
  const { options, selectedVariant } = useProductOptions();
  const isOutOfStock = !selectedVariant?.availableForSale || false;
  return (
    &lt;form&gt;
      {
        &lt;div&gt;
          {options.map(({ name, values }) =&gt; {
            if (values.length === 1) {
              return null;
            }
            return (
              &lt;div key={name}&gt;
                &lt;legend&gt;{name}&lt;/legend&gt;
                &lt;div&gt;{/* OptionRadio goes below this line */}&lt;/div&gt;
              &lt;/div&gt;
            );
          })}
        &lt;/div&gt;
      }
      &lt;div&gt;
        &lt;ProductPrice
          priceType="compareAt"
          variantId={selectedVariant.id}
          data={product}
        /&gt;
        &lt;ProductPrice variantId={selectedVariant.id} data={product} /&gt;
      &lt;/div&gt;
      &lt;div&gt;
        {isOutOfStock ? (
          &lt;span&gt;Available in 2-3 weeks&lt;/span&gt;
        ) : (
          &lt;BuyNowButton variantId={selectedVariant.id}&gt;
            &lt;span&gt;Buy it now&lt;/span&gt;
          &lt;/BuyNowButton&gt;
        )}
      &lt;/div&gt;
    &lt;/form&gt;
  );
}
</pre>
<p>上面的代码片段在产品图库旁边显示了一个带有产品价格和“立即购买”按钮的表单。该表单将如下所示:</p>
<p><img data-attachment-id="151355" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img10-product-size-selection-price-buy-now-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png" data-orig-size="545,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Product-size-selection-price-buy-now-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button-224x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png" decoding="async" class="aligncenter size-full wp-image-151355 jetpack-lazy-image" src="../Images/07cebb8b8fe225b8a4cf982de7480d12.png" alt="Example Product Form Showing Product Name, Size Options, Price In Nigerian Naira, And Buy It Now Button, All In Black, White, And Grey" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png 545w, https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button-224x300.png 224w" data-lazy-sizes="(max-width: 545px) 100vw, 545px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151355" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img10-product-size-selection-price-buy-now-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png" data-orig-size="545,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Product-size-selection-price-buy-now-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button-224x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151355" src="../Images/07cebb8b8fe225b8a4cf982de7480d12.png" alt="Example Product Form Showing Product Name, Size Options, Price In Nigerian Naira, And Buy It Now Button, All In Black, White, And Grey" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png 545w, https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button-224x300.png 224w" sizes="(max-width: 545px) 100vw, 545px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img10-Product-size-selection-price-buy-now-button.png"/></noscript>
<p>正如您在表格中看到的，产品可以有多种不同的尺寸。因此，我们需要添加一个组件来处理产品变量。为此，在<code>components/ProductDetails.jsx</code>文件中定义一个新的<code>OptionRadio()</code>函数，如下所示:</p>
<pre class="language-html hljs">// src/components/ProductDetails.jsx

import { useProductOptions } from "@shopify/hydrogen";
function OptionRadio({ values, name }) {
  const { selectedOptions, setSelectedOption } = useProductOptions();
  return (
    &lt;&gt;
      {values.map((value) =&gt; {
        const checked = selectedOptions[name] === value;
        const id = `option-${name}-${value}`;
        return (
          &lt;label key={id} htmlFor={id}&gt;
            &lt;input
              type="radio"
              id={id}
              name={`option[${name}]`}
              value={value}
              checked={checked}
              onChange={() =&gt; setSelectedOption(name, value)}
            /&gt;
            &lt;div&gt;{value}&lt;/div&gt;
          &lt;/label&gt;
        );
      })}
    &lt;/&gt;
  );
}
</pre>
<p>在上面的代码片段中，我们从<code>@shopify/hydrogen</code>导入了<code>useProductOptions</code>钩子。然后我们创建一个名为<code>OptionRadio</code>的函数，它有两个属性<code>name</code>和<code>values</code>。</p>
<p>此外，我们从<code>useProductOptions</code>钩子中析构了<code>selectedOptions</code>和<code>setSelectedOption</code>。最后，我们返回了一个显示<code>values</code>数组中每个<code>value</code>的标记，并将<code>OptionsRadio</code>导入到我们的<code>ProductForm</code>组件中。</p>
<h2 id="handling-dynamic-routing-individual-products">处理单个产品的动态路由</h2>
<p>最后，让我们在<code>/src/routes</code>目录中创建一个<code>product</code>文件夹。然后，我们将创建一个名为<code>/[handle].server.jsx</code>的文件来处理单个产品的动态路线。将以下代码片段添加到文件中:</p>
<pre class="language-html hljs">// src/routes/[handle].server.jsx
import { Layout } from "../../components/Layout.server";
import { gql } from "@shopify/hydrogen";

export default function Product({ params }) {
  return &lt;Layout&gt;/* Product Display component goes here */&lt;/Layout&gt;;
}

const PRODUCT_QUERY = gql`
  fragment MediaFields on Media {
    mediaContentType
    alt
    previewImage {
      url
    }
    ... on MediaImage {
      id
      image {
        url
        width
        height
      }
    }
    ... on Video {
      id
      sources {
        mimeType
        url
      }
    }
    ... on Model3d {
      id
      sources {
        mimeType
        url
      }
    }
    ... on ExternalVideo {
      id
      embedUrl
      host
    }
  }
  /* Products fetch by handle query goes here */
`;
</pre>
<p>上面的代码片段<a href="https://blog.logrocket.com/graphql-queries-in-simple-terms/">包含一个GraphQL查询</a>，它根据媒体的类型从<code>MediaFields</code>中检索媒体。接下来，让我们添加一个新的查询，通过句柄动态获取产品，如下所示:</p>
<pre class="language-html hljs">// src/routes/product/[handle].server.jsx

query Product($handle: String!) {
    product(handle: $handle) {
      id
      title
      vendor
      descriptionHtml
      media(first: 7) {
        nodes {
          ...MediaFields
        }
      }
      variants(first: 100) {
        nodes {
          id
          availableForSale
          compareAtPriceV2 {
            amount
            currencyCode
          }
          selectedOptions {
            name
            value
          }
          image {
            id
            url
            altText
            width
            height
          }
          priceV2 {
            amount
            currencyCode
          }
          sku
          title
          unitPrice {
            amount
            currencyCode
          }
        }
      }
    }
  }
</pre>
<p>上面的代码片段使用作为参数传递的<code>handle</code>动态获取用户选择的产品及其价格和变体。</p>
<p>最后，我们现在可以使用Shopify的<code>useShopQuery</code>钩子获取这个查询，并通过添加以下代码片段来呈现页面:</p>
<pre class="language-html hljs">// src/routes/[handle].server.jsx

import { useShopQuery, useRouteParams } from "@shopify/hydrogen";
import { Layout } from "../../components/Layout.server";
import ProductDetails from "../../components/ProductDetails.client";
export default function Product({ params }) {
  const { handle } = useRouteParams();
  const {
    data: { product },
  } = useShopQuery({
    query: PRODUCT_QUERY,
    variables: {
      handle,
    },
  });
  return (
    &lt;Layout&gt;
      &lt;ProductDetails product={product} /&gt;
    &lt;/Layout&gt;
  );
}
</pre>
<p>在上面的代码片段中，我们从<code>@shopify/hydrogen</code>导入了<code>useShopQuery</code>和<code>useRouteParams</code>，以及从<code>/components</code>目录导入了<code>ProductDetails</code>。我们还从<code>useRouteParams</code>钩子中析构了我们的句柄变量。</p>
<p>此外，我们将GraphQL产品查询传递到<code>useShopQuery</code>钩子中，并从数据对象中析构产品。最后，我们通过<code>products</code>作为我们的<code>ProductDetails</code>组件的道具。</p>
<p>现在，我们可以成功地动态导航到我们产品的各个页面，如下所示:</p>
<p><img data-attachment-id="151357" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img11-dynamic-navigation-product-pages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Dynamic-navigation-product-pages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages-300x165.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif" decoding="async" class="aligncenter size-full wp-image-151357 jetpack-lazy-image" src="../Images/99d43895746c8dbfbd9d5b4d331a1295.png" alt="Browser Shown Open To Example Store With Three Featured Products Listed Under Store Name. User Shown Mousing Over First Product And Clicking, Scrolling Down Product Page, Returning To Homepage, Clicking On Second Product, Scrolling Through Product Page, And Gif Loops" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151357" data-permalink="https://blog.logrocket.com/using-shopify-hydrogen-build-modern-ecommerce-storefronts/attachment/img11-dynamic-navigation-product-pages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Dynamic-navigation-product-pages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages-300x165.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151357" src="../Images/99d43895746c8dbfbd9d5b4d331a1295.png" alt="Browser Shown Open To Example Store With Three Featured Products Listed Under Store Name. User Shown Mousing Over First Product And Clicking, Scrolling Down Product Page, Returning To Homepage, Clicking On Second Product, Scrolling Through Product Page, And Gif Loops" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/img11-Dynamic-navigation-product-pages.gif"/></noscript>
<h2 id="deploying-storefront-netlify">使用Netlify部署我们的店面</h2>
<p>最后，让我们将氢气店面部署到<a href="https://app.netlify.com"> Netlify </a>。为了实现这一点，我们将首先安装以下软件包作为<code>devDependency</code>:</p>
<pre class="language-npm hljs">yarn add @netlify/hydrogen-platform -D
</pre>
<p>接下来，我们将更新我们的Vite配置。将下面的代码片段添加到我们的<code>vite.config.js</code>文件中:</p>
<pre class="language-javascript hljs">// vite.config,js
import netlifyPlugin from '@netlify/hydrogen-platform/plugin'
export default defineConfig({
  plugins: [hydrogen(), netlifyPlugin()],
});
</pre>
<p>接下来，我们将提交我们的代码库，并将其推送到GitHub。从那里，我们可以利用Netlify的CI/CD工作流来部署站点。你可以在Netlify 上<a href="https://kicks-store.netlify.app">访问已部署的站点，在GitHub </a>上<a href="https://github.com/yhuakim/kicks-stores">查看源代码。</a></p>
<h2 id="conclusion">结论</h2>
<p>本教程探讨了如何使用Hydrogen——Shopify最近发布的无头商务框架——来构建现代店面。要了解更多关于氢的工作原理，请查看Shopify开发文档。</p>
<p>Hydrogen的创新技术在保持高性能的同时，让购物体验变得格外动感。如果你是众多使用Shopify构建店面的开发者之一，我希望这篇教程对你有用。</p><div class="code-block code-block-22">
<div class="blog-plug inline-plug ecomm-plug"><h2><a href="https://lp.logrocket.com/blg/ecommerce-signup"> LogRocket </a>:看看用户为什么不完成你的电子商务流程中的一个步骤的技术和UX原因。</h2><a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/></noscript></a><p>LogRocket 就像是一个网络和移动应用程序和网站的DVR，记录你的电子商务应用程序上发生的一切。LogRocket没有猜测用户不转化的原因，而是主动揭示了阻止你转化的根本原因，比如JavaScript错误或死点击。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>开始主动监控您的电子商务应用程序— <a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer">免费试用</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>