<html>
<head>
<title>Gatsby: The ultimate guide with examples - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>盖茨比:带示例的终极指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/gatsby-ultimate-guide-examples/#0001-01-01">https://blog.logrocket.com/gatsby-ultimate-guide-examples/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>本教程最后一次更新于2022年6月9日，包含更多关于盖茨比的最新信息，包括关于盖茨比v4的信息。</em></p>
<p>在这个全面的Gatsby教程中，我们将告诉您关于流行的基于React的框架您需要知道的一切，包括它是什么，如何使用它，以及Gatsby与其他静态站点生成器的区别。</p>
<p>我们将详细介绍以下内容:</p>

<h2 id="what-is-gatsby">盖茨比是什么？</h2>
<p>Gatsby是一个免费、开源、基于React的框架，旨在帮助开发者构建高性能的网站和应用。简而言之，Gatsby是一个利用React的静态站点生成器。</p>
<p>为什么在框架(或库)之上需要一个框架？React不是应该帮助开发者建立网站和应用吗？这是讨论<a href="https://blog.logrocket.com/next-js-vs-gatsbyjs-a-developers-perspective/" target="_blank" rel="noopener">盖茨比和Next.js </a>时经常提出的一个合理的问题。</p>
<p>React是一个库，旨在为开发人员提供一组核心功能。它旨在重量轻且应用广泛。另一方面，Gatsby是一个静态渐进式web应用程序(PWA)生成器，它提供开箱即用的代码和数据拆分。</p>
<p>为了提高性能，Gatsby只加载关键的HTML、CSS、JavaScript和其他数据。加载后，它会为您可能导航到的其他页面预取资源。通过这种方式，你的网站可以尽可能快地加载，用户交互也感觉无缝。</p>
<h2 id="what-are-static-sites">什么是静态站点？</h2>
<p>静态网站已经存在很长时间了。事实上，它们很可能是原始网站:只是HTML、CSS和JavaScript。它们不会在运行时呈现；没有服务器端代码，没有数据库等。</p>
<p>静态站点生成器是一个生成静态站点的工具。关于JS框架和库，它们通常在运行时在客户端生成HTML内容。静态站点生成器在构建时生成这些内容。然后，一旦加载完毕，React就会接管，您就有了一个单页应用程序！</p>
<p>这与服务器端渲染有什么不同？这是一个很棒的问题。主要区别是没有服务器端代码。因此，与Next.js等工具不同，当发出请求时，Gatsby不会在服务器上呈现任何内容。这些都是在应用程序构建时完成的。</p>
<p>静态网站的一些好处是:速度、搜索引擎优化和安全性。用Gatsby制作的网站不仅速度极快，而且由于没有数据库或服务器，它们具有隐含的安全性，而且与标准的React应用程序不同，它们使SEO变得容易得多，因为爬虫可以找到内容。</p>
<h2 id="what-makes-gatsby-special">盖茨比的特别之处在哪里？</h2>
<p>Gatsby有一些很棒的特性，使它区别于其他静态站点生成器。首先也是最重要的，Gatsby充分利用了React，所以对于那些喜欢它的人来说，它是一个很好的选择。</p>
<p>Gatsby与像<a href="https://blog.logrocket.com/how-to-use-gatsby-netlify-cms/" target="_blank" rel="noopener"> Netlify </a>这样的平台结合得非常好，每次提交和推送GitHub时，你都可以轻松地配置你的站点来构建和部署。</p>
<p>Gatsby还附带了一个巨大的插件生态系统，可以满足各种需求。这些插件可以帮助你从像WordPress或Contentful这样的CMSs中获取数据，帮助你集成像Algolia这样的工具，并通过延迟加载和优化来管理你的图像。</p>
<p>Gatsby还提供了丰富的API，使得静态站点的开发更加容易——例如，<code>createPage</code> API使得在构建时使用模板将markdown文件转换成静态页面变得非常容易。</p>
<p>最后，Gatsby有一堆很棒的组件，它们简化了路由、链接和处理图像等事情，这些都不包含在核心的React库中。</p>
<h2 id="do-you-need-to-know-react-graphql-use-gatsby">使用Gatsby需要了解React和GraphQL吗？</h2>
<p>GraphQL 是一种流行且强大的查询语言和用于执行查询的服务器端运行时。它不与任何数据库或阶段引擎相关联；相反，GraphQL由您现有的代码提供支持。通过定义类型和这些类型上的字段，然后为每个类型上的每个字段提供函数，您可以<a href="https://graphql.org/learn/" target="_blank" rel="noopener">创建一个GraphQL服务</a>。</p>
<p>Gatsby使用GraphQL来管理整个应用程序中的数据。虽然没有GraphQL也可以使用Gatsby，但是使用GraphQL确实让app开发更具有声明性和直观性。</p>
<h2 id="getting-started-gatsby">盖茨比入门</h2>
<p>要开始使用Gatsby，请下载Gatsby CLI: <code>npm i -g gatsby</code>。这个命令行工具使您能够生成、运行和构建一个Gatsby应用程序。</p>
<p>要快速启动并运行，您可以使用<a href="https://github.com/gatsbyjs/gatsby-starter-default" target="_blank" rel="noopener"> Gatsby默认启动库</a>。克隆完成后(点击<strong>使用模板</strong>按钮创建你自己的副本，然后为你的新回购做一个<code>git clone</code>)，运行<code>npm install</code>然后<code>gatsby develop</code>。这将生成一个运行在<code><a href="http://localhost:3000" rel="nofollow">http://localhost:3000</a></code>上的完全活跃的Gatsby应用程序。</p>
<p>如果您正在运行Node v18，您可能会收到以下错误:</p>
<pre class="language-shell hljs">You must provide the URL of lib/mappings.wasm by calling SourceMapConsumer.initialize({
'lib/mappings.wasm': ... }) before using SourceMapConsumer
</pre>
<p>要处理此错误，您可以使用节点版本管理器降级到节点v17或v16，或者在运行<code>gatsby develop</code> : <code>export NODE_OPTIONS=--no-experimental-fetch</code>之前运行以下命令。Gatsby有自己的fetch实现，它与Node v18中引入的新的本机节点Fetch API相冲突。</p>
<p>为了确认页面已经被渲染，您可以访问任何页面并点击<strong>查看源代码</strong>。但是，请注意，您也可以单击链接，页面将在没有完全刷新的情况下更新，正如您对PWA的期望。</p>
<h2 id="designing-your-site-gatsby">用盖茨比设计你的网站</h2>
<p>设计一个外观和感觉确实是体验中最困难的部分。在某种程度上，我被各种可能性弄得不知所措。帮助我前进的一件事是查看 <a href="https://www.awwwards.com/websites/portfolio/" target="_blank" rel="noopener">获奖作品集网站</a> <span>的一页又一页，收集灵感，感受已经出现的</span> <span>伟大设计</span> <span>。</span></p>
<p>我致力于设计一些我自己的自定义动画和SVG。这很有趣，我不能推荐Figma足够的努力。如果熟悉素描，使用起来会极其简单。</p>
<p><img data-attachment-id="115604" data-permalink="https://blog.logrocket.com/gatsby-ultimate-guide-examples/attachment/vintage-computer-figma-design/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png" data-orig-size="288,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vintage computer figma design" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design-273x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png" decoding="async" class="size-full wp-image-115604 aligncenter jetpack-lazy-image" src="../Images/e21e2618c41d19b059a5284d4d16656d.png" alt="vintage computer figma design" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png 288w, https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design-273x300.png 273w" data-lazy-sizes="(max-width: 288px) 100vw, 288px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="115604" data-permalink="https://blog.logrocket.com/gatsby-ultimate-guide-examples/attachment/vintage-computer-figma-design/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png" data-orig-size="288,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vintage computer figma design" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design-273x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png" decoding="async" loading="lazy" class="size-full wp-image-115604 aligncenter" src="../Images/e21e2618c41d19b059a5284d4d16656d.png" alt="vintage computer figma design" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png 288w, https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design-273x300.png 273w" sizes="(max-width: 288px) 100vw, 288px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/vintage-computer-figma-design.png"/></noscript>
<h2 id="developing-your-site-gatsby">与Gatsby一起开发您的网站</h2>
<p>为了起步，我使用了<a href="https://github.com/gatsbyjs/gatsby-starter-default/" target="_blank" rel="noopener"> Gatsby starter库</a>。我把这个从GitHub分叉出来，重新命名为repo。然后我克隆了它，用Gatsby CLI来构建。在很短的时间内，我就在localhost上运行了一个实时热重装应用程序。</p>
<p>代码的结构非常简单。在src目录中有三个文件夹:<code>components</code>、<code>images</code>和<code>pages</code>。<code>images</code>目录包含几个在站点中使用的png文件。<code>components</code>目录包含几个值得注意的组件。</p>
<p>首先是<code>layout.js</code>组件。它是一个包装器组件，旨在为整个应用程序提供样式和功能。这种模式在React中非常流行。</p>
<p>您会注意到在组件的中心有一个名为<code>{children}</code>的绑定:</p>
<pre class="language-javascript hljs">/**
 * Layout component that queries for data
 * with Gatsby's useStaticQuery component
 *
 * See: https://www.gatsbyjs.com/docs/use-static-query/
 */
import * as React from "react"
import PropTypes from "prop-types"
import { useStaticQuery, graphql } from "gatsby"
import Header from "./header"
import "./layout.css"
const Layout = ({ children }) =&gt; {
  const data = useStaticQuery(graphql`
    query SiteTitleQuery {
      site {
        siteMetadata {
          title
        }
      }
    }
  `)
  return (
    &lt;&gt;
      &lt;Header siteTitle={data.site.siteMetadata?.title || `Title`} /&gt;
      &lt;div
        style={{
          margin: `0 auto`,
          maxWidth: `var(--size-content)`,
          padding: `var(--size-gutter)`,
        }}
      &gt;
        &lt;main&gt;{children}&lt;/main&gt;
        &lt;footer
          style={{
            marginTop: `var(--space-5)`,
            fontSize: `var(--font-sm)`,
          }}
        &gt;
          © {new Date().getFullYear()} &amp;middot; Built with
          {` `}
          &lt;a href="https://www.gatsbyjs.com"&gt;gatsbyjs&lt;/a&gt;
        &lt;/footer&gt;
      &lt;/div&gt;
    &lt;/&gt;
  )
}
Layout.propTypes = {
  children: PropTypes.node.isRequired,
}
export default Layout
</pre>
<p>这表示要在组件内部传递的内容。您可以在<code>pages</code>目录的<code>index.js</code>中看到这个组件正在工作:</p>
<pre class="language-javascript hljs">import * as React from "react"
import { Link } from "gatsby"
import { StaticImage } from "gatsby-plugin-image"
import Layout from "../components/layout"
import Seo from "../components/seo"
import * as styles from "../components/index.module.css"
const links = [
  {
    text: "Tutorial",
    url: "https://www.gatsbyjs.com/docs/tutorial",
    description:
      "A great place to get started if you're new to web development. Designed to guide you through setting up your first Gatsby site.",
  },
  {
    text: "Examples",
    url: "https://github.com/gatsbyjs/gatsby/tree/master/examples",
    description:
      "A collection of websites ranging from very basic to complex/complete that illustrate how to accomplish specific tasks within your Gatsby sites.",
  },
  {
    text: "Plugin Library",
    url: "https://www.gatsbyjs.com/plugins",
    description:
      "Learn how to add functionality and customize your Gatsby site or app with thousands of plugins built by our amazing developer community.",
  },
  {
    text: "Build and Host",
    url: "https://www.gatsbyjs.com/cloud",
    description:
      "Now you’re ready to show the world! Give your Gatsby site superpowers: Build and host on Gatsby Cloud. Get started for free!",
  },
]
const samplePageLinks = [
  {
    text: "Page 2",
    url: "page-2",
    badge: false,
    description:
      "A simple example of linking to another page within a Gatsby site",
  },
  { text: "TypeScript", url: "using-typescript" },
  { text: "Server Side Rendering", url: "using-ssr" },
  { text: "Deferred Static Generation", url: "using-dsg" },
]
const moreLinks = [
  { text: "Join us on Discord", url: "https://gatsby.dev/discord" },
  {
    text: "Documentation",
    url: "https://gatsbyjs.com/docs/",
  },
  {
    text: "Starters",
    url: "https://gatsbyjs.com/starters/",
  },
  {
    text: "Showcase",
    url: "https://gatsbyjs.com/showcase/",
  },
  {
    text: "Contributing",
    url: "https://www.gatsbyjs.com/contributing/",
  },
  { text: "Issues", url: "https://github.com/gatsbyjs/gatsby/issues" },
]
const utmParameters = `?utm_source=starter&amp;utm_medium=start-page&amp;utm_campaign=default-starter`
const IndexPage = () =&gt; (
  &lt;Layout&gt;
    &lt;Seo title="Home" /&gt;
    &lt;div className={styles.textCenter}&gt;
      &lt;StaticImage
        src="../images/example.png"
        loading="eager"
        width={64}
        quality={95}
        formats={["auto", "webp", "avif"]}
        alt=""
        style={{ marginBottom: `var(--space-3)` }}
      /&gt;
      &lt;h1&gt;
        Welcome to &lt;b&gt;Gatsby!&lt;/b&gt;
      &lt;/h1&gt;
      &lt;p className={styles.intro}&gt;
        &lt;b&gt;Example pages:&lt;/b&gt;{" "}
        {samplePageLinks.map((link, i) =&gt; (
          &lt;React.Fragment key={link.url}&gt;
            &lt;Link to={link.url}&gt;{link.text}&lt;/Link&gt;
            {i !== samplePageLinks.length - 1 &amp;&amp; &lt;&gt; · &lt;/&gt;}
          &lt;/React.Fragment&gt;
        ))}
        &lt;br /&gt;
        Edit <code>src/pages/index.js</code> to update this page. &lt;/p&gt; &lt;/div&gt; &lt;ul className={styles.list}&gt; {links.map(link =&gt; ( &lt;li key={link.url} className={styles.listItem}&gt; &lt;a className={styles.listItemLink} href={`${link.url}${utmParameters}`} &gt; {link.text} ↗ &lt;/a&gt; &lt;p className={styles.listItemDescription}&gt;{link.description}&lt;/p&gt; &lt;/li&gt; ))} &lt;/ul&gt; {moreLinks.map((link, i) =&gt; ( &lt;React.Fragment key={link.url}&gt; &lt;a href={`${link.url}${utmParameters}`}&gt;{link.text}&lt;/a&gt; {i !== moreLinks.length - 1 &amp;&amp; &lt;&gt; · &lt;/&gt;} &lt;/React.Fragment&gt; ))} &lt;/Layout&gt; ) export default IndexPage</pre>
<p>另一个值得注意的部分是<code>seo.js</code>:</p>
<pre class="language-javascript hljs">/**
 * SEO component that queries for data with
 *  Gatsby's useStaticQuery React hook
 *
 * See: https://www.gatsbyjs.com/docs/use-static-query/
 */
import * as React from "react"
import PropTypes from "prop-types"
import { Helmet } from "react-helmet"
import { useStaticQuery, graphql } from "gatsby"
function Seo({ description, lang, meta, title }) {
  const { site } = useStaticQuery(
    graphql`
      query {
        site {
          siteMetadata {
            title
            description
            author
          }
        }
      }
    `
  )
  const metaDescription = description || site.siteMetadata.description
  const defaultTitle = site.siteMetadata?.title
  return (
    &lt;Helmet
      htmlAttributes={{
        lang,
      }}
      title={title}
      titleTemplate={defaultTitle ? `%s / ${defaultTitle}` : null}
      meta={[
        {
          name: `description`,
          content: metaDescription,
        },
        {
          property: `og:title`,
          content: title,
        },
        {
          property: `og:description`,
          content: metaDescription,
        },
        {
          property: `og:type`,
          content: `website`,
        },
        {
          name: `twitter:card`,
          content: `summary`,
        },
        {
          name: `twitter:creator`,
          content: site.siteMetadata?.author || ``,
        },
        {
          name: `twitter:title`,
          content: title,
        },
        {
          name: `twitter:description`,
          content: metaDescription,
        },
      ].concat(meta)}
    /&gt;
  )
}
Seo.defaultProps = {
  lang: `en`,
  meta: [],
  description: ``,
}
Seo.propTypes = {
  description: PropTypes.string,
  lang: PropTypes.string,
  meta: PropTypes.arrayOf(PropTypes.object),
  title: PropTypes.string.isRequired,
}
export default Seo
</pre>
<p>这个组件显示了一些有趣的事情。首先，它让我们对GraphQL在Gatsby中的使用有了一点了解。组件第10行的<code>useStaticQuery</code>调用被设计成在构建时从<code>gatsby-config.js</code>获取siteMetadata。然后，来自该查询的数据通过props传递给组件。</p>
<p>在<code>pages</code>下，你有主<code>index.js</code>，一个二级页面，和一个404页面。在<code>index.js</code>中，您可以看到布局组件是如何工作的，也可以看到如何使用Gatsby的<code>Link</code>组件链接到其他页面，如<code>page-2.js</code>。这个文件夹里的任何东西都会被Gatsby在构建时转换成静态页面。</p>
<p>这提供了许多你需要的现成的东西。您可以立即开始构建页面和组件。然而，如果你想动态地创建网页，比如说markdown文件，你可以在Gatsby的网站上<a href="https://www.gatsbyjs.org/docs/adding-markdown-pages/" target="_blank" rel="noopener">遵循这个简单的教程</a>。</p>
<h2 id="searching-your-gatsby-site">搜索你的盖茨比网站</h2>
<p>没有服务器的一个缺点是搜索你的网站并不简单。这可以通过使用类似于<a href="https://www.algolia.com/" target="_blank" rel="noopener"> Algolia </a>的工具来规避。Gatsby有一些关于使用Algolia或其他工具如Lunr和ElasticSearch实现这一功能的<a href="https://www.gatsbyjs.org/docs/adding-search-with-algolia/" target="_blank" rel="noopener">伟大指南。</a></p>
<p><img data-attachment-id="115606" data-permalink="https://blog.logrocket.com/gatsby-ultimate-guide-examples/attachment/gatsby-example-searching/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png" data-orig-size="720,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Gatsby Example- Searching" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png" decoding="async" class="size-full wp-image-115606 aligncenter jetpack-lazy-image" src="../Images/99ea3792e66ad587b285e3b6daab60ae.png" alt="Gatsby Example: Searching" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching-300x188.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="115606" data-permalink="https://blog.logrocket.com/gatsby-ultimate-guide-examples/attachment/gatsby-example-searching/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png" data-orig-size="720,451" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Gatsby Example- Searching" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching-300x188.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png" decoding="async" loading="lazy" class="size-full wp-image-115606 aligncenter" src="../Images/99ea3792e66ad587b285e3b6daab60ae.png" alt="Gatsby Example: Searching" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching-300x188.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Gatsby-Example-Searching.png"/></noscript>
<h2 id="deploying-your-gatsby-site">部署您的Gatsby站点</h2>
<p>一旦你创建了一个网站，你需要考虑如何托管它。有两个很好的选择领先于其他选择:GitHub Pages和Netlify。</p>
<p>我选择了Netlify，因为他们提供持续部署(Git触发的构建)、全球CDN、完整DNS、自动化HTTPS等等。</p>
<p>他们的免费层包括“无限的个人和商业项目，HTTPS，从公共或私人回购的持续部署，等等。”我也可以很容易地通过Netlify购买我需要的域名。这基本上是一个一站式商店，提供我的网站上线所需的一切。</p>
<p>将你的站点添加到Netlify就像创建一个帐户，链接你的GitHub，点击<strong>从git </strong>创建站点按钮一样简单。</p>
<h2 id="is-gatsby-dead">盖茨比死了吗？</h2>
<p>围绕着Next.js 和<a href="https://blog.logrocket.com/remix-guide-newly-open-sourced-react-framework/" target="_blank" rel="noopener"> Remix </a>的大肆宣传，有人可能会问，还有盖茨比的空间吗？答案是响亮的是。</p>
<p>查看npm上的<a href="https://www.npmjs.com/package/gatsby" target="_blank" rel="noopener">盖茨比图书馆页面</a>，核心图书馆仍然保持每周40万次的平均下载量，并且有了为盖茨比框架定制主机的<a href="https://www.gatsbyjs.com/products/cloud/" target="_blank" rel="noopener">盖茨比云服务</a>，你就有了工具和支持，将使盖茨比在可预见的未来保持强大。</p>
<h2 id="should-you-use-gatsby">该不该用盖茨比？</h2>
<p>我应该用另一台发电机吗？我应该用React或Next.js建立一个站点吗？盖茨比有优点也有缺点。然而，通过某些用例，许多缺点被最小化了。对于创建个人网站来说，盖茨比是我的最佳选择。</p>
<p>工作流程非常简单:当我做出更改并将它们推送到GitHub时，我的站点被重新部署。我不需要太关心基础设施等。Netlify为我处理所有的事情。</p>
<p>它在允许我编码和减少样板代码之间保持了很好的平衡。<br/>我喜欢<code>gatsby-image</code>插件，使用GraphQL的能力确实简化了向我的组件传递数据。</p>
<p>我唯一不喜欢的是，像<code>gatsby-node.js</code>这样的文件中需要的一些配置对我来说似乎不那么直观。</p>
<p>总之，我真的会向那些寻找候选人来开发像作品集和个人博客这样的小型网站的人推荐盖茨比。它确实在这些用例中大放异彩。</p>
<p>Gatsby具有静态网站的所有优点，例如速度、安全性和SEO，对于那些喜欢做一些编码工作而不想只使用WordPress或SquareSpace的人来说，它尤其棒。</p>
<h2 id="whats-new-with-gatsby-v4">盖茨比v4有什么新功能？</h2>
<p>自从本文最初撰写以来，<a href="https://blog.logrocket.com/whats-new-in-gatsby-v4/" target="_blank" rel="noopener"> Gatsby已经发布了一个新的主要版本</a>，为Gatsby平台带来了许多新的前沿特性，例如:</p>
<ul>
<li>并行查询，将查询速度提高了40%</li>
<li>延迟静态生成在第一次用户请求时静态生成页面，而不是在构建时生成</li>
<li>针对每个用户请求呈现的页面的服务器端呈现(非常适合包含大量动态内容的页面)</li>
</ul>
<p>但是像任何主要版本一样，它带来的变化会打破v3的代码基础，而不遵循这个<a href="https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v3-to-v4/" target="_blank" rel="noopener">迁移指南</a>。需要记住的一些突出变化如下:</p>
<ul>
<li><code>createFieldExtension</code>、<code>createTypes</code>和<code>addThirdPartySchema</code>已被弃用，取而代之的是新的<code>createSchemaCustomization</code>和<code>createResolvers</code></li>
<li><code>touchNode</code>和<code>deleteNote</code>方法的参数现在是节点本身</li>
</ul>
<p>有了DSG和SSR，Gatsby现在是一个适用于所有情况的完整的web开发框架，与Remix和Next.js相当</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>