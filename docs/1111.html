<html>
<head>
<title>Theming &amp; customization with Ionic - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Ionic - LogRocket博客进行主题化和定制</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/theming-customization-with-ionic/#0001-01-01">https://blog.logrocket.com/theming-customization-with-ionic/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Ionic Framework是一个开源UI工具包，用于使用web技术(HTML、CSS、JavaScript)构建高性能、高质量的移动和桌面应用。它可以与普通的JavaScript一起使用，并且它集成了流行的框架，包括Angular和React，并正在支持Vue。</p>
<p>Ionic组件根据应用运行的平台来调整它们的外观和行为。这使得开发人员可以为多个平台构建使用相同代码库的应用程序，同时看起来仍然是这些特定平台的“原生”应用程序。尽管组件是为匹配它们的本地对应物而构建的，但是由于框架是用CSS构建的，所以默认样式可以很容易地定制和主题化。</p>
<p>在本教程中，我们将介绍如何为Ionic Framework应用程序设置主题，以匹配特定的配色方案，并定制单个组件的样式。</p>
<h3>完成的项目</h3>
<p>如果你想继续完成这个项目，源代码可以在<a href="https://github.com/brandyscarney/log-rocket-theming-finished" target="_blank" rel="noopener noreferrer">这里</a>找到。</p>
<h2>先决条件</h2>
<p>为了完成本教程，您需要:</p>

<h2>开始一个新项目</h2>
<h3>CLI安装</h3>
<p>启动一个新的Ionic Framework应用程序可以完全通过<a href="https://ionicframework.com/docs/intro/cli" target="_blank" rel="noopener noreferrer"> Ionic CLI </a>或通过CLI使用<a href="https://ionicframework.com/start" target="_blank" rel="noopener noreferrer">启动向导</a>来完成，但后者需要一个帐户。</p>
<p>在本教程中，我们将只使用离子CLI。要安装它，请打开终端并运行以下命令:</p>
<pre>npm install -g @ionic/cli</pre>
<blockquote><p>如果你之前安装了一个旧版本或者遇到了权限错误，看看<a href="https://ionicframework.com/docs/intro/cli#install-the-ionic-cli" target="_blank" rel="noopener noreferrer"> CLI安装</a>来解决它们。</p></blockquote>
<h3>创造</h3>
<p>Ionic CLI有几个命令，使启动和预览应用程序变得快速而简单。为了创建Ionic应用程序，我们将在终端中运行CLI的<code>start</code>命令。</p>
<p>在本教程中，我使用Angular创建了一个启动器项目，我们将使用它作为模板，而不是离子启动器。这个项目是使用Ionic tabs starter创建的，并被修改为包含更多的组件，以保持本教程中主题化的重点。首先导航到您希望应用程序所在的目录，然后运行以下命令:</p>
<pre>ionic start "Custom Theming" https://github.com/brandyscarney/log-rocket-theming</pre>
<blockquote><p>如果你在没有任何参数的情况下运行<code>ionic start</code>，它会提示你输入一个应用名称，选择一个框架，并选择一个启动模板(<code>tabs</code>、<code>sidemenu</code>、<code>blank</code>等等)。).我们通过传入参数绕过了这个提示，但是你可以在<a href="https://ionicframework.com/docs/cli/commands/start" target="_blank" rel="noopener noreferrer"> Ionic start文档</a>中看到所有可用的选项。</p></blockquote>
<h3>预视</h3>
<p>启动命令完成后，我们可以通过运行以下命令导航到app目录:</p>
<pre>cd ./custom-theming</pre>
<p>要在浏览器中预览应用程序，请运行以下命令:</p>
<pre>ionic serve --lab</pre>
<p>您的首选浏览器将在URL<a href="http://localhost:8200" rel="nofollow">http://localhost:8200</a>打开一个窗口，并排显示两个设备预览:iOS和Android。</p>
<blockquote><p>如果您希望一次只看到一个，可以运行没有<code>--lab</code>标志的<code>serve</code>命令，或者您可以导航到<a href="http://localhost:8100/" rel="nofollow"> http://localhost:8100/ </a>。</p>
<p>这样做需要您启用响应设备模式，以便在浏览器的不同模式之间轻松切换。</p></blockquote>
<p><a href="https://blog.logrocket.com/wp-content/uploads/2020/08/initial-app-lab.mov">点击此处查看应用程序。</a></p>
<p>该应用程序由三个选项卡页面组成。选项卡1包含一些卡片和右上角的一个按钮，用于显示警告。选项卡2由多个列表组成，每个列表中包含不同的组件。表3包括许多展示不同离子颜色的文本示例。</p>
<h2>主题概念</h2>
<p>Ionic框架是使用Web组件构建的，并且可以使用CSS进行样式化。除了使用CSS，许多组件可以使用CSS自定义属性(变量)和CSS阴影部分来设置样式。</p>
<h3>CSS自定义属性</h3>
<p>CSS自定义属性允许一个值存储在一个地方，然后在多个其他地方引用。它们还使得在运行时动态地改变CSS成为可能，这在应用程序中提供动态主题时很方便。在Ionic Framework中，CSS自定义属性在组件级别提供，用于自定义单个组件和全局，以便快速主题化整个应用程序。</p>
<p>Ionic Framework提供了CSS自定义属性指南以获取更多信息。</p>
<h3>CSS阴影部分</h3>
<p>CSS阴影部分允许开发人员在阴影树内部的元素上设置CSS属性的样式。一个部件被添加到一个影子树中的一个元素中，然后可以使用CSS对它进行样式化。重要的是要注意，阴影部分只暴露在<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer"> Shadow DOM </a>组件上。</p>
<p>稍后我们将详细介绍Ionic Framework的不同组件。</p>
<p>有关更多信息，请查看Ionic Framework的<a href="https://ionicframework.com/docs/theming/css-shadow-parts" target="_blank" rel="noopener noreferrer"> CSS阴影部分指南</a>。</p>
<h3>全局主题化</h3>
<p>Ionic Framework是为适应您的主题或品牌而定制的。为了实现这一点，有一些全局CSS自定义属性可以用来改变应用程序的颜色和默认的离子颜色。</p>
<h2>添加新主题</h2>
<p>我们将从应用自定义主题到我们的应用程序开始。Ionic文档有一个<a href="https://ionicframework.com/docs/theming/themes#stepped-color-generator" target="_blank" rel="noopener noreferrer">步进颜色生成器</a>，我将用它来为应用程序的背景和文本颜色生成变量。我用<code>#1e2b33</code>作为背景颜色，用<code>#ffffff</code>作为文本颜色。</p>
<p><img data-attachment-id="24568" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/stepped-color-generator-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif" data-orig-size="730,904" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stepped-color-generator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator-242x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif" decoding="async" class="aligncenter size-full wp-image-24568 jetpack-lazy-image" src="../Images/e754edcfc6a046c7a124cd0c2241f8ba.png" alt="The stepped color generator." data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24568" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/stepped-color-generator-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif" data-orig-size="730,904" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stepped-color-generator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator-242x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24568" src="../Images/e754edcfc6a046c7a124cd0c2241f8ba.png" alt="The stepped color generator." data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/stepped-color-generator.gif"/></noscript>
<p>使用生成器后，我们需要打开<code>src/theme/variables.scss</code>文件来粘贴代码。更新<code>:root</code>选择器以添加生成的代码:</p>
<pre>:root {
  --ion-background-color: #1e2b33;
  --ion-background-color-rgb: 30,43,51;

  --ion-text-color: #ffffff;
  --ion-text-color-rgb: 255,255,255;

  --ion-color-step-50: #29363d;
  --ion-color-step-100: #354047;
  --ion-color-step-150: #404b52;
  --ion-color-step-200: #4b555c;
  --ion-color-step-250: #566066;
  --ion-color-step-300: #626b70;
  --ion-color-step-350: #6d757a;
  --ion-color-step-400: #788085;
  --ion-color-step-450: #838a8f;
  --ion-color-step-500: #8f9599;
  --ion-color-step-550: #9aa0a3;
  --ion-color-step-600: #a5aaad;
  --ion-color-step-650: #b0b5b8;
  --ion-color-step-700: #bcbfc2;
  --ion-color-step-750: #c7cacc;
  --ion-color-step-800: #d2d5d6;
  --ion-color-step-850: #dddfe0;
  --ion-color-step-900: #e9eaeb;
  --ion-color-step-950: #f4f4f5;
}</pre>
<blockquote><p>您可能会注意到背景和文本变量有额外的<code>-rgb</code>变量。Ionic Framework在几个组件中使用不透明度(alpha)的背景/文本颜色。为了实现这一点，这些属性也必须以RGB格式提供，没有换行<code>rgb()</code>。</p></blockquote>
<p>要了解更多信息，请参见<a href="https://ionicframework.com/docs/theming/advanced#the-alpha-problem" target="_blank" rel="noopener noreferrer">高级主题化文档</a>。</p>
<p>阶梯式颜色从背景颜色值开始，并以递增的百分比与文本颜色值混合。这些在整个Ionic框架组件中使用，必须定义，否则应用程序将显示不正确的边框和文本颜色，例如，在多个地方。</p>
<p>应用程序在这一点上看起来应该很好，但我们可以通过将卡片背景变量设置为步进颜色来更进一步:</p>
<pre>:root {
  /* previous variables from the generator */
  
  --ion-card-background: var(--ion-color-step-50);
}</pre>
<p>完成此操作后，第一个选项卡上第二张卡片中的列表仍显示为背景色。我们还可以修改项目的颜色。但是，由于第二个选项卡上的项目应该与背景颜色相匹配，所以我们可以只修改第一个选项卡上的项目。</p>
<p>全局变量可以在根选择器上设置，但也可以在每页上设置。打开<code>src/app/tab1/tab1.page.scss</code>并包含以下CSS:</p>
<pre>:host {
  --ion-item-background: var(--ion-card-background);
}</pre>
<p>通过设置这个页面上的项目来使用<code>--ion-card-background</code>变量，我们可以更新主题，它会自动随之更新。</p>
<p>此时，你的应用程序看起来应该是这样的。</p>
<p>如果你想在全球范围内改变特定组件，Ionic还提供了其他几种应用颜色。</p>
<h3>改变爱奥尼亚的颜色</h3>
<p>Ionic有九种默认颜色，可以定制。原色用于几个离子组件，其他颜色可以使用<code>color</code>属性在许多组件上设置。</p>
<p>每种颜色都是多种属性的集合，包括阴影和色调。我们可以使用<a href="https://ionicframework.com/docs/theming/color-generator" target="_blank" rel="noopener noreferrer">颜色生成器</a>来创建自定义调色板。</p>
<p><img data-attachment-id="24564" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/color-gen-demo-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif" data-orig-size="730,570" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="color-gen-demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo-300x234.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif" decoding="async" class="aligncenter size-full wp-image-24564 jetpack-lazy-image" src="../Images/fdf2df0dc35cc41cf876780e0b7758d6.png" alt="A gif showing the color generator in action." data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24564" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/color-gen-demo-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif" data-orig-size="730,570" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="color-gen-demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo-300x234.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24564" src="../Images/fdf2df0dc35cc41cf876780e0b7758d6.png" alt="A gif showing the color generator in action." data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/color-gen-demo.gif"/></noscript>
<p>非常欢迎您在这里创建自己的颜色，或者您可以复制并粘贴我在<code>src/theme/variables.scss</code>中的<code>:root</code>选择器的开头生成的颜色:</p>
<pre>:root {
  --ion-color-primary: #9a95ff;
  --ion-color-primary-rgb: 154,149,255;
  --ion-color-primary-contrast: #000000;
  --ion-color-primary-contrast-rgb: 0,0,0;
  --ion-color-primary-shade: #8883e0;
  --ion-color-primary-tint: #a4a0ff;

  --ion-color-secondary: #ff7c9f;
  --ion-color-secondary-rgb: 255,124,159;
  --ion-color-secondary-contrast: #000000;
  --ion-color-secondary-contrast-rgb: 0,0,0;
  --ion-color-secondary-shade: #e06d8c;
  --ion-color-secondary-tint: #ff89a9;

  --ion-color-tertiary: #66f2f8;
  --ion-color-tertiary-rgb: 102,242,248;
  --ion-color-tertiary-contrast: #000000;
  --ion-color-tertiary-contrast-rgb: 0,0,0;
  --ion-color-tertiary-shade: #5ad5da;
  --ion-color-tertiary-tint: #75f3f9;

  --ion-color-success: #2fdf75;
  --ion-color-success-rgb: 47,223,117;
  --ion-color-success-contrast: #000000;
  --ion-color-success-contrast-rgb: 0,0,0;
  --ion-color-success-shade: #29c467;
  --ion-color-success-tint: #44e283;

  --ion-color-warning: #ffd534;
  --ion-color-warning-rgb: 255,213,52;
  --ion-color-warning-contrast: #000000;
  --ion-color-warning-contrast-rgb: 0,0,0;
  --ion-color-warning-shade: #e0bb2e;
  --ion-color-warning-tint: #ffd948;

  --ion-color-danger: #ff4961;
  --ion-color-danger-rgb: 255,73,97;
  --ion-color-danger-contrast: #000000;
  --ion-color-danger-contrast-rgb: 0,0,0;
  --ion-color-danger-shade: #e04055;
  --ion-color-danger-tint: #ff5b71;

  --ion-color-dark: #f4f5f8;
  --ion-color-dark-rgb: 244,245,248;
  --ion-color-dark-contrast: #000000;
  --ion-color-dark-contrast-rgb: 0,0,0;
  --ion-color-dark-shade: #d7d8da;
  --ion-color-dark-tint: #f5f6f9;

  --ion-color-medium: #989aa2;
  --ion-color-medium-rgb: 152,154,162;
  --ion-color-medium-contrast: #000000;
  --ion-color-medium-contrast-rgb: 0,0,0;
  --ion-color-medium-shade: #86888f;
  --ion-color-medium-tint: #a2a4ab;

  --ion-color-light: #222428;
  --ion-color-light-rgb: 34,36,40;
  --ion-color-light-contrast: #ffffff;
  --ion-color-light-contrast-rgb: 255,255,255;
  --ion-color-light-shade: #1e2023;
  --ion-color-light-tint: #383a3e;

  /* previous theming variables should be here */
}</pre>
<p>你的应用程序现在将使用紫色作为主色。您可以在选项卡按钮颜色上看到原色的变化。在第一个选项卡上，iOS上工具栏中的按钮发生了变化。第二个选项卡显示了许多输入控件的颜色变化。第三个选项卡显示了所有颜色的变化，尽管在某些情况下很微妙。</p>
<p>这些颜色都可以改变，以适应您的应用程序的品牌，并且还可以添加其他颜色。</p>
<p><img data-attachment-id="24287" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/after-color-generator-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif" data-orig-size="730,707" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="after-color-generator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator-300x291.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif" decoding="async" class="aligncenter size-full wp-image-24287 jetpack-lazy-image" src="../Images/0c74b69a91fa10afb4843a55fa7b037a.png" alt="Our app with additional colors added." data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24287" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/after-color-generator-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif" data-orig-size="730,707" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="after-color-generator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator-300x291.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24287" src="../Images/0c74b69a91fa10afb4843a55fa7b037a.png" alt="Our app with additional colors added." data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/after-color-generator.gif"/></noscript>
<h2>定制组件</h2>
<h3>组件类型</h3>
<p>Ionic Framework有三种不同类型的组件:Light DOM、Shadow DOM和Scoped组件。重要的是要知道你正在设计哪一个来决定如何应用CSS。每个组件都列在<a href="https://ionicframework.com/docs/components" target="_blank" rel="noopener noreferrer">组件文档</a>中。</p>
<p>如果组件有一个“影子”标记，它就是一个影子DOM组件。如果它有一个“作用域”标记，那么它就是一个作用域组件。否则，如果没有徽章，它就是一个轻量级的DOM组件。下图显示了三种不同的类型。</p>
<p><img data-attachment-id="24125" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/component-types/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png" data-orig-size="730,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="component-types" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types-300x81.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png" decoding="async" class="aligncenter size-full wp-image-24125 jetpack-lazy-image" src="../Images/284749cf6c828ddd79b67b79ad19db77.png" alt="Ionic compound types." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/08/component-types-300x81.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24125" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/component-types/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png" data-orig-size="730,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="component-types" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types-300x81.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24125" src="../Images/284749cf6c828ddd79b67b79ad19db77.png" alt="Ionic compound types." srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/08/component-types-300x81.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/component-types.png"/></noscript>
<p>Light DOM  <br/> Light DOM组件没有封装，不呈现任何内部元素。当添加一个轻量级DOM组件时，可以直接使用CSS来设置组件的样式。</p>
<p><strong> Shadow DOM </strong> <br/> Shadow DOM是一个组件的DOM和样式封装的原生浏览器解决方案。它将组件与其周围环境隔离开来，防止样式漏入或漏出组件。要样式化阴影DOM组件的内部元素，必须使用CSS自定义属性或CSS阴影部分。</p>
<p>使用作用域封装的组件会在运行时通过给每个样式附加一个数据属性来自动确定CSS的作用域。在CSS中覆盖作用域选择器需要更高的特异性选择器。也可以使用CSS自定义属性来设置作用域组件的样式。</p>
<h3>自定义警报</h3>
<p>Alert是一个作用域组件，这意味着我们可以使用CSS和CSS自定义属性(变量)自定义主机元素及其内部元素。所有可以样式化的CSS变量都可以在<a href="https://ionicframework.com/docs/api/alert#css-custom-properties" target="_blank" rel="noopener noreferrer">警告文档</a>中找到。</p>
<p>与轻量级DOM和影子DOM组件相比，作用域组件具有更高的<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity" target="_blank" rel="noopener noreferrer">特异性</a>选择器。因此，我们在创建警报时分配了一个<code>cssClass</code>。在<code>src/app/tab1/tab1.page.ts</code>中，<code>cssClass</code>的值为<code>themed-alert</code>。我们可以使用这个<code>themed-alert</code>类来获得比离子风格更高的优先级。使用<code>!important</code>覆盖样式也可以达到同样的效果，但是我们通常会尽量避免使用它。</p>
<p>所有Ionic框架覆盖组件(警报、行动表、弹出窗口等。)被附加到主<code>ion-app</code>组件。因为角度页面是有范围的，所以我们需要在全局层次上设计警告的样式，在我们正在查看的页面之外。</p>
<p>打开<code>src/global.scss</code>文件并在末尾添加以下CSS:</p>
<pre>.themed-alert {
  --backdrop-opacity: .5;
}</pre>
<p>这将设置背景不透明度稍微不透明。我们可以更进一步，添加一条规则，修改按钮颜色，使用与应用程序文本颜色相同的颜色，而不是原色:</p>
<pre>/* This will show as #ffffff, or white */
.themed-alert .alert-button {
  color: var(--ion-text-color);
}</pre>
<p>此时，您的警报应该如下所示:</p>
<p><img data-attachment-id="24126" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/ionic-mobile-app-style/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png" data-orig-size="730,705" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ionic-mobile-app-style" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style-300x290.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png" decoding="async" class="aligncenter size-full wp-image-24126 jetpack-lazy-image" src="../Images/3cb4e4a5df54da7c82b337fe6a039030.png" alt="The Ionic alert on its mobile interface." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style-300x290.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24126" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/ionic-mobile-app-style/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png" data-orig-size="730,705" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ionic-mobile-app-style" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style-300x290.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24126" src="../Images/3cb4e4a5df54da7c82b337fe6a039030.png" alt="The Ionic alert on its mobile interface." srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style-300x290.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/ionic-mobile-app-style.png"/></noscript>
<p>正如您所看到的，您可以定制警报的任何部分，但是它需要检查元素以找出您需要样式化的类。</p>
<h3>自定义开关</h3>
<p>Toggle是一个阴影DOM组件，它公开了用于样式化的<a href="https://ionicframework.com/docs/api/toggle#css-shadow-parts" target="_blank" rel="noopener noreferrer"> CSS阴影部分</a>和<a href="https://ionicframework.com/docs/api/toggle#css-custom-properties" target="_blank" rel="noopener noreferrer"> CSS变量</a>。</p>
<p>我将使用CSS阴影部分来展示如何定制一个切换，但重要的是要在支持<a href="https://caniuse.com/#feat=mdn-css_selectors_part" target="_blank" rel="noopener noreferrer">的浏览器</a>中预览，以便正确地看到最终结果。</p>
<p>导航到选项卡2并滚动到底部以查看切换。在<code>src/app/tab2/tab2.page.css</code>的内部，将以下CSS粘贴到末尾:</p>
<pre>ion-toggle::part(track) {
  background: var(--ion-color-step-150);
}

ion-toggle.toggle-checked::part(track) {
  background: rgb(var(--ion-color-success-rgb), 0.5);
}

ion-toggle::part(handle) {
  background: #ffffff;
}</pre>
<p>发生了一些事情，让我们来分析一下。首先，我们正在更新切换轨迹的背景，以使用我们在本教程前面定义的背景颜色的一个步骤。然后，当切换被选中时，我们将改变轨迹背景，使用我们之前也改变过的<code>success</code>颜色的不透明版本。之后，我们改变手柄颜色，使用<code>#ffffff</code>，或<code>white</code>。前两个背景值可以被硬编码，但是当你改变主题时使用CSS变量真的很好。</p>
<p>我们只修改了切换的颜色，但是，通过使用CSS阴影部分，这些元素的任何属性都可以改变。我们可以改变<code>height</code>、<code>width</code>、<code>border-radius</code>等等。</p>
<p>我有一个<a href="https://codepen.io/brandyscarney/pen/NWGawmg" target="_blank" rel="noopener noreferrer"> Codepen </a>,里面有更多只使用CSS和CSS变量改变Ionic框架切换的例子。</p>
<p>下面是最终切换的样子:</p>
<p><img data-attachment-id="24127" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/toggle-customization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png" data-orig-size="1600,1552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="toggle-customization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-300x291.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1024x993.png" decoding="async" class="aligncenter wp-image-24127 jetpack-lazy-image" src="../Images/36f8259fb98851e7488ad7bd1ef24cf8.png" alt="Ionic toggle customization." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png 1600w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-300x291.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1024x993.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-768x745.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1536x1490.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24127" data-permalink="https://blog.logrocket.com/theming-customization-with-ionic/toggle-customization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png" data-orig-size="1600,1552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="toggle-customization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-300x291.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1024x993.png" decoding="async" loading="lazy" class="aligncenter wp-image-24127" src="../Images/36f8259fb98851e7488ad7bd1ef24cf8.png" alt="Ionic toggle customization." srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png 1600w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-300x291.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1024x993.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-768x745.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization-1536x1490.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/toggle-customization.png"/></noscript>
<h2>结论</h2>
<p>我们已经学习了Ionic框架中主题化和定制的基础知识。你还可以做更多的事情！用户可以通过对一个类应用全局变量来动态地改变主题。可以进一步定制组件，以修改它们的外观，包括它们的大小。在此之后，我推荐一些事情:</p>
<ul>
<li>通读所有的<a href="https://ionicframework.com/docs/theming/basics" target="_blank" rel="noopener noreferrer">离子主题指南</a>。</li>
<li>遵循<a href="https://ionicframework.com/docs/theming/colors#adding-colors" target="_blank" rel="noopener noreferrer">颜色指南</a>并使用<a href="https://ionicframework.com/docs/theming/colors#new-color-creator" target="_blank" rel="noopener noreferrer">新颜色生成器</a>添加更多颜色。</li>
<li>了解如何根据用户的设备设置启用<a href="https://ionicframework.com/docs/theming/dark-mode" target="_blank" rel="noopener noreferrer">黑暗模式</a>。注意:黑暗模式在新的Ionic Framework应用程序中是默认启用的，但在本教程中它被移除了。</li>
<li>遵循<a href="https://ionicframework.com/docs/theming/platform-styles" target="_blank" rel="noopener noreferrer">平台风格指南</a>定制基于设备的组件。</li>
<li>使用Ionic的<a href="https://ionicframework.com/start" target="_blank" rel="noopener noreferrer">开始向导</a>创建一个新的应用程序，创建一个免费的Appflow帐户，并利用它提供的即时应用程序预览、部署和原生构建。</li>
<li>在<a href="https://github.com/brandyscarney/log-rocket-theming-finished" target="_blank" rel="noopener noreferrer"> GitHub </a>上查看完成的源代码。</li>
</ul>
<p>如果你对此有疑问，或者想展示你设计的一些主题，请在Twitter上联系我！</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>