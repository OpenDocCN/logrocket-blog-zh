<html>
<head>
<title>Delivering content with Strapi and Nuxt - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Strapi和Nuxt - LogRocket博客交付内容</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/#0001-01-01">https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/#0001-01-01</a></blockquote><div><article class="article-post">
<p>无头CMS目前风靡一时。它使您能够将后端与前端分离，并具有从单一来源交付内容的额外优势。</p>
<p>人们喜欢灵活前端的想法，偏离了Joomla和Drupal的标准组合。</p>
<p>在本文中，我们将设置<a href="https://strapi.io/" target="_blank" rel="noopener noreferrer">Strapi</a>——一个灵活的、开源的、无头的CMS，您可以将其部署在您自己的服务器上，以及Nuxt.js，一个强大的基于Vue.js的开源web应用程序框架，用于构建通用的web应用程序。</p>
<p>我们将使用这两个为我的广播节目<a href="https://www.mixcloud.com/malgamves/" target="_blank" rel="noopener noreferrer"> Malgamves On Air </a>建立一个登陆页面。</p>
<p>要开始，我们必须安装一个Vue CLI。</p>
<p>运行<code>yarn global add @vue/cli</code>来安装它。</p>
<p>我们首先创建一个名为<code>nuxt-x-strapi</code>的新文件夹。</p>
<p>运行<code>cd nuxt-x-strapi</code>来改变目录，这样我们可以在其中设置我们的前端和后端。</p>
<h2>我们的前端</h2>
<p>我们使用Nuxt作为我们的前端。</p>
<p>运行<code>yarn create nuxt-app frontend</code>，创建一个名为<code>frontend</code>的新文件夹。</p>
<blockquote><p>名词（noun的缩写）b:当被问及想用哪个UI框架时，选择<strong> Tailwind UI </strong>。</p></blockquote>
<p>进入该文件夹并运行<code>yarn dev</code>来启动应用程序。</p>
<p>你会发现它运行在<a href="http://localhost:3000" rel="nofollow"> http://localhost:3000 </a>。你会看到通常的Nuxt启动页面:</p>
<p><img data-attachment-id="15923" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/frontend-nuxt-strapi/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png" data-orig-size="1892,934" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-nuxt-strapi" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1024x506.png" decoding="async" class="aligncenter wp-image-15923 jetpack-lazy-image" src="../Images/73f8bc1782624abab3c04d93a0e52ff2.png" alt="An image of the Nuxt starter page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png 1892w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-300x148.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1024x506.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-768x379.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1536x758.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="15923" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/frontend-nuxt-strapi/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png" data-orig-size="1892,934" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-nuxt-strapi" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1024x506.png" decoding="async" loading="lazy" class="aligncenter wp-image-15923" src="../Images/73f8bc1782624abab3c04d93a0e52ff2.png" alt="An image of the Nuxt starter page." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png 1892w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-300x148.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1024x506.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-768x379.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi-1536x758.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/frontend-nuxt-strapi.png"/></noscript>
<p>既然我们的前端已经运行，我们需要用Strapi作为我们的后端来设置我们的项目。</p>
<h2>我们的后端</h2>
<p>Strapi是可扩展的，允许我们管理我们所使用的数据库。</p>
<p>我们将使用快速启动标志<code>--quickstart</code>，它为我们设置了一个SQLite数据库。</p>
<p>回到<code>nuxt-x-strapi/</code>并运行下面的命令:<code>yarn create strapi-app backend --quickstart</code>。</p>
<p>此时，将创建一个名为<strong> backend </strong>的新文件夹。</p>
<p><img data-attachment-id="15924" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/the-strapi-login-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png" data-orig-size="1897,875" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The Strapi login page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-300x138.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1024x472.png" decoding="async" class="aligncenter wp-image-15924 jetpack-lazy-image" src="../Images/dd199162f920fedac7be0348984826e4.png" alt="An image of the Strapi login page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png 1897w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-300x138.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1024x472.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-768x354.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1536x708.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="15924" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/the-strapi-login-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png" data-orig-size="1897,875" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The Strapi login page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-300x138.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1024x472.png" decoding="async" loading="lazy" class="aligncenter wp-image-15924" src="../Images/dd199162f920fedac7be0348984826e4.png" alt="An image of the Strapi login page." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png 1897w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-300x138.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1024x472.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-768x354.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page-1536x708.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-Strapi-login-page.png"/></noscript>
<p>我们将被重定向到我们的浏览器，在那里我们必须设置我们的Strapi管理员凭证。</p>
<p>如果您没有被重定向，也不用担心——您可以在浏览器中打开<a href="http://localhost:1337/admin/auth/register/" rel="nofollow">http://localhost:1337/admin/auth/register/</a>。</p>
<blockquote><p>名词（noun的缩写）b:如果你停止了Strapi服务，你可以通过运行<code>nuxt-x-strapi/backend</code>中的<code>yarn develop</code>再次启动它。</p></blockquote>
<p>输入您的详细信息后，您将被引导至一个控制面板。在这里，我们将作为管理员开始定义我们的内容类型。</p>
<p><img data-attachment-id="15926" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/the-strapi-home-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The strapi home page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png" decoding="async" class="aligncenter wp-image-15926 size-full jetpack-lazy-image" src="../Images/263eeae6deff10bb1708a9b8a9e8e196.png" alt="The Strapi home page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page-300x149.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="15926" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/the-strapi-home-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The strapi home page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png" decoding="async" loading="lazy" class="aligncenter wp-image-15926 size-full" src="../Images/263eeae6deff10bb1708a9b8a9e8e196.png" alt="The Strapi home page." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page-300x149.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/The-strapi-home-page.png"/></noscript>
<p>您会注意到我们已经有了一个<code>User</code>内容类型:这是默认情况下发生的。</p>
<p>我们需要定义一个内容类型来补充我们正在尝试构建的内容:广播节目集的显示。</p>
<p>当询问名称时，点击<strong>创建第一个内容类型</strong>并键入<strong>专辑</strong>。然后单击保存。</p>
<p>几乎立即，您将被要求添加字段到您的内容类型。依次创建以下字段:</p>
<ul>
<li>对于专辑名称，选择<strong>键入文本</strong>并将其命名为<strong>名称</strong></li>
<li>对于专辑描述，选择<strong>类型</strong> <strong>富文本</strong>并将其命名为<strong>描述</strong></li>
<li>对于相册图像，选择<strong>类型</strong> <strong>媒体</strong>并将其命名为<strong>图像</strong></li>
</ul>
<p>之后，保存<strong>字段类型</strong>并保存<strong>相册</strong>内容类型。</p>
<p>然后，您的Strapi服务器将重新启动，您应该会在仪表板的左侧菜单中看到作为内容类型的<strong>相册</strong>。</p>
<p>我们已经定义了内容类型，但是还没有任何要显示的内容。</p>
<p>点击左侧菜单中的<strong>相册</strong>，然后右上角的<strong>添加相册</strong>添加一些内容。</p>
<p><img data-attachment-id="15927" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/strapi-create-an-entry/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Strapi-create-an-entry" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png" decoding="async" class="aligncenter wp-image-15927 size-full jetpack-lazy-image" src="../Images/b3084277d391161342cd50e66f17c93b.png" alt="The page on Strapi prompting developers to create an entry." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry-300x149.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="15927" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/strapi-create-an-entry/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Strapi-create-an-entry" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png" decoding="async" loading="lazy" class="aligncenter wp-image-15927 size-full" src="../Images/b3084277d391161342cd50e66f17c93b.png" alt="The page on Strapi prompting developers to create an entry." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry-300x149.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Strapi-create-an-entry.png"/></noscript>
<p>为您的相册命名、描述并上传图片。单击save，您的数据库中就会有一些内容。</p>
<p>在使用这些数据或查询任何端点之前，我们必须设置一些访问控制规则。</p>
<p>您会注意到，转到<a href="http://localhost:1337/albums" rel="nofollow">http://localhost:1337/albums</a>会给出一个错误。</p>
<h3>允许访问</h3>
<p>就像我们刚刚看到的，我们还不能接受数据，因为我们还没有设置允许我们这样做的权限。</p>
<p>默认情况下，新API在Strapi中是安全的，需要指定不同的规则。</p>
<p>我们需要转到左边菜单中<strong>插件</strong>下的<strong>角色和权限</strong>(也可以转到<a href="http://localhost:1337/admin/plugins/users-permissions/roles" rel="nofollow">http://localhost:1337/admin/Plugins/users-Permissions/Roles</a>)。</p>
<p>点击<code>authenticated</code>角色，选中<code>find</code>和<code>findone</code>复选框，然后保存。</p>
<p>为<code>public</code>角色做同样的事情，并保存它。</p>
<p>现在，当你进入<a href="http://localhost:1337/albums" rel="nofollow">http://localhost:1337/albums</a>时，你应该能够看到API调用的结果。</p>
<h3>添加图形支持</h3>
<p>目前，我们的API使用REST。</p>
<p>但是，Strapi支持GraphQL，并且可以通过安装插件来启用。</p>
<p>我们将使用GraphQL交付来自Strapi的内容，并将其显示在我们的Nuxt应用程序中。</p>
<p>关闭你的Strapi服务。然后在<code>project/backend</code>中，运行<code>yarn strapi install graphql</code>。</p>
<p>或者，您可以从Strapi admin中的marketplace在Strapi中安装GraphQL。</p>
<p>安装完成后，转到<a href="http://localhost:1337/graphql" rel="nofollow">http://localhost:1337/graph QL</a>，您将看到您的GraphQL Playground，您可以在这里测试查询。</p>
<p>它看起来有点像这样:</p>
<p><img data-attachment-id="15930" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/albums-strapi-gif-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png" data-orig-size="730,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="albums-strapi.gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png" decoding="async" class="aligncenter wp-image-15930 size-full jetpack-lazy-image" src="../Images/f0ada6ba8c685351444616e9e1a32fbc.png" alt="A gif displaying how to create an album in Strapi." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1-300x148.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="15930" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/albums-strapi-gif-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png" data-orig-size="730,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="albums-strapi.gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png" decoding="async" loading="lazy" class="aligncenter wp-image-15930 size-full" src="../Images/f0ada6ba8c685351444616e9e1a32fbc.png" alt="A gif displaying how to create an album in Strapi." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1-300x148.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/albums-strapi.gif-1.png"/></noscript>
<p>好吧！我们现在在哪里？</p>
<p>我们已经让我们的GraphQL Strapi后端工作，并且我们的数据库中已经有了内容。我们现在需要做的就是将后端连接到前端。</p>
<p>由于我们使用的是GraphQL，我们需要在我们的Nuxt应用程序中安装<a href="https://www.apollographql.com/" target="_blank" rel="noopener noreferrer"> Apollo </a>。</p>
<p>在<code>/nuxt-x-strapi/frontend/</code>运行<code>yarn add @nuxtjs/apollo graphql</code></p>
<p>安装完Apollo后，我们需要将下面的代码添加到我们的<code>nuxt.config.js</code>文件中。</p>
<p>现在我们需要创建一个文件来存储我们的GraphQL查询。</p>
<pre>...
modules: [  
  '@nuxtjs/apollo',
],
apollo: {  
  clientConfigs: {
    default: {
      httpEndpoint: 'http://localhost:1337/graphql'
    }
  }
},
...</pre>
<p>转到<code>frontend/apollo/queries/album/</code>，创建文件，并将其命名为<code>albums.gql</code>。然后我们将把这个查询粘贴进去。</p>
<p>所有这些都是从我们的后端获取id、名称、描述和图像url，这样我们就可以在前端使用它们。</p>
<pre>query Albums {  
  albums {
    id
    name
    description
    image {
      url
    }
  }
}</pre>
<p>在<code>pages/index.vue</code>中，我们将以下内容粘贴到我们的<code>&lt;script&gt;</code>标签中。</p>
<p>在文件的顶部，我们导入我们的查询。</p>
<pre>​​import albumsQuery from "~/apollo/queries/album/albums";
​​export default {
​​  data() {
​​    return {
​​      albums: [],
​​      query: ""
​​    };
​​  },
​​  apollo: {
​​    albums: {
​​      prefetch: true,
​​      query: albumsQuery
​​    }
​​  },
​​  computed: {
​​    filteredList() {
​​      return this.albums.filter(album =&gt; {
​​        return album.name.toLowerCase().includes(this.query.toLowerCase());
​​      });
​​    }
​​  }
​​};</pre>
<p>我们为Apollo准备了一个部分，在这里我们定义了刚刚导入的查询，还有一个部分，我们从查询中过滤结果。</p>
<p>在<code>pages/index.vue</code>中，我们将以下内容粘贴到我们的<code>&lt;template&gt;</code>标签中:</p>
<p>这里我们使用<code>v-for</code>来动态显示CMS中的项目。</p>
<pre>&lt;div&gt;
    &lt;div class="title"&gt;
      &lt;h1&gt;Welcome to My Radio Show&lt;/h1&gt;
    &lt;/div&gt;
    &lt;div class="container"&gt;
      &lt;div  v-for="album in filteredList" v-bind:key="album" class="max-w-sm rounded overflow-hidden shadow-lg p-1"&gt;
        &lt;img
          class="w-full"
          :src="'http://localhost:1337' + album.image.url" alt="" width="300" height="300" 
        /&gt;
        &lt;div class="px-6 py-4"&gt;
          &lt;div class="font-bold text-xl mb-2"&gt;{{ album.name }}&lt;/div&gt;
          &lt;p
            class="text-gray-700 text-base"
          &gt;{{ album.description }}&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;</pre>
<p>我们插入<code>album.name</code>和<code>album.description</code>，以及我们放在<strong> src </strong>指令中的图像。当我们运行应用程序的前端时，我们看到的是:</p>
<p><img data-attachment-id="15931" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/malgamves-on-air/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png" data-orig-size="730,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Malgamves-on-air" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png" decoding="async" class="aligncenter wp-image-15931 size-full jetpack-lazy-image" src="../Images/8579f77e63119ea6414e1adf9b5d1072.png" alt="An image of the Malgamves On Air radio show home page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air-300x148.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png"/></p>
<p>结论</p><noscript><img data-lazy-fallback="1" data-attachment-id="15931" data-permalink="https://blog.logrocket.com/delivering-content-with-strapi-and-nuxt/attachment/malgamves-on-air/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png" data-orig-size="730,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Malgamves-on-air" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png" decoding="async" loading="lazy" class="aligncenter wp-image-15931 size-full" src="../Images/8579f77e63119ea6414e1adf9b5d1072.png" alt="An image of the Malgamves On Air radio show home page." srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air-300x148.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/Malgamves-on-air.png"/></noscript>
<h2>在本教程中，我们运行了一个Nuxt应用程序，设置了Strapi后端，向CMS添加了数据，并启用了GraphQL API。</h2>
<p>现在，我们已经将Strapi CMS中的数据显示在Nuxt应用程序中。</p>
<p>可以在<a href="https://github.com/malgamves/nuxt-x-strapi" target="_blank" rel="noopener noreferrer"> GitHub </a>上查看项目回购。</p>
<p>希望这对你有用。如果你有任何问题，请在推特上打电话给我。</p>
<p>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</h2><p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p>
<p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><p>Build confidently — <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>