<html>
<head>
<title>How does UmiJS stack up against Next.js? - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>UmiJS与Next.js相比如何？- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/#0001-01-01">https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/#0001-01-01</a></blockquote><div><article class="article-post">
<p>UmiJS是一个可扩展的企业级React框架，由<a href="https://github.com/sorrycc" target="_blank" rel="noopener noreferrer">支付宝的开发团队</a>创作。支付宝在其内部项目中使用它，其他几家公司也是如此，如<a href="https://www.youku.com/" target="_blank" rel="noopener noreferrer">优酷</a>和<a href="https://www.neteasegames.com/" target="_blank" rel="noopener noreferrer">网易</a>。</p>
<p>在探索这个框架时，我发现它在一些有趣的方面与Next.js相似。两者都支持开箱即用的路由和服务器端呈现以及TypeScript。</p>
<p>一路走来，我对海产生了好奇，并决定更深入地研究这个框架，看看它与Next相比如何。我根据下面列出的标准评估了这两个框架。这是我的发现。</p>
<h2 id="nexthasmorecompletecsssupport">csm支持</h2>
<p>Next支持所有的CSS样式方法，包括JS，Sass，Stylus，Less，CSS模块和Post CSS。在常规css的情况下，您可以将CSS文件导入到您的页面中:</p>
<pre>// styles.css
body {
  font-family: 'SF Pro Text', 'SF Pro Icons', 'Helvetica Neue', 'Helvetica',
    'Arial', sans-serif;
  padding: 20px 20px 60px;
  max-width: 680px;
  margin: 0 auto;
}

// pages/_app.js
import '../styles.css'

// This default export is required in a new `pages/_app.js` file.
export default function MyApp({ Component, pageProps }) {
  return &lt;Component {...pageProps} /&gt;
}
</pre>
<p>Next有官方插件，可以使用Sass、Stylus等工具编写CSS。如果你使用CSS模块，你需要遵循Next的命名约定，<code>[name].module.css</code>。</p>
<pre>// Button.module.css
/*
You do not need to worry about .error {} colliding with any other `.css` or
`.module.css` files!
*/
.error {
  color: white;
  background-color: red;
}

// Button.js
import styles from './Button.module.css'

export function Button() {
  return (
    &lt;button
      type="button"
      // Note how the "error" class is accessed as a property on the imported
      // `styles` object.
      className={styles.error}
    &gt;
      Destroy
    &lt;/button&gt;
  )
}
</pre>
<p>另一方面，海已经放弃了对Sass的支持，目前支持常规CSS、CSS模块等等。如果您想使用Sass或Stylus，您需要配置webpack config来实现。海自动识别CSS模块的使用。</p>
<pre>// Example of CSS Modules
import styles from './foo.css';

// Example of Non-CSS Modules
import './foo.css';
</pre>
<h2 id="nextprovidescompletecontroloverwebpackcustomization">webpack定制</h2>
<p>接下来的特性，比如代码分割、热代码重载和服务器端渲染已经可以开箱即用了。但是如果你需要额外的能量或者只是一个不同的配置，Next允许你通过它的<a href="https://nextjs.org/docs/api-reference/next.config.js/introduction" target="_blank" rel="noopener noreferrer"> <code>next.config.js</code> </a>模块编写你自己的配置。配置文件是常规的Node.js模块，而不是JSON文件。</p>
<pre>module.exports = {
  /* config options here */
}
</pre>
<p>海也有自己的配置文件，但它是JSON文件的形式。</p>
<pre>export default {
  base: '/docs/',
  publicPath: '/static/',
  hash: true,
  history: {
    type: 'hash',
  },
}
</pre>
<h2 id="nexthasbetterdocumentationandlearningguide">证明文件</h2>
<p>我发现Next的文档在解释如何使用每个特性方面更加详细。</p>
<p>为了展示每个功能是如何工作的，文档会带你构建一个简单的博客应用。</p>
<p><img data-attachment-id="24859" data-permalink="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/next-blog-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png" data-orig-size="720,526" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample blog app built with Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app-300x219.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png" decoding="async" class="aligncenter size-full wp-image-24859 jetpack-lazy-image" src="../Images/d5602a9643fd75f8f7b0a1f92011f763.png" alt="Sample Blog App Built With Next.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app-300x219.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24859" data-permalink="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/next-blog-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png" data-orig-size="720,526" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample blog app built with Next.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app-300x219.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24859" src="../Images/d5602a9643fd75f8f7b0a1f92011f763.png" alt="Sample Blog App Built With Next.js" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app-300x219.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/next-blog-app.png"/></noscript>
<p>另一件需要考虑的事情是:海的部分文档还没有翻译成英语(海的主要用户群位于中国)。我不得不使用谷歌翻译功能来帮助我阅读文档。</p>
<p><img data-attachment-id="24860" data-permalink="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/umi-documentation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png" data-orig-size="720,524" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Umi documentation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation-300x218.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png" decoding="async" class="aligncenter size-full wp-image-24860 jetpack-lazy-image" src="../Images/87d9e8202dd8475d06a05fcbd96abf09.png" alt="Umi Documentation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation-300x218.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="24860" data-permalink="https://blog.logrocket.com/comparing-react-ssr-frameworks-umi-vs-next/umi-documentation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png" data-orig-size="720,524" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Umi documentation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation-300x218.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-24860" src="../Images/87d9e8202dd8475d06a05fcbd96abf09.png" alt="Umi Documentation" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation-300x218.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/umi-documentation.png"/></noscript>
<h2 id="umihasmoreclisupport">CLI支持</h2>
<p>海有一些有趣的CLI支持来生成页面和检查当前的webpack配置。</p>
<pre>  Usage: umi &lt;command&gt; [options]

  Commands:

    build     build application for production
    config    umi config cli
    dev       start a dev server for development
    generate  generate code snippets quickly
    help      show command helps
    plugin    inspect umi plugins
    version   show umi version
    webpack   inspect webpack configurations
    dva       
    test      test with jest

  Run `umi help &lt;command&gt;` for more information of specific commands.
  Visit https://umijs.org/ to learn more about Umi.
</pre>
<p>Next的CLI支持专注于帮助您部署应用程序。</p>
<pre>Usage
  $ next &lt;command&gt;

Available commands
  build, start, export, dev, telemetry

Options
  --version, -v   Version number
  --help, -h      Displays this message

For more information run a command with the --help flag
  $ next build --help
</pre>
<h2 id="umihasanextendablepluginsystemthatcanbedevelopedbythirdpartydevelopers">插件系统</h2>
<p>海的内部功能都是第三方插件。文档涵盖了它的<a href="https://umijs.org/plugins/api" target="_blank" rel="noopener noreferrer">插件系统</a>如何工作，以及一个<a href="https://umijs.org/plugins/test" target="_blank" rel="noopener noreferrer">测试框架</a>。</p>
<p>Next有自己的<a href="https://github.com/vercel/next-plugins">插件集</a>，但我似乎找不到如何创建一个并与其他开发者共享的说明。</p>
<h2 id="conclusion">为什么Next有优势</h2>
<p>Next和海都完全支持在几乎不需要配置的情况下构建React应用程序。Next对编写CSS和定制它的webpack配置有更完整的支持，而海更固执己见，没有给webpack配置太多支持。</p>
<p>现在，我更喜欢海，因为我发现海的文档有点难以理解。我还找到了更多用Next搭建东西的指南，比如电商网站、<a href="https://scotch.io/@sw-yx/using-nextjs-as-a-static-site-generator-for-netlify" target="_blank" rel="noopener noreferrer">静态网站</a>。</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>
  
</div>    
</body>
</html>