<html>
<head>
<title>A guide to fully understanding Redis - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>完全理解Redis - LogRocket博客的指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/guide-to-fully-understanding-redis/#0001-01-01">https://blog.logrocket.com/guide-to-fully-understanding-redis/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p>根据其<a href="https://github.com/antirez/redis">G</a><a href="https://github.com/antirez/redis">it</a><a href="https://github.com/antirez/redis">H</a><a href="https://github.com/antirez/redis">ub库</a>，Redis(代表<strong>Re</strong>mote<strong>Di</strong>rectory<strong>S</strong>erver)是一个<a href="https://en.wikipedia.org/wiki/In-memory_database">内存中</a>数据结构存储。它是一个磁盘持久的键值数据库，支持多种数据结构或数据类型。</p>
<p>这意味着，虽然Redis支持基于映射键值的字符串来存储和检索数据(类似于传统数据库中支持的数据模型)，但它也支持其他复杂的数据结构，如列表、集合等。接下来，我们将看看Redis支持的数据结构。我们还将了解Redis的独特功能。</p>
<p>Redis是一个开源的、高度复制的、高性能的、非关系型的数据库和缓存服务器。它通过一种预定义的数据模型将键映射到值来工作。它的好处包括:</p>
<ul>
<li>基于映射键值的缓存系统，几乎可以与<a href="https://memcached.org/"> memcached </a>相媲美</li>
<li>没有关于为数据定义严格模式或表的严格规则(无模式)</li>
<li>支持多种数据模型或类型</li>
<li>与其他类型的数据库系统相比，提供了更高级的功能</li>
<li>通过一种称为<a href="https://en.wikipedia.org/wiki/Shard_(database_architecture)">分片</a>的技术，每秒能够承受多个并发写请求或事务</li>
<li>可以与其他数据库一起使用，作为减少负载和提高性能的支持，但也可以用作主数据库。请注意，这通常基于个人需求和用例</li>
<li>可以在混合数据的快速数据接收和数据完整性领域派上用场，在这些领域中，诸如高效率和复制之类的特性至关重要</li>
</ul>
<blockquote><p><strong>注</strong> : Redis在大型企业应用中有多种用例。除了充当缓存服务器，它还可以充当消息代理或用于发布者/订阅者类型的系统。关于其他用例的详细信息，我们可以查看<a href="https://redislabs.com/redis-enterprise/use-cases">文档的这一部分</a>。</p></blockquote>
<h2>先决条件</h2>
<p>在我们继续之前，建议在我们的机器上安装Node和npm。如何操作的说明可在<a href="https://nodejs.org/en/">这里</a>找到。此外，要在本地安装Redis，我们可以访问<a href="https://redis.io/download#installation">文档的这一部分</a>。</p>
<p>虽然我们将使用Redis的云托管版本— <a href="https://redislabs.com/"> Redis Labs </a> —但我们也将在我们的机器上进行本地设置。这将使我们能够在使用命令行实用程序时学习。</p>
<h2>正在安装Redis</h2>
<p>要在本地机器上安装Redis，我们可以下载最新的可用二进制文件。或者，我们也可以使用以下命令来下载:</p>
<pre>wget http://download.redis.io/releases/redis-5.0.7.tar.gz</pre>
<p>下载完二进制文件后，我们可以继续进行解压缩:</p>
<pre>tar xzf redis-5.0.7.tar.gz
cd redis-5.0.7
make
ls
cd src/</pre>
<p>如上所述，提取二进制文件后，我们可以导航到<code>redis</code>目录并运行<code>make</code>命令，该命令编译并构建Redis正常运行所需的所有可执行文件。请注意，在撰写本文时，当前的Redis版本是5.0.7。</p>
<p>要在本地启动Redis，我们只需运行以下命令:</p>
<pre>./redis-server</pre>
<p>要测试Redis与服务器的连接是否成功，我们可以打开一个新的终端窗口并运行:</p>
<pre>redis-cli ping</pre>
<p>输出应该是:</p>
<pre>PONG</pre>
<p>最后，要启动Redis CLI，以便进行实验并开始学习如何使用Redis命令，我们可以运行:</p>
<pre>./redis-cli</pre>
<p>启动CLI后，我们可以继续运行<code>info</code>命令来查看当前运行的Redis实例的所有参数。输出如下所示。请注意，为了简洁起见，此处将其截断:</p>
<pre>127.0.0.1:6379&gt; info
# Server
redis_version:5.0.7
redis_git_sha1:00000000
redis_git_dirty:0
redis_build_id:e3be448653a99bb8
redis_mode:standalone
os:Darwin 18.7.0 x86_64
arch_bits:64
multiplexing_api:kqueue
atomicvar_api:atomic-builtin
gcc_version:4.2.1
process_id:98832
run_id:c63164944a269066f81b9bbc553296614fcb3df6
tcp_port:6379
uptime_in_seconds:374
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:443996
executable:/Users/alexander.nnakwue/Downloads/redis-5.0.7/src/./redis-server
config_file:

# Clients
connected_clients:1
client_recent_max_input_buffer:2
client_recent_max_output_buffer:0
blocked_clients:0</pre>
<p>让我们用最基本的Redis命令、<code>SET</code>和<code>GET</code>在<code>redis-cli</code>上进行实验，以确保我们成功连接到服务器:</p>
<pre>SET mykey "Hello world"</pre>
<p>这里我们将键<code>mykey</code>设置为字符串值<code>"Hello world"</code>。该命令的输出如下所示:</p>
<pre>OK</pre>
<p>现在，我们可以用这个键运行一个<code>get</code>命令来取回这个值:</p>
<pre>get mykey</pre>
<p>输出如下所示:</p>
<pre>"Hello world"</pre>
<p>关于所有可用Redis命令的完整列表，可以在Redis文档的<a href="https://redis.io/commands">部分</a>中找到参考。</p>
<blockquote><p><strong>注意:</strong>要正确安装Redis，请查看<a href="https://redis.io/topics/quickstart#installing-redis-more-properly">文档的这一部分</a>。如果我们不想在实际或生产应用程序中使用托管Redis服务器/实例，这是绝对必要的。然而，对于黑客和开发目的，我们以前的安装设置工作良好。</p></blockquote>
<h3>Redis实验室的云替代方案</h3>
<p>首先，我们可以访问<a href="https://redislabs.com/"> Redis Labs </a>来设置我们的账户，这是一个完全云管理的Redis替代方案。在本教程中，我们将使用免费层，这基本上是一个有限的选项，用于开发和测试目的。</p>
<figure id="attachment_12503" aria-describedby="caption-attachment-12503" class="wp-caption aligncenter"><img data-attachment-id="12503" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/redis-labs-new-subscription/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png" data-orig-size="730,413" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a new Redis Labs subscription" data-image-description="" data-image-caption="&lt;p&gt;Figure 1: Creating a new subscription for the free-tier option.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png" decoding="async" class="size-full wp-image-12503 jetpack-lazy-image" src="../Images/0b4d0da44993280f519e058dd21b038e.png" alt="Creating A New Redis Labs Subscription" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription-300x170.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="12503" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/redis-labs-new-subscription/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png" data-orig-size="730,413" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a new Redis Labs subscription" data-image-description="" data-image-caption="&lt;p&gt;Figure 1: Creating a new subscription for the free-tier option.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png" decoding="async" loading="lazy" class="size-full wp-image-12503" src="../Images/0b4d0da44993280f519e058dd21b038e.png" alt="Creating A New Redis Labs Subscription" srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription-300x170.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-new-subscription.png"/></noscript><figcaption id="caption-attachment-12503" class="wp-caption-text">Figure 1: Creating a new subscription for the free-tier option.</figcaption></figure>
<p>完成当前配置后，我们可以继续设置我们的数据库，如下所示:</p>
<figure id="attachment_12505" aria-describedby="caption-attachment-12505" class="wp-caption aligncenter"><img data-attachment-id="12505" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/redis-labs-create-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a database in Redis Labs" data-image-description="" data-image-caption="&lt;p&gt;Figure 2: Interface for database creation.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png" decoding="async" class="size-full wp-image-12505 jetpack-lazy-image" src="../Images/f6c28d4b0906ce074054fd54adde727e.png" alt="Creating A Database In Redis Labs" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database-300x150.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="12505" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/redis-labs-create-database/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png" data-orig-size="730,365" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a database in Redis Labs" data-image-description="" data-image-caption="&lt;p&gt;Figure 2: Interface for database creation.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png" decoding="async" loading="lazy" class="size-full wp-image-12505" src="../Images/f6c28d4b0906ce074054fd54adde727e.png" alt="Creating A Database In Redis Labs" srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database-300x150.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/redis-labs-create-database.png"/></noscript><figcaption id="caption-attachment-12505" class="wp-caption-text">Figure 2: Interface for database creation.</figcaption></figure>
<p>完成数据库设置后，我们现在应该能够在仪表板上查看我们当前的订阅:</p>
<figure id="attachment_12508" aria-describedby="caption-attachment-12508" class="wp-caption aligncenter"><img data-attachment-id="12508" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/subscriptions-endpoint-url/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png" data-orig-size="730,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Databse subscriptions with endpoint URL" data-image-description="" data-image-caption="&lt;p&gt;Figure 3: Subscription that contains the endpoint URL for the 30MB free tier.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png" decoding="async" class="size-full wp-image-12508 jetpack-lazy-image" src="../Images/b52c6f7856bc86d22910dec8fec9d1d9.png" alt="Database Subscriptions With Endpoint URL" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url-300x83.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="12508" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/subscriptions-endpoint-url/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png" data-orig-size="730,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Databse subscriptions with endpoint URL" data-image-description="" data-image-caption="&lt;p&gt;Figure 3: Subscription that contains the endpoint URL for the 30MB free tier.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png" decoding="async" loading="lazy" class="size-full wp-image-12508" src="../Images/b52c6f7856bc86d22910dec8fec9d1d9.png" alt="Database Subscriptions With Endpoint URL" srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url-300x83.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/subscriptions-endpoint-url.png"/></noscript><figcaption id="caption-attachment-12508" class="wp-caption-text">Figure 3: Subscription that contains the endpoint URL for the 30MB free tier.</figcaption></figure>
<p>注意，我们可以使用<code>redis-cli</code>或<code>telnet</code>连接到Redis数据库。通过CLI连接到群集的命令如下所示:</p>
<pre>redis-cli -h &lt;redic-host&gt;  -p &lt;redis-port&gt; -a &lt;password&gt;</pre>
<p>关于设置的更多信息可在<a href="https://docs.redislabs.com/latest/rc/quick-setup/">这里</a>找到。</p>
<h2>使用cases for redis</h2>
<p>Redis数据保存在内存中，而不是保存在磁盘上的传统数据库。这使Redis比其他类型的存储系统更有优势，并使其超快，具有高吞吐量和低延迟。因此，Redis可以用于实时应用程序和消息队列系统。其他使用案例包括:</p>
<h3>会话管理</h3>
<p>Redis在应用程序级别管理用户会话时也很方便。典型的web应用程序存储有关用户登录、用户id、最近的用户操作等用户会话信息。在Redis中实现会话管理的细节可以在这里找到<a href="https://redislabs.com/redis-enterprise/use-cases/session-management/">。</a></p>
<h3>贮藏</h3>
<p>对于应用程序用户经常需要或检索的数据，一个<a href="https://redislabs.com/redis-enterprise/use-cases/">缓存</a>将作为一个临时数据存储，用于快速检索，而不需要额外的数据库往返。请注意，存储在缓存中的数据通常是来自早期查询的数据或存储在其他地方的数据的副本。这一特性至关重要，因为我们从缓存中获取的数据越多，系统的整体性能就越快、越高效。</p>
<p>Redis使用案例的更多详细信息，如发布者/订阅者系统、欺诈检测、排行榜和数据接收等。可在Redis企业文档的本节中找到。</p>
<h2>Redis数据结构和相关命令</h2>
<p>当谈到我们如何基于特定用例建模数据时，Redis是非常通用的。如前所述，它允许我们将键映射到字符串和其他可用的受支持的数据类型。其他受支持的数据类型/模型包括列表、集合、散列、排序集合、流等等。</p>
<blockquote><p>与传统数据库相反，Redis中支持其他数据模型消除了或最大限度地减少了将一种数据类型转换为另一种数据类型所需的时间。</p></blockquote>
<p>有关每种数据类型的定义和用例的详细信息，您可以查看Redis文档的这一<a href="https://redis.io/topics/data-types-intro">部分</a>,其中详细解释了如何以及何时针对Redis服务器对这些数据类型发出Redis命令。所有Redis命令的完整列表也可以在这里找到<a href="https://redis.io/commands">这里</a>。</p>
<p>在文档/指南中，每个命令都映射到它可以操作的相应数据类型。在下一节中，我们将尝试其中的一些命令。现在让我们学习一些数据结构。</p>
<h3>线</h3>
<p>Redis提供了对string数据类型的某些部分或全部进行操作的命令。字符串数据类型也可以存储整数和浮点数。这里有一个<a href="https://redis.io/commands#string">链接</a>,是关于字符串操作命令的文档。我们之前已经看到了如何使用字符串数据类型的示例。</p>
<h3>设置</h3>
<p>Redis集合存储唯一的数字集合，几乎类似于大多数编程语言中的集合。我们可以在集合中添加和删除项目，检查项目是否存在，等等。有关使用器械包的详细信息，请参见<a href="https://redis.io/topics/data-types">这里的</a>。对于集合数据结构上的相关命令，我们可以查看文档的<a href="https://redis.io/commands#set">部分</a>。</p>
<h3>排序集合</h3>
<p>Redis中的有序集合类似于常规集合，但是是按分数排序的。除了对集合的常规操作，如添加和删除，我们还可以通过分数在一个排序的集合中获取细节。对于有序集合数据结构的相关命令，我们可以查看文档的<a href="https://redis.io/commands#sorted_set">部分</a>。</p>
<h3>列表</h3>
<p>Redis也支持列表数据结构。列表按照插入的顺序保存字符串的集合，即FIFO(先进先出)。我们可以从两端弹出和推送项目，等等。对于列表数据结构上的相关命令，我们可以查看文档的<a href="https://redis.io/commands#list">部分</a>。</p>
<h3>混杂</h3>
<p>Redis散列存储一组字段-值对。我们可以执行像添加、删除和从散列中提取单个项目这样的操作。我们也可以使用散列作为计数器，使用<code>INCRBY()</code>命令和其他命令。对于散列数据结构的相关命令，我们可以查看文档的<a href="https://redis.io/commands#hash">部分</a>。</p>
<p>请注意，该链接可以了解Redis中其他可用的数据结构，如位图、流、超对数、位字段等。可以在这里找到<a href="https://redislabs.com/redis-enterprise/data-structures/">。</a></p>
<blockquote><p>对于密钥，我们可以检查它们是否存在。此外，我们可以删除或终止密钥，甚至增加/减少密钥。</p></blockquote>
<p>在Node.js的下一节中，我们将学习如何在实际应用程序中使用和应用这些命令。敬请期待！</p>
<h2>Redis and Node.js(重复和节点. js)</h2>
<p>首先，我们可以创建一个目录，并随意命名。然后，我们导航到该目录并运行<code>npm init</code>命令。完成所有必需的设置后，我们可以通过运行以下命令来安装应用程序的所有依赖项:</p>
<pre>npm install redis concurrently dotenv --save</pre>
<p>然后，我们可以继续创建所有必要的文件和文件夹，如下所示:</p>
<figure id="attachment_12510" aria-describedby="caption-attachment-12510" class="wp-caption aligncenter"><img data-attachment-id="12510" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/project-folder-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png" data-orig-size="300,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Project folder structure" data-image-description="" data-image-caption="&lt;p&gt;Figure 4: Folder structure for our project.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure-181x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png" decoding="async" class="size-full wp-image-12510 jetpack-lazy-image" src="../Images/ff9de7c11c22000ec6b9d679227585d5.png" alt="Our Project's Folder Structure" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure-181x300.png 181w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="12510" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/project-folder-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png" data-orig-size="300,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Project folder structure" data-image-description="" data-image-caption="&lt;p&gt;Figure 4: Folder structure for our project.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure-181x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png" decoding="async" loading="lazy" class="size-full wp-image-12510" src="../Images/ff9de7c11c22000ec6b9d679227585d5.png" alt="Our Project's Folder Structure" srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure-181x300.png 181w" sizes="(max-width: 300px) 100vw, 300px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/project-folder-structure.png"/></noscript><figcaption id="caption-attachment-12510" class="wp-caption-text">Figure 4: Folder structure for our project.</figcaption></figure>
<p>从我们的订阅细节中，我们可以获得连接到Redis实例所需的参数。下面显示了一个例子，它位于我们的<code>sample.env</code>文件中。真实凭证存储在<code>env</code>文件中，在<code>config</code>文件中被引用。这些文件如下所示:</p>
<pre>app_port=6006
host=host
port=port
password=password</pre>
<p><code>config</code>文件的内容如下所示:</p>
<pre>const path = require('path');
require('dotenv').config();
const config= {
    port: process.env.APP_PORT,
    redis: {
    host: process.env.REDIS_HOST,
    port: process.env.REDIS_PORT,
    password: process.env.REDIS_PASSWORD
    }
}
module.exports = config;</pre>
<p>正如在上面的文件中看到的，我们有一个<code>redisClientConfig</code>文件，在这里我们处理到Redis服务器的连接。该文件的内容如下所示:</p>
<pre>const redis = require('redis');
const config = require('./config');
const client = redis.createClient(config.redis.port, config.redis.host, {no_ready_check: true});
client.auth(config.redis.password);
client.on('error', error =&gt; console.error('Error Connecting to the Redis Cluster', error));
client.on('connect', () =&gt; {
    console.log('Successfully connected to the Redis cluster!');
  });

module.exports = client;</pre>
<p>此外，应用Redis命令的各种测试用例的示例可以在位于<code>app</code>目录下的<code>test.js</code>文件中找到。注意，我们也可以选择使用<code>redis-cli</code>针对数据结构测试这些命令。</p>
<p>该文件的内容如下所示:</p>
<pre>const redisConnection = require('../redisClientConnection');

// test redis server
redisConnection.set('foo', 'bar');
    redisConnection.get('foo', function (err, res) {
        console.log(res.toString()); 
    });

// Retrieving a string value from Redis if it already exists for this key - Redis cache example 
redisConnection.get('myStringKey', (err, value) =&gt; {
    if (value) {
    console.log(`The value associated with this key is:${value}`)
    }
    else { 
    // Storing a simple string in the Redis store
    redisConnection.set('myStringKey', 'LogRocket Redis Tutorial');
    }
});</pre>
<p>如上面的片段所示，我们正在将连接导入Redis集群。然后，我们根据用例或需求对数据结构使用命令。</p>
<p>在<a href="https://github.com/NodeRedis/node_redis/tree/master/examples">this Git</a><a href="https://github.com/NodeRedis/node_redis/tree/master/examples">H</a><a href="https://github.com/NodeRedis/node_redis/tree/master/examples">ub repository</a>中可以找到一堆详尽的Redis示例和真实世界的用例。注意，这意味着使用<a href="https://github.com/NodeRedis/node_redis"> Node.js客户端库</a>与Redis交互。最后，这里是这个项目的<a href="https://github.com/firebase007/logRocket-redis-tutorial">回购。</a></p>
<p>注意，我们可以使用<code>redis-cli</code>测试我们的代码，或者我们也可以启动我们的Redis服务器。我们可以通过运行<code>npm run dev</code>命令来做到这一点，我们得到以下输出:</p>
<figure id="attachment_12512" aria-describedby="caption-attachment-12512" class="wp-caption aligncenter"><img data-attachment-id="12512" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/app-start-console-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console output after app start" data-image-description="" data-image-caption="&lt;p&gt;Figure 5: Output from the console when we start the app.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png" decoding="async" class="size-full wp-image-12512 jetpack-lazy-image" src="../Images/0a1832d52e1cffb53c8471258a612ced.png" alt="Console Output After Starting Our App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output-300x73.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="12512" data-permalink="https://blog.logrocket.com/guide-to-fully-understanding-redis/app-start-console-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console output after app start" data-image-description="" data-image-caption="&lt;p&gt;Figure 5: Output from the console when we start the app.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png" decoding="async" loading="lazy" class="size-full wp-image-12512" src="../Images/0a1832d52e1cffb53c8471258a612ced.png" alt="Console Output After Starting Our App" srcset="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output-300x73.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/01/app-start-console-output.png"/></noscript><figcaption id="caption-attachment-12512" class="wp-caption-text">Figure 5: Output from the console when we start the app.</figcaption></figure>
<h2>结论</h2>
<p>总之，Redis通过本教程中概述的优化提供了高性能和高效的读写。有关学习Redis的更多信息，以及列出的可用资源，您可以访问<a href="https://redis.io/">文档</a>。</p>
<p>在本教程中，我们谈到了基本的Redis命令，以及一些更复杂的命令和如何在我们的应用程序中使用它们。前面已经提到了使用Node.js实现这一点的说明。如果您有任何问题或反馈，请在下面的评论框中留言或在<a href="https://twitter.com/alex_nnakwue"> Twitter </a>上给我发消息。黑进去。</p><div class="code-block code-block-23">
<div class="blog-plug inline-plug node-plug"><h2>200只<img src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> <noscript> <img data-lazy-fallback="1" src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> </noscript>显示器出现故障，生产中网络请求缓慢</h2><p>部署基于节点的web应用程序或网站是容易的部分。确保您的节点实例继续为您的应用程序提供资源是事情变得更加困难的地方。如果您对确保对后端或第三方服务的请求成功感兴趣，</p><a href="https://lp.logrocket.com/blg/node-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/><noscript><img data-lazy-fallback="1" src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/></noscript></a><a href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录下用户与你的应用程序交互时发生的一切。您可以汇总并报告有问题的网络请求，以快速了解根本原因，而不是猜测问题发生的原因。</p><p>LogRocket检测您的应用程序以记录基线性能计时，如页面加载时间、到达第一个字节的时间、慢速网络请求，还记录Redux、NgRx和Vuex操作/状态。</p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>. </p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>