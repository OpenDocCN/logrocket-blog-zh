<html>
<head>
<title>Configuring webpack from scratch for Tailwind CSS with React - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用React - LogRocket Blog为Tailwind CSS从头开始配置webpack</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/webpack-from-scratch-for-tailwind-css-with-react/#0001-01-01">https://blog.logrocket.com/webpack-from-scratch-for-tailwind-css-with-react/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本教程中，我们将通过配置webpack来使用React和Tailwind CSS。在我们深入研究配置之前，让我们先来看一下相关技术的概述。</p>
<h3>网络包</h3>
<p>webpack是一个捆绑和优化前端资产(JS、CSS和Images)的极好工具。webpack使用一个配置文件来决定如何将特定的东西加载到您的应用程序中。您在配置文件中编写命令，说明资产的位置以及如何加载它们。然后，当你运行它时，它进入你的应用程序入口点(你的应用程序加载的基础文件),读取它并计算出它到底需要什么，它需要它的顺序，以及每一部分依赖于什么。</p>
<p>然后它将创建一些包，优化它们，并作为脚本包含在您的应用程序中。它不在页面加载期间运行，而是在开发期间运行。它还允许您轻松地使用来自NPM(节点包管理器)的其他包。</p>
<h3>反应</h3>
<p>正如您可能已经意识到的，React是一个简单、现代的前端库，用于构建优雅的用户界面。它通过有效地处理DOM操作和事件处理，减少了构建通用UI的工作量，产生了更可预测和更易于调试的代码。</p>
<p>在React之前，jQuery等其他库被用来操作DOM。但是随着网络的发展，更多的框架如Angular、Vue和React开始出现。React与其他包的不同之处在于，它允许您创建自己的HTML元素(通常包装在组件中),并具有定制的功能。</p>
<h3>顺风CSS</h3>
<p>Tailwind是一个实用至上的CSS框架，用于快速构建定制用户界面。我喜欢Tailwind CSS的一点是，它没有任何预定义的组件，而是提供了高度可组合的低级实用程序类。</p>
<p>它把所有的魔力都留在了你的手里，并不能帮助你决定你的网站应该是什么样子。这使得你的网站在每一个新的设计中看起来和感觉上都是独一无二的。</p>
<p>因为它首先是实用程序，所以你需要做的就是将这些实用程序类应用到你的HTML标签中。只使用顺风CSS或者只添加少量CSS就可以建立一个功能齐全的网站。</p>
<h2 id="assumptions-and-prerequisites">假设和前提条件</h2>
<p>本教程假设您已经预安装了以下软件:</p>
<p><strong>包装经理:npm或纱线</strong></p>
<blockquote><p>如果您愿意，您可以使用Yarn，尽管命令会略有不同。</p></blockquote>
<p>在我们开始之前，这里是我们将在本教程中一起设置的功能的完整列表:</p>
<ul>
<li>网络包4</li>
<li><code>webpack-bundle-analyzer</code></li>
<li><code>webpack-dev-server</code></li>
<li>反应16</li>
<li>反应DOM</li>
<li>顺风CSS</li>
<li><code>autoprefixer</code> <em>(顺风CSS所需)</em></li>
<li><code>postcss-cli</code> <em>(顺风CSS所需)</em></li>
<li><code>css-loader</code> <em>(编译CSS文件)</em></li>
<li><code>postcss-loader</code> <em>(编译顺风CSS文件)</em></li>
<li><code>babel-loader</code> <em>(反应所需)</em></li>
<li><code>@babel/core</code> <em>(反应所需)</em></li>
<li><code>@babel/preset-env</code> <em>(反应所需)</em></li>
<li><code>@babel/preset-react</code> <em>(反应所需)</em></li>
<li><code>@babel/cli</code> <em>(反应所需)</em></li>
</ul>
<p>至此，我们清楚地了解了所涉及的每项技术，让我们将它们配置为协同工作。</p>
<h2 id="install-webpack">安装web包</h2>
<p>让我们从创建一个新目录开始。在您的终端中，键入:</p>
<pre><code class="javascript hljs">mkdir rect_test
</code></pre>
<p>首先，我们进入新目录，然后初始化一个<code>package.json</code>文件:</p>
<pre><code class="javascript hljs">cd rect_test
npm init
</code></pre>
<p>回答提示或键入<code>npm init -y</code>如果您想跳过提示。<code>**package.json**</code>内的<br/>如果不存在的话添加这个。</p>
<pre><code class="javascript hljs">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"rect_test"</span>
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"index.js"</span>,
  <span class="hljs-string">"license"</span>: <span class="hljs-string">"MIT"</span>
}
</code></pre>
<p>现在我们需要在我们的机器上安装webpack。您可以在本地(仅项目)或全局安装它。出于我们的目的，我们将把它作为一个开发依赖项和<code>webpack-cli</code>来安装，这样我们就可以在终端中使用它。在您的终端中，键入以下命令:</p>
<pre><code class="javascript hljs">npm i webpack webpack-cli -D
</code></pre>
<p>现在我们需要为我们的应用程序创建一个入口点(应用程序启动时加载的页面)。为此:</p>
<ul>
<li>创建一个<code>src</code>文件夹，并在其中创建一个<code>index.js</code>文件。</li>
<li>更新您的<code>package.json</code>的脚本部分，如下所示:</li>
</ul>
<pre><code class="javascript hljs"><span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"webpack --mode development"</span>,
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"webpack --mode production"</span>
}
</code></pre>
<p>要测试我们到目前为止的进度，请在您的终端中键入:</p>
<pre><code class="javascript hljs">npm run start
</code></pre>
<p>您应该会看到以下输出:</p>
<figure class="kg-card kg-image-card"><img decoding="async" class="kg-image jetpack-lazy-image" src="../Images/028b1d300c584589906a51b9a3ee47b1.png" alt="terminal_output" data-action="zoom" data-lazy-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537917615/r.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537917615/r.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="kg-image" src="../Images/028b1d300c584589906a51b9a3ee47b1.png" alt="terminal_output" data-action="zoom" data-original-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537917615/r.png"/></noscript></figure>
<p>如果您看到这个，那么webpack已经启动并正常运行。</p>
<h2 id="add-react">添加反应</h2>
<p>现在我们准备安装React。但是为了让React工作，我们需要安装Babel，因为一些浏览器还不支持ES6。</p>
<p>所以，我们将React作为依赖项安装，Babel作为开发依赖项安装。在您的终端中，键入:</p>
<pre><code class="javascript hljs">npm i react react-dom -S
</code></pre>
<p>然后安装<code>babel-core</code>、<code>babel-loader</code>、<code>babel-preset-env</code>和<code>babel-preset-react</code>作为开发依赖项:</p>
<pre><code class="javascript hljs">npm i babel-loader @babel/core @babel/preset-env @babel/preset-react @babel/cli -D
</code></pre>
<p>现在我们需要创建和配置我们的<code>**webpack.config.js**</code>。在您的项目根目录中，创建该文件并向其中添加以下内容:</p>
<pre><code class="javascript hljs"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
        <span class="hljs-attr">use</span>: {
          <span class="hljs-attr">loader</span>: <span class="hljs-string">"babel-loader"</span>
        }
      }
    ]
  }
};
</code></pre>
<p>我们现在需要创建一个名为<code>.babelrc</code>的单独文件来为<code>babel-loader</code>提供配置选项。当你在你的webpack配置中声明你正在使用<code>babel-loader</code>时，它会寻找一个<code>.babelrc</code>文件，如果有的话。在您的终端中键入:</p>
<pre><code class="javascript hljs">touch .babelrc
</code></pre>
<p>现在向其中添加以下代码:</p>
<pre><code class="javascript hljs">{
  <span class="hljs-string">"presets"</span>: [<span class="hljs-string">"@babel/preset-env"</span>, <span class="hljs-string">"@babel/preset-react"</span>]
}
</code></pre>
<p>此时，我们还需要在<code>src</code>文件夹中创建一个<code>index.html</code>文件，我们可以在其中添加带有id索引的section元素。</p>
<p>这是我们渲染主要React组件的地方:<code>src</code>文件夹下的<br/>创建一个<code>index.html</code>文件，并向其中添加以下几行:</p>
<pre><code class="javascript hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
  &lt;title&gt;React, Webpack and TailwindCSS&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;section id="index"&gt;&lt;/section&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>现在我们需要安装<code>html-webpack-plugin</code>并在我们的webpack配置文件中使用它。它将为您的应用程序生成一个HTML文件，或者您可以提供一个模板。它还会缩小文件。</p>
<p>要在您的终端类型中安装<code>html-webpack-plugin</code>作为开发依赖项:</p>
<pre><code class="javascript hljs">npm i html-webpack-plugin -D
</code></pre>
<p>现在更新您的webpack配置文件，如下所示:</p>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> HtmlWebPackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">"html-webpack-plugin"</span>);

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
        <span class="hljs-attr">use</span>: {
          <span class="hljs-attr">loader</span>: <span class="hljs-string">"babel-loader"</span>
        }
      }
    ]
  },
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> HtmlWebPackPlugin({
    <span class="hljs-attr">template</span>: <span class="hljs-string">"./src/index.html"</span>,
    <span class="hljs-attr">filename</span>: <span class="hljs-string">"./index.html"</span>
  });
]
};
</code></pre>
<p>现在React已成功设置，我们需要设置一个开发服务器，以便在我们启动应用程序时，它会出现在浏览器中，并在我们更改文件时自动更新。</p>
<p>在您的终端中键入:</p>
<pre><code class="javascript hljs">npm i webpack-dev-server -D
</code></pre>
<p>现在更新您的<code>package.json</code>文件中的脚本对象，如下所示:</p>
<pre><code class="javascript hljs">  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"webpack-dev-server --mode development"</span>,
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"webpack --mode production"</span>
  },
</code></pre>
<h2 id="add-tailwind-css">添加顺风CSS</h2>
<p>此时，我们需要安装Tailwind CSS及其依赖项，然后对其进行配置以供使用。在您的终端中，键入:</p>
<pre><code class="javascript hljs">npm install tailwindcss autoprefixer postcss-cli mini-css-extract-plugin postcss-loader --save-dev
</code></pre>
<p>接下来，我们生成一个顺风配置文件。在您的终端中键入:</p>
<pre><code class="javascript hljs">./node_modules/.bin/tailwind init tailwind.config.js
</code></pre>
<p>该命令将在项目的根目录下生成一个<code>**tailwind.config.js**</code>文件。</p>
<p>现在让我们配置<code>PostCSS</code>，这样我们就可以使用它将Tailwind指令转换为纯CSS，在项目的根目录下，创建一个名为<code>postcss.config.js</code>的文件，并添加以下代码:</p>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> tailwindcss = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tailwindcss'</span>);
<span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">plugins</span>: [
        tailwindcss(<span class="hljs-string">'./tailwind.config.js'</span>),
        <span class="hljs-built_in">require</span>(<span class="hljs-string">'autoprefixer'</span>),
    ],
};
</code></pre>
<p>现在我们需要告诉webpack在每次更改时要观察和重建什么CSS文件。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>在您的<strong> src/ </strong>目录中创建一个<code>**styles.css**</code>，并向其中添加以下代码行:</p>
<blockquote><p>这也是您可以添加自定义CSS文件的地方。</p></blockquote>
<pre><code class="javascript hljs">@tailwind preflight;

@tailwind components;

@tailwind utilities;


</code></pre>
<p>因为我们将CSS文件导入到React组件中，所以我们需要安装<code>css-loader</code>模块来解决它们。一旦解决了这个问题，我们还需要一个<code>style-loader</code>将它注入到我们的DOM中，方法是在HTML的<code>head</code>元素中添加一个<code>style</code>标签。在您的终端中，键入:</p>
<pre><code class="javascript hljs">npm i css-loader style-loader -D
</code></pre>
<p>现在更新您的webpack配置文件，如下所示:</p>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> HtmlWebPackPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">"html-webpack-plugin"</span>);
<span class="hljs-keyword">const</span> MiniCssExtractPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">"mini-css-extract-plugin"</span>);

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,
        <span class="hljs-attr">use</span>: {
          <span class="hljs-attr">loader</span>: <span class="hljs-string">"babel-loader"</span>
        }
      },
       {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,
        <span class="hljs-attr">use</span>: [
          MiniCssExtractPlugin.loader,
          <span class="hljs-string">"css-loader"</span>, <span class="hljs-string">"postcss-loader"</span>,
          ],
      },
    ]
  },
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> MiniCssExtractPlugin({
      <span class="hljs-attr">filename</span>: <span class="hljs-string">"styles.css"</span>,
      <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">"styles.css"</span>
    }),
    <span class="hljs-keyword">new</span> HtmlWebPackPlugin({
    <span class="hljs-attr">template</span>: <span class="hljs-string">"./src/index.html"</span>,
    <span class="hljs-attr">filename</span>: <span class="hljs-string">"./index.html"</span>
  }),
]
};
</code></pre>
<h2 id="testing">测试</h2>
<p>是时候看看我们到目前为止做了些什么了。打开您的<code>index.js</code>，添加直接从顺风网站复制的以下几行:</p>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">"react-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./styles.css'</span>;

<span class="hljs-keyword">const</span> Index = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white mx-auto max-w-sm shadow-lg rounded-lg overflow-hidden"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"sm:flex sm:items-center px-6 py-4"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"block h-16 sm:h-24 rounded-full mx-auto mb-4 sm:mb-0 sm:mr-4 sm:ml-0"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://avatars2.githubusercontent.com/u/4323180?s=400&amp;u=4962a4441fae9fba5f0f86456c6c506a21ffca4f&amp;v=4"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">""</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center sm:text-left sm:flex-grow"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mb-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xl leading-tight"</span>&gt;</span>Adam Wathan<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm leading-tight text-grey-dark"</span>&gt;</span>Developer at NothingWorks Inc.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs font-semibold rounded-full px-4 py-1 leading-normal bg-white border border-purple text-purple hover:bg-purple hover:text-white"</span>&gt;</span>Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>;
};

ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">Index</span> /&gt;</span>, document.getElementById("index"));
</span></code></pre>
<p>在您的终端中运行<code>npm start</code>，您应该会在浏览器中看到这个。</p>
<figure class="kg-card kg-image-card"><img decoding="async" class="kg-image jetpack-lazy-image" src="../Images/26d921c0ea11f9721699d127244ffc03.png" data-action="zoom" data-lazy-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537980319/scre.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537980319/scre.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="kg-image" src="../Images/26d921c0ea11f9721699d127244ffc03.png" data-action="zoom" data-original-src="https://res.cloudinary.com/daintu6ky/image/upload/v1537980319/scre.png"/></noscript></figure>
<h2 id="conclusion">结论</h2>
<p>在这篇文章中，我们已经学习了如何安装和配置webpack来使用Tailwind CSS和React。如果你充分利用这些新知识，还有很多更棒的事情可以实现。黑进去。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>
<hr/>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>