<html>
<head>
<title>Functional user interfaces with Moon.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Moon.js - LogRocket博客的功能用户界面</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/functional-uis-moon-js/#0001-01-01">https://blog.logrocket.com/functional-uis-moon-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本教程中，我们将通过理解什么是Moon.js以及为什么创建它来介绍它。然后，我们将通过构建一个使用JSONPlaceholder API的博客应用程序来使用这些知识。</p>
<h2>Moon.js是什么，解决什么问题？</h2>
<p>Moon.js是一个很小的(2KB)，功能性的，声明性的，最小的，快速的功能用户界面库。它基于这样一种想法，即现代应用程序是复杂的，除了更新视图之外，它们很可能需要第三方库来实现任何效果。</p>
<p>为了解决这个问题，Moon基于纯函数，它可以从驱动程序获取输入并将输出返回给驱动程序。驱动负责视图、状态、HTTP请求、路由等。</p>
<p>Moon具有一系列开箱即用的功能:</p>
<ol>
<li><a href="https://moonjs.org/time">时间</a>:时间驱动程序提供当前时间，允许我们安排应用程序功能在特定时间后运行</li>
<li><a href="https://moonjs.org/storage">存储</a>:存储驱动程序提供对<code>localStorage</code>的访问，以在浏览器中保存数据</li>
<li><a href="https://moonjs.org/HTTP">HTTP</a>:HTTP驱动允许发送和接收HTTP请求和响应</li>
<li><a href="https://moonjs.org/route">路由</a>:路由驱动程序提供了在浏览器中访问路由路径名的方法</li>
</ol>
<p>在本教程中，我们将使用HTTP驱动程序使用<a href="https://jsonplaceholder.typicode.com/"> JSONPlaceholder API </a>获取API。</p>
<h2>在我们的应用程序中安装Moon.js</h2>
<p>我们可以使用<a href="https://moonjs.org/installation">命令行界面</a>来<a href="https://moonjs.org/installation">安装</a>月球:</p>
<pre>npm install -g moon-cli</pre>
<p>上述命令将在我们的系统上全局安装moon。关于全局安装软件包的更多信息可以在<a href="https://docs.npmjs.com/downloading-and-installing-packages-globally"> npm文档</a>中找到。</p>
<p>一旦上述步骤完成，我们可以使用以下命令引导一个Moon项目:</p>
<pre>moon create introduction-to-moon.js</pre>
<figure id="attachment_22092" aria-describedby="caption-attachment-22092" class="wp-caption aligncenter"><img data-attachment-id="22092" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/bootstrapping-moon-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png" data-orig-size="730,741" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Bootstrapping a Moon app" data-image-description="" data-image-caption="&lt;p&gt;Bootstrapping a Moon application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app-296x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png" decoding="async" class="size-full wp-image-22092 jetpack-lazy-image" src="../Images/a5be651a6cc4de76f2e408a2a991311f.png" alt="Bootstrapping A Moon Application" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app-296x300.png 296w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22092" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/bootstrapping-moon-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png" data-orig-size="730,741" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Bootstrapping a Moon app" data-image-description="" data-image-caption="&lt;p&gt;Bootstrapping a Moon application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app-296x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png" decoding="async" loading="lazy" class="size-full wp-image-22092" src="../Images/a5be651a6cc4de76f2e408a2a991311f.png" alt="Bootstrapping A Moon Application" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app-296x300.png 296w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/bootstrapping-moon-app.png"/></noscript><figcaption id="caption-attachment-22092" class="wp-caption-text">Bootstrapping a Moon application.</figcaption></figure>
<p>上述命令将创建以下目录结构:</p>
<figure id="attachment_22094" aria-describedby="caption-attachment-22094" class="wp-caption aligncenter"><img data-attachment-id="22094" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-directory-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png" data-orig-size="730,538" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon directory structure" data-image-description="" data-image-caption="&lt;p&gt;Directory structure of a generic Moon app.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure-300x221.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png" decoding="async" class="size-full wp-image-22094 jetpack-lazy-image" src="../Images/a6eb6796f33c472ae208ac7149ef1ef1.png" alt="Directory Structure Of A Moon App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure-300x221.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22094" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-directory-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png" data-orig-size="730,538" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon directory structure" data-image-description="" data-image-caption="&lt;p&gt;Directory structure of a generic Moon app.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure-300x221.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png" decoding="async" loading="lazy" class="size-full wp-image-22094" src="../Images/a6eb6796f33c472ae208ac7149ef1ef1.png" alt="Directory Structure Of A Moon App" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure-300x221.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-directory-structure.png"/></noscript><figcaption id="caption-attachment-22094" class="wp-caption-text">Directory structure of a generic Moon app.</figcaption></figure>
<p>现在，我们可以运行以下命令来安装所有必需的依赖项并启动应用程序:</p>
<pre>cd introduction-to-moon.js &amp;&amp; npm install &amp;&amp; npm run dev</pre>
<p>此时，我们的应用程序应该在<code><a href="http://localhost:8080/" rel="nofollow">http://localhost:8080/</a></code>启动并运行:</p>
<figure id="attachment_22096" aria-describedby="caption-attachment-22096" class="wp-caption aligncenter"><img data-attachment-id="22096" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-app-welcome-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png" data-orig-size="730,593" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon app welcome screen" data-image-description="" data-image-caption="&lt;p&gt;Welcome screen of a Moon application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen-300x244.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png" decoding="async" class="size-full wp-image-22096 jetpack-lazy-image" src="../Images/60a622963173246a9c8058579d0fd48d.png" alt="Welcome Screen Of A Moon Application" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen-300x244.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22096" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-app-welcome-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png" data-orig-size="730,593" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon app welcome screen" data-image-description="" data-image-caption="&lt;p&gt;Welcome screen of a Moon application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen-300x244.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png" decoding="async" loading="lazy" class="size-full wp-image-22096" src="../Images/60a622963173246a9c8058579d0fd48d.png" alt="Welcome Screen Of A Moon Application" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen-300x244.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-app-welcome-screen.png"/></noscript><figcaption id="caption-attachment-22096" class="wp-caption-text">Welcome screen of a Moon application.</figcaption></figure>
<p>Moon默认给我们两个脚本:</p>
<ol>
<li><code>dev</code>–该命令将使用实时重新加载启动webpack服务器</li>
<li>这个命令将生成我们的应用程序的生产版本</li>
</ol>
<h2>向我们的应用程序添加Tailwind CSS</h2>
<p>接下来，我们将把<a href="https://tailwindcss.com/"> Tailwind CSS </a>添加到我们的应用程序中，以提供一些默认样式。我们可以通过将下面一行添加到我们的<code>src/index.html</code>文件中来实现:</p>
<pre>&lt;link href="https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8afeebe3e6fde3e4eee9f9f9ca">[email protected]</a>^1.0/dist/tailwind.min.css" rel="stylesheet"&gt;</pre>
<blockquote><p><strong>注意</strong>:这不是安装顺风CSS的推荐方法。更多选项在顺风CSS <a href="https://tailwindcss.com/docs/installation/">文档</a>中提供。</p></blockquote>
<h2>从JSONPlaceholder获取数据</h2>
<p>接下来，我们将添加一个特性，通过这个特性，我们可以从JSONPlaceholder这样的API中获取数据，并在浏览器上显示出来。这个API将被分页，所以我们最初将只获取第一篇文章，然后，单击一个按钮，我们将获取后续的文章。</p>
<p>JSONPlaceholder是一个非常容易使用的API。它是免费的，可以使用下面的代码获取:</p>
<pre>fetch('https://jsonplaceholder.typicode.com/posts/1')
  .then(response =&gt; response.json())
  .then(json =&gt; console.log(json))</pre>
<p>这将返回如下所示的JSON响应:</p>
<pre>{
  userId: 1,
  id: 1,
  title: "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
  body: "quia et suscipit suscipit recusandae consequuntur expedita et cum reprehenderit molestiae ut ut quas totam nostrum rerum est autem sunt rem eveniet architecto"
}</pre>
<p>为了开始使用我们的应用程序，让我们首先定义布局的HTML结构。我们可以创建一个新文件<code>src/view/home/index.js</code>，内容如下:</p>
<pre>// src/view/home/index.js

import Moon from "moon";
import navbar from "../components/navbar";
import post from "../components/post";

const { section, div } = Moon.view.m;

export default ({ data }) =&gt; {
  return (
    &lt;div&gt;
      &lt;section&gt;
        &lt;navbar /&gt;
      &lt;/section&gt;
      &lt;section&gt;
        &lt;post data=data /&gt;
      &lt;/section&gt;
    &lt;/div&gt;
  );
};</pre>
<p>接下来我们将创建<code>navbar</code>和<code>post</code>组件。<code>navbar</code>组件负责显示一个虚拟的导航栏。我们可以创建一个新文件<code>src/view/components/navbar/index.js</code>，其内容如下:</p>
<pre>// src/view/components/navbar/index.js

import Moon from "moon";

const { div, ul, li, a } = Moon.view.m;

export default () =&gt; {
  return (
    &lt;div className="bg-gray-100 border-b"&gt;
      &lt;div className="max-w-2xl mx-auto p-8 flex justify-between"&gt;
        &lt;div&gt;
          &lt;ul class="flex"&gt;
            &lt;li class="mr-6 font-bold"&gt;
              &lt;a class="text-blue-500 hover:text-blue-800" href="#"&gt;
                Home
              &lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
        &lt;div&gt;
          &lt;ul class="flex"&gt;
            &lt;li class="mr-6 font-bold"&gt;
              &lt;a class="text-blue-500 hover:text-blue-800" href="#"&gt;
                About
              &lt;/a&gt;
            &lt;/li&gt;
            &lt;li class="mr-6 font-bold"&gt;
              &lt;a class="text-blue-500 hover:text-blue-800" href="#"&gt;
                Contact
              &lt;/a&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};</pre>
<p>接下来，我们将创建我们的<code>post</code>组件。<code>post</code>组件负责显示从API获取的文章，以及从API获取下一篇文章并将其呈现在浏览器上的按钮。所以让我们用以下内容创建一个新文件<code>src/view/components/post/index.js</code>:</p>
<pre>// src/view/components/post/index.js

import Moon from "moon";
import home from "../../home";

const { div, h2, p, button } = Moon.view.m;

const post = ({ data }) =&gt; {
  return (
    &lt;div className="bg-white"&gt;
      &lt;div className="max-w-2xl mx-auto p-8"&gt;
        &lt;div className="mb-8"&gt;
          &lt;h2 className="font-bold text-xl mb-2"&gt;{data.title}&lt;/h2&gt;
          &lt;p className="font-light"&gt;{data.body}&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}

export default post</pre>
<p>这将显示帖子。但是，让我们添加一个按钮来获取后续的帖子:</p>
<pre>// src/view/components/post/index.js

const post = ({ data }) =&gt; {
  const handleClick = () =&gt; {
    Moon.run(() =&gt; {
      const postCount = data.postCount + 1

      return({
        http: [
          {
            method: "GET",
            url: `https://jsonplaceholder.typicode.com/posts/${postCount}`,
            headers: {
              "Content-type": "application/json"
          },
            onLoad: ({ http }) =&gt; {
              const response = {...JSON.parse(http.body), postCount}

              return {
                view: &lt;home data=response /&gt;
              };
            },
          }
        ]
      })}
    );
  };

  return (

    ....

    &lt;button
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
      @click=handleClick
    &gt;
      Fetch post {data.postCount + 1}
    &lt;/button&gt;

    ....

  )
}</pre>
<p>如果我们现在点击按钮，将会调用<code>handleClick</code>功能。<code>handleClick</code>函数将从API中获取下一篇文章，并将其呈现在浏览器上。当API请求完成时，<code>home</code>组件将在浏览器上呈现，并带有API响应。</p>
<p>因为这个HTTP请求是特定于Moon如何工作的，所以让我们了解更多一点。根据Moon <a href="https://moonjs.org/HTTP">文档</a>，HTTP驱动程序接受一列HTTP请求作为输出。每个请求可以有一个<code>method</code>、<code>url</code>、<code>headers</code>、<code>body</code>、<code>responseType</code>、<code>onLoad</code>和<code>onError</code>属性。只有<code>url</code>属性是必需的。</p>
<pre>Moon.use({
    http: Moon.http.driver
});

Moon.run(() =&gt; ({
  http: [{
      method: "GET",  // GET, POST, PUT, DELETE, etc.
      url: "https://jsonplaceholder.typicode.com/posts/1",
      headers: {
        "Content-Type": "application/json" // Any type
      },
      body: "HTTP driver test", // If we need to send a body, we can use this. However, this data type must match the "headers"
      responseType: "json",
      onLoad: ({ http }) =&gt; {
        console.log(http);

        return {};
      },
      onError: ({ http }) =&gt; {
        console.error(http);

        return {};
      }
  }
]}));</pre>
<p>上述函数将在我们的浏览器控制台中记录以下内容:</p>
<figure id="attachment_22097" aria-describedby="caption-attachment-22097" class="wp-caption aligncenter"><img data-attachment-id="22097" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/api-response-moon-http-driver/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png" data-orig-size="730,605" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample API response" data-image-description="" data-image-caption="&lt;p&gt;Sample API response using Moon’s HTTP driver.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver-300x249.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png" decoding="async" class="size-full wp-image-22097 jetpack-lazy-image" src="../Images/38336abe2ab43e0056b2e4944234ee56.png" alt="Sample API Response Using Moon's HTTP Driver" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver-300x249.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22097" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/api-response-moon-http-driver/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png" data-orig-size="730,605" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sample API response" data-image-description="" data-image-caption="&lt;p&gt;Sample API response using Moon’s HTTP driver.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver-300x249.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png" decoding="async" loading="lazy" class="size-full wp-image-22097" src="../Images/38336abe2ab43e0056b2e4944234ee56.png" alt="Sample API Response Using Moon's HTTP Driver" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver-300x249.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/api-response-moon-http-driver.png"/></noscript><figcaption id="caption-attachment-22097" class="wp-caption-text">Sample API response using Moon’s HTTP driver.</figcaption></figure>
<p>Moon的调试器也很有帮助。如果我们没有定义HTTP驱动程序，它会在我们的浏览器控制台上抛出一条有用的消息:</p>
<figure id="attachment_22099" aria-describedby="caption-attachment-22099" class="wp-caption aligncenter"><img data-attachment-id="22099" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-driver-error/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png" data-orig-size="730,403" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon driver error message" data-image-description="" data-image-caption="&lt;p&gt;Error when a Moon driver is used without defining it.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png" decoding="async" class="size-full wp-image-22099 jetpack-lazy-image" src="../Images/562af25b99d3db8648a7b2e98d15fa17.png" alt="Moon Driver Error Message" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error-300x166.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22099" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/moon-driver-error/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png" data-orig-size="730,403" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moon driver error message" data-image-description="" data-image-caption="&lt;p&gt;Error when a Moon driver is used without defining it.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png" decoding="async" loading="lazy" class="size-full wp-image-22099" src="../Images/562af25b99d3db8648a7b2e98d15fa17.png" alt="Moon Driver Error Message" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error-300x166.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/moon-driver-error.png"/></noscript><figcaption id="caption-attachment-22099" class="wp-caption-text">Error when a Moon driver is used without defining it.</figcaption></figure>
<p>接下来，我们需要用以下内容更新我们的<code>src/main.js</code>文件:</p>
<pre>// src/main.js

import Moon from "moon";
import home from "./view/home"

// Define all the drivers that we'll need
Moon.use({
  data: Moon.data.driver,
  http: Moon.http.driver,
  view: Moon.view.driver("#root")
});

Moon.run(() =&gt; {
  const postCount = 1 // Fetch the first post initially

  return({
    http: [{
      method: "GET",
      url: `https://jsonplaceholder.typicode.com/posts/${postCount}`,
      headers: {
        "Content-type": "application/json"
      },
      onLoad: ({ http }) =&gt; {
        const data = {...JSON.parse(http.body), postCount}
        return {
          view: &lt;home data=data /&gt;
        };
      },
    }]
  })}
);</pre>
<p>一旦获取第一个post的API请求完成，上面的代码将呈现<code>home</code>组件。</p>
<p>现在，如果我们访问<code><a href="http://localhost:8080/" rel="nofollow">http://localhost:8080/</a></code>，我们应该能够看到以下屏幕:</p>
<figure id="attachment_22100" aria-describedby="caption-attachment-22100" class="wp-caption aligncenter"><img data-attachment-id="22100" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/initial-moon-app-interface/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png" data-orig-size="730,408" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initial app interface" data-image-description="" data-image-caption="&lt;p&gt;Our initial application interface.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png" decoding="async" class="size-full wp-image-22100 jetpack-lazy-image" src="../Images/9c3658b7e6a1fdca4d94473c00a73e8f.png" alt="Initial Moon Application Interface" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface-300x168.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22100" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/initial-moon-app-interface/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png" data-orig-size="730,408" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initial app interface" data-image-description="" data-image-caption="&lt;p&gt;Our initial application interface.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface-300x168.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png" decoding="async" loading="lazy" class="size-full wp-image-22100" src="../Images/9c3658b7e6a1fdca4d94473c00a73e8f.png" alt="Initial Moon Application Interface" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface-300x168.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/initial-moon-app-interface.png"/></noscript><figcaption id="caption-attachment-22100" class="wp-caption-text">Our initial application interface.</figcaption></figure>
<p>我们可以查看第一个帖子。如果我们单击按钮，下一篇文章将从API中获取并呈现在浏览器上:</p>
<figure id="attachment_22090" aria-describedby="caption-attachment-22090" class="wp-caption aligncenter"><img data-attachment-id="22090" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/view-with-next-posts/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif" data-orig-size="730,292" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="View with next posts" data-image-description="" data-image-caption="&lt;p&gt;Fetching and rendering the next set of posts.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts-300x120.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif" decoding="async" class="size-full wp-image-22090 jetpack-lazy-image" src="../Images/68e23f9d5b3508cd4494c347e763f8a9.png" alt="Fetching And Rendering The Next Set Of Posts" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="22090" data-permalink="https://blog.logrocket.com/functional-uis-moon-js/view-with-next-posts/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif" data-orig-size="730,292" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="View with next posts" data-image-description="" data-image-caption="&lt;p&gt;Fetching and rendering the next set of posts.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts-300x120.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif" decoding="async" loading="lazy" class="size-full wp-image-22090" src="../Images/68e23f9d5b3508cd4494c347e763f8a9.png" alt="Fetching And Rendering The Next Set Of Posts" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/view-with-next-posts.gif"/></noscript><figcaption id="caption-attachment-22090" class="wp-caption-text">Fetching and rendering the next set of posts.</figcaption></figure>
<h2>结论</h2>
<p>在本教程中，我们学习了什么是Moon.js，以及如何用它来构建应用程序。我们在本教程中构建的应用程序的源代码可以在<a href="https://github.com/ghoshnirmalya/moon.js-tailwind-css"> Github </a>上获得，托管在<a href="https://moon-js-tailwind-css.ghoshnirmalya.vercel.app/"> Vercel </a>上。</p>
<p>如果你想继续探索月球，请查看<a href="https://moonjs.org/examples">示例</a>。你也可以通过月亮<a href="">游乐场</a>或<a href="https://moonjs.org/guide">导游</a>来了解月亮。</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>