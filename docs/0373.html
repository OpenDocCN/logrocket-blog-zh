<html>
<head>
<title>A complete guide to forms in Vue.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Vue.js - LogRocket博客中表单的完整指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/an-imperative-guide-to-forms-in-vue-js-2/#0001-01-01">https://blog.logrocket.com/an-imperative-guide-to-forms-in-vue-js-2/#0001-01-01</a></blockquote><div><article class="article-post">
<p><strong> <em>编者按:</em> </strong> <em>这本Vue.js中的表格指南更新于2021年1月19日。</em></p>
<p>学习在我们最喜欢的框架中正确使用表单是有价值的，它可以在开发过程中节省我们一些时间和精力。在本教程中，我将带您浏览在<a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer"> Vue.js </a> v2.x应用程序中创建、验证和利用表单输入的过程。</p>
<p>要跟随本教程，你需要一些HTML和Vue.js的知识。你可以在<a href="https://codepen.io/olayinkaos/pen/GMmpPm" target="_blank" rel="noopener noreferrer"> CodePen </a>上体验整个演示。</p>
<figure class="kg-card kg-image-card">
<blockquote class="embedly-card" data-card-controls="1" data-card-align="center" data-card-theme="light">

<p>没有描述</p>
</blockquote>
<p>设置我们的Vue.js应用程序</p></figure>
<h2 id="setting-up">我们将首先创建一个简单的Vue.js应用程序，其中包含一些基本的HTML标记。我们还将引入<a href="http://bulma.io/" target="_blank" rel="noopener noreferrer">布尔玛</a>来利用一些预制的风格:</h2>
<p>将输入值与<code>v-model</code>绑定</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Fun with Forms in Vue.js&lt;/title&gt;
  &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.4/css/bulma.min.css"&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div class="columns" id="app"&gt;
    &lt;div class="column is-two-thirds"&gt;
      &lt;section class="section"&gt;
        &lt;h1 class="title"&gt;Fun with Forms in Vue 2.0&lt;/h1&gt;
        &lt;p class="subtitle"&gt;
          Learn how to work with forms, including &lt;strong&gt;validation&lt;/strong&gt;!
        &lt;/p&gt;
        &lt;hr&gt;      
        
        &lt;!-- form starts here --&gt;
        &lt;section class="form"&gt;

&lt;/section&gt;
      &lt;/section&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.4/vue.min.js"&gt;&lt;/script&gt;

&lt;script&gt;
  new Vue({
    el: '#app'
  })
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre>
<h2 id="binding-input-values">我们可以使用<code>v-model</code>指令将表单输入和<code>textarea</code>元素值绑定到Vue实例数据。根据<a href="https://vuejs.org/v2/guide/forms.html#:~:text=You%20can%20use%20the%20v,based%20on%20the%20input%20type." target="_blank" rel="noopener"> Vue文档</a>,<code>v-model</code>指令使您能够在表单输入、<code>textarea</code>和选择元素上创建双向数据绑定。它会根据输入类型自动选择正确的方式来更新元素。</h2>
<p>文本输入示例</p>
<h3 id="text">让我们从创建一个简单的文本输入来获取用户的全名开始:</h3>
<p>在上面的代码中，我们在Vue实例中定义了data选项，并定义了一个form对象，它将保存我们的表单所需的所有属性。我们定义的第一个属性是<code>name</code>，它绑定到我们也创建的文本输入。</p>
<pre>...
&lt;section <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"form"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"field"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"control"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Text input"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span>
...

&lt;script&gt;
<span class="hljs-keyword">new</span> Vue({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">form</span> : {
      <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>
    }
  }
})
&lt;<span class="hljs-regexp">/script&gt;</span></pre>
<p>既然双向绑定已经存在，我们可以在应用程序的任何地方使用<code>form.name</code>的值，因为它将是文本输入的更新值。我们可以添加一个部分来查看表单对象的所有属性:</p>
<p>如果你按照正确的方式进行，你应该会得到和下面的小提琴一样的结果。尝试在输入框中键入:</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"columns"</span> id=<span class="hljs-string">"app"</span>&gt;
  <span class="xml">

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"column"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"results"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>          
          
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, k) in form"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>{{ k }}:<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span> {{ item }}
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
...</pre>
<p>If you’re following along properly, you should have the same result as the fiddle below. Try typing in the input box:</p>
<p>注意<code>v-model</code>将忽略表单输入的值、检查或选择的属性，并将Vue实例数据视为事实的来源。这意味着您还可以在Vue实例中为<code>form.name</code>指定一个默认值。这就是表单输入的初始值。</p>
<p><code>Textarea</code>举例</p>
<h3 id="textarea">这些功能与常规输入框的工作方式相同:</h3>
<p>以及表单模型中的相应值:</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>Message<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"textarea"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Message"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span></span>
  &lt;<span class="hljs-regexp">/div&gt;
&lt;/</span>div&gt;
...</pre>
<p>需要注意的是，<code>textarea</code> — <code>&lt;textarea&gt;{{ form.message}}&lt;/textarea&gt;</code> —中的插值不适用于双向绑定。请改用<code>v-model</code>指令。</p>
<pre>data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,  
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span> 
  }
}</pre>
<p>对选择框使用<code>v-model</code>指令</p>
<h3 id="select">对于选择框，也可以很容易地插入<code>v-model</code>指令。定义的模型将与所选选项的值同步:</h3>
<p>在上面的代码中，我们选择使用<code>v-for</code>指令动态加载选项。这要求我们也定义Vue实例中的可用选项:</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>Inquiry Type<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"select"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.inquiry_type"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">disabled</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>Nothing selected<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"option in options.inquiry"</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">"option.value"</span>&gt;</span>
          {{ option.text }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  &lt;<span class="hljs-regexp">/div&gt;
&lt;/</span>div&gt;
...</pre>
<p>多选框的过程类似。不同之处在于，多选框的选定值存储在一个数组中。</p>
<pre>data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">inquiry_type</span>: <span class="hljs-string">''</span> 
  },
  <span class="hljs-attr">options</span>: {
    <span class="hljs-attr">inquiry</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-string">'feature'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"Feature Request"</span>},
      { <span class="hljs-attr">value</span>: <span class="hljs-string">'bug'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"Bug Report"</span>},
      { <span class="hljs-attr">value</span>: <span class="hljs-string">'support'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">"Support"</span>}
    ]
  }
}</pre>
<p>例如:</p>
<p>并定义相应的模型属性:</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>LogRocket Usecases<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"select is-multiple"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.logrocket_usecases"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>Debugging<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>Fixing Errors<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>User support<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  &lt;<span class="hljs-regexp">/div&gt;
&lt;/</span>div&gt;
...</pre>
<p>在上面的例子中，选择的值将被添加到<code>logrocket_usecases</code>数组中。</p>
<p>复选框示例</p>
<pre><code class="javascript hljs">data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">inquiry_type</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">logrocket_usecases</span>: [], 
  }, 
  
}</code></pre>
<p>需要布尔值(真/假)的单个复选框可以这样实现:</p>
<h3 id="checkbox">定义相应的模型属性:</h3>
<p>上例中<code>form.terms</code>的值将根据复选框是否被选中而为真或假。该属性的默认值为false，因此复选框的初始状态将被取消选中。</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"control"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.terms"</span>&gt;</span>
      I agree to the <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>terms and conditions<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
...</pre>
<p>对于多个复选框，它们可以简单地绑定到同一个数组:</p>
<pre>&gt;data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">inquiry_type</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">logrocket_usecases</span>: [],
    <span class="hljs-attr">terms</span>: <span class="hljs-literal">false</span>, 
  }, 
  
}</pre>
<p>单选按钮示例</p>
<p>对于单选按钮，<code>model</code>属性取选中的<code>radio</code>按钮的值。</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt; 
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>What dev concepts are you interested in?<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.concepts"</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">"promises"</span>&gt;</span>
      Promises
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"checkbox"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.concepts"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">"testing"</span>&gt;</span>
      Testing
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
...

data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>, 
    <span class="hljs-attr">inquiry_type</span>: <span class="hljs-string">''</span>, 
    <span class="hljs-attr">logrocket_usecases</span>: [],
    <span class="hljs-attr">terms</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">concepts</span>: [], 
  }, 
  
}</pre>
<h3 id="radio">这里有一个例子:</h3>
<p>使用vee-validate验证用户输入</p>
<p>虽然编写自定义验证逻辑是可能的，但是已经有一个很棒的插件可以帮助轻松验证输入并显示相应的错误。这个插件是<a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer"> vee-validate </a>。</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>Is JavaScript awesome?<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>

&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.js_awesome"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Yes"</span>&gt;</span>
      Yes
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"radio"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.js_awesome"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Yeap!"</span>&gt;</span>
      Yeap!
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
...

data: {
  <span class="hljs-attr">form</span> : {
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">inquiry_type</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">logrocket_usecases</span>: [],
    <span class="hljs-attr">terms</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">concepts</span>: [],
    <span class="hljs-attr">js_awesome</span>: <span class="hljs-string">''</span> 
  }, 
  
}</pre>
<h2 id="validating-user-inputs">这个用于Vue.js的表单验证库允许您验证输入，并以声明的方式或使用复合函数构建表单ui。</h2>
<p>首先，我们需要在我们的应用程序中包含插件。这可以通过yarn或npm来实现，但在我们的情况下，通过CDN来实现也可以:</p>
<p>为了设置插件，我们将把它放在Vue实例的正上方:</p>
<p>现在，我们可以对输入使用<code>v-validate</code>指令，并将规则作为字符串值传入。每条规则都可以用竖线隔开。</p>
<pre>&lt;script src=<span class="hljs-string">"https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3a4c5f5f174c5b56535e5b4e5f7a08140a140a174859140b02">[email protected]</a>/dist/vee-validate.js"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></pre>
<p>举一个简单的例子，让我们验证我们之前定义的<code>name</code>输入:</p>
<pre>Vue.use(VeeValidate);</pre>
<p>在上面的例子中，我们定义了两条规则:第一条是name字段是必需的(<code>required</code>)，第二条是在name字段中输入的任何值的最小长度应该是三(<code>min:3</code>)。</p>
<p><strong>提示:</strong>规则可以被定义为对象以获得更大的灵活性。例如:<code>v-validate=”{required: true, min: 3}”</code></p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.name"</span> 
      <span class="hljs-attr">v-validate</span>=<span class="hljs-string">"'required|min:3'"</span> 
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Full name"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> 
&lt;<span class="hljs-regexp">/div&gt;
...</span></pre>
<p>要在这些规则没有通过时访问错误，我们可以使用插件创建的错误助手对象。例如，要在输入下方显示错误，我们可以添加以下内容:</p>
<blockquote><p>在上面的代码中，我们利用了来自<code>vee-validate</code>插件的几个助手方法来显示错误:</p></blockquote>
<p><code>.has()</code>帮助我们检查作为参数传入的输入字段是否有错误。它返回一个布尔值(真/假)。</p>
<pre>&lt;p <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"help is-danger"</span> v-show=<span class="hljs-string">"errors.has('name')"</span>&gt;
  {{ errors.first(<span class="hljs-string">'name'</span>) }}
&lt;<span class="hljs-regexp">/p&gt;</span></pre>
<p><code>.first()</code>返回与作为参数传入的字段相关联的第一个错误消息。</p>
<ul>
<li>其他有用的方法包括<code>.collect()</code>、<code>.all()</code>和<code>.any()</code>。你可以在这里阅读更多关于他们的<a href="http://vee-validate.logaretm.com/#render-errors" target="_blank" rel="noopener noreferrer">。</a></li>
<li>注意，name属性需要在我们的输入字段上定义，因为这是<code>vee-validate</code>用来标识字段的。</li>
</ul>
<p>最后，我们可以向输入字段添加一个<code>is-danger</code>类(由布尔玛提供),以指示字段何时出现验证错误。这对用户体验非常好，因为当输入字段没有被正确填充时，用户会立即看到。</p>
<p>整个字段标记现在将如下所示:</p>
<p>你可以在下面的结果标签中看到目前正在进行的工作:</p>
<p>使用JSFiddle代码编辑器在线测试您的JavaScript、CSS、HTML或CoffeeScript。</p>
<pre>...
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field"</span>&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"label"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"control"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> 
      <span class="hljs-attr">v-model</span>=<span class="hljs-string">"form.name"</span> 
      <span class="hljs-attr">v-validate</span>=<span class="hljs-string">"'required|min:3'"</span> 
      <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">"{'is-danger': errors.has('name')}"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Full name"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  &lt;p <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"help is-danger"</span> v-show=<span class="hljs-string">"errors.has('name')"</span>&gt;
    {{ errors.first(<span class="hljs-string">'name'</span>) }}
  &lt;<span class="hljs-regexp">/p&gt; 
&lt;/</span>div&gt;
...</pre>
<p>You can see the work in progress so far in the results tab in the fiddle below:</p>
<blockquote class="embedly-card" data-card-controls="1" data-card-align="center" data-card-theme="light">

<p><code>vee-validate</code>有许多满足一般用例的预定义规则。可用规则的完整列表可以在<a href="http://vee-validate.logaretm.com/#available-rules" target="_blank" rel="noopener noreferrer">这里</a>找到。如果您的表单有通用规则没有涵盖的任何需求，也可以定义自定义验证规则。</p>
</blockquote>
<p>使用<code>Validator.extend()</code>创建自定义验证规则</p>
<p>我们可以使用<code>Validator.extend()</code>方法创建定制规则。您的自定义规则必须符合合同或特定的结构。</p>
<h3 id="custom-validation-rules">让我们添加一个验证方法，强制用户在发送消息时保持礼貌:</h3>
<p>我们的验证器由两个属性组成:</p>
<p><code>getMessage(field, params)</code>:返回一个字符串——验证失败时的错误信息。</p>
<pre>VeeValidate.Validator.extend(<span class="hljs-string">'polite'</span>, { 
  <span class="hljs-attr">getMessage</span>: <span class="hljs-function"><span class="hljs-params">field</span> =&gt;</span> <span class="hljs-string">`You need to be polite in the <span class="hljs-subst">${field}</span> field`</span>,
  <span class="hljs-attr">validate</span>: <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> value.toLowerCase().indexOf(<span class="hljs-string">'please'</span>) !== <span class="hljs-number">-1</span>
});</pre>
<p><code>validate(value, params)</code>:返回一个布尔值、对象或承诺。如果没有返回布尔值，那么<code>valid(boolean)</code>属性需要出现在对象或承诺中。</p>
<ul>
<li>也考虑到了本地化。您可以在完整的<code>vue-validate</code> <a href="https://vee-validate.logaretm.com/v2/guide/custom-rules.html" target="_blank" rel="noopener">自定义规则文档</a>中查看翻译和本地化说明。</li>
<li>使用事件处理程序提交表单</li>
</ul>
<p>为了处理表单提交，我们可以使用Vue的提交<a href="https://v3.vuejs.org/guide/events.html" target="_blank" rel="noopener">事件处理程序</a>。对于方法事件处理程序，我们将使用<code>v-on</code>方法。我们还可以插入<code>.prevent</code>修饰符来阻止默认动作，在本例中，默认动作是提交表单时页面刷新:</p>
<h2 id="form-submission">在上面的例子中，我们只是在表单提交时将整个表单模型记录到控制台。</h2>
<p>我们可以用<code>vee-validate</code>添加最后一点，以确保用户不被允许提交无效的表单。我们可以使用<code>errors.any()</code>来实现这一点:</p>
<pre>...
&lt;form v-on:submit.prevent=<span class="hljs-string">"console.log(form)"</span>&gt; 
  ...
  &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"field is-grouped"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"control"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button is-primary"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  &lt;<span class="hljs-regexp">/div&gt;
&lt;/</span>form&gt;
...</pre>
<p>在上面的代码中，一旦表单中存在任何错误，我们就禁用提交按钮。</p>
<p>太好了！现在我们已经从头构建了一个表单，添加了验证，并且可以使用表单中的输入值。你可以在CodePen 上找到我们在<a href="https://codepen.io/olayinkaos/pen/GMmpPm?editors=1010" target="_blank" rel="noopener noreferrer">上完成的全部代码。</a></p>
<pre>&lt;button 
  v-bind:disabled=<span class="hljs-string">"errors.any()"</span>
  <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"button is-primary"</span>&gt;
  Submit
&lt;<span class="hljs-regexp">/button&gt;</span></pre>
<p>最终说明</p>
<p>其他一些需要注意的关键事项:</p>
<h2 id="final-notes">表单输入上的<code>v-model</code>有一些修饰符，包括<code>.lazy</code>、<code>.number</code>和<code>.trim</code>。你可以在这里读到关于他们<a href="https://vuejs.org/v2/guide/forms.html#Modifiers" target="_blank" rel="noopener noreferrer">的一切。</a></h2>
<p>可以使用<code>v-bind:value</code>将动态属性绑定到输入值。查看关于<a href="https://vuejs.org/v2/guide/forms.html#Value-Bindings" target="_blank" rel="noopener noreferrer">值绑定</a>的文档了解更多信息。</p>
<ul>
<li>在本指南中，我们学习了如何在Vue.js应用程序中创建表单、验证表单以及使用其字段值。我们提出了一种在Vue.js中创建表单的方法，但是还有其他选择。本教程向你展示了如何用Vue Formulate创建表单。</li>
<li>你对Vue.js中的表单有什么问题或意见吗，或者它们与其他框架中的表单相比如何？欢迎发表评论，让我们开始讨论吧！</li>
</ul>
<p>像用户一样体验您的Vue应用</p>
<p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>. </h2><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><p>The LogRocket Vuex plugin logs Vuex mutations to the LogRocket console, giving you context around what led to an error, and what state the application was in when an issue occurred.</p><p>Modernize how you debug your Vue apps - <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>