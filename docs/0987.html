<html>
<head>
<title>What's new in Snowpack 2.0 - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Snowpack 2.0中的新内容- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/whats-new-in-snowpack-2-0/#0001-01-01">https://blog.logrocket.com/whats-new-in-snowpack-2-0/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Snowpack是一个web应用程序的构建工具，可以在开发中不捆绑使用。这完全归功于原生浏览器ES模块的强大功能，它允许该工具在开发环境中删除捆绑步骤。因此，Snowpack有助于加快开发环境的构建速度，即使在代码库增长时也能保持快速。</p>
<p>Snowpack还引入了在开发中拆分应用程序的概念，这有助于避免每次保存单个文件时都需要重新构建和重新绑定整个应用程序。它只是通过热模块替换对更改的文件进行即时更新。</p>
<p><a href="https://snowpack.dev" target="_blank" rel="noopener noreferrer">官方网站</a>将Snowpack描述为“<span>一个现代的、轻量级的web应用开发工具链。”</span></p>
<h2>Snowpack 2.0中的新功能</h2>
<p>当1月向公众发布1.0版本时，它提供了令人兴奋的功能，例如:</p>
<ul>
<li>在50毫秒或更短时间内启动的开发环境</li>
<li>能够在浏览器中即时反映变化</li>
<li>与您最喜欢的捆扎机集成，实现生产优化构建</li>
<li>对TypeScript、JSX、CSS模块等的现成支持。</li>
<li>能够将您喜爱的工具与定制构建脚本和第三方插件连接起来</li>
</ul>
<p>Snowpack团队于5月26日发布了2.0版本，其中包含许多令人兴奋的新功能，包括:</p>
<ul>
<li>O(1)文件构建</li>
<li>改进的开发环境</li>
<li>改进的自动HMR支持</li>
<li>能够使用构建脚本定制您的构建</li>
<li>零配置原型制作</li>
<li>创建Snowpack应用程序(CSA)模板</li>
</ul>
<h3>O(1)文件构建</h3>
<p>官方网站将snowpack 2.0描述为“一个为网络开发新时代设计的构建系统。”O(1)文件构建只涉及重建或重新捆绑在开发过程中更改的文件，而不重建整个应用程序。换句话说，如果您对开发中的文件进行了更改，只有该文件会被重新生成，而不会影响其他文件。</p>
<p>这不同于其他构建工具，如webpack，它是一个O(n)构建工具。它们被称为O(n)构建工具，因为传统的捆绑具有O(n)的复杂度。当一个文件在传统的捆绑中被改变时，构建工具将在应用程序中重建整个块，因为只有一个文件。</p>
<p>Snowpack 2.0附带了对O(1)文件构建的支持，这允许它以闪电般的速度进行更新，因为当文件在开发过程中发生更改时，只有该文件会被重建。</p>
<p>O(1)文件构建包括传统O(n)捆绑的许多好处，包括:</p>
<ol>
<li>更快的构建</li>
<li>项目的文件大小不会影响构建的性能</li>
<li>单个文件在第一次构建时被缓存，只有在发生更改时才会重新构建</li>
</ol>
<h3>改进的开发环境</h3>
<p>由于O(1)文件构建，开发服务器现在比以往任何时候都快。当你运行<code>snowpack dev</code>时，你会注意到启动变得有多快。因为没有执行捆绑工作，所以在&lt;50毫秒后启动。</p>
<p>Snowpack只构建对特定页面至关重要的文件，而不管项目中包含多少文件。这是可能的，因为<a href="https://javascript.info/modules-dynamic-imports" target="_blank" rel="noopener noreferrer">动态导入</a>，它将只在需要的时候加载一个模块。</p>
<h3>改进的自动HMR支持</h3>
<p>Snowpack使用热模块替换在浏览器中进行即时更新，这是一个非常酷的功能。</p>
<p>在版本2中，Snowpack附带了对以下开箱即用的自动支持:</p>
<ul>
<li>半铸钢ˌ钢性铸铁(Cast Semi-Steel)</li>
<li>CSS模块</li>
<li>JSON</li>
<li>通过配置做出反应(快速刷新)</li>
<li>通过配置预动作(预刷新)</li>
<li>通过插件的Vue</li>
<li>通过插件保持苗条</li>
</ul>
<p>Snowpack团队在通用ESM原生<code>import.meta</code> HMR API上附加了一个<code>hot()</code>函数。</p>
<h3>使用构建脚本定制您的构建</h3>
<p>Snowpack 2.0改进了构建脚本的使用，将您最喜欢的构建工具连接到Snowpack。这看起来和感觉起来就像是在一个<code>package.json</code>文件中配置脚本。</p>
<p>使用构建脚本，您可以完全控制整个构建过程。您可以调整它以适应您的需要，或者构建您自己的构建过程。Snowpack提供了第三方JavaScript插件，让你可以毫无困难地构建自己的项目插件。</p>
<p>构建脚本通常保存为<code>snowpack.config.json</code>。这个构建脚本将通过我们上面指定的Babel插件运行每个run <code>*.js,*.jsx,*.mjs,*.cjs</code>文件。它还将通过PostCSS命令行界面运行每个<code>*.css</code>文件。</p>
<pre>{
  "scripts": {
    // Run every "*.css" file through the PostCSS CLI
    "build:css": "postcss",
    //Run every "*.js,*.jsx,*.mjs,*.cjs" file through the babel plugin
    "build:js,jsx,mjs,cjs": "@snowpack/plugin-babel",
  },
  "plugins": [
    "@snowpack/plugin-babel",
  ],
}
</pre>
<h3>零配置原型制作</h3>
<p>Snowpack 2.0中最酷的特性之一是零配置原型，它使您无需配置基本的东西就可以使用该工具。换句话说，除非你真的需要，否则你不会需要一个<code>snowpack.config.json</code>文件。</p>

<p/>
<p>默认情况下，Snowpack提供开箱即用的配置:</p>
<ul>
<li>为浏览器重写您的包导入</li>
<li>将JSX和TS文件传输到JS</li>
<li>通过ES模块代理CSS和JSON导入</li>
</ul>
<p>如果你需要做额外的处理，你可以创建一个脚本或者添加一个插件来帮助你。</p>
<h3>创建Snowpack应用程序(CSA)模板</h3>
<p>Snowpack 2.0提供了新的和改进的入门模板来满足您的需求。CSA是一个入门模板，由一个预配置的、基于Snowpack的开发环境组成。它类似于流行的<a href="https://blog.logrocket.com/getting-started-with-create-react-app-d93147444a27/" target="_blank" rel="noopener noreferrer"> Create React App </a>，只是由Snowpack而不是webpack驱动。</p>
<p>CSA模板可用于一些流行的JavaScript框架和静态站点生成器，包括:</p>

<p>您还可以创建自己的Create Snowpack应用程序模板，并与社区共享。</p>
<h2 id="conclusion">结论</h2>
<p>Snowpack 2.0提供了大量新功能和对现有功能的改进，有助于简化构建过程。</p>
<p>要了解更多信息，请查看官方Snowpack 2.0发布帖子。</p>
<p>Snowpack 2.0中你最喜欢的新功能是什么？请在评论区告诉我们。</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>