<html>
<head>
<title>Rethinking frontend APM - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>反思前端APM - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/rethinking-frontend-apm/#0001-01-01">https://blog.logrocket.com/rethinking-frontend-apm/#0001-01-01</a></blockquote><div><article class="article-post">
<p>现代应用程序堆栈的重心正在向前端转移。对丰富和高性能的用户界面、高度可伸缩的基础设施以及不断提高的开发效率的需求，促使产品和工程团队部署新的应用程序架构。</p>
<p>虽然单片后端曾经拥有大多数应用程序逻辑，但今天，我们构建了有状态的单页面前端，可以与不同的微服务、无服务器功能、智能cdn和第三方API进行通信。</p>
<p>虽然这种转变无疑改善了最终用户体验和应用可用性，但它也为我们监控应用的方式带来了一系列新的挑战。</p>
<h2>怎么了?</h2>
<p>理解web应用程序的性能很难。在缓慢的API调用、繁重的客户端JavaScript和复杂的用户流之间，需要不断努力确保您的应用程序运行良好，并为您的用户提供出色的体验。</p>
<p>虽然性能问题有时会被用户报告或出现在QA中，但大多数问题实际上从未被报告过，因为有糟糕体验的用户只是离开或默默忍受。即使问题是已知的，也很难衡量它对用户体验的影响以及对转换率或NPS等业务指标的总体影响。</p>
<p>像New Relic、Dynatrace和AppDynamics这样的传统APM工具只能解决部分问题。最初设计用于监控单一的服务器端应用程序，后来随着前端变得更加复杂，他们添加了浏览器SDK。</p>
<p>虽然这些工具对于监控后端系统(基础设施、服务、数据库)很有用，但它们的前端遥测是有限的，主要集中在页面加载、资源计时和JavaScript错误上。许多团队发现他们的警报太嘈杂(太多的误报没有用)，并且他们没有捕获足够的上下文来帮助他们理解技术问题对最终用户的实际影响。</p>
<h2>前端是不同的</h2>
<p>监控前端和后端应用程序是非常不同的过程。在单片后端服务于“多页面应用”的时代，性能主要是初始页面加载的函数。通过优化这些，我们可以让我们的应用程序感觉更快，并有望提高重要的业务指标，如转化率。</p>
<p>在现代的单页面应用中，性能受到许多因素的影响，包括网络请求、JavaScript执行、本地资源访问、CPU负载和内存使用。缓慢可以从后端、CDN层、互联网连接、JavaScript性能或客户端设备(iOS、Android、浏览器等)引入。).</p>
<h2>回答正确的问题</h2>
<p><img decoding="async" class="skip-lazy" src="../Images/cf1dc59250538952958a6ac9cb1e54ef.png" alt="LogRocket Mission Control" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/rockets.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/cf1dc59250538952958a6ac9cb1e54ef.png" alt="LogRocket Mission Control" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/rockets.png"/></noscript>
<p>当我们三年前开始LogRocket的时候，我们着手构建前端调试的终极工具。当用户报告问题时，LogRocket会向您显示他们所看到的视频回放，以及网络日志、JavaScript错误、控制台日志和应用程序状态，以了解问题出在哪里。</p>
<p>但是几乎从一开始，我们就知道我们收集的数据可以产生更深刻的见解。被动地调试问题的工具对开发人员的工作流程来说总是很重要——但是理想情况下，正确的监控栈可以帮助你主动地了解性能问题及其对用户的影响。</p>
<p>这就是为什么今天，我们非常兴奋地宣布LogRocket Metrics，这是我们迈向前端APM解决方案的第一步，可以直接帮助您了解和提高应用的性能。</p>
<h2>对数火箭度量</h2>
<p><img decoding="async" class="aligncenter skip-lazy" src="../Images/51337edb47b446a522aa92b51f9ad137.png" alt="LogRocket Metrics Dashboard" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/dashboard-screenshot.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="aligncenter skip-lazy" src="../Images/51337edb47b446a522aa92b51f9ad137.png" alt="LogRocket Metrics Dashboard" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/dashboard-screenshot.png"/></noscript>
<p>LogRocket Metrics将会话重放和APM结合在一个易于使用的仪表板工具中，团队中的任何人都可以使用，无论其技术能力如何。</p>
<h3>前端性能监控</h3>
<p><img decoding="async" class="skip-lazy" src="../Images/d2e747d8df6525f5c70576c2ff2d8a8a.png" alt="Front-end Performance Monitoring Menu" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/performance-metrics-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/d2e747d8df6525f5c70576c2ff2d8a8a.png" alt="Front-end Performance Monitoring Menu" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/performance-metrics-nocdn.png"/></noscript>
<p>LogRocket现在可以捕获CPU使用率、内存使用率、浏览器崩溃和初始页面加载时间，帮助您了解您的应用程序在前端的执行情况。您可以查看整个应用程序的总体性能，或者深入了解特定页面或流程的性能。</p>
<p>在定义了“在/checkout页面上初始页面加载的第50个百分点”这样的指标后，LogRocket向您的仪表板添加了一个图表，向您显示过去一小时/一天/一周/一个月的追溯数据，这样您就可以立即了解您的应用程序在一段时间内的表现，而无需等待数据收集。</p>
<p><img data-attachment-id="9160" data-permalink="https://blog.logrocket.com/rethinking-frontend-apm/attachment/initial-load-time-graph-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png" data-orig-size="730,377" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initial Load Time metrics graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png" decoding="async" class="aligncenter size-full wp-image-9160 jetpack-lazy-image" src="../Images/fbc0299b439cf05a1434769bd7e94c51.png" alt="Initial Load Time Metrics Graph" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn-300x155.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="9160" data-permalink="https://blog.logrocket.com/rethinking-frontend-apm/attachment/initial-load-time-graph-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png" data-orig-size="730,377" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Initial Load Time metrics graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-9160" src="../Images/fbc0299b439cf05a1434769bd7e94c51.png" alt="Initial Load Time Metrics Graph" srcset="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn-300x155.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/initial-load-time-graph-nocdn.png"/></noscript>
<p>例如，我们Metrics的一个测试客户是一家银行，最近开始听到抱怨说他们网站上的抵押贷款成本计算器崩溃了，显示“啊，哇！”Chrome页面。</p>
<p><img decoding="async" class="skip-lazy aligncenter" src="../Images/9f4b1937d00a4d18e2570a28a6300c21.png" alt="&quot;Aw, Snap!&quot; Error Page In Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/browser-crash-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy aligncenter" src="../Images/9f4b1937d00a4d18e2570a28a6300c21.png" alt="&quot;Aw, Snap!&quot; Error Page In Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/browser-crash-nocdn.png"/></noscript>
<p>为了帮助理解这个问题，他们在LogRocket中添加了浏览器崩溃以及内存和CPU使用的指标。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/1b5eedd8dd857b2ba1afcbbeb55672a5.png" alt="Setting Up Browser Crashes Metric" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/browser-crashes-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/1b5eedd8dd857b2ba1afcbbeb55672a5.png" alt="Setting Up Browser Crashes Metric" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/browser-crashes-nocdn.png"/></noscript>
<p>然后，他们能够看到，当他们启动新页面时，浏览器崩溃确实急剧增加。此外，他们还看到，在他们的应用程序中，该页面的内存使用量也同时显著增加。在重放一些发生崩溃的用户会话后，他们能够找到问题的根本原因并修复它。</p>
<p><img decoding="async" class="skip-lazy aligncenter" src="../Images/17bd380e1fcccbf5e484633c32563170.png" alt="Memory Usage Graph" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/memory-usage-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy aligncenter" src="../Images/17bd380e1fcccbf5e484633c32563170.png" alt="Memory Usage Graph" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/memory-usage-nocdn.png"/></noscript>
<h3>分析复杂流程</h3>
<p>在现代的单页面应用程序中，单个用户流(如“点击结账，然后等待购物车模式出现”)可能是多个网络请求、资源负载和前端处理的结果。使用传统的APM工具，如果不编写代码来定义事务，就很难衡量这样的性能，并且在定义了事务之后，您仍然需要等待几天或几周的时间来收集足够的具有统计意义的数据。</p>
<p>LogRocket使用我们的“事件间隔时间”度量标准，可以快速轻松地测量此类流的性能，该度量标准可以测量单击某个按钮、页面加载、网络请求或自定义事件之间的时间。</p>
<p>LogRocket还允许您将事件定义为某个HTML元素的外观，比如“Element Visible[with text][contains][" Shopping Cart "]”，这允许您测量加载一个模态或反应组件的时间。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/73fb23ec25e1f9bbc5a3925d65efe8a4.png" alt="Setting Up Time Between Events Metric" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/time-to-load-shopping-card-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/73fb23ec25e1f9bbc5a3925d65efe8a4.png" alt="Setting Up Time Between Events Metric" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/time-to-load-shopping-card-nocdn.png"/></noscript>
<h3>了解影响</h3>
<p><img decoding="async" class="skip-lazy aligncenter" src="../Images/0e95cf2ec6c03ef193b9ea19ca789cad.png" alt="&quot;Submit Button Failed To Load&quot; Metric Graph" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/submit-button-failed-to-load-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy aligncenter" src="../Images/0e95cf2ec6c03ef193b9ea19ca789cad.png" alt="&quot;Submit Button Failed To Load&quot; Metric Graph" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/submit-button-failed-to-load-nocdn.png"/></noscript>
<p>图形和图表对于获得应用程序性能的高级视图至关重要，但通常很难理解性能数字和网络错误实际上如何影响您的用户体验。对于用户来说，350毫秒的页面加载速度有多慢？重试逻辑是否正确处理了500请求？</p>
<p>为了回答这些问题，LogRocket允许您从任何图形直接跳到实际的用户会话中。这让您可以看到用户体验的视频，这样您就可以立即理解并同情他们的用户体验质量。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/cd7493c49a08c8c05b7409af7979a6c1.png" alt="LogRocket Session Replay Tool" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/user-experience-quality-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/cd7493c49a08c8c05b7409af7979a6c1.png" alt="LogRocket Session Replay Tool" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/user-experience-quality-nocdn.png"/></noscript>
<p>您还可以将性能指标与针对特定用户行为或特征的过滤器结合起来，这样您就可以了解特定用户群的性能差异，例如您的应用程序中的“高级用户”、某个国家的用户或执行了任何一系列操作的人。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/39df3cc1a599a8bbe55c9599427c8323.png" alt="Setting Up Metric For A Custom Cohort" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/premium-users-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/39df3cc1a599a8bbe55c9599427c8323.png" alt="Setting Up Metric For A Custom Cohort" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/premium-users-nocdn.png"/></noscript>
<h3>调试用户报告的问题</h3>
<p>过去，当用户或QA测试人员抱怨糟糕的性能或浏览器崩溃时，通常很难理解是什么导致了他们糟糕的体验。</p>
<p>在用户的会话重放中，LogRocket现在可以让您在会话视频旁边看到CPU使用情况、内存使用情况和网络请求计时，以帮助您了解应用程序变慢的原因。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/5e9015fd7675c78b8b9845703331b54f.png" alt="CPU Usage Alongside Session Replay" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/why-your-application-is-slow-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/5e9015fd7675c78b8b9845703331b54f.png" alt="CPU Usage Alongside Session Replay" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/why-your-application-is-slow-nocdn.png"/></noscript>
<h3>发信号</h3>
<p>对于您创建的任何指标，LogRocket都允许您设置在超过给定阈值时对Slack、email或webhooks的警报。</p>
<p><img decoding="async" class="skip-lazy" src="../Images/4b88169e0d9ff7d95585f3dadc26a8fe.png" alt="Setting Up Alerts" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/alerting-nocdn.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" class="skip-lazy" src="../Images/4b88169e0d9ff7d95585f3dadc26a8fe.png" alt="Setting Up Alerts" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/11/alerting-nocdn.png"/></noscript>
<p>例如，如果某个关键网络请求的第50百分位计时超过500毫秒，或者在新的应用程序版本中购物车的转换率显著下降，您就会收到警告。</p>
<h2>前端是未来</h2>
<p>除了正式宣布LogRocket Metrics之外，今天，我们还很高兴地宣布，除了我们今年早些时候完成的1100万美元的A轮融资之外，我们还额外筹集了1500万美元的B轮融资，由我们的现有投资者Battery Ventures和Matrix Partners牵头。我们很荣幸现在有超过1，000名付费客户，并且非常兴奋能够继续我们的使命，帮助团队构建令人惊叹的应用程序。</p>
<p>向丰富的单页应用的转变无疑提高了用户体验质量和开发人员的工作效率。但是随着复杂性的增加，需要更多的可观察性。现有的工具还不足以让团队对他们发布的前端代码有信心。</p>
<p>在LogRocket，我们已经朝着我们认为的解决方案迈出了一大步，但还有很多工作要做。如果你想帮助前端开发人员定义下一代工具，我们很乐意见到你。<a href="https://logrocket.com/company" target="_blank" rel="noopener noreferrer">我们正在招聘</a>🙂</p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>