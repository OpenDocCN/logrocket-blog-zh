<html>
<head>
<title>Positioning elements with Vue 3 Teleport - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Vue 3 Teleport - LogRocket博客定位元素</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/#0001-01-01">https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Vue 3有一个令人兴奋的新功能，叫做<a href="https://v3.vuejs.org/guide/teleport.html#teleport" target="_blank" rel="noopener noreferrer">瞬移</a>。在Vue 3的早期阶段，这个功能被称为<em>门户</em>，但Vue团队最终决定将其命名为Teleport。开发人员可以通过Teleport在Vue应用程序中将元素从一个地方移动到另一个地方。</p>
<p>如果你想知道为什么这是必要的，那么你问对了问题。当你使用像模态、通知等组件时。您会注意到它们在DOM中的位置很重要。例如，如果您在深度嵌套的元素中使用模态，父元素的CSS属性将影响模态的样式。</p>
<p>这种行为很麻烦，因为像模态这样的组件可以从应用程序的不同部分调用，我们希望保持模态的位置和样式一致。这就是传送为我们做的。它使我们能够准确地指定我们想要在DOM中的什么位置呈现模态或任何其他的HTML片段。完全不用担心管理全局状态或为模型创建新的组件。</p>
<h2>它是如何工作的</h2>
<p><code>&lt;teleport&gt;</code>标签接受一个<code>to</code>属性，该属性指定要将一个元素传送到DOM中的哪个位置。这个目的地必须在组件树之外的某个地方，以避免对其他应用程序的UI组件的任何干扰。出于这个原因，Vue团队建议将其放在公共目录的<code>index.html</code>文件中的<code>body</code>标签下面。</p>
<h2>先决条件</h2>
<p>本教程不是对Vue 3的介绍。我们关注的是Vue 3的传送功能，所以我们不会讨论Vue 3的基础知识。</p>
<h2>创建Vue应用程序</h2>
<p>首先，您需要使用以下命令安装最新版本的<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer"> Vue CLI v4.5 </a>:</p>
<pre>yarn global add @vue/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f4c43466f414a575b">[email protected]</a>
#OR
npm install -g @vue/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="12717e7b527c776a66">[email protected]</a></pre>
<p>创建Vue应用程序的过程没有改变。如果您安装了<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer"> Vue CLI </a>，运行下面的命令创建一个名为<code>vueteleport</code>的新Vue项目:</p>
<pre>vue create vueteleport</pre>
<p>按照终端提示，选择Vue 3预设完成设置过程。为了创建这个演示的模型，让我们用下面的代码片段更新<code>src/public/index.html</code>文件:</p>
<pre>&lt;!-- src/public/index.html --&gt;
  &lt;body&gt;
    &lt;noscript&gt;
      &lt;strong&gt;We're sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn't work
        properly without JavaScript enabled. Please enable it to
        continue.
      &lt;/strong&gt;
    &lt;/noscript&gt;
    &lt;div id="app"&gt;&lt;/div&gt;
    &lt;div id="my-modal" style="border: green 3px solid"&gt;&lt;/div&gt;
  &lt;/body&gt;</pre>
<p>我们在这里做的是定义一个ID为<code>my-modal</code>的div。它直接呈现在保存所有项目文件的应用程序容器下面。你可以看到我们更新了<code>my-modal</code> div元素，给了它一些彩色边框。</p>
<p><img data-attachment-id="28343" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/vueteleporthomepage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png" data-orig-size="1962,1308" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vueteleporthomepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1024x683.png" decoding="async" class="aligncenter wp-image-28343 size-full jetpack-lazy-image" src="../Images/e6af9939e064cced4c55b950a14b20d9.png" alt="vue teleport page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png 1962w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-300x200.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1024x683.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-768x512.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1536x1024.png 1536w" data-lazy-sizes="(max-width: 1962px) 100vw, 1962px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28343" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/vueteleporthomepage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png" data-orig-size="1962,1308" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vueteleporthomepage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1024x683.png" decoding="async" loading="lazy" class="aligncenter wp-image-28343 size-full" src="../Images/e6af9939e064cced4c55b950a14b20d9.png" alt="vue teleport page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png 1962w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-300x200.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1024x683.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-768x512.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage-1536x1024.png 1536w" sizes="(max-width: 1962px) 100vw, 1962px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/vueteleporthomepage.png"/></noscript>
<p>绿色水平线表示<code>my-modal</code> div元素的位置。在我们的Vue组件中，我们可以使用ID CSS选择器将<code>teleport</code>元素添加到<code>my-modal</code> div元素中，例如<code>my-modal</code>。为了演示如何将内容传送到我们刚刚指定的目标中，让我们打开<code>HelloWorld.vue</code>文件并创建一个简单的模型:</p>
<pre>&lt;!-- src/components/HelloWorld.vue --&gt;
&lt;template&gt;
  &lt;div class="hello"&gt;
    &lt;h1&gt;{{ msg }}&lt;/h1&gt;
        &lt;button @click="showModal = true"&gt;Open Modal&lt;/button&gt;
      &lt;div v-if="showModal" id="myModal"&gt;
        &lt;div class="modal-content"&gt;
          &lt;span @click="showModal = false"&gt;&amp;times;&lt;/span&gt;
          &lt;h3&gt;This is the title&lt;/h3&gt;
          &lt;p&gt;This is the awesome content&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: "HelloWorld",
  data() {
    return {
      showModal: false,
    };
  },
};
&lt;/script&gt;</pre>
<p>如果此时运行app，会看到浏览器上打开模态的按钮是这样的:<br/> <img data-attachment-id="28346" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/openmodalbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png" data-orig-size="1964,1310" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="openmodalbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1024x683.png" decoding="async" class="aligncenter size-full wp-image-28346 jetpack-lazy-image" src="../Images/4f710f57be1d588ec8a3308c38a04b99.png" alt="open modal button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png 1964w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-300x200.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1024x683.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-768x512.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1536x1025.png 1536w" data-lazy-sizes="(max-width: 1964px) 100vw, 1964px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28346" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/openmodalbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png" data-orig-size="1964,1310" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="openmodalbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1024x683.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28346" src="../Images/4f710f57be1d588ec8a3308c38a04b99.png" alt="open modal button" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png 1964w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-300x200.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1024x683.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-768x512.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton-1536x1025.png 1536w" sizes="(max-width: 1964px) 100vw, 1964px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/openmodalbutton.png"/></noscript>
<p>然而，如果我们检查浏览器上的<em>打开模式</em>按钮，你会注意到该按钮被深深地嵌入到应用程序容器中。它从ID为<code>app</code>的容器元素到ID为<code>helloworld</code>的div元素深入两层:</p>
<p><img data-attachment-id="28348" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/dividsayinghelloworld/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="dividsayinghelloworld" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png" decoding="async" class="aligncenter size-full wp-image-28348 jetpack-lazy-image" src="../Images/6dc73d7b0e3df1c50aa17ebfba23ca35.png" alt="div ID with 'helloworld'" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld-300x201.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28348" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/dividsayinghelloworld/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="dividsayinghelloworld" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28348" src="../Images/6dc73d7b0e3df1c50aa17ebfba23ca35.png" alt="div ID with 'helloworld'" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld-300x201.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/dividsayinghelloworld.png"/></noscript>
<p>回想一下前面，我们在<code>index.html</code>文件中提供了一个<code>my-modal</code> div元素，我们将把内容传送到这个元素中。为了将这个模型传送到其中，我们将上面创建的模型包装在Vue的<code>&lt;teleport&gt;</code>标签中，并传递一个<code>to</code>属性给它。这个属性指向目标，也就是一个代表我们要传送到哪里的标识符。在这种情况下，我们将使用分配给div元素的CSS ID选择器<code>my-modal</code>来标识div元素:</p>
<pre>&lt;!-- src/components/HelloWorld.vue --&gt;
&lt;template&gt;
  &lt;div class="hello"&gt;
    &lt;h1&gt;{{ msg }}&lt;/h1&gt;
    &lt;teleport to="#my-modal"&gt;
      &lt;button @click="showModal = true" &gt;Open Modal&lt;/button&gt;
      &lt;div v-if="showModal" id="myModal"&gt;
        &lt;div class="modal-content"&gt;
          &lt;span @click="showModal = false"&gt;&amp;times;&lt;/span&gt;
          &lt;h3&gt;This is the title&lt;/h3&gt;
          &lt;p&gt;This is the awesome content&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/teleport&gt;
  &lt;/div&gt;
&lt;/template&gt;</pre>
<p>我们所做的是将模态包装在Vue的<code>&lt;teleport&gt;</code>中，并传递一个<code>to</code>属性，该属性指向我们将模态传送到的位置。在这种情况下，我们将传送到我们在<code>index.html</code>文件中提供的<code>my-modal</code> div元素。</p>
<p>检查浏览器，我们应该看到我们在上一步中经历的深度嵌套不再存在，模态已经被传送到这个应用程序的根。</p>
<p><img data-attachment-id="28351" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/mymodaldiv/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="mymodaldiv" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png" decoding="async" class="aligncenter size-full wp-image-28351 jetpack-lazy-image" src="../Images/cca3d12df020888757ec47dccb04632e.png" alt="my-modal div shown in console" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv-300x201.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28351" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/mymodaldiv/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="mymodaldiv" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28351" src="../Images/cca3d12df020888757ec47dccb04632e.png" alt="my-modal div shown in console" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv-300x201.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/mymodaldiv.png"/></noscript>
<p>在这里，我们已经构建了一个完全解耦的模态组件，通过使用transport特性，我们可以从这个应用程序的任何地方调用它。这是实际应用中的模态。</p>
<p><img data-attachment-id="28353" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/modalcomponentinaction/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif" data-orig-size="600,401" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="modalcomponentinaction" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction-300x201.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif" decoding="async" class="aligncenter size-full wp-image-28353 jetpack-lazy-image" src="../Images/70f2df90b5a68755a115386b4f05c273.png" alt="modal component appearing on screen" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28353" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/modalcomponentinaction/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif" data-orig-size="600,401" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="modalcomponentinaction" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction-300x201.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28353" src="../Images/70f2df90b5a68755a115386b4f05c273.png" alt="modal component appearing on screen" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/modalcomponentinaction.gif"/></noscript>
<p>这还不是传送的全部。你可以执行更多的动作，比如从多个源传送元素到同一个根。这意味着您可以通过为我们想要传送的所有其他元素的<code>to</code>属性指定值，将多个元素传送到同一个<code>my-modal</code>元素中。</p>
<p>teleport的另一个重要特性是它不从父节点继承CSS。这使得它完全独立于父组件，并且可以在任何指定的上下文中限定范围。</p>
<h3>在同一个目标上挂载多个传送内容</h3>
<p>在上面的例子中，我们从<code>HelloWorld</code>组件传送了模态，并将其呈现在应用程序的根<code>index.html</code>文件中。如果我们的应用程序中有一个不同位置的元素，我们想传送到同一个目标，该怎么办？是的，这是可能的。让我们创建一个新的<code>src/components/Words.vue</code>文件，并用下面的代码片段更新它:</p>
<pre>&lt;!-- src/components/Words.vue --&gt;
&lt;template&gt;
  &lt;h1 class="center"&gt;Hi, I am a text from the Words component&lt;/h1&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: "Words",
};
&lt;/script&gt;
&lt;style &gt;
.center {
  text-align: center;
  border: 3px solid green;
}
&lt;/style&gt;</pre>
<p>很简单，这个组件显示一个文本，该文本被包装在一个带有绿色边框的div元素中。如果我们在浏览器中单独呈现这个组件，我们会得到以下输出:</p>
<p><img data-attachment-id="28357" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/wordscomponent/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wordscomponent" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png" decoding="async" class="aligncenter size-full wp-image-28357 jetpack-lazy-image" src="../Images/5c4343ea4604e6421e5fd415a1e832d1.png" alt="Hi, I am a text from the Words component on screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent-300x201.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28357" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/wordscomponent/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="wordscomponent" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28357" src="../Images/5c4343ea4604e6421e5fd415a1e832d1.png" alt="Hi, I am a text from the Words component on screen" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent-300x201.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/wordscomponent.png"/></noscript>
<p>现在我们要做的是将这段内容传送到我们现有的<code>my-modal</code>目标，并让它在同一个根上与模态一起显示。为此，我们将使用下面的代码片段更新我们的<code>App.vue</code>:</p>
<pre>&lt;!-- src/App.vue --&gt;
&lt;template&gt;
  &lt;img alt="Vue logo" src="./assets/logo.png" /&gt;
  &lt;HelloWorld msg="Vue 3 Teleport Demo" /&gt;
  &lt;teleport to="#my-modal"&gt;
    &lt;Words /&gt;
  &lt;/teleport&gt;
&lt;/template&gt;

&lt;script&gt;
import HelloWorld from "./components/HelloWorld.vue";
import Words from "./components/Words.vue";
export default {
  name: "App",
  components: {
    HelloWorld,
    Words,
  },
};
&lt;/script&gt;
&lt;/style&gt;</pre>
<p>我们在这里所做的是将<code>Words</code>组件带入应用程序视图，并将其传送到我们之前为模型指定的<code>my-modal</code>目标。现在，如果我们检查浏览器上的<code>Words</code>组件，我们应该看到它已经被传送到与模态相同的目标。</p>
<p><img data-attachment-id="28360" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/h1center/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png" data-orig-size="730,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="h1center" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png" decoding="async" class="aligncenter size-full wp-image-28360 jetpack-lazy-image" src="../Images/47eb0cd5580989505dc4487d01c85b7a.png" alt="words component " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/h1center-300x200.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="28360" data-permalink="https://blog.logrocket.com/positioning-elements-with-vue-3-teleport/h1center/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png" data-orig-size="730,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="h1center" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-28360" src="../Images/47eb0cd5580989505dc4487d01c85b7a.png" alt="words component " srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/h1center-300x200.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/h1center.png"/></noscript>
<p>这就是传送功能如何让你在Vue的同一个目标上挂载多个内容。使用Vue teleport，您可以控制应用程序中任何组件的布局元素。通过扩展，您可以使用Teleport从应用程序中的任何组件更新应用程序页眉或页脚的内容。这个特殊的用例应该谨慎使用，因为它可能会给应用程序带来复杂性。</p>
<h2>传送道具</h2>
<ul>
<li><code>to</code> —这是一个必需的属性，它指定了一个目标元素，其中将呈现<code>&lt;teleport&gt;</code>中的每个内容。<code>to</code>属性的值必须是一个有效的查询选择器，用于标识现有的CSS <code>class</code>、<code>id</code>或<code>HTMLElement</code>:</li>
</ul>
<pre>&lt;!-- ok --&gt;
&lt;teleport to="#some-id" /&gt;
&lt;teleport to=".some-class" /&gt;
&lt;teleport to="[data-teleport]" /&gt;

&lt;!-- Wrong --&gt;
&lt;teleport to="h1" /&gt;
&lt;teleport to="some-string" /&gt;</pre>
<ul>
<li>顾名思义，这个道具是布尔型的，用来禁用传送功能。当设置为true时，<code>&lt;teleport&gt;</code>的内容将在指定的位置呈现。所以，它不会被“传送”到任何外部目标或位置。以我们之前的例子为例，如果我们想禁用我们模式的传送，我们可以像这样添加<code>disabled</code>道具:</li>
</ul>
<pre>&lt;!-- src/components/HelloWorld.vue --&gt;
&lt;teleport to="#my-modal" :disabled="true"&gt;
  &lt;button @click="showModal = true" &gt;Open Modal&lt;/button&gt;
  &lt;div v-if="showModal" id="myModal"&gt;
    &lt;div class="modal-content"&gt;
      &lt;span @click="showModal = false"&gt;&amp;times;&lt;/span&gt;
      &lt;h3&gt;This is the title&lt;/h3&gt;
      &lt;p&gt;This is the awesome content&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/teleport&gt;
</pre>
<p>值得注意的是，你可以将内容直接传送到<code>body</code>而不仅仅是一个指定的CSS选择器。这里有一个例子:</p>
<pre>&lt;!-- src/components/HelloWorld.vue --&gt;
&lt;teleport to="#body"&gt;
  &lt;button @click="showModal = true"&gt;Open Modal&lt;/button&gt;
  &lt;div v-if="showModal" id="myModal"&gt;
    &lt;div class="modal-content"&gt;
      &lt;span @click="showModal = false"&gt;&amp;times;&lt;/span&gt;
      &lt;h3&gt;This is the title&lt;/h3&gt;
      &lt;p&gt;This is the awesome content&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/teleport&gt;</pre>
<h2>结论</h2>
<p>在本教程中，我们已经过了新的Vue 3传送功能。我们已经介绍了这个特性的基本概念，并且演示了一个带有模式的用例。为了更好地理解Teleport API，我们解释了Teleport接受的道具，以及我们如何使用它们来修改这个特性的功能。要了解更多关于Vue Teleport的信息，请点击查看<a href="https://v3.vuejs.org/guide/teleport.html#teleport" target="_blank" rel="noopener noreferrer">官方文档。</a></p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>