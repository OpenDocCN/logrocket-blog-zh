<html>
<head>
<title>Intro to Alpine.js for Vue developers - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>面向Vue开发者的Alpine.js简介- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/intro-to-alpine-js-for-vue-developers/#0001-01-01">https://blog.logrocket.com/intro-to-alpine-js-for-vue-developers/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Alpine是一个相对较新的JavaScript框架，它借鉴了Vue和React等其他框架的概念。与这些框架相比，Alpine既小又轻。</p>
<p>在本指南中，我们将放大<a href="https://blog.logrocket.com/getting-started-with-alpine-js/" target="_blank" rel="noopener noreferrer"> Alpine.js </a>和Vue，并演示如何在Alpine中复制Vue任务和功能。但是这不会是一篇典型的X框架比Y框架更好的文章；两者本身都是独一无二的，更合适的框架通常取决于用例。</p>
<h2 id="alpinephilosophy">什么是阿尔卑斯山？</h2>
<p>在我们开始之前，让我们花点时间来理解Alpine背后的哲学。正如它的标语所说，Alpine是“一个坚固的、在标记中组成JavaScript行为的最小框架。”这些行为是使用指令作为属性添加的。</p>
<p>阿尔卑斯语法很大程度上受Vue的启发。如果你来自一个Vue背景，你很可能会觉得和Alpine一起工作很自在。和Vue一样，Alpine在所有指令中都使用了前缀<code>x-</code>。与Vue不同，Alpine不使用虚拟DOM，所以我们可以直接使用实际的DOM。</p>
<h2 id="initializingcomponent">初始化组件</h2>
<p>在Alpine中，<code>x-data</code>指令用于声明组件的范围和数据。它是Vue的<code>el</code>和<code>data</code>属性的组合。它告诉框架用定义的数据对象初始化一个新组件。</p>
<pre>// in Vue

&lt;div id="app"&gt;&lt;/div&gt;

new Vue({
  el: '#app',
  data: {
    posts: []
  }

  // or in the case of a component
  data() {
    return {
      posts: []
    }
  }
})


// in Alpine

&lt;div x-data="{ posts: [] }"&gt;&lt;/div&gt;
</pre>
<p>您可以将数据提取到一个可重用的函数中，而不是内联声明数据。</p>
<pre>// in Alpine

&lt;div x-data="posts()"&gt;&lt;/div&gt;

&lt;script&gt;
  function posts() {
    return {
      posts: []
    }
  }
&lt;/script&gt;
</pre>
<h2 id="hookingtocomponentinitializationstages">挂钩到组件初始化阶段</h2>
<p>与Vue不同，Alpine不提供任何显式的生命周期挂钩。然而，你可以使用<code>x-init</code>指令在Alpine中实现Vue的两个生命周期挂钩——<code>created</code>和<code>mounted</code>。</p>
<p><code>x-init</code>指令用于在组件初始化时执行一些JavaScript。这包括从简单的表达式到复杂的函数。把它想象成Vue的<code>created</code>钩子。</p>
<pre>// in Vue

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        posts: []
      };
    },
    created() {
      fetch("https://jsonplaceholder.typicode.com/posts")
        .then(response =&gt; response.json())
        .then(data =&gt; (this.posts = data))
    }
  }
&lt;/script&gt;


// in Alpine

&lt;div
  x-data="{ posts: [] }"
  x-init="
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(data =&gt; (posts = data));
  "
&gt;
  &lt;!-- `posts` will be array of a posts returned from the API --&gt;
&lt;/div&gt;
</pre>
<p>为了实现Vue的<code>mounted</code>钩子，您可以从<code>x-init</code>返回一个回调，它将在Alpine对DOM进行初始更新后运行。</p>
<pre>// in Vue

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        posts: []
      };
    },
    mounted() {
      fetch("https://jsonplaceholder.typicode.com/posts")
        .then(response =&gt; response.json())
        .then(data =&gt; (this.posts = data))
    }
  }
&lt;/script&gt;


// in Alpine

&lt;div
  x-data="{ posts: [] }"
  x-init="() =&gt; {
    fetch('https://jsonplaceholder.typicode.com/posts')
      .then(response =&gt; response.json())
      .then(data =&gt; (posts = data));
  }
  "
&gt;&lt;/div&gt;
</pre>
<h2 id="interpolation">插入文字</h2>
<p>与Vue不同，Alpine不使用类似小胡子的语法进行插值。相反，它使用<code>x-text</code>和<code>x-html</code>指令进行插值，其工作方式与它们的Vue对应物相同。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;{{ post.title }}&lt;/h3&gt;

    &lt;h3 v-text="post.title"&gt;&lt;/h3&gt;

    &lt;h3 v-html="post.title"&gt;&lt;/h3&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        post: {
          title: "My first post"
        }
      }
    }
  }
&lt;/script&gt;


// in Alpine

&lt;div x-data="{ post: { title: 'My first post' } }"&gt;
  &lt;h3 x-text="post.title"&gt;&lt;/h3&gt;
&lt;/div&gt;

&lt;div x-data="{ post: { title: 'My first post' } }"&gt;
  &lt;h3 x-html="post.title"&gt;&lt;/h3&gt;
&lt;/div&gt;
</pre>
<h2 id="eventshandling">事件处理</h2>
<p>就像Vue一样，Alpine通过提供一个<code>x-on</code>指令来无缝处理鼠标和键盘事件。这个指令将一个事件监听器附加到一个元素上，并在事件被触发时执行一些JavaScript。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="deletePost(post)"&gt;Delete&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: 'App',
  data() {
    return {
      post: {
        title: "This is my first post"
      }
    };
  },
  methods: {
    deletePost(post) {
      confirm(`Want to delete: ${this.post.title}?`)
    }
  }
};
&lt;/script&gt;


// in Alpine

// inline
&lt;div x-data="{ post: { title: 'My first post' } }"&gt;
  &lt;button x-on:click="confirm(`Want to delete: ${post.title}?`)"&gt;
    Delete
  &lt;/button&gt;
&lt;/div&gt;

// dedicated function
&lt;div x-data="{ post: { title: 'My first post' } }"&gt;
  &lt;button x-on:click="deletePost(post)"&gt;
    Delete
  &lt;/button&gt;
&lt;/div&gt;

&lt;script&gt;
  function deletePost(post) {
    confirm(`Want to delete: ${post.title}?`)
  }
&lt;/script&gt;
</pre>
<p>如果您更愿意使用简写形式(<code>@</code>)，上面的内容可以改写为:</p>
<pre>// in Alpine

&lt;div x-data="{ post: { title: 'My first post' } }"&gt;
  &lt;button @click="confirm(`Want to delete: ${post.title}?`)"&gt;
    Delete
  &lt;/button&gt;
&lt;/div&gt;
</pre>
<p>就像在Vue中一样，可以使用<code>$event</code>属性访问DOM事件。</p>
<p>注意:<code>$event</code>属性只在DOM表达式中可用。当使用一个函数时，你必须作为一个参数传递给函数:<code>&lt;button @click="deletePost(post, $event)"&gt;&lt;/button&gt;</code>。</p>
<p>Alpine还提供了一些事件修改器，包括<code>keydown</code>、<code>away</code>、<code>prevent</code>、<code>passive</code>、<code>stop</code>、<code>debounce</code>、<code>self</code>、<code>once</code>、<code>window</code>等。</p>
<pre>// in Alpine

&lt;a href="http://example.com" @click.prevent&gt;Example.com&lt;/a&gt;
</pre>
<h2 id="twowaydatabinding">双向数据绑定</h2>
<p>使用表单时，Alpine提供双向数据绑定，使输入值与组件数据保持同步。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;{{ title }}&lt;/h3&gt;

    &lt;input type="text" v-model="title"&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        title: ''
      }
    }
  }
&lt;/script&gt;


// in Alpine

&lt;div x-data="{ title: '' }"&gt;
  &lt;h3 x-text="title"&gt;&lt;/h3&gt;

  &lt;input type="text" x-model="title" /&gt;
&lt;/div&gt;
</pre>
<h2 id="iteratingoverarrays">遍历数组</h2>
<p>要迭代数组，可以使用<code>x-for</code>指令，它的工作方式类似于Vue的<code>v-for</code>。</p>
<pre>// in Vue

&lt;ul&gt;
  &lt;li v-for="post in posts" :key="post.id"&gt;
    {{ post.title }}
  &lt;/li&gt;
&lt;/ul&gt;


// in Alpine

&lt;ul&gt;
  &lt;template x-for="post in posts" :key="post.id"&gt;
    &lt;li x-text="post.title"&gt;&lt;/li&gt;
  &lt;/template&gt;
&lt;/ul&gt;
</pre>
<p>然而，与<code>v-for</code>不同的是，<code>x-for</code>有一些一些告诫:</p>
<ul>
<li><code>x-for</code>必须在<code>template</code>标签上，而不是常规的DOM元素上。</li>
<li><code>&lt;template&gt;</code>标签中必须有一个元素根。</li>
</ul>
<h2 id="bindingattributes">绑定属性</h2>
<p>Alpine支持使用<code>x-bind</code>指令的属性绑定。<code>x-bind</code>指令使您能够将HTML属性绑定到JavaScript表达式。该指令的工作方式与<code>v-bind</code>相同。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;{{ post.title }}&lt;/h3&gt;

    &lt;img
      v-bind:src="post.featuredImage"
      v-bind:alt="post.title"
      v-bind:class="{ hidden: isOnMobile }"
    &gt;

    &lt;button v-bind:disabled="post.isPublished"&gt;Publish&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        post: {
          title: "My first post",
          featuredImage: "https://dummyimage.com/600x400",
          isPublished: false
        },
        isOnMobile: true
      }
    }
  }
&lt;/script&gt;

&lt;style&gt;
  .hidden {
    display: none
  }
&lt;/style&gt;


// in Alpine

// within the head tag
&lt;style&gt;
  .hidden {
    display: none;
  }
&lt;/style&gt;

&lt;div
  x-data="{
    post: {
      title: 'My first post',
      featuredImage: 'https://dummyimage.com/600x400',
      isPublished: false
    },
    isOnMobile: true,
  }"
&gt;
  &lt;h3 x-text="post.title"&gt;&lt;/h3&gt;

  &lt;img
    x-bind:src="post.featuredImage"
    x-bind:alt="post.title"
    x-bind:class="{ hidden: isOnMobile }"
  /&gt;

  &lt;button x-bind:disabled="post.isPublished"&gt;Publish&lt;/button&gt;
&lt;/div&gt;
</pre>
<p>与事件处理一样，您也可以使用简写形式(<code>:</code>)。</p>
<pre>// in Alpine

&lt;img
  :src="post.featuredImage"
  :alt="post.title"
  :class="{ hidden: isOnMobile }"
/&gt;

&lt;button :disabled="post.isPublished"&gt;Publish&lt;/button&gt;
</pre>
<h2 id="togglingvisibilities">切换可见性</h2>
<p>Alpine提供了两个切换可见性的指令——<code>x-if</code>和<code>x-show</code>——它们的工作方式与Vue类似。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="show = !show" v-text="show ? 'Close' : 'Open'"&gt;&lt;/button&gt;

    &lt;a href="#" v-if="isAdmin"&gt;Edit Post&lt;/a&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  data() {
    return {
      show: false,
      isAdmin: false
    };
  }
&lt;/script&gt;


// in Alpine

&lt;div x-data="{ show: false, isAdmin: false  }"&gt;
  &lt;button @click="show = !show" x-text="show ? 'Close' : 'Open'"&gt;&lt;/button&gt;

  &lt;template x-if="isAdmin"&gt;
    &lt;a href="#"&gt;Edit Post&lt;/a&gt;
  &lt;/template&gt;
&lt;/div&gt;
</pre>
<p>和<code>x-for</code>一样，<code>x-if</code>也有一些注意事项:</p>
<ul>
<li><code>x-if</code>必须在<code>template</code>标签上，而不是常规的DOM元素上。</li>
<li><code>&lt;template&gt;</code>标签中必须有一个元素根。</li>
</ul>
<h2 id="watching">注意</h2>
<p>Alpine还支持通过一种叫做<code>$watch()</code>的方法来监视组件属性的变化。</p>
<pre>// in Vue

&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;
      &lt;label&gt;Dollar:&lt;/label&gt;
      &lt;input type="text" v-model="dollar"&gt;
    &lt;/p&gt;
    &lt;p&gt;
      &lt;label&gt;Naira:&lt;/label&gt;
      &lt;input type="text" v-model="naira"&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'App',
    data() {
      return {
        dollar: 0,
        naira: 0
      };
    },
    watch: {
      dollar(value) {
        this.naira = value * 390
      },
      naira(value) {
        this.dollar = value / 390
      }
    }
  }
&lt;/script&gt;


// in Alpine

&lt;div x-data="watcher()" x-init="initWatcher"&gt;
  &lt;p&gt;
    &lt;label&gt;Dollar: &lt;/label&gt;
    &lt;input type="text" x-model="dollar" /&gt;
  &lt;/p&gt;
  &lt;p&gt;
    &lt;label&gt;Naira: &lt;/label&gt;
    &lt;input type="text" x-model="naira" /&gt;
  &lt;/p&gt;
&lt;/div&gt;
&lt;script&gt;
  function watcher() {
    return {
      dollar: 0,
      naira: 0,
      initWatcher() {
        this.$watch("dollar", value =&gt; {
          this.naira = value * 390;
        });
        this.$watch("naira", value =&gt; {
          this.dollar = value / 390;
        });
      }
    };
  }
&lt;/script&gt;
</pre>
<p><code>$watch()</code>接受两个参数:要监视的属性和在属性改变时运行的回调。回调接受属性的新值。</p>
<h2 id="conclusion">结论</h2>
<p>如你所见，Alpine和Vue在很多方面都很相似。事实上，在某些情况下，您可以使用Vue组件，简单地将前缀<code>v-</code>替换为<code>x-</code>来创建Alpine组件。</p>
<p>要了解更多关于Alpine的信息，请查看GitHub repo 。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>