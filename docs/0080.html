<html>
<head>
<title>Extending Sentry with LogRocket - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用LogRocket - LogRocket博客扩展哨兵</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/extending-sentry-with-logrocket-52e2f5b67d5a/#0001-01-01">https://blog.logrocket.com/extending-sentry-with-logrocket-52e2f5b67d5a/#0001-01-01</a></blockquote><div><div class="mainheading">


<h1 class="posttitle">用LogRocket扩展岗哨</h1>
<h2 class="post-subtitle"/>
<p><span class="post-date"><time class="post-date">2017年4月11日</time> </span> <span class="dot"/> <span class="readingtime"> 1分钟阅读</span> <span class="wordcount"> 557 </span> <span class="logrocket_editor"/></p>
</div>
<article class="article-post">
<p>如果你正在使用<a href="https://getsentry.com" target="_blank" rel="noopener noreferrer"> Sentry </a>，那么你已经知道它是跟踪JavaScript应用程序错误的最好工具之一。只需添加几行代码，Sentry就会在应用程序中出现重要错误时提醒您，并帮助您了解它们在生产中出现的频率。</p>
<p>但是错误报告本身有一些限制。通常很难理解错误的影响，因为许多错误对用户没有实际影响。对于难以修复的异常，错误报告缺乏足够的上下文来找出根本原因。</p>
<p>这就是LogRocket的用武之地。LogRocket 是第一款为前端JavaScript应用打造的日志工具。添加几行代码后，LogRocket捕获控制台日志、网络请求、Redux操作/状态等，给出每个bug的完整上下文。</p>
<p>此外，LogRocket在你的应用程序中记录HTML/CSS，让你重放一个像素完美的视频，看看一个异常是否真正影响了用户体验。</p>
<h2>集成哨兵和日志火箭</h2>
<p>集成Sentry和LogRocket可以让您看到Sentry中每个错误的LogRocket“会话”。它是这样工作的:</p>
<ol>
<li>在<a href="https://app.logrocket.com" target="_blank" rel="noopener noreferrer">https://app.logrocket.com</a>创建一个免费账户，并遵循快速入门指南。</li>
<li>这个代码片段为每个哨兵报告添加了一个LogRocket记录URL:<pre>Sentry.configureScope(scope =&gt; {   scope.setExtra("sessionURL", LogRocket.sessionURL); });</pre></li>
<li>注意，如果LogRocket SDK没有完全初始化并开始将会话数据发送回LogRocket服务器，那么<code>LogRocket.sessionURL</code>将返回null。为了保证会话URL的存在，向<code>LogRocket.getSessionURL()</code> : <pre>LogRocket.getSessionURL(sessionURL =&gt; {   Sentry.configureScope(scope =&gt; {     scope.setExtra("sessionURL", sessionURL);   }); });</pre>传递一个回调</li>
</ol>
<p>就是这样！下一次当你的应用程序中出现触发Sentry的错误时，你会在Sentry报告的底部看到这个额外的字段。</p>
<figure><img decoding="async" src="../Images/46b8fb2112d5c34d6faf2cb099ea53e7.png" data-height="284" data-width="2028" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*2Gv-BW_z8-vlHCFHm6h1nw.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*2Gv-BW_z8-vlHCFHm6h1nw.png"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/46b8fb2112d5c34d6faf2cb099ea53e7.png" data-height="284" data-width="2028" data-original-src="https://storage.googleapis.com/blog-images-backup/1*2Gv-BW_z8-vlHCFHm6h1nw.png"/></noscript></figure>
<p>点击<code>sessionURL</code>链接将带您进入发生错误的LogRocket会话。下面是LogRocket会话的样子:</p>
<figure class="wp-caption">
<figure class="wp-caption alignnone"><img decoding="async" src="../Images/f53553ab51fddad3a3b99fcc9502cc18.png" alt="" data-height="1846" data-width="3358" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*fV3DVmCcBCvOyVNrNIfhkg.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*fV3DVmCcBCvOyVNrNIfhkg.jpeg"/><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" src="../Images/f53553ab51fddad3a3b99fcc9502cc18.png" alt="" data-height="1846" data-width="3358" data-original-src="https://storage.googleapis.com/blog-images-backup/1*fV3DVmCcBCvOyVNrNIfhkg.jpeg"/></noscript><figcaption class="wp-caption-text">A sample LogRocket session showing session video, network requests, and Redux logs.</figcaption></figure>
<p>在顶部，我们看到网络请求，瀑布图显示了它们的相对时间。单击请求会显示相关的标题和正文，以及来自服务器的响应。</p>
<p>在左下方，我们看到了像素完美的会议视频。这个“视频”实际上是DOM的重建，因此您可以检查HTML/CSS以了解视觉错误，或者以两倍的速度回放它，以快速了解用户做了什么来触发错误。</p>
<p>最后，在右下角，我们看到了控制台查看器。这将显示应用程序中的所有控制台日志、警告和错误。如果您使用Redux，它还会显示<code>actions</code>并让您随时检查<code>state</code>。</p>
<h2>总结一下</h2>
<p>将LogRocket集成到您的Sentry工作流中有助于为您提供额外的上下文来快速轻松地解决bug。要开始，请访问https://logrocket.com。</p>
<h2>了解Branch Insurance如何利用Sentry和LogRocket更快地发布功能</h2>
<p><a href="https://logrocket.com/customers/branch/">阅读案例研究</a>了解Branch的团队如何快速优化分行平台，以满足新老客户的需求。</p>
<p>“由于LogRocket和Sentry之间的集成，调试比我们以前的解决方案更快更容易。”–首席技术官乔·艾米森</p>
<p><a href="https://logrocket.com/customers/branch/">点击此处</a>阅读案例研究。</p></figure>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>