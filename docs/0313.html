<html>
<head>
<title>What’s new in Angular 8: Web worker support and more - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Angular 8中的新特性:网络工作者支持和更多的博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/#0001-01-01">https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/#0001-01-01</a></blockquote><div><article class="article-post">
<p>随着Angular 8的发布，备受期待的Angular更新已经到来。Angular完全由TypeScript构建，由谷歌的Angular团队和许多社区成员和组织维护，在GitHub上有超过42，000颗星。在本文中，我们将回顾版本8中的新特性，以及现在可用的更改和更新。</p>
<blockquote><p>剧透警告:期待已久的Ivy渲染器没有随v7一起发布，据称将很快随V8一起发布。</p></blockquote>
<p>这个新版本似乎触及了几乎所有构成Angular平台的东西，包括Angular core、Angular Material、Angular CLI、文档，以及——以免我们忘记——合作伙伴发布。它改善了现代浏览器上的应用程序启动时间，提供了新的API来接入CLI，并使Angular适应更广泛的生态系统和更多的web标准。</p>
<h2>默认情况下的差异加载</h2>
<p>这是一个很棒的特性:它让你的应用程序的用户获得完全适合他们特定设备或浏览器的JavaScript包。<a href="https://web.dev/codelab-serve-modern-code" target="_blank" rel="noopener noreferrer">差异加载</a>是浏览器根据自身能力在现代或传统JavaScript之间进行选择的过程。</p>
<p>从这个新版本开始，Angular现在默认执行两个构建:现代ES2015构建和传统ES5构建。当您将一个项目更新到版本8时，您的<code>tsconfig.json</code>文件会被更新以使其生效。</p>
<p>这里，当目标是ES2015时，生成两个包，在运行时，用户的浏览器将使用脚本标签上的属性来交付正确的包。</p>
<pre>// Modern JS
&lt;script type="module" src="…"&gt;
// Legacy JS
&lt;script nomodule src="…"&gt;</pre>
<p>社区成员的早期测试表明，根据最终用户的设备和浏览器，以及他们利用的JS特性的数量，可以节省高达20%的包大小。</p>
<p><img data-attachment-id="2627" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/bundle-size-angular-io/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png" data-orig-size="928,537" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Bundle size reduction for Angular.io with Angular 8" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-300x174.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png" decoding="async" class="alignnone size-full wp-image-2627 jetpack-lazy-image" src="../Images/ea40ec78baf71ec82ae2b6dc0b775967.png" alt="Bundle Size Reduction For Angular.io" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png 928w, https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-300x174.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-768x444.png 768w" data-lazy-sizes="(max-width: 928px) 100vw, 928px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="2627" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/bundle-size-angular-io/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png" data-orig-size="928,537" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Bundle size reduction for Angular.io with Angular 8" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-300x174.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-2627" src="../Images/ea40ec78baf71ec82ae2b6dc0b775967.png" alt="Bundle Size Reduction For Angular.io" srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png 928w, https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-300x174.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_-768x444.png 768w" sizes="(max-width: 928px) 100vw, 928px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/bundle-size-angular.io_.png"/></noscript>
<p>以上是对Angular官方主页的测试。您可以在此了解更多关于<a href="https://v8.angular.io/guide/deployment#differential-loading" target="_blank" rel="noopener noreferrer">差动加载的信息。</a></p>
<h2>路由器配置使用动态导入</h2>
<p>令人兴奋的变化也打破了默认的路由器配置。最初，这是Angular中的路由器语法:</p>
<pre>{path: '/admin', loadChildren: './admin/admin.module#AdminModule'}</pre>
<p>现在，在版本8中，语法正式如下:</p>
<pre>{path: `/admin`, loadChildren: () =&gt; import(`./admin/admin.module`).then(m =&gt; m.AdminModule)}</pre>
<p>这是因为通过路由的延迟加载现在可以直接从该语法中实现。Angular现在建议开发人员使用路由器延迟加载部分应用程序。如您所见，这是通过在路线配置中使用<code>loadChildren</code>键来完成的。</p>
<p>VS Code和WebStorm中也已经设置了对IntelliSense的支持，以帮助导入。该功能在更新后立即可用。</p>
<h2>CLI中的构建器API</h2>
<p>还记得Angular <a href="https://angular.io/guide/schematics" target="_blank" rel="noopener noreferrer"> Schematics </a>吗，它提供了一个扩展或修改CLI dev命令的平台，比如<code>ng new</code>、<code>ng generate</code>、<code>ng add</code>和<code>ng update</code>？新的构建器API现在允许像<code>ng build</code>、<code>ng test</code>和<code>ng run</code>这样的构建命令为以生产为中心的命令提供相同的功能——这真是激动人心的时刻。这里是关于这些新API的官方博客文章。</p>
<p>Angular已经在与云提供商合作，开始使用这些API。你可以试试最新版本的<a href="https://github.com/angular/angularfire2" target="_blank" rel="noopener noreferrer">angular fire</a>——它增加了一个<code>deploy</code>命令，从而使构建和部署到Firebase比以往任何时候都更容易:</p>
<pre>ng add @angular/fire
ng run my-app:deploy</pre>
<p>安装后，这个部署命令将按照AngularFire推荐的方式构建和部署您的应用程序。</p>
<h2>CLI中的工作区API</h2>
<p>关于Schematics的更多信息:开发人员以前不得不手动修改他们的<code>angular.json</code>文件来修改工作空间配置。但是在版本8中情况发生了变化。现在，有了一个新的API来处理读取和修改<code>angular.json</code>文件。你可以在这里阅读更多关于可用的<a href="https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/core/README.md#workspaces" target="_blank" rel="noreferrer noopener">工作区API的信息</a>。</p>
<h2>网络工作者支持</h2>
<p>当你开始处理CPU密集型任务时，Web workers 非常适合用来加速你的应用程序。它们让你把工作卸载到后台线程，比如图像或视频操作。</p>
<p>Angular团队在<a href="https://angular.io" target="_blank" rel="noopener noreferrer"> angular.io </a>上使用web workers进行应用内搜索索引。有了这个新版本8，您可以从您的Angular CLI生成新的web workers。要向您的项目添加一个工人，您可以运行:</p>
<pre>ng generate webWorker my-worker</pre>
<p>一旦您有了一个web worker，您就可以在您的应用程序中正常使用它，并且CLI将能够正确地对它进行捆绑和代码拆分:</p>
<pre>const worker = new Worker(`./my-worker.worker`, { type: `module` });</pre>
<p>你可以在Angular CLI阅读更多关于<a href="https://v8.angular.io/guide/web-worker" target="_blank" rel="noopener noreferrer"> web workers的内容，点击</a>。</p>
<h2>新折旧指南</h2>
<p>Angular团队非常致力于维护语义版本和高度的稳定性，即使是跨主要版本。对于Angular的公共API，Angular承诺支持N+2版本的特性。</p>
<p>这意味着在v8.1中被弃用的特性将在以下两个主要版本(v9和v10)中继续工作。例如，<code>platform-webworker</code>在版本8中已被弃用。在Angular中很容易找到贬损和删除；有关所有折旧的完整列表，请参见新的<a href="https://v8.angular.io/guide/deprecations" target="_blank" rel="noreferrer noopener">折旧指南</a>。</p>
<h2>艾薇和巴泽尔。</h2>
<p>嗯，根据<a href="https://is-angular-ivy-ready.firebaseapp.com/#/status" target="_blank" rel="noreferrer noopener">官方发布通知</a>，你必须再等一会儿，新的渲染引擎Ivy和新的构建系统<a href="https://github.com/bazelbuild/bazel" target="_blank" rel="noopener noreferrer"> Bazel </a>，才能为Angular的正式使用做好准备。</p>
<p>这些即将到来的更新对任何想使用它们的人来说都是可选的。在撰写本文时，<a href="https://is-angular-ivy-ready.firebaseapp.com/#/status" target="_blank" rel="noopener noreferrer">Ivy的官方状态页面</a>显示，超过93%的产品已经准备好随时上市。</p>
<p><img data-attachment-id="2628" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/angular-ivy-status/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png" data-orig-size="1600,570" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Angular Ivy deployment status" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-300x107.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-1024x365.png" decoding="async" class="alignnone size-full wp-image-2628 jetpack-lazy-image" src="../Images/e7972120ba70847415940a4096f200b1.png" alt="Angular Ivy Deployment Status" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png 1600w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-300x107.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-768x274.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-1024x365.png 1024w" data-lazy-sizes="(max-width: 1600px) 100vw, 1600px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="2628" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/angular-ivy-status/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png" data-orig-size="1600,570" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Angular Ivy deployment status" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-300x107.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-1024x365.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-2628" src="../Images/e7972120ba70847415940a4096f200b1.png" alt="Angular Ivy Deployment Status" srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png 1600w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-300x107.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-768x274.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status-1024x365.png 1024w" sizes="(max-width: 1600px) 100vw, 1600px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-ivy-status.png"/></noscript>
<h2>更新到版本8</h2>
<p>由于Angular的团队和上一版本的效率，现在只需一个命令就可以将您的Angular应用程序更新到最新版本。只需运行下面的命令:</p>
<pre>ng update @angular/cli @angular/core</pre>
<p>据报道，这次更新非常快，所以当你更新时，请在评论中告诉我们用了多长时间(不应该超过五分钟)。要了解更多详细的更新信息，您可以<a href="http://update.angular.io" target="_blank" rel="noopener noreferrer">访问此链接</a>获得一个易于使用的、全包式角度更新应用程序。</p>
<p><img data-attachment-id="2629" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/angular-update-page-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png" data-orig-size="1392,1076" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Angular’s update page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-300x232.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-1024x792.png" decoding="async" class="alignnone size-full wp-image-2629 jetpack-lazy-image" src="../Images/fbb2367a0caa50fdbf0260e839c47c9e.png" alt="Angular's Update Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png 1392w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-300x232.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-768x594.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-1024x792.png 1024w" data-lazy-sizes="(max-width: 1392px) 100vw, 1392px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="2629" data-permalink="https://blog.logrocket.com/whats-new-in-angular-8-web-worker-support-and-more/attachment/angular-update-page-screenshot/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png" data-orig-size="1392,1076" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Angular’s update page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-300x232.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-1024x792.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-2629" src="../Images/fbb2367a0caa50fdbf0260e839c47c9e.png" alt="Angular's Update Page" srcset="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png 1392w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-300x232.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-768x594.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot-1024x792.png 1024w" sizes="(max-width: 1392px) 100vw, 1392px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/06/angular-update-page-screenshot.png"/></noscript>
<p><a href="https://github.com/angular/angular/blob/master/CHANGELOG.md" target="_blank" rel="noreferrer noopener">这里是角度变更日志</a>的链接。</p>
<h2>结论</h2>
<p>280多名贡献者使得这个新版本的发布成为可能，它带来了更快的速度和最新的网络技术。是的，Ivy renderer版本将在几天后发布，我迫不及待地想使用它。黑客快乐！</p>
<p><em>你最喜欢Angular 8的什么特点？请在评论中分享。</em></p>
<hr/>
<p> </p><div class="code-block code-block-19">
<div class="blog-plug inline-plug angular-plug"><h2>像用户一样体验Angular应用程序</h2><p>调试Angular应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪生产中所有用户的角度状态和动作感兴趣，</p><a href="https://lp.logrocket.com/blg/angular-signup">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你网站上发生的一切，包括网络请求、JavaScript错误等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket NgRx插件将角度状态和动作记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化调试Angular应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>