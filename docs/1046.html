<html>
<head>
<title>How to create forms with Chakra UI in React apps - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在React apps - LogRocket博客中使用Chakra UI创建表单</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/#0001-01-01">https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://chakra-ui.com/" target="_blank" rel="noopener noreferrer"> Chakra UI </a>是React应用的模块化组件库，使用<a href="https://emotion.sh/docs/introduction" target="_blank" rel="noopener noreferrer">情感</a>和<a href="https://styled-system.com/" target="_blank" rel="noopener noreferrer">风格系统</a>。在构建React应用程序时，利用隔离的UI组件来加速构建过程是有益的。</p>
<p>该库提供了一种使用实用工具来设计组件样式的便捷方法。例如，Chakra UI中的按钮组件可以这样编写:</p>
<pre>&lt;Button color="primary" textAlign="center /&gt;</pre>
<p>在本帖中，我们将使用Chakra UI构建一个登录表单。我在最近的一个项目中使用了这个UI库，并认为对它进行更多的探索可能是一个好主意。以下是该演示的最终结果:</p>
<p><img data-attachment-id="22614" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/finaldemoform/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif" data-orig-size="518,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finaldemoform" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform-240x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif" decoding="async" class="aligncenter size-full wp-image-22614 jetpack-lazy-image" src="../Images/030e9a2eed68efcda787eaf4db040025.png" alt="demo login form" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22614" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/finaldemoform/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif" data-orig-size="518,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finaldemoform" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform-240x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22614" src="../Images/030e9a2eed68efcda787eaf4db040025.png" alt="demo login form" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/finaldemoform.gif"/></noscript>
<h2>安装依赖项</h2>
<p>要开始使用Chakra UI，第一步是安装这个组件库的依赖项及其对等依赖项。打开一个终端窗口，创建一个新的React项目，并安装这些依赖项:</p>
<pre>npx create-react-app loginform

cd loginform

yarn add @chakra-ui/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3f5c504d5a7f0f1107110f">[email protected]</a> @emotion/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e88b879a8da8d9d8c6d8c6dad0">[email protected]</a> @emotion/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d3a0a7aabfb6b793e2e3fde3fde1e4">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bdd8d0d2c9d4d2d390c9d5d8d0d4d3dafd8c8d938d938f8a">[email protected]</a></pre>
<h2>添加一个<code>ThemeProvider</code></h2>
<p>查克拉用户界面提供了一个默认的主题，可以用来在黑暗和光明主题模式之间切换。使用provider <code>ColorModeProvider</code>和<code>useColorMode</code> hook，可以轻松处理组件风格在这些主题模式之间的切换。默认主题也是可扩展的。</p>
<p>首先，在<code>App.js</code>文件中导入以下语句，并从<code>App</code>组件返回一个<code>ThemeProvider</code>。确保添加<code>CSSReset</code>组件来移除所有浏览器的默认样式。建议按照<a href="https://chakra-ui.com/getting-started#injecting-global-styles">官方文件</a>这样做:</p>
<pre>import React from 'react';
import {
  ThemeProvider,
  theme,
  ColorModeProvider,
  CSSReset
} from '@chakra-ui/core';
export default function App() {
  return (
    &lt;ThemeProvider theme={theme}&gt;
      &lt;ColorModeProvider&gt;
        &lt;CSSReset /&gt;
      &lt;/ColorModeProvider&gt;
    &lt;/ThemeProvider&gt;
  );
}</pre>
<p><code>ColorModeProvider</code>将允许用户在黑暗和光明主题模式之间切换。该库中提供的大多数组件都与黑暗模式兼容。<code>theme</code>对象是应用程序的调色板、字体堆栈、字体大小、断点等等可以用自定义值定义的地方。</p>
<p>目前，如果您要运行开发服务器，您将会看到默认的黑暗模式，在浏览器窗口中没有文本。要启动开发服务器，请执行命令<code>yarn start</code>:</p>
<p><img data-attachment-id="22619" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/developmentserver/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png" data-orig-size="791,846" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="developmentserver" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png" decoding="async" class="aligncenter size-full wp-image-22619 jetpack-lazy-image" src="../Images/6c21cff1ed708975601d9e75d4ea64ed.png" alt="development server in dark mode with no words in it " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png 791w, https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-280x300.png 280w, https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-768x821.png 768w" data-lazy-sizes="(max-width: 791px) 100vw, 791px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22619" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/developmentserver/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png" data-orig-size="791,846" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="developmentserver" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22619" src="../Images/6c21cff1ed708975601d9e75d4ea64ed.png" alt="development server in dark mode with no words in it " srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png 791w, https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-280x300.png 280w, https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver-768x821.png 768w" sizes="(max-width: 791px) 100vw, 791px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/developmentserver.png"/></noscript>
<h2>在主题之间切换</h2>
<p>在本节中，让我们在<code>src/components/</code>目录中创建一个名为<code>ThemeToggler.js</code>的新组件文件。如果<code>components/</code>目录不存在，也创建它。然后，导入以下语句:</p>
<pre>import React from 'react';
import { useColorMode, Box, IconButton } from '@chakra-ui/core';</pre>
<p>React应用中的<code>useColorMode</code>挂钩是用来改变颜色模式的。</p>
<p>组件从HTML中呈现一个等同于元素的元素。它可以用来创建响应性布局，也可以使用样式将它们作为道具传递。在<code>ThemeToggler</code>组件中，<code>Box</code>组件用于传递风格道具。</p>
<p>Chakra UI组件库中的style props提供了许多速记变体，这确实增加了一点学习曲线(但哪个组件库没有)。</p>
<p>要找到风格道具的完整参考，请参考官方文档<a href="https://chakra-ui.com/style-props#style-props-reference" target="_blank" rel="noopener noreferrer">这里</a>。您将使用的一些常用工具:</p>
<ul>
<li><code>m</code>为边距</li>
<li><code>mt</code>对于marginTop</li>
<li><code>mr</code>对于边距权</li>
<li><code>p</code>用于填充</li>
<li><code>pt</code>对于paddingTop</li>
<li><code>pr</code>向右划水</li>
<li><code>py</code>用于左填充和右填充</li>
</ul>
<p>所有这些样式道具的缩写都与间距CSS属性有关。</p>
<p>在<code>ThemeToggler</code>文件中添加以下函数组件:</p>
<pre>export default function ThemeToggler() {
  const { colorMode, toggleColorMode } = useColorMode();
  return (
    &lt;Box textAlign="right" py={4} mr={12}&gt;
      &lt;IconButton
        icon={colorMode === 'light' ? 'moon' : 'sun'}
        onClick={toggleColorMode}
        variant="ghost"
      /&gt;
    &lt;/Box&gt;
  );
}</pre>
<p><code>IconButton</code>组件是另一种仅呈现图标的便捷方式，但是它具有<code>Button</code>组件的功能，在被点击时执行动作。</p>
<p>Chakra UI有一个默认的图标列表，但是你可以<a href="https://chakra-ui.com/icon#adding-custom-icons" target="_blank" rel="noopener noreferrer">添加自定义图标</a>。</p>
<p>这里的<code>IconButton</code>将根据当前主题模式的状态在两个图标之间切换，这是由来自<code>useColorMode</code>钩子的<code>colorMode</code>属性决定的。来自同一个钩子的<code>toggleColorMode</code>属性帮助React应用程序在两种模式之间切换。<code>IconButton</code>上的<code>variant</code>属性会移除任何默认样式。</p>
<p>下面是一个在<code>IconButton</code>上没有<code>ghost</code>值的<code>variant</code>属性的例子:</p>
<p><img data-attachment-id="22624" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/ghostoniconbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png" data-orig-size="612,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ghostoniconbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png" decoding="async" class="aligncenter size-full wp-image-22624 jetpack-lazy-image" src="../Images/f178029c0377e3ebfa4ae3ce1bc1d6d9.png" alt="moon icon in browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton-300x239.png 300w" data-lazy-sizes="(max-width: 612px) 100vw, 612px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22624" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/ghostoniconbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png" data-orig-size="612,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ghostoniconbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22624" src="../Images/f178029c0377e3ebfa4ae3ce1bc1d6d9.png" alt="moon icon in browser" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton-300x239.png 300w" sizes="(max-width: 612px) 100vw, 612px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/ghostoniconbutton.png"/></noscript>
<p><code>IconButton</code>上<code>ghost</code>的值为<code>variant</code>的属性:</p>
<p><img data-attachment-id="22710" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/sncrr2x/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png" data-orig-size="612,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sNcrr2X" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png" decoding="async" class="aligncenter size-full wp-image-22710 jetpack-lazy-image" src="../Images/6ca019b789f14345f0610d74a74675e2.png" alt="moon icon in browser in light mode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X-300x239.png 300w" data-lazy-sizes="(max-width: 612px) 100vw, 612px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22710" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/sncrr2x/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png" data-orig-size="612,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sNcrr2X" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22710" src="../Images/6ca019b789f14345f0610d74a74675e2.png" alt="moon icon in browser in light mode" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X-300x239.png 300w" sizes="(max-width: 612px) 100vw, 612px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sNcrr2X.png"/></noscript>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qovuw2eeyz90zz78zcp2z70zjz81z87z80zy2wwz86z1z89zz76zdz74zz69zz73zt5">要使用这个主题转换器，在<code>App</code>组件中导入它，如下所示:</span></p>
<pre>// rest of the import statements
import ThemeToggler from './components/ThemeToggler';
export default function App() {
  return (
    &lt;ThemeProvider theme={theme}&gt;
      &lt;ColorModeProvider&gt;
        &lt;CSSReset /&gt;
        &lt;ThemeToggler /&gt;
      &lt;/ColorModeProvider&gt;
    &lt;/ThemeProvider&gt;
  );
}</pre>
<p><img data-attachment-id="22627" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/themeinlocalstorage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png" data-orig-size="612,889" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="themeinlocalstorage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage-207x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png" decoding="async" class="aligncenter size-full wp-image-22627 jetpack-lazy-image" src="../Images/9ce9a204726294ba629ab5dd56df9b36.png" alt="imported theme toggler in browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage-207x300.png 207w" data-lazy-sizes="(max-width: 612px) 100vw, 612px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22627" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/themeinlocalstorage/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png" data-orig-size="612,889" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="themeinlocalstorage" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage-207x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22627" src="../Images/9ce9a204726294ba629ab5dd56df9b36.png" alt="imported theme toggler in browser" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage-207x300.png 207w" sizes="(max-width: 612px) 100vw, 612px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/themeinlocalstorage.png"/></noscript><br/>
The value of the current theme is stored in the <code>localStorage</code> of the browser by the key to <code>darkMode</code> and is handled by the Chakra UI on its own:
<p><img data-attachment-id="22629" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/valueofcurrenttheme/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png" data-orig-size="612,889" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="valueofcurrenttheme" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme-207x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png" decoding="async" class="aligncenter size-full wp-image-22629 jetpack-lazy-image" src="../Images/56a80e81ea06ffff2c66d626fdfc7001.png" alt="value of current theme is stored in localStorage shown in inspector panel" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme-207x300.png 207w" data-lazy-sizes="(max-width: 612px) 100vw, 612px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22629" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/valueofcurrenttheme/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png" data-orig-size="612,889" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="valueofcurrenttheme" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme-207x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22629" src="../Images/56a80e81ea06ffff2c66d626fdfc7001.png" alt="value of current theme is stored in localStorage shown in inspector panel" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png 612w, https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme-207x300.png 207w" sizes="(max-width: 612px) 100vw, 612px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/valueofcurrenttheme.png"/></noscript>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qovuw2eeyz90zz78zcp2z70zjz81z87z80zy2wwz86z1z89zz76zdz74zz69zz73zt5">当主题模式切换时，<code>localStorage</code>中的值也随之改变:</span></p>
<p>创建登录表单用户界面</p>
<p>在本节中，让我们在<code>src/pages/</code>目录中创建一个名为<code>LoginForm.js</code>的新文件。这个功能组件将帮助显示一个用户登录的表单。该表单将包含两个输入字段以及一个按钮。首先导入以下语句:</p>

<h2>然后，定义一个将要包装整个表单的<code>Flex</code>组件。这个组件只是一个已经应用了默认样式属性<code>display: flex</code>的<code>Box</code>组件。这意味着您可以使用包装器上的所有flex属性，如<code>flexDirection</code>、<code>alignItems</code>、<code>justifyContent</code>等等，作为道具。在这个包装器中，定义一个<code>Heading</code>组件:</h2>
<h2>现在，在<code>App.js</code>中导入这个组件:</h2>
<p>使用表单组件，让我们添加一个登录表单:</p>
<pre>import React from 'react';
import {
  Flex,
  Box,
  Heading,
  FormControl,
  FormLabel,
  Input,
  Button
} from '@chakra-ui/core';</pre>
<p><img data-attachment-id="22638" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/addedlogin/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png" data-orig-size="679,662" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="addedlogin" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png" decoding="async" class="aligncenter size-full wp-image-22638 jetpack-lazy-image" src="../Images/1e14b3e57cb6f730ddb559796341741f.png" alt="Word Login in browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin-300x292.png 300w" data-lazy-sizes="(max-width: 679px) 100vw, 679px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png"/></p>
<pre>export default function LoginForm() {
  return (
    &lt;Flex width="full" align="center" justifyContent="center"&gt;
      &lt;Box p={2}&gt;
        &lt;Box textAlign="center"&gt;
          &lt;Heading&gt;Login&lt;/Heading&gt;
        &lt;/Box&gt;
      &lt;/Box&gt;
    &lt;/Flex&gt;
  );
}</pre>
<p><code>FormControl</code>组件提供了上下文，比如单个表单字段上的<code>isDisabled</code>和<code>isRequired</code>布尔值。这有助于创建用户认证表单或使用表单验证库，如<a href="https://amanhimself.dev/build-validate-forms-with-react-native-formik-yup/" target="_blank" rel="noopener noreferrer"> Formik </a>。让我们在两个输入字段中添加一个<code>isRequired</code>字段，在<code>FormLabel</code>上显示红色星号。该属性还将<code>Input</code>字段上的<code>aria-required</code>属性设置为真:</p>
<pre>// ...
import LoginForm from './pages/LoginForm';
export default function App() {
  return (
    &lt;ThemeProvider theme={theme}&gt;
      &lt;ColorModeProvider&gt;
        &lt;CSSReset /&gt;
        &lt;ThemeToggler /&gt;
        &lt;LoginForm /&gt;
      &lt;/ColorModeProvider&gt;
    &lt;/ThemeProvider&gt;
  );
}</pre>
<p><img data-attachment-id="22640" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginformfields/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png" data-orig-size="679,662" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginformfields" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png" decoding="async" class="aligncenter size-full wp-image-22640 jetpack-lazy-image" src="../Images/4194642b7744df214613980bb617734d.png" alt="The word Login and email form field and password form field and sign in button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields-300x292.png 300w" data-lazy-sizes="(max-width: 679px) 100vw, 679px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png"/></p>
<pre>export default function LoginForm() {
  return (
    &lt;Flex width="full" align="center" justifyContent="center"&gt;
      &lt;Box p={2}&gt;
        &lt;Box textAlign="center"&gt;
          &lt;Heading&gt;Login&lt;/Heading&gt;
        &lt;/Box&gt;
        &lt;Box my={4} textAlign="left"&gt;
          &lt;form&gt;
            &lt;FormControl&gt;
              &lt;FormLabel&gt;Email&lt;/FormLabel&gt;
              &lt;Input type="email" placeholder="<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="710514020531051402055f121e1c">[email protected]</a>" /&gt;
            &lt;/FormControl&gt;
            &lt;FormControl mt={6}&gt;
              &lt;FormLabel&gt;Password&lt;/FormLabel&gt;
              &lt;Input type="password" placeholder="*******" /&gt;
            &lt;/FormControl&gt;
            &lt;Button width="full" mt={4} type="submit"&gt;
              Sign In
            &lt;/Button&gt;
          &lt;/form&gt;
        &lt;/Box&gt;
      &lt;/Box&gt;
    &lt;/Flex&gt;
  );
}</pre>
<p><img data-attachment-id="22642" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/rfqx77l-imgur/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png" data-orig-size="679,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rFQx77L – Imgur" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png" decoding="async" class="aligncenter size-full wp-image-22642 jetpack-lazy-image" src="../Images/adf4d68642e95ffe0aa957a0a8e7add2.png" alt="border wrapped around form to add some border width" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur-280x300.png 280w" data-lazy-sizes="(max-width: 679px) 100vw, 679px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22638" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/addedlogin/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png" data-orig-size="679,662" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="addedlogin" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22638" src="../Images/1e14b3e57cb6f730ddb559796341741f.png" alt="Word Login in browser" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin-300x292.png 300w" sizes="(max-width: 679px) 100vw, 679px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/addedlogin.png"/></noscript>
<p>方框阴影速记属性使表单变得有趣。在光线模式下观看，如下:</p>
<p><img data-attachment-id="22647" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginforminlightmode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png" data-orig-size="679,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginforminlightmode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png" decoding="async" class="aligncenter size-full wp-image-22647 jetpack-lazy-image" src="../Images/450b28e139af679fc813196ed063cc0e.png" alt="login form in light mode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode-280x300.png 280w" data-lazy-sizes="(max-width: 679px) 100vw, 679px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22640" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginformfields/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png" data-orig-size="679,662" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginformfields" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22640" src="../Images/4194642b7744df214613980bb617734d.png" alt="The word Login and email form field and password form field and sign in button" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields-300x292.png 300w" sizes="(max-width: 679px) 100vw, 679px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginformfields.png"/></noscript><br/>
Let’s modify the first <code>Box</code> component that wraps the whole form to add some border width, border radius, and box-shadow to make it appear nice:
<pre>&lt;Box p={8} maxWidth="500px" borderWidth={1} borderRadius={8} boxShadow="lg"&gt;</pre>
<p>您可以使用<code>variant</code>和<code>variantColor</code>属性更改按钮的外观:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22642" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/rfqx77l-imgur/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png" data-orig-size="679,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rFQx77L – Imgur" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22642" src="../Images/adf4d68642e95ffe0aa957a0a8e7add2.png" alt="border wrapped around form to add some border width" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur-280x300.png 280w" sizes="(max-width: 679px) 100vw, 679px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/rFQx77L-Imgur.png"/></noscript>
<p><img data-attachment-id="22649" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/signinbuttondesign/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png" data-orig-size="653,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="signinbuttondesign" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign-269x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png" decoding="async" class="aligncenter size-full wp-image-22649 jetpack-lazy-image" src="../Images/cb0873eca8c3b02260fa94535e518b71.png" alt="Login form with a teal sign in button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png 653w, https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign-269x300.png 269w" data-lazy-sizes="(max-width: 653px) 100vw, 653px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png"/></p>
<p><img data-attachment-id="22651" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginpageinlightmode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png" data-orig-size="653,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginpageinlightmode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode-269x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png" decoding="async" class="aligncenter size-full wp-image-22651 jetpack-lazy-image" src="../Images/aabbf23cc56ee6d6f5474ecb9bb52d73.png" alt="Login form page in light mode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png 653w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode-269x300.png 269w" data-lazy-sizes="(max-width: 653px) 100vw, 653px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22647" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginforminlightmode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png" data-orig-size="679,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginforminlightmode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22647" src="../Images/450b28e139af679fc813196ed063cc0e.png" alt="login form in light mode" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png 679w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode-280x300.png 280w" sizes="(max-width: 679px) 100vw, 679px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginforminlightmode.png"/></noscript>
<p>使用useState挂钩定义初始状态变量</p>
<pre>&lt;Button type="submit" variantColor="teal" variant="outline" width="full" mt={4}&gt;
  Sign In
&lt;/Button&gt;</pre>
<p>登录表单现在只包含两个输入字段和一个登录按钮。可以看一下<code>src/components/Login.js</code>文件。由于每个<code>FormControl</code>组件上都有一个名为<code>isRequired</code>的道具来包装每个输入字段，用户现在无法登录React应用程序:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22649" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/signinbuttondesign/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png" data-orig-size="653,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="signinbuttondesign" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign-269x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22649" src="../Images/cb0873eca8c3b02260fa94535e518b71.png" alt="Login form with a teal sign in button" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png 653w, https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign-269x300.png 269w" sizes="(max-width: 653px) 100vw, 653px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/signinbuttondesign.png"/></noscript><br/>
Different theme color values and variant values are provided by the Chakra UI library <a href="https://chakra-ui.com/theme#colors" target="_blank" rel="noopener noreferrer">here</a>:
<p>点击登录按钮时会显示默认的工具提示:<br/> <img data-attachment-id="22653" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/fillinfieldalert/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png" data-orig-size="762,760" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fillinfieldalert" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png" decoding="async" class="aligncenter size-full wp-image-22653 jetpack-lazy-image" src="../Images/35368a9f765e758b4dcb1902ebddca1b.png" alt="tooltip saying &quot;fill in field&quot; when email field is empty " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png 762w, https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-150x150.png 150w" data-lazy-sizes="(max-width: 762px) 100vw, 762px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="22651" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/loginpageinlightmode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png" data-orig-size="653,728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="loginpageinlightmode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode-269x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22651" src="../Images/aabbf23cc56ee6d6f5474ecb9bb52d73.png" alt="Login form page in light mode" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png 653w, https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode-269x300.png 269w" sizes="(max-width: 653px) 100vw, 653px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/loginpageinlightmode.png"/></noscript>
<h2><code>useState</code>钩子返回数组中的两个值。第一个值是状态变量的当前值，第二个值是更新第一个值的函数的数组。这就是为什么第二个值以传统的前缀fo <code>set</code>开始。尽管除了这个前缀之外，您可以给它起任何名字，这是React世界中的一个常见约定。钩子也接受一个表示初始状态的参数:</h2>
<p>此外，定义一个<code>handleSubmit</code>方法，该方法理想地进行API调用，以查看用户的凭证是否与数据库中的凭证匹配。为了简洁起见，我们现在只在浏览器窗口的警告框中显示它们。稍后，将有一个mock/fake API调用来模拟用户的登录尝试。</p>
<pre>&lt;FormControl isRequired&gt;</pre>
<p>现在，修改表单。在<code>for</code>元素上，用<code>handleSubmit</code>方法的值添加<code>onSubmit</code>属性。在每个<code>Input</code>字段上，添加一个<code>onChang</code>道具，使用<code>event.currentTarget.value</code>捕捉用户的输入:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22653" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/fillinfieldalert/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png" data-orig-size="762,760" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fillinfieldalert" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22653" src="../Images/35368a9f765e758b4dcb1902ebddca1b.png" alt="tooltip saying &quot;fill in field&quot; when email field is empty " srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png 762w, https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert-150x150.png 150w" sizes="(max-width: 762px) 100vw, 762px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/fillinfieldalert.png"/></noscript><br/>
To keep track of the values for each input field lets add two state variables for <code>email</code> and <code>password</code> input field using <code>useState</code> hook.
<p>现在返回浏览器窗口，尝试在表单字段中输入值，然后单击登录按钮:</p>
<pre>// make sure to import the useState hook
import React, { useState } from 'react';
// ...
export default function Login() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const handleSubmit = event =&gt; {
    event.preventDefault();
    alert(`Email: ${email} &amp; Password: ${password}`);
  };
  // ...
}</pre>
<p><img data-attachment-id="22660" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/emailintoform/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emailintoform" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif" decoding="async" class="aligncenter size-full wp-image-22660 jetpack-lazy-image" src="../Images/1034c162819bbaa997896f91559d7768.png" alt="putting in email into form" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif"/></p>
<p>模拟登录API调用</p>
<pre>&lt;form onSubmit={handleSubmit}&gt;
  &lt;FormControl isRequired&gt;
    &lt;FormLabel&gt;Email&lt;/FormLabel&gt;
    &lt;Input
      type="email"
      placeholder="<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f5b4a5c5b6f5b4a5c5b014c4042">[email protected]</a>"
      size="lg"
      onChange={event =&gt; setEmail(event.currentTarget.value)}
    /&gt;
  &lt;/FormControl&gt;
  &lt;FormControl isRequired mt={6}&gt;
    &lt;FormLabel&gt;Password&lt;/FormLabel&gt;
    &lt;Input
      type="password"
      placeholder="*******"
      size="lg"
      onChange={event =&gt; setPassword(event.currentTarget.value)}
    /&gt;
  &lt;/FormControl&gt;
  &lt;Button
    variantColor="teal"
    variant="outline"
    type="submit"
    width="full"
    mt={4}
  &gt;
    Sign In
  &lt;/Button&gt;
&lt;/form&gt;</pre>
<p>在本文中，让我们模拟一个用户使用异步函数输入有效凭证时的登录调用。这些凭证值的有效性将被硬编码。在<code>src/utils/</code>目录下创建一个名为<code>mockApi.js</code>的新文件。</p>
<p>函数<code>userLogin</code>将返回一个承诺。如果表单中输入的值与硬编码的值匹配，承诺将被解析，否则将失败。<code>setTimeout</code>函数将模拟3秒钟的API调用:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22660" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/emailintoform/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emailintoform" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22660" src="../Images/1034c162819bbaa997896f91559d7768.png" alt="putting in email into form" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/emailintoform.gif"/></noscript>
<h2>创建错误消息显示组件</h2>
<p>当用户凭证无效时(即，与当前演示中的硬编码值不匹配)，输入字段上方会显示一个错误。在本节中，让我们创建一个可重用的<code>ErrorMessage</code>组件。</p>
<p>在<code>src/components/</code>目录中创建一个名为<code>ErrorMessage.js</code>的新文件。这个组件将利用<code>Alert</code>和来自<code>@chakra-ui/core</code>库的对等组件。它还将有一个属性值<code>message</code>来显示错误消息。这个道具的值是从<code>Login</code>组件传递过来的:</p>
<pre>export const userLogin = async ({ email, password }) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      if (email === '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="245041575064504157500a474b49">[email protected]</a>' &amp;&amp; password === 'password') {
        resolve();
      } else {
        reject();
      }
    }, 3000);
  });
};</pre>
<h2>处理登录表单中的加载状态和错误消息</h2>
<p>打开<code>pages/Login.js</code>组件，通过导入模拟API调用实用程序方法和错误消息组件开始:</p>
<p>接下来，添加两个状态变量来跟踪表单何时处于加载状态(即何时正在模拟API调用)以及错误消息本身。</p>
<pre>import React from 'react';
import { Box, Alert, AlertIcon, AlertDescription } from '@chakra-ui/core';
export default function ErrorMessage({ message }) {
  return (
    &lt;Box my={4}&gt;
      &lt;Alert status="error" borderRadius={4}&gt;
        &lt;AlertIcon /&gt;
        &lt;AlertDescription&gt;{message}&lt;/AlertDescription&gt;
      &lt;/Alert&gt;
    &lt;/Box&gt;
  );
}</pre>
<h2>加载状态变量的默认值将为false。当这个值为真时，让我们在表单组件中显示一个加载指示器。因此，也从Chakra UI库中导入<code>CircularProgress</code>组件:</h2>
<p>API调用模拟部分将在<code>handleSubmit</code>方法内部完成。表单一提交，加载状态就被设置为true。接下来，使用<code>try-catch</code>语法可以处理模拟API调用。当用户输入与硬编码值相匹配的凭证值时，承诺将被解析。当承诺完成时，<code>isLoading</code>的值应该更新为false。</p>
<pre>// ...after other import statements
import { userLogin } from '../utils/mockApi';
import ErrorMessage from '../components/ErrorMessage';</pre>
<p>在<code>catch</code>块中，<code>error</code>的值被设置为硬编码消息。此外，通过将<code>isLoading</code>的值更新回false并将电子邮件和密码更新为空字符串来重置表单。在UI部分，首先，添加一个条件，在<code>form</code>元素的正下方显示错误消息:</p>
<p>然后，更新<code>Button</code>组件的内容，以便在进行API调用时显示加载指示器:</p>
<pre>import {
  Flex,
  Box,
  Heading,
  FormControl,
  FormLabel,
  Input,
  Button,
  CircularProgress
} from '@chakra-ui/core';
export default function Login() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const handleSubmit = async event =&gt; {
    event.preventDefault();
    setIsLoading(true);
    try {
      await userLogin({ email, password });
      setIsLoading(false);
    } catch (error) {
      setError('Invalid username or password');
      setIsLoading(false);
      setEmail('');
      setPassword('');
    }
  };
}</pre>
<p>要查看显示的错误消息，请在每个输入字段中输入随机值:</p>
<p><img data-attachment-id="22682" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/errormessages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="errormessages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif" decoding="async" class="aligncenter size-full wp-image-22682 jetpack-lazy-image" src="../Images/c689de623b7e5a6b880a7d8b77def1ae.png" alt="random values being entered into the form fields" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif"/></p>
<pre>&lt;form onSubmit={handleSubmit}&gt;
  {error &amp;&amp; &lt;ErrorMessage message={error} /&gt;}
  {/* Previous JSX code */}
&lt;/form&gt;</pre>
<p>用户登录时如何处理</p>
<pre>&lt;Button variantColor="teal" variant="outline" type="submit" width="full" mt={4}&gt;
  {isLoading ? (
    &lt;CircularProgress isIndeterminate size="24px" color="teal" /&gt;
  ) : (
    'Sign In'
  )}
&lt;/Button&gt;</pre>
<p>在本节中，让我们跟踪用户的登录状态。当用户成功登录时，将显示一条成功消息和一个注销按钮。</p>
<p>首先从Chakra UI库中导入<code>Text</code>组件。然后定义一个名为<code>isLoggedIn</code>的状态变量来跟踪用户的登录状态。当API调用在<code>handleSubmit</code>方法中完成模拟时，将其值更新为true:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22682" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/errormessages/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="errormessages" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22682" src="../Images/c689de623b7e5a6b880a7d8b77def1ae.png" alt="random values being entered into the form fields" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/errormessages.gif"/></noscript>
<h2>同时更新表单的JSX:</h2>
<p><img data-attachment-id="22687" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/howtohandlewhenauserlogsin/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="howtohandlewhenauserlogsin" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif" decoding="async" class="aligncenter size-full wp-image-22687 jetpack-lazy-image" src="../Images/b1618dcf57f322a4b7c2c6c1a21db59c.png" alt="user typing into forms" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif"/></p>
<p>添加密码显示/隐藏功能</p>
<pre>import {
  // ...
  Text
} from '@chakra-ui/core';
// ...
export default function Login() {
  //...
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const handleSubmit = async event =&gt; {
    event.preventDefault();
    setIsLoading(true);
    try {
      await userLogin({ email, password });
      setIsLoggedIn(true);
      setIsLoading(false);
    } catch (error) {
      setError('Invalid username or password');
      setIsLoading(false);
      setEmail('');
      setPassword('');
    }
  };
  // ...
}</pre>
<p>Chakra UI提供了一个<code>InputGroup</code>组件，可以用来对与单个输入字段相关的不同组件进行分组。要添加显示/隐藏密码功能，让我们使用这个组件来分组密码的输入字段组件。该组将有一个输入字段，一个右按钮元素，它将显示一个图标，指示密码当前是显示还是隐藏。</p>
<pre>export default function Login() {
  //...
  return (
    &lt;Flex width="full" align="center" justifyContent="center"&gt;
      &lt;Box
        p={8}
        maxWidth="500px"
        borderWidth={1}
        borderRadius={8}
        boxShadow="lg"
      &gt;
        {isLoggedIn ? (
          &lt;Box textAlign="center"&gt;
            &lt;Text&gt;{email} logged in!&lt;/Text&gt;
            &lt;Button
              variantColor="orange"
              variant="outline"
              width="full"
              mt={4}
              onClick={() =&gt; setIsLoggedIn(false)}
            &gt;
              Sign out
            &lt;/Button&gt;
          &lt;/Box&gt;
        ) : (
          &lt;&gt;
            &lt;Box textAlign="center"&gt;
              &lt;Heading&gt;Login&lt;/Heading&gt;
            &lt;/Box&gt;
            &lt;Box my={4} textAlign="left"&gt;
              &lt;form onSubmit={handleSubmit}&gt;
                {error &amp;&amp; &lt;ErrorMessage message={error} /&gt;}
                &lt;FormControl isRequired&gt;
                  &lt;FormLabel&gt;Email&lt;/FormLabel&gt;
                  &lt;Input
                    type="email"
                    placeholder="<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bcc8d9cfc8fcc8d9cfc892dfd3d1">[email protected]</a>"
                    size="lg"
                    onChange={event =&gt; setEmail(event.currentTarget.value)}
                  /&gt;
                &lt;/FormControl&gt;
                &lt;FormControl isRequired mt={6}&gt;
                  &lt;FormLabel&gt;Password&lt;/FormLabel&gt;
                  &lt;Input
                    type="password"
                    placeholder="*******"
                    size="lg"
                    onChange={event =&gt; setPassword(event.currentTarget.value)}
                  /&gt;
                &lt;/FormControl&gt;
                &lt;Button
                  variantColor="teal"
                  variant="outline"
                  type="submit"
                  width="full"
                  mt={4}
                &gt;
                  {isLoading ? (
                    &lt;CircularProgress
                      isIndeterminate
                      size="24px"
                      color="teal"
                    /&gt;
                  ) : (
                    'Sign In'
                  )}
                &lt;/Button&gt;
              &lt;/form&gt;
            &lt;/Box&gt;
          &lt;/&gt;
        )}
      &lt;/Box&gt;
    &lt;/Flex&gt;
  );
}</pre>
<p>从Chakra UI导入以下组件:</p><noscript><img data-lazy-fallback="1" data-attachment-id="22687" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/howtohandlewhenauserlogsin/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif" data-orig-size="516,648" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="howtohandlewhenauserlogsin" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin-239x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22687" src="../Images/b1618dcf57f322a4b7c2c6c1a21db59c.png" alt="user typing into forms" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/howtohandlewhenauserlogsin.gif"/></noscript>
<h2>为了跟踪密码当前是否隐藏的布尔状态，让我们添加一个状态变量<code>showPassword</code>和一个用初始值<code>false</code>更新其值<code>setShowPassword</code>的方法到<code>useState</code>钩子。</h2>
<p>然后，添加一个在密码输入字段的显示和隐藏模式之间切换的方法:</p>
<p>当在密码字段的可见性状态之间切换时，<code>Icon</code>值将是<code>Button</code>组件的值。同样，根据<code>showPassword</code>的值更改<code>Input</code>组件的<code>type</code>属性。</p>
<pre>import {
  // ...
  InputGroup,
  InputRightElement,
  Icon
} from '@chakra-ui/core';</pre>
<p>将密码的表单字段替换为下面的JSX:</p>
<p>另外，通过手动将密码字段的visibility值更新为false来更新<code>handleSubmit</code>方法，以便当用户注销时，表单处于其重置状态:</p>
<pre>export default function Login() {
  // ...
  const [showPassword, setShowPassword] = useState(false);
  const handlePasswordVisibility = () =&gt; setShowPassword(!showPassword);
  // ...
}</pre>
<p>这是您将在浏览器窗口中得到的输出:</p>
<p><img data-attachment-id="22692" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/output-imgur/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif" data-orig-size="520,644" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="output – Imgur" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur-242x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif" decoding="async" class="aligncenter size-full wp-image-22692 jetpack-lazy-image" src="../Images/2f81b83273a8d8c8bfc1abf6a34bad08.png" alt="login form in light mode with email input field and password field " data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif"/></p>
<pre>&lt;FormControl isRequired mt={6}&gt;
  &lt;FormLabel&gt;Password&lt;/FormLabel&gt;
  &lt;InputGroup&gt;
    &lt;Input
      type={showPassword ? 'text' : 'password'}
      placeholder="*******"
      size="lg"
      onChange={event =&gt; setPassword(event.currentTarget.value)}
    /&gt;
    &lt;InputRightElement width="3rem"&gt;
      &lt;Button h="1.5rem" size="sm" onClick={handlePasswordVisibility}&gt;
        {showPassword ? &lt;Icon name="view-off" /&gt; : &lt;Icon name="view" /&gt;}
      &lt;/Button&gt;
    &lt;/InputRightElement&gt;
  &lt;/InputGroup&gt;
&lt;/FormControl&gt;</pre>
<p>结论</p>
<pre>const handleSubmit = async event =&gt; {
  event.preventDefault();
  setIsLoading(true);
  try {
    await userLogin({ email, password });
    setIsLoggedIn(true);
    setIsLoading(false);
    setShowPassword(false);
  } catch (error) {
    setError('Invalid username or password');
    setIsLoading(false);
    setEmail('');
    setPassword('');
    setShowPassword(false);
  }
};</pre>
<p>在利用内置UI组件开发React应用程序时，任何组件库都有其优势。但我喜欢Chakra UI库的地方在于，它提供了一个高度可定制的设计系统，包括创建自己的设计系统的样式实用程序、在主题之间切换的能力和Flexbox。</p>
<p>这个项目的源代码可以在<a href="https://github.com/amandeepmittal/blog-examples/tree/master/react/loginform-chakra-ui-complete" target="_blank" rel="noopener noreferrer"> GitHub </a>获得。</p><noscript><img data-lazy-fallback="1" data-attachment-id="22692" data-permalink="https://blog.logrocket.com/how-to-create-forms-with-chakra-ui-in-react-apps/output-imgur/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif" data-orig-size="520,644" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="output – Imgur" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur-242x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-22692" src="../Images/2f81b83273a8d8c8bfc1abf6a34bad08.png" alt="login form in light mode with email input field and password field " data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/output-Imgur.gif"/></noscript>
<h2>链接</h2>
<h2>使用LogRocket消除传统反应错误报告的噪音</h2>
<p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p>
<h3>关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></h3>

<p> </p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">Cut through the noise of traditional React error reporting with LogRocket
</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p> is a React analytics solution that shields you from the hundreds of false-positive errors alerts to just a few truly important items. LogRocket tells you the most impactful bugs and UX issues actually impacting users in your React applications.
</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p> automatically aggregates client side errors, React error boundaries, Redux state, slow component load times, JS exceptions, frontend performance metrics, and user interactions. Then LogRocket uses machine learning to notify you of the most impactful problems affecting the most users and provides the context you need to fix it.

</p><p vwo-el-id="28675661060">Focus on the React bugs that matter —
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">try LogRocket today</a>.
</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>