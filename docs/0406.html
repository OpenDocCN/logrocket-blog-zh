<html>
<head>
<title>The history and legacy of jQuery - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>jQuery - LogRocket博客的历史和遗产</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/the-history-and-legacy-of-jquery/#0001-01-01">https://blog.logrocket.com/the-history-and-legacy-of-jquery/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://jquery.com/"> jQuery </a>是世界上使用最广泛的<a href="https://trends.builtwith.com/javascript/jQuery"/>JavaScript库。web开发社区在21世纪后期接受了它，创建了一个丰富的网站、插件和框架生态系统，在幕后使用jQuery。</p>
<p>但是在过去的几年中，jQuery作为web开发的头号工具的地位已经下降。让我们来看看jQuery为什么会流行，为什么它已经有点失宠，以及它在什么时候仍然是现代网站的一个好选择。</p>
<h2>jQuery简史</h2>
<p>John Resig在2005年开发了jQuery的初始版本，<a href="https://johnresig.com/blog/barcampnyc-wrap-up/">在2006年的BarCampNYC发布了它。在</a><a href="https://web.archive.org/web/20060203025710/http://jquery.com/">原jQuery网站</a>上，他写道:</p>
<blockquote><p>jQuery是一个Javascript库，它将这句格言铭记于心:<strong>编写Javascript代码应该很有趣。jQuery通过提取常见的、重复的任务，去掉所有不必要的标记，让它们变得简短、智能和易于理解来实现这个目标。</strong></p></blockquote>
<p>jQuery有两个主要的价值主张。第一个是为操作网页提供一个符合人体工程学的API。特别是，它提供了选择元素的强大方法。</p>
<p>除了根据id或类选择元素，jQuery还支持复杂的表达式，比如根据元素与其他元素的关系选择元素:</p>
<pre>// Select every item within the list of people within the contacts element
$('#contacts ul.people li');</pre>
<p>选择引擎最终被提取到它自己的名为<a href="https://sizzlejs.com/"> Sizzle </a>的库中。</p>
<p>第二个卖点是它抽象出了浏览器之间的差异。那时候，很难写出能在所有浏览器上稳定运行的代码。</p>
<p>缺乏标准化意味着开发者必须考虑许多不同的浏览器行为和边缘情况。只要看一下<a href="https://github.com/daniellmb/jquery-archive/blob/master/jquery.2006-07-01.js">这个早期的jQuery源代码</a>，搜索<code>jQuery.browser</code>就能看到一些例子。这里有一个:</p>
<pre>// If Mozilla is used
if ( jQuery.browser == "mozilla" || jQuery.browser == "opera" ) {
        // Use the handy event callback
        jQuery.event.add( document, "DOMContentLoaded", jQuery.ready );

// If IE is used, use the excellent hack by Matthias Miller
// http://www.outofhanwell.com/blog/index.php?title=the_window_onload_problem_revisited
} else if ( jQuery.browser == "msie" ) {

        // Only works if you document.write() it
        document.write("&lt;scr" + "ipt id=__ie_init defer=true " + 
                "src=javascript:void(0)&gt;&lt;\/script&gt;");

        // Use the defer script hack
        var script = document.getElementById("__ie_init");
        script.onreadystatechange = function() {
                if ( this.readyState == "complete" )
                        jQuery.ready();
        };

        // Clear from memory
        script = null;

// If Safari  is used
} else if ( jQuery.browser == "safari" ) {
        // Continually check to see if the document.readyState is valid
        jQuery.safariTimer = setInterval(function(){
                // loaded and complete are both valid states
                if ( document.readyState == "loaded" || 
                        document.readyState == "complete" ) {

                        // If either one are found, remove the timer
                        clearInterval( jQuery.safariTimer );
                        jQuery.safariTimer = null;

                        // and execute any waiting functions
                        jQuery.ready();
                }
        }, 10);
}</pre>
<p>通过使用jQuery，开发人员可以让jQuery团队来处理这些缺陷。</p>
<p>后来，jQuery使得采用更复杂的技术变得容易，比如动画和Ajax。jQuery几乎成了网站的标准依赖。今天，它继续为互联网的大部分提供动力。W3Techs估计大约74%的T2网站使用jQuery T3。</p>
<p>jQuery的管理也变得更加正式。2011年，jQuery团队正式<a href="https://blog.jquery.com/2011/11/18/getting-board-of-jquery/" target="_blank" rel="noopener noreferrer">创建了jQuery Board </a>。2012年，jQuery董事会<a href="https://blog.jquery.com/2012/03/06/announcing-the-jquery-foundation/" target="_blank" rel="noopener noreferrer">成立了jQuery基金会</a>。</p>
<p>2015年，jQuery Foundation与Dojo Foundation合并<a href="https://blog.jquery.com/2015/09/01/jquery-foundation-and-dojo-foundation-to-merge/" target="_blank" rel="noopener noreferrer">成立JS Foundation </a>，随后在<a href="https://medium.com/@nodejs/introducing-the-openjs-foundation-the-next-phase-of-javascript-ecosystem-growth-d4911b42664f"> 2019 </a>与Node.js Foundation合并成立<a href="https://openjsf.org/"> OpenJS Foundation </a>，jQuery作为其<a href="https://openjsf.org/projects/#impact">影响项目</a>之一</p>
<h2>变化的环境</h2>
<p>然而，jQuery在最近几年<a href="https://trends.google.com/trends/explore/TIMESERIES/1564319400?hl=en-US&amp;tz=240&amp;date=all&amp;geo=US&amp;q=jquery&amp;sni=3">的受欢迎程度</a>有所下降。GitHub <a href="https://github.blog/2018-09-06-removing-jquery-from-github-frontend/">从他们的网站前端</a>移除了jQuery，Bootstrap V5<a href="https://github.com/twbs/bootstrap/pull/23586">将会放弃jQuery </a>，因为它是Bootstrap的“<a href="https://blog.getbootstrap.com/2019/02/11/bootstrap-4-3-0/">对常规JavaScript </a>最大的客户端依赖(目前是30KB，minified和gzipped)。web开发的几个趋势削弱了jQuery作为必备工具的地位。</p>
<h3>浏览器</h3>
<p>由于几个原因，浏览器的差异和限制变得不那么重要了。首先是标准化程度提高了。主要的浏览器供应商(苹果、谷歌、微软和Mozilla)通过<a href="https://whatwg.org/">网络超文本应用技术工作组</a>在<a href="https://spec.whatwg.org/">网络标准</a>上进行合作。</p>
<p>虽然浏览器仍然有很大的不同，但厂商们至少有办法找到并发展共同点，而不是相互之间无休止的战争。相应地，浏览器API变得更加强大。例如，<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">获取API </a>可以代替jQuery的Ajax函数:</p>
<pre>// jQuery
$.getJSON('https://api.com/songs.json')
    .done(function (songs) {
        console.log(songs);
    })

// native
fetch('https://api.com/songs.json')
    .then(function (response) {
        return response.json();
    })
    .then(function (songs) {
        console.log(songs);
    });</pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector"> <code>querySelector</code> </a>和<a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll"> <code>querySelectorAll</code> </a>方法复制了jQuery的选择功能:</p>
<pre>// jQuery
const fooDivs = $('.foo div');

// native
const fooDivs = document.querySelectorAll('.foo div');</pre>
<p>现在可以用<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList">classList</a></code>操作元素类:</p>
<pre>// jQuery
$('#warning').toggleClass('visible');

// native
document.querySelector('#warning').classList.toggle('visible');</pre>
<p>你可能不需要jQuery网站列出了更多可以用本地代码替换jQuery代码的例子。一些开发人员总是使用jQuery，因为他们不知道这些API是可用的，但是随着开发人员对它们的了解，他们对jQuery的依赖程度会降低。</p>
<p>使用原生功能也可以提高网页的性能。许多jQuery动画效果现在可以用CSS更有效地实现<a href="https://dev.opera.com/articles/css3-vs-jquery-animations/"/>。</p>
<p>第二个原因是浏览器比过去更新更快。大多数浏览器现在都有一个<a href="https://www.techopedia.com/definition/31094/evergreen-browser">常青树更新策略</a>，苹果的Safari是主要的例外。它们可以在没有用户干预的情况下自动更新，并且不依赖于操作系统更新。</p>
<p>这意味着新的浏览器功能和错误修复会更快地被用户采用，开发人员不必再等待<a href="https://caniuse.com/">我可以使用</a>的使用率达到可接受的水平。他们可以放心地使用特性和API，而无需加载jQuery或<a href="https://en.wikipedia.org/wiki/Polyfill_(programming)"> polyfills </a>。</p>
<p>第三个原因是，Internet Explorer越来越接近完全无关紧要。IE长期以来一直是各地网络开发者的克星。IE特有的错误是出了名的普遍，因为IE是2000年代的主导浏览器，缺乏持久的更新，旧版本顽固地徘徊不前。</p>
<p>微软加速了IE的弃用，<a href="https://www.microsoft.com/en-us/microsoft-365/windows/end-of-ie-support">在2016年结束了对IE 10及以下版本的支持</a>，剩下IE 11成为最后一个支持的版本。web开发人员忽视IE兼容性的情况越来越普遍。</p>
<p>甚至随着2013年<a href="https://blog.jquery.com/2013/04/18/jquery-2-0-released/">版本2.0 </a>的发布，jQuery也放弃了对IE 8及以下版本的支持。虽然一些特殊情况，如传统网站仍然需要IE，但这种情况越来越少了。</p>
<h3>net框架</h3>
<p>自从jQuery发布以来，出现了大量的web框架，其中一些目前的领先者是<a href="https://reactjs.org/"> React </a>、<a href="https://angular.io/"> Angular </a>和<a href="https://vuejs.org/"> Vue </a>。与jQuery相比，这些框架有两个显著的优势。</p>
<p>首先，它们使得将UI分解成组件变得容易。它们被设计用来处理页面的呈现和更新。jQuery通常只用于更新页面，依赖服务器提供初始页面。</p>
<p>另一方面，React、Angular和Vue组件允许HTML、代码甚至<a href="https://blog.logrocket.com/a-guide-to-css-pseudo-elements/" target="_blank" rel="noopener noreferrer"> CSS </a>之间的紧密耦合。就像我们可以将一个代码库分解成多个自包含的函数和类一样，将一个UI分解成可重用的组件使得构建和维护一个复杂的网站变得更加容易。</p>
<p>第二个优势是新的框架鼓励声明性范例，在这种范例中，开发人员描述UI应该是什么样的，并让框架做出必要的更改。这种方法与以jQuery代码为特征的命令式方法形成对比。</p>
<p>使用jQuery，您可以显式地编写进行任何更改的步骤。对于声明式框架，你会说，“基于这些数据，这就是UI应该的样子。”这可以大大减少你为了写无错误代码而必须做的脑力劳动。</p>
<p>开发人员已经接受了这些构建网站的新方法，降低了jQuery的相关性。</p>
<h2>何时使用jQuery</h2>
<p>那么什么时候<em>应该</em>选择使用jQuery呢？</p>
<p>如果所讨论的项目预计会越来越复杂，那么最好从一个不同的库或框架开始，它将允许您理智地处理这种复杂性，比如通过将UI分解成组件。在这样的网站上使用jQuery起初可能没什么问题，但是它会很快演变成杂乱无章的代码，您无法确定哪些代码会影响页面的哪些部分。</p>
<p>我以前处理过这种情况，每当你想做出改变时，这种情况都会产生一种不安的感觉。很难确定没有破坏任何东西，因为jQuery选择器依赖于服务器生成的HTML结构。</p>
<p>另一方面，简单的网站只需要少量的交互性或动态内容。对于这些情况，我仍然默认不使用jQuery，因为我们现在可以用原生API做更多的事情。</p>
<p>即使我确实需要更强大的东西，我也会为用例寻找一个特定的库，比如Ajax的<a href="https://github.com/axios/axios"> axios </a>或者动画的<a href="https://daneden.github.io/animate.css/"> Animate.css </a>。使用这样的库通常比只加载jQuery的一部分功能更轻量级。</p>
<p>我认为使用jQuery的最好理由是它提供了支持网站前端的全面功能。您不必学习所有各种本机API或专用库，只需阅读jQuery文档就能立即提高工作效率。</p>
<p>它的命令式方法不能很好地扩展，但是它也比其他库的声明式方法更容易学习。对于一个范围明显有限的网站，加入jQuery并继续前进是合理的；它不需要任何复杂的构建或编译过程。</p>
<p>因此，当您有理由相信网站不会变得更加复杂，并且您不想为原生功能而烦恼时，jQuery是一个不错的选择，因为原生功能肯定会比同等的jQuery代码更加冗长。</p>
<p>当你必须支持旧版本的IE时，另一个用例出现了。在这种情况下，jQuery就像IE成为主流浏览器时一样好用。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<h2>展望未来</h2>
<p>jQuery不会很快消失。它还在积极开发中，许多开发者更喜欢使用它的API，即使有本地方法可用。</p>
<p>它帮助了一代开发者制作出可以在任何浏览器上运行的网站。尽管jQuery在许多方面已经被新的库、框架和范例所取代，但它在让网络成为今天的样子方面发挥了巨大而积极的作用。</p>
<p>除非jQuery的功能发生重大变化，否则在接下来的几年中，jQuery的使用率很可能会持续缓慢下降。新网站往往从一开始就用更现代的框架构建，jQuery的良好用例越来越少。</p>
<p>有些人对web开发工具的流失率不满意，但对我来说，这是快速进步的标志。jQuery给了我们更好的做事方法。它的继任者也做了同样的事情。</p><div class="code-block code-block-27">
<div class="blog-plug inline-plug vanilla-javascript-cta"><h2>通过理解上下文，更容易地调试JavaScript错误</h2>
<p>调试代码总是一项单调乏味的任务。但是你越了解自己的错误，就越容易改正。</p>
<p>LogRocket 让你以新的独特的方式理解这些错误。我们的前端监控解决方案跟踪用户与您的JavaScript前端的互动，让您能够准确找出导致错误的用户行为。</p>
<a href="https://lp.logrocket.com/blg/javascript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/></noscript></a>
<p>LogRocket记录控制台日志、页面加载时间、堆栈跟踪、慢速网络请求/响应(带有标题+正文)、浏览器元数据和自定义日志。理解您的JavaScript代码的影响从来没有这么简单过！</p>
<a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>