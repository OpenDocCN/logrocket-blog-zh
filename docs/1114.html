<html>
<head>
<title>Getting started with Mock Service Worker - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>模拟服务人员入门- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-with-mock-service-worker/#0001-01-01">https://blog.logrocket.com/getting-started-with-mock-service-worker/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本教程中，我们将学习<a href="https://mswjs.io/">模拟服务工作者</a>以及我们如何使用它来模拟网络请求。我们将构建一个聊天应用程序，它将使用由模拟服务工作者API提供的模拟数据。</p>
<h2>什么是模拟服务人员，它解决什么问题？</h2>
<p>据其<a href="https://mswjs.io/docs/">官网</a>介绍，Mock Service Worker是一个API嘲讽库，使用服务工作者API拦截实际请求。使用模拟服务器工作器，让模拟服务器启动并运行变得非常容易。它基于服务工作者的想法，以便捕获缓存请求。</p>
<p>除其他外，它具有以下特点:</p>
<ol>
<li>网络级别的拦截</li>
<li>标准化服务工作者API</li>
<li>支持REST和GraphQL APIs</li>
<li>客户端的执行</li>
<li>支持类型脚本</li>
</ol>
<h2>我们将会建造什么</h2>
<p>在本教程中，我们将构建一个包含用户列表和消息列表的聊天应用程序。这个聊天应用程序的模拟数据将由模拟服务工作者定义的模拟提供。在本教程结束时，我们的应用程序应该如下所示:</p>
<figure id="attachment_24249" aria-describedby="caption-attachment-24249" class="wp-caption aligncenter"><img data-attachment-id="24249" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/chat-application-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png" data-orig-size="730,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Chat application UI" data-image-description="" data-image-caption="&lt;p&gt;The user interface of our chat application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui-300x181.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png" decoding="async" class="size-full wp-image-24249 jetpack-lazy-image" src="../Images/e364c92bc84fd473ac6a39d89a836f54.png" alt="Our Chat Application's User Interface" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui-300x181.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24249" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/chat-application-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png" data-orig-size="730,441" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Chat application UI" data-image-description="" data-image-caption="&lt;p&gt;The user interface of our chat application.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui-300x181.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png" decoding="async" loading="lazy" class="size-full wp-image-24249" src="../Images/e364c92bc84fd473ac6a39d89a836f54.png" alt="Our Chat Application's User Interface" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui-300x181.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/chat-application-ui.png"/></noscript><figcaption id="caption-attachment-24249" class="wp-caption-text">The user interface of our chat application.</figcaption></figure>
<p>我们将使用<a href="https://nextjs.org/"> Next.js </a>构建应用程序，使用<a href="https://chakra-ui.com/"> Chakra UI </a>设计应用程序的样式。</p>
<p>Next.js是一个流行的React框架，支持服务器端渲染和许多其他现成的特性。关于Next.js的更多细节可以从其官方文档中获得。</p>
<p>Chakra UI是一个简单而强大的组件库，用于构建React应用程序。关于Chakra UI的更多细节可以从其官方网站获得。</p>
<h2>创建Next.js应用程序</h2>
<p>我们可以使用以下命令创建一个Next.js应用程序:</p>
<pre>npx create-next-app</pre>
<p>上面的命令将创建一个新的Next.js应用程序，并为我们设置好一切。安装完成后，我们可以按照屏幕上的说明启动开发服务器。</p>
<h2>将Chakra UI添加到Next.js应用程序中</h2>
<p>我们可以使用以下命令安装Chakra UI依赖项:</p>
<pre>yarn add @chakra-ui/core @emotion/core @emotion/styled emotion-theming</pre>
<p>一旦安装完成，我们需要用下面的代码更新<code>pages/_app.js</code>文件:</p>
<pre>// pages/_app.js

import { ThemeProvider, CSSReset, theme } from "@chakra-ui/core";

const App = ({ Component, pageProps }) =&gt; {
  return (
    &lt;ThemeProvider theme={theme}&gt;
      &lt;CSSReset /&gt;
      &lt;Component {...pageProps} /&gt;
    &lt;/ThemeProvider&gt;
  );
};

export default App;</pre>
<p>这将确保所有的脉轮界面风格现在都出现在我们的应用程序中。我们现在可以在我们的应用程序中添加任何Chakra UI组件。</p>
<blockquote><p><strong>注意</strong>:添加查克拉UI是可选的。这里只是用来设计一个好看的界面。为了保持本教程简短，我们不会深入到查克拉UI组件。</p></blockquote>
<h2>在我们的应用程序中安装模拟服务工作者</h2>
<p>现在让我们将模拟服务工作添加到我们的应用程序中。我们可以使用以下命令来实现这一点:</p>
<pre>yarn add msw --dev</pre>
<p>这将把模拟服务工作添加到我们的开发依赖列表中。由于我们在生产中不需要对我们的数据进行任何模拟，所以它应该只安装在开发环境中。</p>
<h2>定义模拟</h2>
<p>使用模拟服务工作者，我们可以模拟<a href="https://mswjs.io/docs/getting-started/mocks/graphql-api"> GraphQL </a>和<a href="https://mswjs.io/docs/getting-started/mocks/rest-api">REST</a>API。在本教程中，我们将模仿REST APIs。</p>
<p>让我们在一个新文件<code>mocks/handlers.js</code>中定义模拟服务工作者的模拟，内容如下:</p>
<pre>// mocks/handlers.js

import { rest } from "msw";
import users from "data/users"; // contains mock data for users
import messages from "data/messages";// contains mock data for messages

export const handlers = [
  rest.get("https://backend.dev/users", (req, res, ctx) =&gt; {
    return res(ctx.json(users));
  }),

  rest.get("/users/:id/messages", (req, res, ctx) =&gt; {
    return res(ctx.json(messages));
  }),

  rest.post("/users/:id/messages", (req, res, ctx) =&gt; {
    const { message } = JSON.parse(req.body);
    return res(
      ctx.json({
        id: Math.random(),
        message,
      })
    );
  }),
];</pre>
<p>从上面的代码中，我们可以看到我们已经创建了三个模拟端点，Next.js将在服务器端获取其中的数据:</p>
<ol>
<li>这个API端点负责发送初始数据来显示我们的用户列表。</li>
<li><code>GET /users/:id/messages</code>–该API端点将负责发送显示消息列表的数据。</li>
<li><code>POST /users/:id/messages</code>–该API端点将负责在创建新消息时发送数据。</li>
</ol>
<p>我们将在Next.js应用程序中使用所有这些API端点。</p>
<h2>将模拟服务工作者集成到我们的应用程序中</h2>
<p>现在，让我们将这些模拟API集成到我们的应用程序中。为此，我们需要添加一个新文件<code>mocks/browser.js</code>，其内容如下:</p>
<pre>// mocks/browser.js

import { setupWorker } from "msw";
import { handlers } from "mocks/handlers";

export const worker = setupWorker(...handlers);</pre>
<p>上面的文件将负责在客户端发送模拟数据。我们还需要创建一个新文件，用于在服务器端发送模拟数据:</p>
<pre>// mocks/server.js

import { setupServer } from "msw/node";
import { handlers } from "mocks/handlers";

export const server = setupServer(...handlers);</pre>
<p>上述两个独立的文件是必要的，因为根据<a href="https://mswjs.io/docs/getting-started/integrate"> MSW文档</a>，相同的请求处理程序可以在浏览器和节点环境之间共享。由于服务人员无法在Node中运行，因此集成过程因环境而异。</p>
<p>我们还需要创建另一个文件<code>mocks/index.js</code>，它将负责决定是从服务器还是客户端发送数据。</p>
<pre>// mocks/index.js

if (typeof window === "undefined") {
  const { server } = require("mocks/server");
  server.listen();
} else {
  const { worker } = require("mocks/browser");
  worker.start();
}</pre>
<p>上面的<code>window</code>对象只在客户端定义。利用这个特性，我们可以很容易地判断数据是从服务器端还是客户端请求的。</p>
<p>接下来，我们需要在我们的<code>pages/_app.js</code>文件中添加导入<code>mocks/index.js</code>文件:</p>
<pre>// pages/_app.js

require("mocks");

....

const App = ({ Component, pageProps }) =&gt; {

  ....

};

export default App;</pre>
<p>出于演示目的，我们从MSW加载模拟数据。在真实的应用程序中，模拟应该只在开发环境中出现。</p>
<p>我们可以通过检查<code>NODE_ENV</code>变量仅在开发时导入MSW:</p>
<pre>// pages/_app.js

if (process.env.NODE_ENV === "development") {
  require("mocks");
}

....

const App = ({ Component, pageProps }) =&gt; {

  ....

};

export default App;</pre>
<p>最后，我们需要运行MSW的<a href="https://mswjs.io/docs/cli/init"> init </a>命令，将服务工作者放在我们应用程序的公共目录中。对于Next.js，公共目录是<code>./public</code>。</p>
<pre>npx msw init ./public</pre>
<figure id="attachment_24252" aria-describedby="caption-attachment-24252" class="wp-caption aligncenter"><img data-attachment-id="24252" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/placing-service-worker-init/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png" data-orig-size="730,470" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Placing the Service Worker" data-image-description="" data-image-caption="&lt;p&gt;Placing the Service Worker using the init command.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png" decoding="async" class="size-full wp-image-24252 jetpack-lazy-image" src="../Images/fb5c7c63aeb91064b4713c77ed3c758e.png" alt="Placing The Service Worker Using The init Command" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init-300x193.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24252" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/placing-service-worker-init/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png" data-orig-size="730,470" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Placing the Service Worker" data-image-description="" data-image-caption="&lt;p&gt;Placing the Service Worker using the init command.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png" decoding="async" loading="lazy" class="size-full wp-image-24252" src="../Images/fb5c7c63aeb91064b4713c77ed3c758e.png" alt="Placing The Service Worker Using The init Command" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init-300x193.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/placing-service-worker-init.png"/></noscript><figcaption id="caption-attachment-24252" class="wp-caption-text">Placing the Service Worker using the init command.</figcaption></figure>
<h2>从模拟服务工作者获取模拟数据</h2>
<p>我们将首先构建获取用户的用户界面。我们可以使用Next.js <code><a href="https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering">getServerSideProps</a></code>方法在服务器端取数据，然后在浏览器上渲染。为此，我们需要创建一个新文件<code>pages/index.js</code>，其内容如下:</p>
<pre>// pages/index.js

import React from "react";

const Home = ({ users = [] }) =&gt; {
  const usersNode = () =&gt; {
    if (!users.length) {
      return &lt;&gt;No users found&lt;/&gt;;
    }

    return (
      &lt;&gt;
        {users.map((user) =&gt; {
          return (
            &lt;div key={user.id}&gt;
              {user.first_name} {user.last_name}
            &lt;/div&gt;
          );
        })}
      &lt;/&gt;
    );
  };

  return usersNode();
};

export async function getServerSideProps() {
  const response = await fetch("https://backend.dev/users");
  const users = await response.json();

  return {
    props: {
      users,
    },
  };
}

export default Home;</pre>
<p>这里，我们从服务器端的<code><a href="https://backend.dev/users" rel="nofollow">https://backend.dev/users</a></code> API端点获取模拟数据，并呈现在用户界面上。上述代码将呈现以下用户界面:</p>
<figure id="attachment_24254" aria-describedby="caption-attachment-24254" class="wp-caption aligncenter"><img data-attachment-id="24254" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/fetching-user-list-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetching users list UI" data-image-description="" data-image-caption="&lt;p&gt;The UI for fetching the list of all the users.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png" decoding="async" class="size-full wp-image-24254 jetpack-lazy-image" src="../Images/5b2e9c32acca8ee87fabdc28c5954090.png" alt="The UI For Fetching The List Of All The Users" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui-300x87.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24254" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/fetching-user-list-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Fetching users list UI" data-image-description="" data-image-caption="&lt;p&gt;The UI for fetching the list of all the users.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png" decoding="async" loading="lazy" class="size-full wp-image-24254" src="../Images/5b2e9c32acca8ee87fabdc28c5954090.png" alt="The UI For Fetching The List Of All The Users" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui-300x87.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-user-list-ui.png"/></noscript><figcaption id="caption-attachment-24254" class="wp-caption-text">The UI for fetching the list of all the users.</figcaption></figure>
<p>现在，我们将开发获取消息列表的用户界面。当用户被点击时，我们从<code>/users/:id/messages</code> API端点获取一个消息列表，并将其呈现在界面上。为此，我们需要用以下内容更新我们的<code>pages/index.js</code>文件:</p>
<pre>// pages/index.js

import React, { useState } from "react";

const Home = ({ users = [] }) =&gt; {
  const [messages, setMessages] = useState([]);

  const handleFetchMessages = async (userId) =&gt; {
    // 1. Set the fetching state to 'true' to show a spinner
    // 2. Fetch all the mock messages
    // 3. Store the messages in the state
    // 4. Set the fetching state to 'false' to remove the spinner
    const response = await fetch(`users/${userId}/messages`);
    const messages = await response.json();

    setMessages(messages);
  };

  const messagesNode = () =&gt; {
    if (!messages.length) {
      return &lt;div&gt;Please click on any items from the left sidebar&lt;/div&gt;;
    }

    return (
      &lt;div&gt;
        {messages.map((message) =&gt; {
          return &lt;div key={message.id}&gt;{message.message}&lt;/div&gt;;
        })}
      &lt;/div&gt;
    );
  };

  ....

  return (
    &lt;&gt;
      {usersNode()}
      {messagesNode()}
    &lt;/&gt;
  );
};

....

export default Home;</pre>
<p>我们从端点获取所有模拟消息，然后将数据存储在<code>messages</code> React状态中，并在接口上呈现该数组。在获取数据之前，我们的用户界面应该如下所示:</p>
<figure id="attachment_24255" aria-describedby="caption-attachment-24255" class="wp-caption aligncenter"><img data-attachment-id="24255" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/before-messages-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png" data-orig-size="730,297" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UI before fetching messages" data-image-description="" data-image-caption="&lt;p&gt;The UI before fetching the list of all the messages.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui-300x122.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png" decoding="async" class="size-full wp-image-24255 jetpack-lazy-image" src="../Images/242bd01ccabb40fb7124cc5dc5c216f6.png" alt="Interface Before Fetching The List Of Messages" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui-300x122.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24255" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/before-messages-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png" data-orig-size="730,297" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UI before fetching messages" data-image-description="" data-image-caption="&lt;p&gt;The UI before fetching the list of all the messages.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui-300x122.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png" decoding="async" loading="lazy" class="size-full wp-image-24255" src="../Images/242bd01ccabb40fb7124cc5dc5c216f6.png" alt="Interface Before Fetching The List Of Messages" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui-300x122.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/before-messages-ui.png"/></noscript><figcaption id="caption-attachment-24255" class="wp-caption-text">The UI before fetching the list of all the messages.</figcaption></figure>
<p>一旦用户被点击，数据从API端点获取，我们的用户界面应该如下所示:</p>
<figure id="attachment_24257" aria-describedby="caption-attachment-24257" class="wp-caption aligncenter"><img data-attachment-id="24257" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/fetching-messages-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UI for fetching the messages" data-image-description="" data-image-caption="&lt;p&gt;Interface for fetching the list of all the messages.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png" decoding="async" class="size-full wp-image-24257 jetpack-lazy-image" src="../Images/e4653de53c3a4811641ea7308dde4c0e.png" alt="The Interface For Fetching The List Of Messages" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui-300x140.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24257" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/fetching-messages-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UI for fetching the messages" data-image-description="" data-image-caption="&lt;p&gt;Interface for fetching the list of all the messages.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png" decoding="async" loading="lazy" class="size-full wp-image-24257" src="../Images/e4653de53c3a4811641ea7308dde4c0e.png" alt="The Interface For Fetching The List Of Messages" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui-300x140.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/fetching-messages-ui.png"/></noscript><figcaption id="caption-attachment-24257" class="wp-caption-text">Interface for fetching the list of all the messages.</figcaption></figure>
<p>下图展示了我们的Next.js应用程序的不同层。所有Next.js页面都可以连接到MSW的模拟API并请求数据。</p>
<figure id="attachment_24260" aria-describedby="caption-attachment-24260" class="wp-caption aligncenter"><img data-attachment-id="24260" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/nextjs-layers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js layers" data-image-description="" data-image-caption="&lt;p&gt;Next.js layers for interacting with the MSW API.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png" decoding="async" class="size-full wp-image-24260 jetpack-lazy-image" src="../Images/a8d375f86d47d1d502cbf1eb6dd9f327.png" alt="Next.js Layers For Interacting With The MSW API" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers-300x102.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24260" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/nextjs-layers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Next.js layers" data-image-description="" data-image-caption="&lt;p&gt;Next.js layers for interacting with the MSW API.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png" decoding="async" loading="lazy" class="size-full wp-image-24260" src="../Images/a8d375f86d47d1d502cbf1eb6dd9f327.png" alt="Next.js Layers For Interacting With The MSW API" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers-300x102.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/nextjs-layers.png"/></noscript><figcaption id="caption-attachment-24260" class="wp-caption-text">Next.js layers for interacting with the MSW API.</figcaption></figure>
<h2>使用Cypress测试我们的应用程序</h2>
<p>我们将使用<a href="https://www.cypress.io/"> Cypress </a>编写几个集成测试。Cypress是一个端到端的JavaScript测试框架。它有许多<a href="https://www.cypress.io/features">特性</a>，并且非常容易与任何前端应用程序集成。</p>
<p>首先，我们需要<a href="https://docs.cypress.io/guides/getting-started/installing-cypress.html">安装</a> Cypress作为依赖项:</p>
<pre>yarn add -D cypress</pre>
<p>上面的命令将把Cypress添加到我们的开发依赖列表中。与MSW一样，我们不需要在生产中对我们的应用程序进行任何测试，所以它应该只安装在开发环境中。</p>
<p>接下来，我们可以向我们的<code>package.json</code>文件添加一个脚本，以便使用Cypress运行测试:</p>
<pre>// package.json

{

  ....

  "scripts": {

    ....

    "test": "cypress open"
  },

  ....

}</pre>
<p>现在，我们可以运行下面的命令从项目的根目录启动Cypress:</p>
<pre>yarn test</pre>
<p>请注意，我们的应用程序的开发服务器应该已经启动并正在运行，因为我们需要运行集成测试。在一个终端中运行<code>yarn dev</code>而在另一个终端中运行<code>yarn test</code>是个好主意。</p>
<p>上面的命令将启动Cypress测试运行程序。</p>
<figure id="attachment_24261" aria-describedby="caption-attachment-24261" class="wp-caption aligncenter"><img data-attachment-id="24261" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/cypress-test-runner/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Cypress test runner" data-image-description="" data-image-caption="&lt;p&gt;Cypress test runner.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png" decoding="async" class="size-full wp-image-24261 jetpack-lazy-image" src="../Images/abaa1e1cfabe716a25d2fca3a6699055.png" alt="The Cypress Test Runner" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner-300x130.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="24261" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/cypress-test-runner/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Cypress test runner" data-image-description="" data-image-caption="&lt;p&gt;Cypress test runner.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png" decoding="async" loading="lazy" class="size-full wp-image-24261" src="../Images/abaa1e1cfabe716a25d2fca3a6699055.png" alt="The Cypress Test Runner" srcset="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner-300x130.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/cypress-test-runner.png"/></noscript><figcaption id="caption-attachment-24261" class="wp-caption-text">Cypress test runner.</figcaption></figure>
<p>接下来，我们可以开始使用Cypress编写集成测试。我们需要创建一个新文件<code>cypress/integration/index.spec.js</code>，内容如下:</p>
<pre>// cypress/integration/index.spec.js

context("Cypress Tests", () =&gt; {
  beforeEach(() =&gt; {
    // This will ensure that Cypress always visits our development server 
    // before running any tests
    cy.visit("http://localhost:3000/");
  });

  describe("User Interface Assertions", () =&gt; {
    it("should consist of 5 users", () =&gt; {
      cy.get("[data-test-id=user]").should("have.length", 5);
    });

    it("should consist of 5 messages when any user is selected", () =&gt; {
      cy.get("[data-test-id=user]").first().click();
      cy.get("[data-test-id=message]").should("have.length", 5);
    });
  });
});</pre>
<p>在上面的代码中，我们编写了两个测试:</p>
<ol>
<li>第一个测试检查UI上应该有五个用户。</li>
<li>第二个测试检查当选择任何用户时，UI上应该有五条消息。</li>
</ol>
<p>根据我们的模拟数据，这两个测试都应该通过。</p>
<figure id="attachment_24288" aria-describedby="caption-attachment-24288" class="wp-caption aligncenter"><img data-attachment-id="24288" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/running-integration-tests-using-cypress/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Running our integration tests using Cypress" data-image-description="" data-image-caption="&lt;p&gt;Running our integration tests using Cypress.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress-300x175.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif" decoding="async" class="size-full wp-image-24288 jetpack-lazy-image" src="../Images/583c59c63a87597a90ebd385bcdeca3e.png" alt="Running Our Integration Tests Using Cypress" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="24288" data-permalink="https://blog.logrocket.com/getting-started-with-mock-service-worker/running-integration-tests-using-cypress/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Running our integration tests using Cypress" data-image-description="" data-image-caption="&lt;p&gt;Running our integration tests using Cypress.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress-300x175.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif" decoding="async" loading="lazy" class="size-full wp-image-24288" src="../Images/583c59c63a87597a90ebd385bcdeca3e.png" alt="Running Our Integration Tests Using Cypress" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/09/running-integration-tests-using-cypress.gif"/></noscript><figcaption id="caption-attachment-24288" class="wp-caption-text">Running our integration tests using Cypress.</figcaption></figure>
<h2>结论</h2>
<p>在本教程中，我们了解了从模拟服务工作者开始模拟和使用模拟数据是多么容易。这个应用的源代码可以在<a href="https://github.com/ghoshnirmalya/introduction-to-msw"> GitHub </a>上获得，并且在<a href="https://introduction-to-msw.vercel.app/"> Vercel </a>上有一个演示。</p>
<p>请注意，演示应用程序中出现的样式是由Chakra UI组件决定的。另外，在演示应用程序中有一个<a href="https://github.com/ghoshnirmalya/introduction-to-msw/blob/master/mocks/handlers.js#L14-L23">示例POST示例</a>。所有的模拟数据都出现在这个目录中<a href="https://github.com/ghoshnirmalya/introduction-to-msw/tree/master/data">。</a></p><div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产Next.js应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的DVR，记录下你的Next.js应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用程序的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p><p>让您调试Next.js应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>