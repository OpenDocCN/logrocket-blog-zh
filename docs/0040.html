<html>
<head>
<title>The state of React Native for Web - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Native for Web-LogRocket Blog的状态</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/the-state-of-react-native-web-in-2019-6ab67ac5c51e/#0001-01-01">https://blog.logrocket.com/the-state-of-react-native-web-in-2019-6ab67ac5c51e/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://www.npmjs.com/package/react-native-web" target="_blank" rel="noopener noreferrer"> React Native for Web </a>是我最近偶然发现的最惊人的想法之一。对于UI开发人员来说，它让一个长期的梦想成为现实:能够用一个代码库创建一个既能在手机上运行又能在浏览器上运行的应用程序。</p>
<p>我们达到这一点的途径也非常有趣:</p>
<ul>
<li>首先，React的出现改变了我们创建web应用的方式</li>
<li>接下来，React Native发布，吸取了React的所有优点，并提供给iOS和Android应用程序。React Native最初是为了在移动平台上工作而创建的，它在很大程度上受本地应用程序开发方式的影响。尽管如此，它保留了一些让它感觉更接近web开发的关键元素:JavaScript、JSX标记和Flexbox</li>
<li>最后，React Native for Web的创建是为了让这些React Native应用程序再次在浏览器中运行</li>
</ul>
<h2>将本机作为通用UI语言</h2>
<p>上面最后一步的必要性一开始有点不清楚。我们已经有了React，它最初是为了构建web应用程序而创建的。为什么我们要使用其他不符合明确目的的东西呢？</p>
<p>第一个原因是React Native使用React的一种子集来生成UI。如果我们想要一个既能在手机上运行又能在网络上运行的代码，我们应该坚持使用限制性更强的代码；在这种情况下，它是React Native。只要我们不使用需要一些原生功能的模块，React原生应用应该可以通过React Native for Web开箱即用地在浏览器中工作。</p>
<p>第二个原因——也是真正让React Native在创建通用应用方面优于React的原因——是React Native是一种纯UI语言。它定义了一些定义UI原语的基本组件，这些组件被认为独立于运行它们的平台。我们可以在React Native中创建的所有组件都基于像<code>&lt;View&gt;</code>、<code>&lt;Text&gt;</code>或<code>&lt;Image&gt;</code>这样的原语，这些原语是对任何可视界面都有意义的基本元素，无论它在哪里运行。</p>
<p>另一方面，React的原语只是DOM节点——像<code>&lt;div&gt;</code>、<code>&lt;p&gt;</code>或<code>&lt;a&gt;</code>这样的HTML标签，并不是纯粹的UI。它们不是被创造出来定义一种视觉语言的；相反，它们是用来构建和理解超文本的。React的原语具有界面之外的意义，这种意义在浏览器之外没有多大意义。</p>
<p>尽管如此，通过使用HTML标签将React Native原语翻译成DOM语言是可能的——这就是React Native for Web为我们所做的(以及更多)。</p>
<p>至此，我们已经理解了为什么使用React Native作为web和Native的通用语言是一个好主意。我相信这是正确的选择，但是React Native for Web已经存在了一段时间，它仍然在努力传播，尤其是在Web开发人员中。</p>
<h2>一个平台两个生态系统</h2>
<p>使用React Native创建web应用并不简单，这不仅仅是因为我们需要适应它的限制——这就像Native和web仍然是两个独立的世界。即使已经有可能使用一个代码库并在任何地方运行它，该代码也充满了可以在一个环境中运行而不能在另一个环境中运行的条件。</p>
<p>我们可以用来开发React Native for Web应用程序的库也是如此。</p>
<h3>React本地库</h3>
<p>一方面，我们有React本地库。我们应该能够将这些库毫无问题地插入到我们的React Native for Web项目中(除非它们运行本机代码或具有本机依赖性)。</p>
<p>不幸的是，对于我们的通用应用程序来说，性能曾经是React原生开发者的主要关注点——当渲染在原生端进行时，我们在移动端实现了最佳的UI性能。这样，我们可以在JavaScript线程中进行计算，而不会影响接口的响应。那些带有本机代码的库不能在React Native for Web项目中使用。</p>
<p>如果React原生库开发人员尽可能在他们的项目中附带一个替代原生功能的JavaScript，那就太好了。如果本机代码在浏览器中没有多大意义，React本机库应该提供一个在web环境中运行时不会中断的本机部分的模拟。</p>
<p>即使我们找到了一个与web兼容的React原生库，让它在我们的web应用程序中工作的过程也并不简单。为了构建我们的web应用程序，我们使用webpack作为捆绑器(稍后会有更多关于这个主题的内容)，它通常不会传输我们的<code>node_modules</code>文件夹中的文件。React原生库不需要捆绑来为移动设备工作，所以<a href="https://github.com/callstack/react-native-paper/issues/689" target="_blank" rel="noopener noreferrer">我们需要将异常</a>添加到我们的webpack的模块配置中，以便将它们捆绑在一起。</p>
<p>如果您是React本地库开发人员，请🙏，表现出对React Native for Web的热爱，并在您的库中发布一个transpiled版本。如今有一些工具可以让它变得非常简单，比如微捆绑或者T2毕丽。</p>
<h3>反应库</h3>
<p>另一方面，我们有React库，它通常被认为可以在浏览器中工作。他们利用HTML标签来构造UI；因此，如果我们在我们的通用应用程序中使用它们，它们将破坏移动版本。</p>
<p>如果你是一个React库开发者，并且你认为你的库对移动环境有意义，你应该知道通过使用与React Native相同的原语通过<a href="https://github.com/lelandrichardson/react-primitives" target="_blank" rel="noopener noreferrer"> react-primitives </a>也可以使它在React Native中工作。</p>
<p>开始时，进入流程有点乏味，但是当你习惯了原语和Flexbox，它甚至可以帮助你改进代码的组织。此外，您将学习React Native，这在您的工具箱中非常方便。</p>
<h2>使用React Native构建通用应用程序</h2>
<p>创建通用应用程序时，我们必须忍受的另一个痛苦是管理多个捆绑器。在React Native中开发和构建应用的标准方法是使用<a href="https://facebook.github.io/metro/" target="_blank" rel="noopener noreferrer"> Metro bundler </a>。由脸书制造的Metro允许我们在本地构建和测试应用，几乎不需要配置。当您使用<a href="https://expo.io/" target="_blank" rel="noopener noreferrer"> Expo </a>创建一个React本地应用程序时，它就会发布。</p>
<p>当我们想要创建我们的应用程序的web版本时，React Native for Web推荐使用webpack作为捆绑器。不要误解我——web pack很棒，但是需要两个不同的构建系统和两种不同类型的配置让我很头疼。</p>
<p>我希望将来我们可以只用一台捆扎机。使用Metro来构建我们的web应用程序是可能的；我一直在尝试使用Metro捆绑我的web应用程序，这看起来完全可能。我可以创建一个JavaScript包，但是我的web应用程序并没有真正工作，因为一些我不想调查的transpilation问题。有人想试试吗？</p>
<h2>融合移动和网络世界</h2>
<p>我一直在谈论React Native和<a href="https://www.npmjs.com/package/react-dom" target="_blank" rel="noopener noreferrer"> ReactDOM </a>开发人员如何调整他们的库，使它们彼此友好，这应该只是第一步。</p>
<p>理想情况下，我们会将两个世界统一成一个通用的开发者社区。这不仅仅是使库在任何环境下都不会崩溃；更确切地说，它是在创造满足两个世界需求的工具，并为它们增加价值。</p>
<p>如前所述，React Native for Web应用确实受到了移动应用最佳实践的影响。目前，当我们创建一个React Native for Web应用程序时，我们或多或少会让移动应用程序适应浏览器。但是，我们真的想要一个拥有全幅布局元素和可折叠抽屉、运行在大屏幕桌面浏览器中的手机应用吗？大概不会。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>这就是为什么响应式布局革命在2000年代中期开始:让我们的设计适应不同的屏幕尺寸。这现在是任何web项目的一个基本特性。在移动应用中，响应式用户界面并不常见。但是，构建适应手机、平板电脑和桌面的应用程序而不需要编写两次代码不是很棒吗？</p>
<p>响应式布局只是web概念的一个例子，它可以为移动开发增加价值。另一个好方法是URL。我们不需要在我们的移动应用程序中使用URL，但是为我们的屏幕分配一个唯一的标识符并直接访问某个点的概念非常强大。这在移动应用程序中也不常见，这就是为什么在React Native for Web应用程序中处理URL相当困难，而这应该是非常基本的。</p>
<p>React Native for Web尽了很大的努力将移动应用到Web开发中，但是在其他方面还没有什么进展。总的来说，我们应该开始纯粹从UI的角度来考虑问题，不管我们面对的是什么平台——我们还没有到那一步。</p>
<p>很难在React Native中定义悬停交互，因为当它被创建时，我们认为它们是不必要的。出于同样的原因，浏览器中的手势交互也不是小菜一碟。所有这些情况都应该被一种旨在成为定义UIs的通用方法的语言轻松涵盖。</p>
<h2>欢迎来到新世界</h2>
<p>创建通用应用程序是一个梦想成真，但就像大多数刚刚起步的事情一样，要让每个人都感到轻松，还有很多工作要做。</p>
<p>这是一个尚未探索的世界。作为一名库开发人员，我认为这是我们构建未来社区将使用的下一组工具和库的大好机会。你不想成为“下一个Redux”的创造者吗？</p>
<p>我想特别呼吁世博团队为世博环境增加对React Native for Web的支持，因为我认为他们可以在过渡中发挥重要作用。最著名的移动开发平台推出现成的web包，这将是对通用应用程序的巨大推动。</p>
<p>让Metro为web服务将为Expo(那里有一个巨大的社区)打开web开发的大门，但是教育React本地开发人员嘲笑他们在web上工作的本地依赖性将保证您的项目在您希望的时候退出。对每个人来说都是双赢的局面！</p>
<h2>使用React Native创建一个通用的app值得吗？</h2>
<p>肯定是的！尝试在所有平台上运行同一个项目当然仍然具有挑战性，并且还有许多空白需要填补。但是我们已经可以使用React Native作为一种语言来为我们的应用程序的不同版本创建UI，即使它们针对不同的环境，也可以重用大部分相同的代码。</p>
<p>如果你想帮助解决上面的一些问题，你将推动通用应用程序开发的梦想，整个社区都会感谢你。</p>
<p>如果你只是想最大化你的代码可重用性，建立一个<a href="https://lerna.js.org/" target="_blank" rel="noopener noreferrer"> Lerna项目</a>，将你的应用程序的移动和网络版本作为单独的包，并开始使用React Native创建你的组件。您将重用整个UI，但是您将能够单独处理特定于平台的问题——无需担心兼容性。</p>
<p>如果您对这种方法感兴趣，我强烈推荐您阅读来自<a href="https://medium.com/u/2b3150c688d0" target="_blank" rel="noopener noreferrer"> Lucas McGartland </a>的文章<a href="https://hackernoon.com/building-cross-platform-applications-with-a-universal-component-library-e6292ca9a15" target="_blank" rel="noopener noreferrer"> <em>用通用组件库</em> </a>构建跨平台应用程序。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>