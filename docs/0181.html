<html>
<head>
<title>Using the Chrome devtools new code coverage feature - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Chrome devtools新的代码覆盖特性</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-the-chrome-devtools-new-code-coverage-feature-ca96c3dddcaf/#0001-01-01">https://blog.logrocket.com/using-the-chrome-devtools-new-code-coverage-feature-ca96c3dddcaf/#0001-01-01</a></blockquote><div><div class="mainheading">


<h1 class="posttitle">使用Chrome devtools新的代码覆盖特性</h1>
<h2 class="post-subtitle"/>
<p><span class="post-date"><time class="post-date">2017年4月4日</time> </span> <span class="dot"/> <span class="readingtime"> 1分钟阅读</span> <span class="wordcount"> 386 </span> <span class="logrocket_editor"/></p>
</div>
<article class="article-post">
<p>代码覆盖率终于走出了实验，进入了Chrome Canary，这意味着它将很快全面上市。这是一个令人兴奋的特性，在使用JavaScript和CSS时都很有用，所以我想我应该做一个快速演示，并探索它如何有所帮助。</p>
<p><strong>更新:</strong>标准Chrome现在提供代码覆盖特性。如果你已经更新到最新版本，没有必要使用金丝雀！</p>
<h4>它是做什么的？</h4>
<p>代码覆盖率允许您运行您的web应用程序，并且对于每个JS/CSS文件，查看哪些代码行运行了，哪些没有运行。</p>
<figure><img decoding="async" src="../Images/ce7209d26d396382bf33df2fd17b9742.png" data-height="1162" data-width="2234" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*gD8lX40PSemDOZgvT695Mg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*gD8lX40PSemDOZgvT695Mg.png"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/ce7209d26d396382bf33df2fd17b9742.png" data-height="1162" data-width="2234" data-original-src="https://storage.googleapis.com/blog-images-backup/1*gD8lX40PSemDOZgvT695Mg.png"/></noscript></figure>
<p>在这里，我运行了一个简单的静态网页Chrome生成了页面上CSS和JS文件的分解。右边的条形显示每个文件的相对大小，红色代表未使用的代码，绿色显示运行的代码。</p>
<p>记录代码覆盖率的工作方式类似于devtools时间轴——点击record，然后正常地与站点交互。完成后，Chrome会进行一些计算并生成读数。在这里，我很好奇网站上有多少未使用的css，所以我导航到各个子页面，以确保我找到了每个CSS“代码路径”。果然——这里有很大的改进空间，因为我的网站上97%的css都没有使用！</p>
<figure><img decoding="async" src="../Images/90b2381df5c985543c2df8ace2557954.png" data-height="744" data-width="1078" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*1SUTeKlhRee3MyKdxkUGtQ.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*1SUTeKlhRee3MyKdxkUGtQ.png"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/90b2381df5c985543c2df8ace2557954.png" data-height="744" data-width="1078" data-original-src="https://storage.googleapis.com/blog-images-backup/1*1SUTeKlhRee3MyKdxkUGtQ.png"/></noscript></figure>
<p>Chrome还能让你深入到单个文件的代码覆盖范围。这里，左边的红/绿条显示了哪些特定行运行了，哪些没有运行。请注意，在检查缩小的文件时，您可以按下文件左下角的按钮来“美化”代码。</p>
<h4>为什么有用？</h4>
<p>当处理一个复杂或长期的项目时，很容易积累死代码。如果您正在使用webpack或另一个JS构建系统，有一些工具可以防止大多数死JS代码进入生产环境。但是对于CSS来说，要做到这一点可能有点棘手。在Chrome中拥有这个覆盖工具是一个很好的方式，可以快速了解你发布了多少额外的代码，以及哪些文件需要优化。</p>
<h4>如何获得？</h4>
<p>下载Chrome Canary 或者等待几周，让它达到普通Chrome。</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>