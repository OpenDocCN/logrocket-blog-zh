<html>
<head>
<title>CSS Reference Guide: calc() - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CSS参考指南:calc() - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/css-reference-guide-calc/#0001-01-01">https://blog.logrocket.com/css-reference-guide-calc/#0001-01-01</a></blockquote><div><div class="mainheading">

<div class="row post-top-meta hidden-md-down">

<div class="col-md-10 col-xs-12">
<a class="text-capitalize link-dark" href="https://blog.logrocket.com/author/chidumennamdi/">
Chidume Nnamdi <span class="btn follow">Follow</span></a>
<span class="author-description d-block">I'm a software engineer with over six years of experience. I've worked with different stacks, including WAMP, MERN, and MEAN. My language of choice is JavaScript; frameworks are Angular and Node.js.</span>
</div>
</div>
<h1 class="posttitle">CSS参考指南:<code>calc()</code></h1>
<h2 class="post-subtitle"/>
<p><span class="post-date"><time class="post-date">2020年9月30日</time> </span> <span class="dot"/> <span class="readingtime"> 2分钟读完</span> <span class="wordcount"> 750 </span> <span class="logrocket_editor"/></p>
</div>
<article class="article-post">
<p>CSS <code>calc()</code>函数用于计算CSS中简单的算术表达式。</p>
<h4><em>向前跳转:</em></h4>

<hr/>
<p>算术表达式是加、减、除和乘。这些表达式遵循优先顺序:</p>
<ul>
<li><strong>P</strong>–括号</li>
<li><strong>D</strong>–分部</li>
<li><strong>M</strong>–乘法</li>
<li><strong>A</strong>–加法</li>
<li><strong>S</strong>–减法</li>
</ul>
<p>表达式中的任何括号都是从左到右首先计算的。然后执行除法运算，然后是乘法、加法，最后是减法。</p>
<p>例如，我们在<code>calc</code>中有这样一个表达式:</p>
<pre class="language-css">calc(4px - (9px + 1px) / 5px * 9px)</pre>
<p class="codepen" data-height="450" data-theme-id="dark" data-default-tab="css,result" data-user="philipsz-davido" data-slug-hash="XWdqmpy" data-pen-title="css calc example">参见<a href="https://codepen.io"> CodePen </a>上Chidume David(<a href="https://codepen.io/philipsz-davido">@ philipsz-davido</a>)<br/>的Pen <a href="https://codepen.io/philipsz-davido/pen/XWdqmpy"> <br/> css计算示例</a>。</p>
<p/>
<p>括号<code>(9px + 1px)</code>首先被求值，所以我们现在有了这个:</p>
<pre>4px - 10px / 5px * 9px</pre>
<p>接下来是除法op. <code>10px / 5px</code>是这样评估的:</p>
<pre>4px - 2px * 9px</pre>
<p>然后，评估乘法op，<code>2px * 9px</code>:</p>
<pre>4px - 18px</pre>
<p>最后，评估减法op，<code>4px - 18px</code>:</p>
<pre>-14px</pre>
<hr/>
<h2 id="valuetypes">值类型</h2>
<p>并不是CSS中的所有值类型都允许出现在<code>calc</code>函数中。允许的值包括:</p>
<ul>
<li><code>&lt;length&gt;</code></li>
<li><code>&lt;frequency&gt;</code></li>
<li><code>&lt;angle&gt;</code></li>
<li><code>&lt;time&gt;</code></li>
<li><code>&lt;percentage&gt;</code></li>
<li><code>&lt;number&gt;</code></li>
<li><code>&lt;integer&gt;</code></li>
</ul>
<hr/>
<h2 id="rules">规则</h2>
<p>使用<code>calc</code>功能时，必须严格遵守某些规则。</p>
<p><strong> 1。)</strong>加减运算符的RHS和LHS值必须是相同的单位类型，也可以是一个<code>number</code>和一个<code>integer</code>。</p>
<ul>
<li><code>5px + 2</code>无效，因为这些值属于不同的单位类型。第一种是<code>&lt;length&gt;</code>型，而第二种是<code>&lt;number&gt;</code>。</li>
<li><code>2px + 5vh</code>有效，因为两者都是<code>&lt;length&gt;</code>单元类型；表达式中的操作数可以是任何<code>&lt;length&gt;</code>语法值。</li>
<li><code>3.4 - 4</code>有效。</li>
</ul>
<p><strong> 2。)</strong>加法和减法运算符的值必须是空白的；失败将导致表达式的不正确解析和评估。</p>
<ul>
<li><code>4px-5vh</code>无效，因为<code>-</code>符号前后没有空格；该表达式将被解释为4px和负5vh。要纠正这一点，只需在它们之间添加空格:<code>4px - 5vh</code> <span>。</span></li>
</ul>
<p><strong> 3。)</strong>乘法运算中的一个值必须是<code>&lt;number&gt;</code>(或<code>&lt;integer&gt;</code>)。</p>
<ul>
<li><code>4px * 5em</code>无效，因为所有值都是<code>length</code>单位类型。</li>
<li><code>4px * 5</code>是有效的，因为RHS值是一个<code>&lt;number&gt;</code>。</li>
</ul>
<blockquote><p><strong>注意:</strong>，乘法和除法运算符不需要空格，不像加法和减法运算符，例如:<code>4*5px</code>是有效的。但是，出于一致性的考虑，建议使用它们。</p></blockquote>
<p><strong> 4。)</strong>在除法运算中，RHS值必须是一个<code>&lt;number&gt;</code>。</p>
<ul>
<li><code>4px / 5em</code>无效，因为RHS值(<code>5em</code>)是长度单位。<code>4px / 5</code> <span>有效是因为RHS值(<code>5</code>)是一个</span> <code>&lt;number&gt;</code> <span>。</span></li>
<li>评估后返回值的单位类型由LHS单位类型决定。如果LHS的单位类型是<code>&lt;integer&gt;</code> <span>，那么返回的单位类型是</span> <code>&lt;number&gt;</code> <span>。</span></li>
</ul>
<p><strong> 5。)</strong>任何产生0的除法都被视为无效。</p>
<ul>
<li><code>4rem/0</code>产量为0，所以无效。</li>
</ul>
<p><strong> 6。)</strong><code>calc</code>功能最多支持20个术语。</p>
<ul>
<li>一个术语是<code>&lt;length&gt;</code>、<code>&lt;frequency&gt;</code>、<code>&lt;angle&gt;</code>、<code>&lt;time&gt;</code>、<code>&lt;percentage&gt;</code>、<code>&lt;number&gt;</code>或<code>&lt;integer&gt;</code>。如果超过了这个项数，那么<code>calc</code>中的表达式参数无效。</li>
</ul>
<hr/>
<h2 id="variables">CSS变量和<code>calc</code></h2>
<p>CSS变量可以用在<code>calc</code>表达式arg中。请注意，CSS变量用于在选择器中存储变量，并通过<code>var</code>函数在样式中的任何地方使用它们。</p>
<pre class="language-css">::root {
    --width: 500px;
    --height: 900px;
}

div.burger {
    width: calc(10% - var(--width));
    height:  calc(12% + var(--height));
}</pre>
<p>我们在根作用域中声明了CSS变量<code>--width</code>和<code>--height</code>，然后使用<code>calc</code>函数中的<code>var(...)</code>函数检索它们。</p>
<p><code>div.burger</code>宽度长度将为<code>calc(10% - 500px)</code>。<code>calc(10% - var(--width))</code>语句中的<code>var(--width)</code>将替换为<code>500px</code>。<code>div.burger</code>的高度将会是<code>calc(12% + 900px)</code>。</p>
<hr/>
<h2 id="examples"><code>calc</code>用法示例</h2>
<p>在开发过程中经常会派上用场。让我们看看哪里可以用<code>calc</code>代替<code>margin</code>来设置一个按钮左右两边的间隙。</p>
<pre class="language-css">.btn {
    padding: 6px 12px;
    margin-bottom: 0;
    font-weight: 400;
    cursor: pointer;
    text-align: center;
    white-space: nowrap;
    display: inline-block;
    background-image: none;

    border-radius: 3px;
    box-shadow: none;
    border: 1px solid transparent;
}

.btn-block {
    width: calc(100% - 20px);
}</pre>
<p><code>.btn.block</code>选择器在它的父容器上拉伸按钮，左右之间有20px的间隙。</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>你的前端是否占用了用户的CPU？</h2><p>随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用情况、内存使用情况等感兴趣，</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>