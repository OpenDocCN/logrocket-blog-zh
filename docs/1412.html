<html>
<head>
<title>Creating responsive emails using MJML - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用MJML - LogRocket博客创建回复邮件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/creating-responsive-emails-using-mjml/#0001-01-01">https://blog.logrocket.com/creating-responsive-emails-using-mjml/#0001-01-01</a></blockquote><div><article class="article-post">
<p>MJML是一个现代化的电子邮件工具，允许开发人员创建漂亮的、可在所有设备和邮件客户端上响应的优秀电子邮件。这种标记语言旨在减少编写响应邮件的痛苦。</p>
<p>它的语义语法使得使用起来简单明了。它还具有丰富的功能，标准组件加快了开发时间。在本教程中，我们将使用MJML构建漂亮且响应迅速的电子邮件，并在几个电子邮件客户端进行测试。</p>
<h2>设置MJML</h2>
<p>您可以将MJML与npm一起安装，以便与Node.js或CLI一起使用:</p>
<pre>$ npm install -g mjml
</pre>
<h2>构建我们的电子邮件</h2>
<p>首先，创建一个名为<code>email.mjml</code>的文件，尽管您也可以选择任何其他名称。现在我们已经创建了文件，我们的回复电子邮件将分为以下几个部分:</p>
<ul>
<li>公司标题</li>
<li>图像标题</li>
<li>电子邮件介绍</li>
<li>列部分</li>
<li>核标准情报中心</li>
<li>社交图标</li>
</ul>
<h3>部分</h3>
<p>这些部分是我们回复邮件的框架。如上所示，我们的邮件将分为六个部分。在我们的<code>email.mjml</code>文件中:</p>
<pre>&lt;mjml&gt;
  &lt;mj-body&gt;
    &lt;!-- Company Header --&gt;
    &lt;mj-section background-color="#f0f0f0"&gt;&lt;/mj-section&gt;
    &lt;!-- Image Header --&gt;
    &lt;mj-section background-color="#f0f0f0"&gt;&lt;/mj-section&gt;
    &lt;!-- Email Introduction --&gt;
    &lt;mj-section background-color="#fafafa"&gt;&lt;/mj-section&gt;
    &lt;!-- Columns section --&gt;
    &lt;mj-section background-color="white"&gt;&lt;/mj-section&gt;
    &lt;!-- Icons --&gt;
    &lt;mj-section background-color="#fbfbfb"&gt;&lt;/mj-section&gt;
    &lt;!-- Social icons --&gt;
    &lt;mj-section background-color="#f0f0f0"&gt;&lt;/mj-section&gt;
  &lt;/mj-body&gt;
&lt;/mjml&gt;
</pre>
<p>从上面可以看到，我们使用了两个MJML组件:<code>mj-body</code>和<code>mj-section</code>。<code>mj-body</code>定义了我们电子邮件的起点，<code>mj-section</code>定义了一个包含其他组件的部分。</p>
<p>对于每个定义的部分，还定义了一个带有各自十六进制值的<code><a href="https://blog.logrocket.com/css-reference-guide-background/" target="_blank" rel="noopener">background-color</a></code>属性。这有助于我们的读者轻松识别邮件的各个部分。</p>
<h4>公司标题</h4>
<p>我们电子邮件的这一部分将只在中心横幅位置包含我们公司/品牌的名称:</p>
<pre>&lt;!-- Company Header --&gt;
&lt;mj-section background-color="#f0f0f0"&gt;
  &lt;mj-column&gt;
    &lt;mj-text  font-style="bold"
        font-size="20px"
        align="center"
        color="#626262"&gt;
    Central Park Cruise
    &lt;/mj-text&gt;
  &lt;/mj-column&gt;
&lt;/mj-section&gt;
</pre>
<p><code>mj-column</code>组件用于定义一个列。<code>mj-text</code>组件用于我们的文本内容，并带有样式属性，如<code>font-style</code>、<code>font-size</code>、<code>color</code>等。</p>
<h4>图像标题</h4>
<p>在这一部分，我们将有一个背景图像和一个文本块，它应该代表我们公司的口号。我们还将有一个行动号召按钮，指向一个包含更多详细信息的页面。</p>
<p>要添加图像标题，您必须用一个<code>background-url</code>替换该部分的<code>background-color</code>。与第一个标题类似，您必须将文本垂直和水平居中。填充保持不变。</p>
<p>按钮的<code>href</code>设置按钮位置。为了使背景在列中全幅呈现，使用<code>width="600px"</code>将列宽设置为600px。</p>
<p>我们电子邮件的这一部分将只在中心横幅位置包含我们公司/品牌的名称:</p>
<pre>&lt;!-- Image Header --&gt;
&lt;mj-section background-url="https://ca-times.brightspotcdn.com/dims4/default/2af165c/2147483647/strip/true/crop/2048x1363+0+0/resize/1440x958!/quality/90/?url=https%3A%2F%2Fwww.trbimg.com%2Fimg-4f561d37%2Fturbine%2Forl-disneyfantasy720120306062055"
        background-size="cover"
        background-repeat="no-repeat"&gt;
        &lt;mj-column width="600px"&gt;
            &lt;mj-text  align="center"
                color="#fff"
                font-size="40px"
                font-family="Helvetica Neue"&gt;Christmas Discount&lt;/mj-text&gt;
            &lt;mj-button background-color="#F63A4D" href="#"&gt;
                See Promotions
            &lt;/mj-button&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
</pre>
<p>为了使用图像标题，我们将向<code>mj-section</code>组件添加一个<code>background-url</code>属性，然后使用<code>background-size</code>和<code>background-repeat</code>属性来设置图像的样式。</p>
<p>对于我们的标语文本块，我们使用<code>align</code>属性将文本垂直和水平对齐到中心。您还可以设置文本颜色、字体大小、字体系列等。如你所愿。</p>
<p>行动号召按钮是使用<code>mj-button</code>组件实现的。<code>background-color</code>属性允许我们指定按钮背景颜色，然后用<code>href</code>指定链接或页面位置。</p>
<h4>电子邮件介绍</h4>
<p>简介文本由标题、正文和行动号召按钮组成。</p>
<pre>&lt;!-- Intro text --&gt;
&lt;mj-section background-color="#fafafa"&gt;
    &lt;mj-column width="400px"&gt;
      &lt;mj-text font-style="bold"
        font-size="20px"
        font-family="Helvetica Neue"
        color="#626262"&gt;Ultimate Christmas Experience&lt;/mj-text&gt;
        &lt;mj-text color="#525252"&gt;
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin rutrum enim eget magna efficitur, eu semper augue semper. Aliquam erat volutpat. Cras id dui lectus. Vestibulum sed finibus lectus, sit amet suscipit nibh. Proin nec commodo purus. Sed eget nulla elit. Nulla aliquet mollis faucibus.
        &lt;/mj-text&gt;
        &lt;mj-button background-color="#F45E43" href="#"&gt;Learn more&lt;/mj-button&gt;
    &lt;/mj-column&gt;
&lt;/mj-section&gt;
</pre>
<h4 id="h4columnssection">列部分</h4>
<p>在这封邮件的部分，我们将有两列:一列将包含一个描述性的图像，第二列将包含我们的文本块，以补充第一部分中的图像。</p>
<pre><code>&lt;!-- Side image --&gt;
&lt;mj-section background-color="white"&gt;
  &lt;!-- Left image --&gt;
  &lt;mj-column&gt;
      &lt;mj-image width="200px"
          src="https://navis-consulting.com/wp-content/uploads/2019/09/Cruise1-1.png"/&gt;
  &lt;/mj-column&gt;
  &lt;!-- right paragraph --&gt;
  &lt;mj-column&gt;
      &lt;mj-text font-style="bold"
          font-size="20px"
          font-family="Helvetica Neue"
          color="#626262"&gt;
          Amazing Experiences
      &lt;/mj-text&gt;
      &lt;mj-text color="#525252"&gt;
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
          Proin rutrum enim eget magna efficitur, eu semper augue semper. 
          Aliquam erat volutpat. Cras id dui lectus. Vestibulum sed finibus 
          lectus.
      &lt;/mj-text&gt;
  &lt;/mj-column&gt;
&lt;/mj-section&gt;
</code></pre>
<p>左边的第一列使用<code>mj-image</code>组件来指定要使用的图像。该图像可以是一个本地文件，或者，在我们的例子中，是一个远程托管的图像。</p>
<p>右边的第二列包含两个文本块，一个是我们的标题，另一个是主体文本。</p>
<h4>核标准情报中心</h4>
<p>图标部分将有三列。您也可以添加更多，这取决于您希望电子邮件的外观。</p>
<pre>&lt;!-- Icons --&gt;
&lt;mj-section background-color="#fbfbfb"&gt;
    &lt;mj-column&gt;
        &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x0l.png" /&gt;
    &lt;/mj-column&gt;
    &lt;mj-column&gt;
        &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x01.png" /&gt;
    &lt;/mj-column&gt;
    &lt;mj-column&gt;
        &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x0s.png" /&gt;
    &lt;/mj-column&gt;
&lt;/mj-section&gt;
</pre>
<p>每一列都有自己的用于呈现图标图像的<code>mj-image</code>组件。</p>
<h4>社交图标</h4>
<p>此部分将包含指向我们社交媒体账户的图标。</p>
<pre>&lt;mj-section background-color="#e7e7e7"&gt;
    &lt;mj-column&gt;
        &lt;mj-social&gt;
            &lt;mj-social-element name="instagram" /&gt;
        &lt;/mj-social&gt;
    &lt;/mj-column&gt;
&lt;/mj-section&gt;
</pre>
<p>MJML附带了<code>mj-social</code>组件，可以很容易地用来显示社交媒体图标。在我们的电子邮件中，我们使用了Twitter <code>mj-social-element</code>。</p>
<h2>把所有的放在一起</h2>
<p>现在我们已经实现了所有的部分，我们完整的<code>email.mjml</code>应该是这样的:</p>
<pre>&lt;mjml&gt;
  &lt;mj-body&gt;
    &lt;!-- Company Header --&gt;
    &lt;mj-section background-color="#f0f0f0"&gt;
        &lt;mj-column&gt;
            &lt;mj-text  font-style="bold"
                font-size="20px"
                align="center"
                color="#626262"&gt;
            Central Park Cruises
            &lt;/mj-text&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
    &lt;!-- Image Header --&gt;
    &lt;mj-section background-url="https://ca-times.brightspotcdn.com/dims4/default/2af165c/2147483647/strip/true/crop/2048x1363+0+0/resize/1440x958!/quality/90/?url=https%3A%2F%2Fwww.trbimg.com%2Fimg-4f561d37%2Fturbine%2Forl-disneyfantasy720120306062055"
        background-size="cover"
        background-repeat="no-repeat"&gt;
        &lt;mj-column width="600px"&gt;
            &lt;mj-text  align="center"
                color="#fff"
                font-size="40px"
                font-family="Helvetica Neue"&gt;Christmas Discount&lt;/mj-text&gt;
            &lt;mj-button background-color="#F63A4D" href="#"&gt;
                See Promotions
            &lt;/mj-button&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
    &lt;!-- Email Introduction --&gt;
    &lt;mj-section background-color="#fafafa"&gt;
        &lt;mj-column width="400px"&gt;
          &lt;mj-text font-style="bold"
            font-size="20px"
            font-family="Helvetica Neue"
            color="#626262"&gt;Ultimate Christmas Experience&lt;/mj-text&gt;
            &lt;mj-text color="#525252"&gt;
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin rutrum enim eget magna efficitur, eu semper augue semper. Aliquam erat volutpat. Cras id dui lectus. Vestibulum sed finibus lectus, sit amet suscipit nibh. Proin nec commodo purus. Sed eget nulla elit. Nulla aliquet mollis faucibus.
            &lt;/mj-text&gt;
            &lt;mj-button background-color="#F45E43" href="#"&gt;Learn more&lt;/mj-button&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
    &lt;!-- Columns section --&gt;
    &lt;mj-section background-color="white"&gt;
        &lt;!-- Left image --&gt;
        &lt;mj-column&gt;
            &lt;mj-image width="200px"
                src="https://navis-consulting.com/wp-content/uploads/2019/09/Cruise1-1.png"/&gt;
        &lt;/mj-column&gt;
        &lt;!-- right paragraph --&gt;
        &lt;mj-column&gt;
            &lt;mj-text font-style="bold"
                font-size="20px"
                font-family="Helvetica Neue"
                color="#626262"&gt;
                Amazing Experiences
            &lt;/mj-text&gt;
            &lt;mj-text color="#525252"&gt;
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                Proin rutrum enim eget magna efficitur, eu semper augue semper. 
                Aliquam erat volutpat. Cras id dui lectus. Vestibulum sed finibus 
                lectus.
            &lt;/mj-text&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
    &lt;!-- Icons --&gt;
    &lt;mj-section background-color="#fbfbfb"&gt;
        &lt;mj-column&gt;
            &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x0l.png" /&gt;
        &lt;/mj-column&gt;
        &lt;mj-column&gt;
            &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x01.png" /&gt;
        &lt;/mj-column&gt;
        &lt;mj-column&gt;
            &lt;mj-image width="100px" src="https://191n.mj.am/img/191n/3s/x0s.png" /&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
    &lt;!-- Social icons --&gt;
    &lt;mj-section background-color="#e7e7e7"&gt;
        &lt;mj-column&gt;
            &lt;mj-social&gt;
                &lt;mj-social-element name="instagram" /&gt;
            &lt;/mj-social&gt;
        &lt;/mj-column&gt;
    &lt;/mj-section&gt;
  &lt;/mj-body&gt;
&lt;/mjml&gt;
</pre>
<h3>运行我们的应用</h3>
<p>现在我们已经完成了电子邮件的构建，我们可以继续编译它，看看它是什么样子的。为此，我们在终端中键入以下内容:</p>
<pre>mjml -r email.mjml -o .
</pre>
<ul>
<li>允许MJML读取和编译我们的文件</li>
<li><code>-o .</code>告诉MJML将编译后的<code>mjml</code>输出保存到同一个目录中</li>
</ul>
<p>一旦MJML完成编译，您现在应该会在同一个目录中看到一个<code>email.html</code>文件。用您最喜欢的电子邮件客户端或浏览器打开它，它看起来应该类似于下图:</p>
<p><img data-attachment-id="30913" data-permalink="https://blog.logrocket.com/creating-responsive-emails-using-mjml/completed-email-file-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png" data-orig-size="592,909" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Completed email file example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example-195x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png" decoding="async" class="aligncenter size-full wp-image-30913 jetpack-lazy-image" src="../Images/3eb653601502589a33fd21bf4b34f730.png" alt="Completed Email File Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png 592w, https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example-195x300.png 195w" data-lazy-sizes="(max-width: 592px) 100vw, 592px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="30913" data-permalink="https://blog.logrocket.com/creating-responsive-emails-using-mjml/completed-email-file-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png" data-orig-size="592,909" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Completed email file example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example-195x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-30913" src="../Images/3eb653601502589a33fd21bf4b34f730.png" alt="Completed Email File Example" srcset="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png 592w, https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example-195x300.png 195w" sizes="(max-width: 592px) 100vw, 592px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/completed-email-file-example.png"/></noscript>
<h2>结论</h2>
<p>正如我们刚刚看到的，MJML帮助我们生成高质量、漂亮的HTML电子邮件，这些邮件可以跨多种浏览器和客户端进行响应。</p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>