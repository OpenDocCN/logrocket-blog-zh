<html>
<head>
<title>Angular 10 is now available. Here's what you need to know - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Angular 10现已上市。这里是你需要知道的——LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/angular-10-is-now-available-heres-what-you-need-to-know/#0001-01-01">https://blog.logrocket.com/angular-10-is-now-available-heres-what-you-need-to-know/#0001-01-01</a></blockquote><div><div class="mainheading">


<h1 class="posttitle">Angular 10现已上市。以下是你需要知道的</h1>
<h2 class="post-subtitle"/>
<p><span class="post-date"><time class="post-date">2020年7月13日</time> </span> <span class="dot"/> <span class="readingtime"> 2分钟读完</span> <span class="wordcount"> 618 </span> <span class="logrocket_editor"/></p>
</div>
<article class="article-post">
<p>为了与JavaScript生态系统保持同步，Angular团队坚持每年发布两个主要版本。在版本9发布仅仅四个月后，该团队最近发布了Angular 10，其中<span>提供了完整的新功能、突破性的变化和过时的API。</span></p>
<p>在本指南中，我们将分解新特性，并介绍任何可能影响您当前代码的突破性变化。</p>
<h2 id="newfeatures">Angular 10中的新功能</h2>
<p>最新的角度版本引入了以下功能。</p>
<h3>CommonJS导入警告</h3>
<p>CommonJS最初是为服务器端模块设计的，而不是为了减少产品包的大小。使用与CommonJS打包在一起的依赖项会导致<a href="https://web.dev/commonjs-larger-bundles/" target="_blank" rel="noopener noreferrer">更大的代码包和更慢的应用程序</a>。</p>
<p>Angular版本10现在会在构建引入CommonJS模块时发出警告。</p>
<p><img data-attachment-id="21712" data-permalink="https://blog.logrocket.com/angular-10-is-now-available-heres-what-you-need-to-know/commonjs-warning/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png" data-orig-size="720,160" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CommonJS warning" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png" decoding="async" class="aligncenter size-full wp-image-21712 jetpack-lazy-image" src="../Images/a227ca90e572ccade337a3ea1158badb.png" alt="CommonJS Warning" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning-300x67.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="21712" data-permalink="https://blog.logrocket.com/angular-10-is-now-available-heres-what-you-need-to-know/commonjs-warning/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png" data-orig-size="720,160" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CommonJS warning" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-21712" src="../Images/a227ca90e572ccade337a3ea1158badb.png" alt="CommonJS Warning" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning-300x67.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/commonjs-warning.png"/></noscript>
<h3>严格模式下的角度</h3>
<p>在版本10中，您可以使用<code>--strict</code>标志建立具有更严格设置的新项目。</p>
<pre>ng new --strict
</pre>
<p>这些可选设置有助于提高可维护性，提前捕捉错误，并允许Angular CLI对您的应用程序执行高级优化。</p>
<p>具体来说，<code>strict</code>标志执行以下操作。</p>
<ul>
<li>在TypeScript中启用严格模式</li>
<li>将模板类型检查变为<code>Strict</code></li>
<li>将默认捆绑包预算减少多达75%</li>
<li>将林挺规则配置为<a href="https://palantir.github.io/tslint/rules/no-any/" target="_blank" rel="noopener noreferrer">阻止类型<code>any</code> </a>的声明</li>
<li>将您的应用程序配置为无副作用，以实现更高级的树摇动</li>
</ul>
<h3>更新的浏览器支持</h3>
<p>Angular 10停止了对旧的和不太流行的浏览器的支持，如IE abd UC浏览器。它也禁止了新项目的ES5构建。</p>
<p>如果您仍然希望支持旧的浏览器，只需将它们添加到<code>.browserslistrc</code>文件中。</p>
<h2 id="breakingchanges">重大变化</h2>
<p>以下是与Angular 10相关的显著突破性变化的概述。</p>
<h3>新的类型脚本版本</h3>
<p><a href="https://blog.logrocket.com/tag/typescript/" target="_blank" rel="noopener noreferrer"> TypeScript </a>是Angular框架的主要依赖之一。Angular 10自带对Typescript 3.9的支持。不再支持Typescript 3.8和Typescript 3.7。</p>
<p>其他依赖项，如TSLib和TSLint，也分别更新到了版本2和6。</p>
<p>此外，为了更好地支持ide和构建工具解析类型和包配置的方式，Angular团队添加了一个名为<code>tsconfig.base.json</code>的新TypeScript配置文件。</p>
<h3>对<code>number</code>类型输入字段的改进</h3>
<p>在版本10之前，类型为<a href="https://angular.io/api/common/DecimalPipe" target="_blank" rel="noopener noreferrer"> <code>number</code> </a>的输入字段触发了两次<code>valueChanges</code>事件:第一次是在输入字段中键入内容之后，第二次是在输入字段失去焦点时。</p>
<p>在这个新版本中，<code>number</code>类型的输入字段在每次值改变时只触发一次<code>valueChanges</code>事件。</p>
<h3><code>minLength</code>和<code>maxLength</code>构成验证器</h3>
<p>以前，<code>minLength</code>和<code>maxLength</code>表单验证器的行为造成了混乱，看起来好像它们处理数值。这些验证器现在验证一个值是否有数字的<code>length</code>属性，并且只有在这种情况下才调用验证。</p>
<h3>未知属性和元素错误</h3>
<p>具有未知属性绑定或元素名称的模板现在记录错误而不是警告。这不会破坏你的应用程序，但是它可能会使那些不希望通过<code>console.error</code>记录任何东西的工具出错。</p>
<h3><code>UrlMatcher</code>现在返回<code>null</code></h3>
<p><code>UrlMatcher</code>的返回类型<code>UrlMatchResult</code>，现在支持<code>null</code>。</p>
<h3>至少一个<code>EMPTY</code>解析器的导航取消。</h3>
<p>当只有一个解析器的路径解析出一个空的可观测量时(没有下一个，只有完成，如<code>EmptyObservable</code>)，导航被取消。</p>
<p>对于多个解析器路径，空的可观测值与单个解析器的处理方式不同。例如，如果两个解析器中的一个解析为空的可观测值，导航不会取消，但相应的路径数据字段会因此而未定义。</p>
<p>在Angular版本10中不再是这种情况。如果至少有一个解析器解析出空的可观测值，导航被取消。</p>
<h2>更新到角度10</h2>
<p>要更新到角度10:</p>
<pre>ng update @angular/cli @angular/core
</pre>
<p>有关安装角度10的详细信息，请参考<a href="https://update.angular.io/" target="_blank" rel="noopener noreferrer">角度更新指南</a>。</p><div class="code-block code-block-19">
<div class="blog-plug inline-plug angular-plug"><h2>像用户一样体验Angular应用程序</h2><p>调试Angular应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪生产中所有用户的角度状态和动作感兴趣，</p><a href="https://lp.logrocket.com/blg/angular-signup">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你网站上发生的一切，包括网络请求、JavaScript错误等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket NgRx插件将角度状态和动作记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化调试Angular应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>