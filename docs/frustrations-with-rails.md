# 对 Rails 的不满

> 原文：<https://blog.logrocket.com/frustrations-with-rails/>

在我们开始这篇文章之前，我想提供一个简短的声明:我不讨厌把 Rails 作为一个框架。事实上，我认为自己是 Rails 的粉丝。该框架本身对初学者非常友好，我喜欢它易于维护(对于小项目)和易于开放协作的事实。

以下是 Rails 的一些精彩之处:

*   社区是强大的
*   这是一个初学者友好的框架
*   它支持实用主义
*   它有最好的标准和实践
*   它支持快速开发
*   它非常容易移植和修改

Ruby on Rails 是一个用于服务器端的开源 web 应用程序框架，它运行在 do not Repeat Yourself(DRY)之上，提供了一个标准的设置约定。

它仍然是基于 MVC(模型-视图-控制器)架构的。对我来说，Ruby on Rails 的一个好处是它的快速开发。这深深打动了我——如果你在一个很短的期限或很低的预算的压力下，这真的很完美。

也就是说，Rails 很烦人！作为一名开发人员，我将从我的角度给出一些关于 Rails 哪里出错的注释。

![A tweet by a Rails user.](img/df09049fc0e4b2798a4f3d4838efef2d.png)

![A tweet from a dissatisfied Rails user. ](img/24a14329b40832c1c09911ed01632207.png)

![A Tweet from a dissatisfied Ruby user.](img/6334c00745a0cf9c5e74ed141cde20af.png)

是的——那些只是推文。但是让我们开始认真的工作。

## 速度和性能

![A cartoon of two business men.](img/046e5bed1b3a538043774427638f4130.png)

与 Django、go 或 Node.js 等其他框架相比，具有大规模流量的大型项目往往速度和性能较慢。虽然这可以归咎于开发人员而不是 Rails，但开发人员并不总是问题所在。

Rails 是一个强大而优秀的工具，但是如果被缺乏经验的开发人员滥用，性能会受到严重影响。糟糕的架构会降低性能。还有就是消耗内存太多。因此，垃圾收集器需要一段时间来执行。

因此，关于性能的问题仍然归结于服务器或数据库架构，而不是 Rails 本身。

与编译的 Go 和 C++等语言不同，Ruby 和 Rails 需要更多的时间来执行代码。

一个好的方面是，您可以通过代码优化、缓存和缩放使您的应用程序更快。为了让 Rails 达到与 Django 等其他框架相同的性能，您可能需要在更好的服务器基础设施上花更多的钱和时间。显然，这可能是一种痛苦。

优化是 Rails 开发中一个经常被遗忘的方面，因为它清晰地快速加入了一些宝石、查询、活动记录和部署项目。你很可能会发现你的文章在性能方面有所欠缺。虽然这篇文章不是“如何优化你的 Rails 项目”，但是来自 Cheyne Wallace 的文章给出了这个的指南。

## 固执己见的

Rails 一直是快速开发或低预算项目的首选框架，但这对一些开发人员来说是一个瓶颈。

它的大多数依赖项和模块——如果不是全部的话——都是现成的，不考虑定制。开发人员倾向于配置模块，尤其是数据库迁移和路由，当您想到一个可能需要不同或独特设置的项目时，这可能会令人望而生畏。

这真的让所有开发者都很沮丧吗？我不会说全部，但我可以非常自信地说，相当数量的开发人员对此有一些抱怨。

关键是，Rails 拥有一切！Rails 对 gems(应用程序中使用的库)非常着迷。虽然这对于只想投入项目并快速完成工作的开发人员来说是好事，但是当您不得不使用感觉不适合您的项目的东西时，这对于一些人来说是令人讨厌的。此外，如果您想构建一些扩展的或非传统的东西，这可能会很烦人。

## 太多魔法了

Rails 中发生了许多神奇的事情，这意味着事情在幕后发生，而你通常不知道如何发生或为什么发生。我相信这给了每个开发人员自由，但也可能使他们容易犯不必要的错误。更具体地说，Ruby on Rails 代码看起来很简单。相反，它实际上同时非常复杂。一行代码可以采取或执行许多动作，并连接到 gems(库)。

我有点觉得 Rails 在开发之初就加载了太多东西。此外，大多数这些东西实际上并没有被开发人员使用。最终，这会导致高 CPU 使用率并降低速度。

Rails 的复杂功能看起来很棒，但是一行代码中发生的很多事情可能是未知的。自然，每个开发者对此都有自己的看法。对于很多开发商来说，这种观点并不可取。除了不必要的减慢速度之外，Rails 中一行代码中执行的大量操作也使得维护变得很困难。

### 更少的 web 主机

Ruby on Rails 比其他一些流行的框架需要更多的资源。它需要更多的 CPU 使用，而一些网站主机可能不会给。作为虚拟专用服务器的主机要方便得多，因为它们不支持物理服务器，因为 RAM 和 CPU 等资源不在考虑范围之内。

* * *

### 更多来自 LogRocket 的精彩文章:

* * *

关键是，并不是所有的 web 主机都能跟上大多数 Rails 项目。

### 处理挫折(表现)

这些是我对 Rails 作为一个框架最大的不满。然而，很明显，性能和速度下降不仅仅是基于 Ruby 和 Rails。这很好，因为这意味着有解决方案。

性能问题的一个解决方案是缓存。应该缓存用户最有可能打开的几个页面。仅此一点就能提高你的表现。呈现这些可能包含内容块的页面会降低性能，因此最好缓存它们。

第二，你可以让你的资产对外。重要资源(包括图像、字体等)等资产。)因为你的页面可以大，可以小，也可以重。不管规模有多大，你只需要接待他们。这种从服务器上卸载的方式确实提高了性能。

另一种提高性能的方法是对 Heroku 使用 Unicorn。尤其是对于 Rails 来说，Unicorn 是一个多线程服务器(或 web worker)。它通过两倍和三倍的数量来处理连接。一个 web worker 处理一个连接，5 个 worker 处理 5 个并发连接，依此类推。

您还可以使用急切加载来提高查询性能，并利用索引来提高数据库性能。

最后，记住:不要重复自己(干)。这确实是一个很普通的建议，但是很多开发人员忽略了它。

这些是大多数开发人员在使用 Ruby 时倾向于使用的最常见的解决方案，当涉及到您的性能时，它们可以产生真正的影响，并使您对框架的体验好得多。

## 结论

总的来说，我喜欢 Rails 支持约定胜于配置的想法。这可以节省时间，并使您能够编写更多的业务逻辑代码，减少与业务代码无关的基础工作。

尽管 Rails 有其优势，但它在一些事情上是错误的。Rails 绝对不灵活——事实上，它被限制在单向机制中。Rails 似乎也不容易扩展到大型项目。

在我看来，Rails 的创造者对配置的约定有点过头了。结果，它们降低了用户模式的灵活性，而支持框架内置的模式。这使得在不牺牲其他选择的情况下实现趋势概念变得复杂。

即将发布的版本似乎很有希望。大多数缺点正在被修复，更多的功能正在被添加。Rails 未来应该会走上改进的轨道。

如果您有要求快速开发的截止日期和预算要求，Rails 是理想的选择。但是像 Django 这样更灵活的框架可能是更好的选择，因为它允许您完全控制。如果您计划使用 Rails，经常需要更快的性能和可伸缩性的繁重实时应用程序将需要考虑。

## 使用 [LogRocket](https://lp.logrocket.com/blg/signup) 消除传统错误报告的干扰

[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/signup)

[LogRocket](https://lp.logrocket.com/blg/signup) 是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。

然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。

LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。

关注重要的 bug—[今天就试试 LogRocket】。](https://lp.logrocket.com/blg/signup-issue-free)