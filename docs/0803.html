<html>
<head>
<title>How to build and deploy a Vue.js app with Cloud Firestore and Vuefire - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使用Cloud Firestore和Vuefire - LogRocket博客构建和部署Vue.js应用程序</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/#0001-01-01">https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按</strong> </em> <em>:本帖于2022年3月2日更新，将Vuefire作为一种配置Vue 3应用程序和Firebase的方法，并改进了示例Vue和Firebase部署的配置。</em></p>
<p>如今，前端工程师可以轻松地构建接口并实现其功能，而无需为开发后端或应用编程接口(API)而头疼。</p>
<p>Vue.js是一个轻量级框架，用于构建交互式用户界面和单页应用程序。在本教程中，我们将演示两种方法来构建具有创建、读取、更新、删除(CRUD)功能的Vue.js应用程序，并使用Cloud Firestore存储数据。以下是我们将涵盖的内容的完整列表:</p>

<p>如果您愿意，也可以将这个应用程序部署到Firebase。</p>
<h3>什么是Firebase？</h3>
<p>Firebase是Google提供的后端即服务(BaaS ),包括数据库、ML工具包、云功能、认证、托管、云存储等等。Firebase抽象了构建健壮且可伸缩的后端系统的复杂性，使开发人员能够专注于构建应用程序的客户端。</p>
<h3>什么是云Firestore？</h3>
<p>对于我们的CRUD应用程序，我们将重点关注使用云Firestore进行数据存储。<a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener"> Cloud Firestore </a>是一个NoSQL数据库，以文档的形式存储数据，这些文档被整理成集合，并支持客户端或服务器端的集成。云Firestore文档包含各种字段，可以保存任何数据类型，并支持非常快速的读或写操作。</p>
<h3>什么是Vuefire？</h3>
<p>Vuefire是一个轻量级的包装器，处理Vue/Vuex和Firebase数据库之间的实时绑定，如实时数据库或云Firestore。它有一些内置的逻辑，总是保持本地数据与远程Firebase数据库同步。</p>
<h2>先决条件</h2>
<p>要跟随本教程，您需要:</p>
<ul>
<li>Vue.js的基础知识</li>
<li><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">节点</a>和<a href="https://www.npmjs.com/get-npm" target="_blank" rel="noopener"> npm </a>已安装</li>
<li>一个谷歌账户</li>
<li><a href="https://cli.vuejs.org/" target="_blank" rel="noopener"> Vue.js CLI </a>安装(<code>npm install -g @vue/cli</code>)<ul>
<li>您可以使用<code>vue --version</code>确认您的Vue.js CLI版本</li>
</ul>
</li>
<li>为了部署(<code>npm install -g firebase-tools</code>)而安装的<a href="https://github.com/firebase/firebase-tools" target="_blank" rel="noopener"> Firebase工具CLI </a><ul>
<li>您需要使用<code>firebase login</code>登录您的谷歌账户</li>
</ul>
</li>
</ul>
<h2 id="creating-our-vue-js-app">创建我们的Vue.js应用程序</h2>
<p>设置一个Vue项目将创建文件并安装构建用户界面所需的依赖项。执行以下命令:</p>
<pre class="language-bash hljs">vue create crud-app
</pre>
<p>在显示的交互式屏幕上配置您的Vue项目。只需选择默认配置的默认(Babel，ESLint)预设即可。</p>
<p>完成后，您应该会看到一个新的<code>crud-app</code>目录。</p>
<p><img data-attachment-id="98084" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/crud-app-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png" data-orig-size="730,179" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="crud-app-directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png" decoding="async" class="aligncenter size-full wp-image-98084 jetpack-lazy-image" src="../Images/d50e65892747e2ab9d012edeab20b3b1.png" alt="Our new CRUD app directory" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory-300x74.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98084" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/crud-app-directory/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png" data-orig-size="730,179" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="crud-app-directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98084" src="../Images/d50e65892747e2ab9d012edeab20b3b1.png" alt="Our new CRUD app directory" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory-300x74.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/crud-app-directory.png"/></noscript>
<p>使用<code>cd crud-app</code>切换到<code>crud-app</code>目录，或者在代码编辑器中打开该文件夹。</p>
<h3>添加元素用户界面</h3>
<p>为了在创建的Vue.js项目中设置元素UI，我们将使用它的Vue.js插件。执行下面的命令在<code>crud-app</code>目录中安装元素UI。</p>
<pre class="language-bash hljs">vue add element
</pre>
<p>按如下方式配置设置:</p>
<ol>
<li>选择<code>Fully import</code></li>
<li>因为你不必覆盖元素的SCSS变量，输入<code>N</code></li>
<li>对于<code>locale</code> <strong>，</strong>选择<code>en</code> <br/> <img data-attachment-id="98086" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/element-ui-installation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png" data-orig-size="730,303" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="element-ui-installation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1-300x125.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png" decoding="async" class="aligncenter size-full wp-image-98086 jetpack-lazy-image" src="../Images/0547e33a5ee3d8f555d171a87ae05984.png" alt="Element UI installation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1-300x125.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="98086" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/element-ui-installation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png" data-orig-size="730,303" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="element-ui-installation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1-300x125.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98086" src="../Images/0547e33a5ee3d8f555d171a87ae05984.png" alt="Element UI installation" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1-300x125.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/element-ui-installation-1.png"/> </noscript></li>
</ol>
<p>我们现在已经完成了Vue.js和元素UI的设置。</p>
<p>要启动开发服务器，请执行以下命令。</p>
<pre class="language-bash hljs">npm run serve
</pre>
<p>您应该会在浏览器上看到类似如下的输出:</p>
<p><img data-attachment-id="98088" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/vue-element-ui-default-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png" data-orig-size="730,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vue-element-ui-default-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png" decoding="async" class="aligncenter size-full wp-image-98088 jetpack-lazy-image" src="../Images/7fb385502889917bdd979edab2b343bf.png" alt="Vue and Element UI default page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-150x150.png?crop=1 150w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98088" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/vue-element-ui-default-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png" data-orig-size="730,730" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vue-element-ui-default-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-300x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98088" src="../Images/7fb385502889917bdd979edab2b343bf.png" alt="Vue and Element UI default page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-300x300.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1-150x150.png?crop=1 150w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-element-ui-default-page-1.png"/></noscript>
<p><img data-attachment-id="98090" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/source-files-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png" data-orig-size="730,1041" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="source-files" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-210x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-718x1024.png" decoding="async" class="aligncenter size-full wp-image-98090 jetpack-lazy-image" src="../Images/c708ab80e2b81a31cb9ab8f082866d56.png" alt="Source files for our Vue app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-210x300.png 210w, https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-718x1024.png 718w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98090" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/source-files-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png" data-orig-size="730,1041" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="source-files" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-210x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-718x1024.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98090" src="../Images/c708ab80e2b81a31cb9ab8f082866d56.png" alt="Source files for our Vue app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-210x300.png 210w, https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1-718x1024.png 718w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/source-files-1.png"/></noscript>
<p>现在让我们继续设置和集成Firebase后端。</p>
<h2 id="setting-up-firebase-project-cloud-firestore">设置firebase项目和云风暴</h2>
<p>要开始使用Firebase，请按照下面的步骤创建一个Firebase项目。(注意:Firebase项目链接到一个Google云平台项目。)</p>
<ol>
<li>访问<a href="https://console.firebase.google.com/u/0/?pli=1" target="_blank" rel="noopener"> Firebase控制台</a>并使用您的Google帐户登录</li>
<li>点击<strong>添加项目</strong></li>
<li>点击<strong>继续</strong>创建项目(您可以关闭分析，因为我们不需要它们进行演示)<br/> <img data-attachment-id="98092" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/firebase-console-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1-300x139.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png" decoding="async" class="aligncenter size-full wp-image-98092 jetpack-lazy-image" src="../Images/c80b7b2c76dbdfe11c9f8ceae821f0bd.png" alt="Firebase console" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1-300x139.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="98092" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/firebase-console-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1-300x139.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98092" src="../Images/c80b7b2c76dbdfe11c9f8ceae821f0bd.png" alt="Firebase console" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1-300x139.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-console-1.png"/> </noscript></li>
<li>点击网页图标，<strong> &lt; / &gt; </strong></li>
<li>对于应用程序昵称，输入您想要的任何名称，然后单击<strong>下一步</strong></li>
<li>当您的Firebase配置显示时，复制<code>scripts</code>标签<br/> <img data-attachment-id="98094" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/add-firebase-web-app-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg" data-orig-size="730,792" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="add-firebase-web-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app-277x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg" decoding="async" class="aligncenter size-full wp-image-98094 jetpack-lazy-image" src="../Images/784f041e4a33d68a7c7816570b149d3e.png" alt="Add Firebase to your web app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app-277x300.jpeg 277w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="98094" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/add-firebase-web-app-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg" data-orig-size="730,792" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="add-firebase-web-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app-277x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98094" src="../Images/784f041e4a33d68a7c7816570b149d3e.png" alt="Add Firebase to your web app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app-277x300.jpeg 277w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/add-firebase-web-app.jpeg"/> </noscript>中的内容</li>
</ol>
<p><strong>创建Firestore数据库</strong></p>
<ol>
<li>点击<strong>数据库</strong>，然后在<strong>云火店</strong>下，点击<strong>创建数据库</strong></li>
<li>在测试模式下设置<a href="https://firebase.google.com/docs/rules/get-started" target="_blank" rel="noopener">安全规则</a><br/><img data-attachment-id="98096" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/configuring-security-rules-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="configuring-security-rules-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png" decoding="async" class="aligncenter size-full wp-image-98096 jetpack-lazy-image" src="../Images/c51a82c5ab35588a82d352dc315efa06.png" alt="Configuring security rules in Firebase" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase-300x195.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="98096" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/configuring-security-rules-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="configuring-security-rules-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98096" src="../Images/c51a82c5ab35588a82d352dc315efa06.png" alt="Configuring security rules in Firebase" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase-300x195.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/configuring-security-rules-firebase.png"/></noscript></li>
<li>选择一个位置，点击<strong>下一个</strong></li>
<li>创建一个雇员集合并添加一些随机文档(可选)<br/> <img data-attachment-id="98098" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/employees-collection-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="employees-collection-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png" decoding="async" class="aligncenter size-full wp-image-98098 jetpack-lazy-image" src="../Images/95bb2d4b7b418f1a031caeb86ef5ab32.png" alt="Our employees collection in Firebase" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase-300x67.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="98098" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/employees-collection-firebase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png" data-orig-size="730,162" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="employees-collection-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase-300x67.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98098" src="../Images/95bb2d4b7b418f1a031caeb86ef5ab32.png" alt="Our employees collection in Firebase" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase-300x67.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/employees-collection-firebase.png"/> </noscript></li>
</ol>
<h2 id="configuring-firebase-with-vue-js">用Vue.js配置Firebase</h2>
<p>在使用云Firestore之前，您需要在Vue项目上设置<a href="https://firebase.google.com/docs/firestore/client/libraries"> Firebase客户端</a>。<br/>安装Firebase JS客户端并更新<code>crud-app</code>目录中的依赖项。</p>
<pre class="language-bash hljs">npm install firebase --save
</pre>
<p>在<code>src</code>目录下创建一个具有相似内容的名为<code>firebaseInit.js</code>的新文件。</p>
<pre class="language-javascript hljs">// src/firebaseInit.js
import firebase from "firebase";

// Your web app's Firebase configuration
var firebaseConfig = {
  apiKey: "AIzaSyC9J2hIQ1XQFZZZZZZZZZZZZZZZZZ",
  authDomain: "employee-crud-ZZZZZZZZZ.firebaseapp.com",
  databaseURL: "https://employee-crud-ZZZZZZ.firebaseio.com",
  projectId: "employee-crud-XXXXXXXX",
  storageBucket: "employee-crud-ZZZZZ.appspot.com",
  messagingSenderId: "8761301111111",
  appId: "1:87613015171:web:e60ee5139c5ZZZZZZZ"
};

// Initialize Firebase
export default firebase.initializeApp(firebaseConfig);
</pre>
<p>将<code>firebaseConfig</code>对象替换为之前在Firebase应用程序安装过程中复制的对象。</p>
<h2 id="creating-ui-with-element-ui">使用元素UI创建UI</h2>
<p>Vue.js使用单文件组件，允许你在一个<code>.vue</code>文件中构建一个完整的用户界面——包括布局、功能和风格。对于本教程，您只需要修改<code>src/App.vue</code>文件。你现在可以清除<code>App.vue</code>文件的内容，因为它很快就会被替换。</p>
<p>我们将使用一个名为<a href="https://element.eleme.io/#/en-US" target="_blank" rel="noopener"> Element UI </a>的设计库，它提供了许多可重用的组件，使得构建界面更快。出于我们的目的，我们将使用一个基本数据表来列出来自数据库的所有文档。</p>
<p>popover输入用于创建和编辑文档，而按钮用于触发删除。</p>
<pre class="language-javascript hljs">
&lt;template&gt;
  &lt;!-- eslint-disable --&gt;
  &lt;div&gt;
    &lt;el-popover
      placement="bottom"
      title="New Employee"
      width="200"
      trigger="click"
    &gt;
      &lt;el-input
        placeholder="John Doe"
        v-model="name"
        @blur="createEmployee(name, date)"
      &gt;&lt;/el-input&gt;
      &lt;el-button round slot="reference" type="success"
        &gt;Add New Employee&lt;/el-button
      &gt;
    &lt;/el-popover&gt;
    &lt;el-table
      :data="
        employeesData.filter(
          (data) =&gt;
            !search || data.name.toLowerCase().includes(search.toLowerCase())
        )
      "
      style="width: 100%;"
    &gt;
      &lt;el-table-column label="Date" prop="date"&gt; &lt;/el-table-column&gt;
      &lt;el-table-column label="Name" prop="name"&gt; &lt;/el-table-column&gt;
      &lt;el-table-column align="right"&gt;
        &lt;template slot="header" :slot-scope="scope"&gt;
          &lt;el-input v-model="search" size="mini" placeholder="Type to search" /&gt;
        &lt;/template&gt;
        &lt;template slot-scope="scope"&gt;
          &lt;el-popover
            placement="bottom"
            title="Edit Employee"
            width="200"
            trigger="click"
          &gt;
            &lt;el-input
              placeholder="John Doe"
              v-model="scope.row.name"
              @blur="updateEmployee(scope.row.id, scope.row.name, date)"
            &gt;&lt;/el-input&gt;
            &lt;el-button size="mini" slot="reference"&gt;Edit&lt;/el-button&gt;
          &lt;/el-popover&gt;
          &lt;el-button
            size="mini"
            type="danger"
            @click="deleteEmployee(scope.row.id)"
            &gt;Delete&lt;/el-button
          &gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;
    &lt;/el-table&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;

export default {
  name: 'app',
  data(){
    return {
      name: '',
      employeesData: []
    }
  }
}
&lt;/script&gt;
</pre>
<p>界面现在应该看起来像下面的截图。</p>
<p><img data-attachment-id="98100" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/vue-interface/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vue-interface" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png" decoding="async" class="aligncenter size-full wp-image-98100 jetpack-lazy-image" src="../Images/7eee48b8c11f7d0d0a8023d7406d5e04.png" alt="Our Vue interface" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface-300x73.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98100" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/vue-interface/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png" data-orig-size="730,178" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vue-interface" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface-300x73.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98100" src="../Images/7eee48b8c11f7d0d0a8023d7406d5e04.png" alt="Our Vue interface" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface-300x73.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/vue-interface.png"/></noscript>
<h2 id="integrating-cloudfirestore-crud-methods-vue-js-app">在我们的Vue.js应用中集成云Firestore CRUD方法</h2>
<p>在本节中，我们将在Vue.js应用程序中集成Cloud Firestore for CRUD operations。下面是一些解释这种方法如何工作的节选片段。</p>
<p>您需要导入初始化的Firebase应用程序，并在<code>src/App.vue</code>中创建一个云Firestore实例。</p>
<pre class="language-bash hljs">import firebase from "./firebaseInit";
const db = firebase.firestore();
</pre>
<h3><code>create</code>方法</h3>
<p>下面的方法在云Firestore集合上创建一个新文档。</p>
<pre class="language-javascript hljs">    createEmployee(name, date) {
        db.collection("employees")
          .add({ date: date, name: name })
          .then(() =&gt; {
            console.log("Document successfully written!");
          })
          .catch((error) =&gt; {
            console.error("Error writing document: ", error);
          });
    }
</pre>
<p><code>name</code>和<code>date</code>的值作为新文档保存在<code>employees</code>集合中。</p>
<h3><code>read</code>方法</h3>
<p>此方法用于从云Firestore集合中获取所有文档。</p>
<pre class="language-javascript hljs">    readEmployees() {
      let employeesData = [];
      db.collection("employees")
        .get()
        .then((querySnapshot) =&gt; {
          querySnapshot.forEach((doc) =&gt; {
           employeesData.push({
              id: doc.id,
              name: doc.data().name,
              date: doc.data().date,
            });
            console.log(doc.id, " =&gt; ", doc.data());
          });
          return employeesData
        })
        .catch((error) =&gt; {
          console.log("Error getting documents: ", error);
        });
    }
&gt;</pre>
<p>这将遍历Cloud Firestore集合中的所有文档，并将它们的数据和<code>id</code>写入<code>employeesData</code>变量。</p>
<h3><code>update</code>方法</h3>
<p><code>update</code>方法用于编辑Cloud Firestore集合中的现有文档。</p>
<pre class="language-javascript hljs">    updateEmployee(id, name, date) {
      db.collection("employees")
        .doc(id)
        .update({
          name: name,
          date: date,
        })
        .then(() =&gt; {
          console.log("Document successfully updated!");
        })
        .catch((error) =&gt; {
          console.error("Error updating document: ", error);
        });
    }
</pre>
<p>带有传递的<code>id</code>的文档将在Cloud Firestore集合上用我们在方法调用期间传递的<code>name</code>和<code>date</code>的新值进行更新。</p>
<h3><code>delete</code>方法</h3>
<p><code>delete</code>方法删除Cloud Firestore集合中存在的文档。</p>
<pre class="language-javascript hljs">    deleteEmployee(id) {
      db.collection("employees")
        .doc(id)
        .delete()
        .then(() =&gt; {
          console.log("Document successfully deleted!");
        })
        .catch((error) =&gt; {
          console.error("Error removing document: ", error);
        });
    }
</pre>
<p>带有已通过的<code>ID</code>的文档将从云Firestore集合中删除。</p>
<p>如前所述，我们的函数都包含在<code>methods()</code>部分，使用的变量列在<code>data()</code>部分。然后我们调用<code>mounted()</code>生命周期钩子中的<code>readEmployees()</code>方法，因为我们希望在应用程序加载后读取所有文档。</p>
<p>现在，您可以用下面的代码片段更新<code>src/App.vue</code>文件的<code>&lt;script&gt;</code>部分:</p>
<pre class="langauge-javascript hljs">&lt;!-- src/App.vue --&gt;
&lt;! ... &gt;
&lt;script&gt;
import firebase from "./firebaseInit";
const db = firebase.firestore();
export default {
  data() {
    return {
      name: "",
      date: new Date().toISOString().slice(0, 10),
      employeesData: [],
      search: "",
    };
  },
  methods: {
    createEmployee(name, date) {
      if (name != "") {
        db.collection("employees")
          .add({ date: date, name: name })
          .then(() =&gt; {
            console.log("Document successfully written!");
            this.readEmployees();
          })
          .catch((error) =&gt; {
            console.error("Error writing document: ", error);
          });
        this.name = "";
      }
    },
    readEmployees() {
      this.employeesData = [];
      db.collection("employees")
        .get()
        .then((querySnapshot) =&gt; {
          querySnapshot.forEach((doc) =&gt; {
            this.employeesData.push({
              id: doc.id,
              name: doc.data().name,
              date: doc.data().date,
            });
            console.log(doc.id, " =&gt; ", doc.data());
          });
        })
        .catch((error) =&gt; {
          console.log("Error getting documents: ", error);
        });
    },
    updateEmployee(id, name, date) {
      db.collection("employees")
        .doc(id)
        .update({
          name: name,
          date: date,
        })
        .then(() =&gt; {
          console.log("Document successfully updated!");
          this.readEmployees();
        })
        .catch((error) =&gt; {
          // The document probably doesn't exist.
          console.error("Error updating document: ", error);
        });
    },
    deleteEmployee(id) {
      db.collection("employees")
        .doc(id)
        .delete()
        .then(() =&gt; {
          console.log("Document successfully deleted!");
          this.readEmployees();
        })
        .catch((error) =&gt; {
          console.error("Error removing document: ", error);
        });
    },
  },
  mounted() {
    this.readEmployees();
  },
};
&lt;/script&gt;
</pre>
<p>我们完事了。</p>
<h2 id="integrating-vuefire-our-vue-js-app">在我们的Vue.js应用中集成Vuefire</h2>
<p>Vuefire提供了另一种绑定到我们的云Firestore数据库的方法。使用这种方法，您提供了要绑定的状态的键，而Vuefire负责剩下的事情！</p>
<p>Vuefire能够查询和修改数据，就像我们在上一节中编写的自定义CRUD方法一样。在<code>crud-app</code>目录下安装Vuefire npm包，如下所示:</p>
<pre class="language-bash hljs">npm install vuefire --save
</pre>
<p>要使用Vuefire提供的Firestore插件，请修改<code>src/main.js</code>文件，并将以下粗体代码行添加到您的文件中:</p>
<pre class="language-javascript hljs">// src/main.js

import Vue from 'vue'
import App from './App.vue'
import './plugins/element.js'

<strong>import { firestorePlugin } from 'vuefire'
Vue.use(firestorePlugin);</strong>

Vue.config.productionTip = false
new Vue({
  render: h =&gt; h(App),
}).$mount('#app')
</pre>
<p>您还需要将初始化的Firebase应用程序导入到<code>src/App.vue</code>:</p>
<pre class="language-javascript hljs">import firebase from "./firebaseInit";
const db = firebase.firestore();
</pre>
<h3>Vuefire CRUD操作</h3>
<p>我们来讨论一下Vuefire执行CRUD操作的方式。为了查询数据，我们可以使用<code>firestore</code>属性来映射我们的Firestore数据库，以便可以访问它。我们可以使用下面的代码片段从远程数据库中执行读取操作:</p>
<pre class="language-javascript hljs">// src/App.vue
// ...

&lt;script&gt;
import firebase from "./firebaseInit";
const db = firebase.firestore();
export default {
  name: 'app',
  data(){
    return {
      name: '',
      employeesData: []
    }
  },
  <strong>firestore: {
    employeesData: db.collection('employees')
  }</strong>
}
&lt;/script&gt;
</pre>
<p>在从远程数据库读取数据时，Vuefire还提供了对数据进行排序和过滤的选项。</p>
<p>对于修改数据，诸如从数据库中写入、更新和删除数据之类的操作可以包装到我们可以使用引用调用的方法中。以下代码片段执行数据修改；这些方法以粗体字符格式化:</p>
<pre class="language-javascript hljs">// src/App.vue
// ...

&lt;script&gt;
import firebase from "./firebaseInit";
const db = firebase.firestore();
export default {
  name: "app",
  data() {
    return {
      name: "",
      employeesData: [],
    };
  },
  firestore: {
    employeesData: db.collection("employees"),
  },
  methods: {
   <strong> createEmployee(name) {
      this.$firestoreRefs.cities.add({
        name: name,
        date: new Date().toISOString().slice(0, 10),
      });
    },
    updateEmployee(employee) {
      const employee = { id: id, name: name, date: date };
      this.$firestoreRefs.employee.update({ name: employee.name }).then(() =&gt; {
        console.log("Employee updated!");
      });
    },
    deleteEmployee(id) {
      const employee = { id: id, name: name, date: date };
      this.$firestoreRefs.employee.doc(employee.id).delete();
    },</strong>
  },
};
&lt;/script&gt;
</pre>
<p>要了解更多关于使用Vuefire修改数据的信息，请查看官方文档<a href="https://vuefire.vuejs.org/vuefire/writing-data.html" target="_blank" rel="noopener">这里</a>。</p>
<h2 id="deploying-our-vue-js-application">部署我们的Vue.js应用程序</h2>
<p>Firebase允许您部署静态文件——但是首先，您必须构建您的资产。在<code>crud-app</code>目录中，运行以下命令。</p>
<pre class="language-bash hljs">npm run build &amp;&amp; cd dist
</pre>
<p>接下来，初始化Firebase并完成以下步骤。</p>
<pre class="language-bash hljs">firebase init
</pre>
<ol>
<li>将“托管”定义为要为文件夹设置的Firebase CLI功能</li>
<li>对于项目设置，选择<code>Use an existing project</code></li>
<li>导航并选择我们之前创建的项目</li>
<li>将公共目录设置为:<code>.</code></li>
<li>对于<code>Configure as a single-page app (rewrite all urls to /index.html)</code>，选择<code>Yes</code></li>
<li>对于<code>File ./index.html already exists. Overwrite?</code>,选择<code>No</code></li>
</ol>
<p>要进行部署，请执行以下命令。</p>
<pre class="language-bash hljs">firebase deploy
</pre>
<p><img data-attachment-id="98102" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/firebase-hosting-output-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png" data-orig-size="730,494" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-hosting-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png" decoding="async" class="aligncenter size-full wp-image-98102 jetpack-lazy-image" src="../Images/69812f1bac78cfcc44bd59336303d41a.png" alt="Firebase hosting output" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1-300x203.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98102" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/firebase-hosting-output-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png" data-orig-size="730,494" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-hosting-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98102" src="../Images/69812f1bac78cfcc44bd59336303d41a.png" alt="Firebase hosting output" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1-300x203.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-hosting-output-1.png"/></noscript>
<p>您可以在此访问部署的应用<a href="https://employee-crud-app-a3a32.web.app/" target="_blank" rel="noopener">。</a></p>
<p><img data-attachment-id="98104" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/deployed-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png" data-orig-size="730,151" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="deployed-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app-300x62.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png" decoding="async" class="aligncenter size-full wp-image-98104 jetpack-lazy-image" src="../Images/c39bf25ccfabdb1d75babe75bbedbf51.png" alt="Our finished, deployed app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app-300x62.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="98104" data-permalink="https://blog.logrocket.com/how-to-build-deploy-vue-js-app-with-cloud-firestore-vuefire/deployed-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png" data-orig-size="730,151" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="deployed-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app-300x62.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-98104" src="../Images/c39bf25ccfabdb1d75babe75bbedbf51.png" alt="Our finished, deployed app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app-300x62.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/deployed-app.png"/></noscript>
<h2>结论</h2>
<p>现在，您应该已经具备了使用Vue.js构建一个简单的客户端应用程序和使用Firebase构建数据存储和托管应用程序所需的基本工具。你可以在<a href="https://github.com/Timtech4u/employee-crud" target="_blank" rel="noopener"> GitHub </a>上找到完整的源代码，也可以访问应用的<a href="https://employee-crud-app-a3a32.web.app/" target="_blank" rel="noopener">演示。</a></p>
<p>要了解更多信息，请查看以下资源。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>


<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>