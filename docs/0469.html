<html>
<head>
<title>Debug React apps with React Developer Tools - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React开发工具调试React应用程序</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/debug-react-apps-react-devtools/#0001-01-01">https://blog.logrocket.com/debug-react-apps-react-devtools/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>这篇关于用React开发者工具调试React应用的文章最后一次修订是在2023年2月8日，以反映React开发者工具的最新更新，并包括React挂钩相关的功能。要了解更多关于React钩子的信息，请点击查看我们的<a href="https://blog.logrocket.com/react-hooks-cheat-sheet-unlock-solutions-to-common-problems-af4caf699e70/">备忘单。</a></em></p>
<p>调试是开发人员能够掌握的最有用的技能之一。它允许您正确地导航，发现代码中的错误，并快速有效地应用修复，以交付生产就绪、无错误、高质量的软件系统。在现代web开发行业中，这是通过使用各种工具和技术来实现的。</p>
<p>React是发展最快的前端开发库之一。它提供了一种面向组件的UI开发方法，使得创建复杂的交互式UI变得轻而易举。像其他UI开发框架和库一样，它有React Developer Tools，一个调试工具。</p>
<p>在本教程中，我将解释如何使用Rect Developer Tools的最新特性，这些特性来自<a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html"> v4 </a> <a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html">。x </a>(及更高版本)，用实际例子调试React应用程序。</p>
<p><em>向前跳转:</em></p>


<p>React开发工具是一个检查和分析React组件的解决方案。它允许您编辑组件属性和状态，以便进行调试。它还提供了一个用于性能分析的内置分析器。它是一个官方的浏览器扩展和一个基于电子的独立桌面应用程序。浏览器扩展可用于Chrome、Firefox和Edge。对于Safari和其他网络浏览器，React开发团队通过<a href="https://www.npmjs.com/package/react-devtools">r</a>T2】eact-devtools包提供了独立的电子应用。</p>
<p>React Developer Tools用几个React相关的调试选项卡扩展了浏览器的本机DevTools环境。类似地，独立的React开发人员工具应用程序也提供了类似浏览器扩展的调试体验。</p>
<p>自从开发人员工具解决方案出现以来，核心团队已经发布了许多版本。在本教程中，我将重点介绍它的显著特性，并演示如何使用它的特性来更有效地调试React应用程序。</p>

<p>每一个现代的网络浏览器都提供了一个内置的开发者工具解决方案，供开发者检查和修复网络应用中的错误。例如，您可以添加断点并使用控制台来调试任何基于JavaScript的应用程序。此外，您可以使用浏览器的DevTools轻松检查原生DOM元素和属性。React使用带有组件实例的虚拟DOM，并在组件呈现阶段呈现真实的DOM，因此我们不能使用内置的浏览器开发工具来调试React组件特有的东西。</p>
<p>React Developer Tools提供了一个调试React应用程序的解决方案，允许您检查/操作React组件内部，如属性和状态。因此，使用React开发人员工具可以增强React应用程序的调试任务，而不需要使用<code>console.log</code>浏览器自带的工作区。</p>

<p>现在，您知道React开发人员工具解决方案如何帮助调试React应用程序，以及为什么web浏览器的内置调试器不足以高效地调试React应用程序。看看React开发人员工具提供的以下突出特性:</p>
<ul>
<li>检查React组件树并在浏览器中查看反映</li>
<li>在复杂的应用程序中搜索和过滤组件</li>
<li>实时检查和编辑道具和状态，查看组件的行为</li>
<li>能够在不熟悉的应用程序中找到组件所有者(即父组件和祖先组件)</li>
<li>提供了一种方法来<a href="https://blog.logrocket.com/react-suspense-data-fetching/">挂起一个React组件</a>并测试回退组件</li>
<li>提供了一个功能全面的分析器，它附带了火焰图和分级图来实现性能增强</li>
<li>支持导出和导入分析器结果以满足协作调试需求(无需与团队成员共享分析器截图/记录)</li>
</ul>

<p>React Developer Tools是现代流行浏览器的扩展。使用以下链接安装扩展:</p>

<p>如果您已经安装了扩展，那么每当React团队发布新版本时，它应该会自动更新。如果您使用React Native、Safari或其他web浏览器，您可以从<a href="https://www.npmjs.com/package/react-devtools"> npm </a>安装独立版本:</p>
<pre class="language-javascript hljs">npm install -g react-devtools
# --- or ---
yarn global add react-devtools
# --- or ---
npx react-devtools
</pre>
<h2 id="test-application">设置我们的测试应用程序</h2>
<p>让我们创建一个测试应用程序来开始React开发人员工具调试。为了便于设置和减少开销，我创建了一个starter项目，以确保本文侧重于调试。应用程序的框架已经建立起来了。它包括一些组件、样式和项目结构。</p>
<p>如果您想对我进行试验，运行下面的命令来克隆库:</p>
<pre class="language-javascript hljs">git clone https://github.com/codezri/react-contacts.git
</pre>
<p>然后，通过运行以下命令打开文件夹并安装项目的依赖项:</p>
<pre class="language-javascript hljs">cd react-contacts

npm install
# --- or ---
yarn add
</pre>
<p>要启动React app development server，运行项目根文件夹中的<code>npm start</code>或<code>yarn start</code>命令。打开你的浏览器到<code>localhost:3000,</code>，你会看到项目现场直播！在检查新推出的React开发人员工具功能之前，请尝试您已经知道的基础知识，以熟悉我们的测试应用程序。例如，React元素树如下:</p>
<p><img data-attachment-id="160606" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-dev-tools-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using React Developer Tools in Chrome" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif" decoding="async" class="aligncenter size-full wp-image-160606 jetpack-lazy-image" src="../Images/ca1790d3bb00bd74e5a022396d5fa7a2.png" alt="Using React Developer Tools in Chrome" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160606" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-dev-tools-chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using React Developer Tools in Chrome" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160606" src="../Images/ca1790d3bb00bd74e5a022396d5fa7a2.png" alt="Using React Developer Tools in Chrome" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-dev-tools-chrome.gif"/></noscript>
<p> </p>

<p>根据React Developer Tools内部设计<a href="https://github.com/facebook/react/blob/main/packages/react-devtools/OVERVIEW.md">文档</a>，传统的DevTools解决方案以一种效率较低的策略呈现组件树和内部属性，这种策略涉及许多JSON序列化事件，因此从DevTools的角度来看，调试复杂的React应用程序存在性能瓶颈。</p>
<p>新的DevTools解决方案通过按需传输优化的组件树数据和props，提供了显著的性能提升和改进的导航和检查体验。这些性能增强激励开发人员在更大的应用程序中高效地使用React开发工具。</p>
<h2 id="filtering-components">使用React开发工具过滤组件</h2>
<p>在以前版本的DevTools中，浏览大型组件树有点乏味。但是现在，DevTools提供了一种过滤组件的方法，这样你就可以隐藏那些你不感兴趣的组件。为了访问这个特性，让我们过滤一下示例应用程序中的三个组件。打开您的DevTools，您将看到我们列出的三个组件:</p>
<p><img data-attachment-id="160608" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/componenet-tree-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Openning component tree in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif" decoding="async" class="aligncenter size-full wp-image-160608 jetpack-lazy-image" src="../Images/267f4fc7a9670dca9bb69fb6f7a25625.png" alt="Openning Component Tree in React Developer Tools " data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160608" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/componenet-tree-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Openning component tree in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160608" src="../Images/267f4fc7a9670dca9bb69fb6f7a25625.png" alt="Openning Component Tree in React Developer Tools " data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/componenet-tree-react.gif"/></noscript>
<p>单击“组件”选项卡下的“设置”图标，过滤出一个组件，并关注我们感兴趣的组件。您将看到一个由几个选项卡组成的弹出窗口。点击<strong>组件</strong>选项卡，选择您喜欢的过滤选项。</p>
<p>默认情况下，组件树显示所有React组件。您可以通过“组件”选项卡添加一个过滤器，并隐藏匹配<code>Pe</code>正则表达式的组件，以从树中排除<code>Persons</code>和<code>People</code>组件:</p>
<p><img data-attachment-id="160610" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/debug-filter/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools debug filter components" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif" decoding="async" class="aligncenter size-full wp-image-160610 jetpack-lazy-image" src="../Images/9a9fede343f10b9b65bba9028c463d18.png" alt="React Developer Tools Debug Filter Components" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160610" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/debug-filter/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools debug filter components" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160610" src="../Images/9a9fede343f10b9b65bba9028c463d18.png" alt="React Developer Tools Debug Filter Components" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-filter.gif"/></noscript>
<p>在我们过滤掉组件后，它们在默认情况下会变得隐藏，但在禁用过滤器后会变得可见。当您处理一个包含许多组件的项目，并且需要快速排序时，这个特性会派上用场。这个特性更有趣的地方在于，过滤器首选项会在会话之间被记住，因此您不需要在每个调试会话期间重新添加您喜欢的组件过滤器。</p>
<p>您可以添加多个过滤器，并根据组件名称、类型、位置和<a href="https://blog.logrocket.com/understanding-react-higher-order-components/">高阶组件(HOC) </a>排除元素。此外，您可以使用高级正则表达式。例如，以下过滤器隐藏了所有标题DOM元素(<code>&lt;h1&gt;</code>)和<code>Contacts</code> React组件:</p>
<p><img data-attachment-id="160612" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/regular-expressions/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using regular expressions in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png" decoding="async" class="aligncenter size-full wp-image-160612 jetpack-lazy-image" src="../Images/bcf5676fb261139e4ce962285e5340cb.png" alt="Using Regular Expressions in React Developer Tools" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions-300x130.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160612" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/regular-expressions/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using regular expressions in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160612" src="../Images/bcf5676fb261139e4ce962285e5340cb.png" alt="Using Regular Expressions in React Developer Tools" srcset="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions-300x130.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/regular-expressions.png"/></noscript>
<h2 id="inline-props-react">React开发工具中的内联属性现在已经成为过去</h2>
<p>为了让更大的组件树更容易浏览，让DevTools更快，树中的组件不再显示<a href="https://blog.logrocket.com/build-inline-editable-ui-react/">内联属性</a>。要查看此功能的运行情况，您只需选择一个组件，所有组件的属性、状态和挂钩都将显示在React Developer Tools components选项卡的右侧。</p>
<p>在我们的示例应用程序中，我们只将道具传递给我们的<code>Contacts</code>组件。单击它将显示传递给它的道具的值，单击其他组件将显示没有任何道具传递给它们。看下面的预告:</p>
<p><img data-attachment-id="160614" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/browsing-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Browsing component props in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif" decoding="async" class="aligncenter size-full wp-image-160614 jetpack-lazy-image" src="../Images/9140c7c1de35aefab2bb47cddcd60071.png" alt="Browsing Component Props in React Developer Tools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160614" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/browsing-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Browsing component props in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160614" src="../Images/9140c7c1de35aefab2bb47cddcd60071.png" alt="Browsing Component Props in React Developer Tools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/browsing-component.gif"/></noscript>
<p>虽然从DevTools查看属性对于较小的React项目可能不太有用，因为属性很容易通过代码检查，但是在处理由复杂的组件树和属性组成的较大React项目时，它会很方便。然而，道具和状态编辑功能有助于高效调试小规模应用程序:</p>
<p><img data-attachment-id="160616" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/editing-props/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Editing props in Contacts component for debugging purposes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif" decoding="async" class="aligncenter size-full wp-image-160616 jetpack-lazy-image" src="../Images/79a18bd196731b67ae3e8066a689ebbf.png" alt="Editing Props in Contacts Component for Debugging Purposes" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160616" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/editing-props/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Editing props in Contacts component for debugging purposes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160616" src="../Images/79a18bd196731b67ae3e8066a689ebbf.png" alt="Editing Props in Contacts Component for Debugging Purposes" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/editing-props.gif"/></noscript>
<h2 id="debugging-prop-values">调试意外的属性值和组件元素</h2>
<p>在React组件处理中，组件的所有者指的是呈现它的组件。另一方面，parent是指组件树的上层组件。父组件并不总是所有者。我们用一个例子来理解一下。将<code>App</code>组件重命名为<code>App_original</code>,并添加以下代码:</p>
<pre class="language-javascript hljs">function Container({ children }) {
  return (
    &lt;div style={{ padding: '8px', background: '#bbb' }}&gt;
      { children }
    &lt;/div&gt;
  );
}

function Panel({ color }) {
  return (
    &lt;div style={{height: '16px', background: color}}&gt;&lt;/div&gt;
  );
}

function App() {
  const color = 'red';
  return (
    &lt;Container&gt;
      &lt;Panel color={ color }/&gt;
    &lt;/Container&gt;
  );
}
</pre>
<p><code>Container</code>是<code>Panel</code>的父，但是<code>App</code>是组件的拥有者，只有拥有者才能向下发送道具。在React Dev工具的新版本中，您可以通过跳过父代并找到启动意外属性值的所有者来快速调试意外属性值。DevTools v4在右侧窗格中添加了一个<code>rendered by</code>列表，允许您快速浏览所有者列表以加快调试过程。</p>
<p>点击组件树中的<code>Panel</code>组件，你可以通过浏览<code>rendered by</code>列表来查看<code>color</code>道具的来源:</p>
<p><img data-attachment-id="160618" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/finding-components/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Finding component owners from the rendered by panel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif" decoding="async" class="aligncenter size-full wp-image-160618 jetpack-lazy-image" src="../Images/3fc3aa523bea9a0b6077b3813697baf5.png" alt="Finding Component Owners From the Rendered By Panel" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160618" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/finding-components/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Finding component owners from the rendered by panel" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160618" src="../Images/3fc3aa523bea9a0b6077b3813697baf5.png" alt="Finding Component Owners From the Rendered By Panel" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/finding-components.gif"/></noscript>
<p>这在追溯特定道具的来源时非常有用。它还带有一个名为<code>owners tree</code>的反函数。它是由一个特定组件呈现的东西的列表——它所拥有的东西。这个视图有点像查看组件的render方法的源代码，对于探索大型的、不熟悉的React应用程序来说是一个很有帮助的方法。<br/><code>owners tree</code>通常出现在组件树UI之前。</p>
<p>要使用这个特性来调试我们的应用程序，双击一个<strong>组件</strong>来查看所有者树，然后单击<strong> x按钮</strong>来返回完整的组件树。您还可以在树中移动来查看组件的所有子组件。将<code>App_original</code>重命名为<code>App</code>，取回我们的联系人app，检查<code>owners tree</code>如下:</p>
<p><img data-attachment-id="160620" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/tree-debug-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using the owners tree for debugging" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif" decoding="async" class="aligncenter size-full wp-image-160620 jetpack-lazy-image" src="../Images/3c45df73b84c7c1e3133f567d2c2a282.png" alt="Using the Owners Tree for Debugging" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160620" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/tree-debug-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using the owners tree for debugging" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160620" src="../Images/3c45df73b84c7c1e3133f567d2c2a282.png" alt="Using the Owners Tree for Debugging" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/tree-debug-react.gif"/></noscript>

<p>精心设计的<a href="https://blog.logrocket.com/category/ux-design/"> UI/UX概念</a>直接影响软件系统的质量。因此，每个软件开发团队<a href="https://blog.logrocket.com/ux-design/mastering-ux-user-interviews/">通常会雇佣至少一个UI/UX开发人员</a>或更多。基于UI/UX原则的视觉改进可能并不总是出现在特定应用的第一个版本中——UI/UX团队通常会研究、实验、分析和实施新的视觉改进，以提高应用用户的工作效率并改善应用的可用性。</p>
<p>在React开发者工具v4之前，一些<a href="https://blog.logrocket.com/ux-design/guide-visual-hierarchy/"> UI/UX相关的问题</a>影响了调试效率和整体调试器的可用性(尤其是在调试大型React应用时)。因此，在v4中，React开发团队引入了以下对开发人员友好的可视化改进。</p>
<h2 id="indented-component">没有水平滚动的缩进组件视图</h2>
<p>在以前版本的React开发人员工具中，深度嵌套的组件需要垂直和水平滚动才能看到，这使得跟踪大型组件树很困难。DevTools现在可以动态调整嵌套缩进来消除水平滚动。</p>
<p>要在我们的应用程序中使用该功能，请单击<strong>组件</strong>选项卡，然后单击任何<strong>组件</strong>。它的所有子组件将自动出现在它的下面，并从下一个组件自动缩进。不可能用我们的示例联系人应用程序来演示这一点，因为它是一个简单的应用程序，不包含深度嵌套的元素。然而，如果你打开React官方文档的<a href="https://reactjs.org/docs"> o </a> <a href="https://reactjs.org/docs/getting-started.html">开发工具，你可以看到动态缩进:</a></p>
<p><img data-attachment-id="160622" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/dynamic-indentation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The dynamic indentation visual improvement in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif" decoding="async" class="aligncenter size-full wp-image-160622 jetpack-lazy-image" src="../Images/c49842e3f1305e209959e8766c496ec7.png" alt="The Dynamic Indentation Visual Improvement in DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160622" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/dynamic-indentation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The dynamic indentation visual improvement in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160622" src="../Images/c49842e3f1305e209959e8766c496ec7.png" alt="The Dynamic Indentation Visual Improvement in DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dynamic-indentation.gif"/></noscript>
<h2 id="improved-searching">改进的搜索</h2>
<p>以前，在DevTools中搜索时，结果通常是过滤后的组件树，将匹配的节点显示为根。其他组件被隐藏，搜索匹配现在显示为根元素。这使得应用程序的整体结构更难推理，因为它将祖先显示为兄弟。现在，您可以使用类似于浏览器页面查找搜索的内嵌结果轻松搜索组件:</p>
<p><img data-attachment-id="160624" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/searching-elements-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Searching elements in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif" decoding="async" class="aligncenter size-full wp-image-160624 jetpack-lazy-image" src="../Images/5e7b21ef7aa20cee6aefae66e2204818.png" alt="Searching Elements in React Developer Tools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160624" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/searching-elements-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Searching elements in React Developer Tools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160624" src="../Images/5e7b21ef7aa20cee6aefae66e2204818.png" alt="Searching Elements in React Developer Tools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/searching-elements-react.gif"/></noscript>

<p>如前所述，可视化的改进提高了React开发人员在调试过程中的生产力。一个好的用户界面/UX并不是让一个软件系统变得伟大的唯一事实——应用程序的功能(或特性)也会提高特定软件产品的质量。早期的React开发人员工具版本功能不全，也不符合现代React库的功能，例如悬念、挂钩等等。在v4中，React团队引入了以下功能来调试使用最新、高级React库概念的React应用程序。</p>
<h3 id="improved-hooks-support">改进的挂钩支架</h3>
<p>基于钩子的React项目可以调试得更快更好，因为v4中的钩子现在与props和state具有相同级别的支持。值可以编辑，数组和对象可以钻取。打开sample app，在DevTools中选择<code>App</code>组件，查看<code>Hooks</code>区域，尝试编辑状态，如下图预览所示:</p>
<p><img data-attachment-id="160626" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/debug-react-hooks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Debugging React Hooks with DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif" decoding="async" class="aligncenter size-full wp-image-160626 jetpack-lazy-image" src="../Images/b2f6d23c7257393166a8cc155e10d7c1.png" alt="Debugging React Hooks with DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160626" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/debug-react-hooks/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Debugging React Hooks with DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160626" src="../Images/b2f6d23c7257393166a8cc155e10d7c1.png" alt="Debugging React Hooks with DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/debug-react-hooks.gif"/></noscript>
<h3 id="restoring-selection-reloads">在重新加载之间恢复选择</h3>
<p>在调试过程中，如果你点击<strong>重新加载</strong>，DevTools会尝试恢复最后选择的元素。假设在页面刷新发生之前，我们正在对示例应用程序中的<code>Persons</code>组件进行排序，DevTools将继续自动选择<code>Persons</code>组件:</p>
<p><img data-attachment-id="160628" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-restore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools restores the previous selection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif" decoding="async" class="aligncenter size-full wp-image-160628 jetpack-lazy-image" src="../Images/556b075fccdf23628491e92190a3adfc.png" alt="React Developer Tools Restores the Previous Selection" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160628" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-restore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif" data-orig-size="730,337" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools restores the previous selection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore-300x138.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160628" src="../Images/556b075fccdf23628491e92190a3adfc.png" alt="React Developer Tools Restores the Previous Selection" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-restore.gif"/></noscript>
<h3 id="high-order-support">高阶组件支持</h3>
<p>经验丰富的React开发人员在开发应用程序时往往倾向于使用高级开发技术。<a href="https://reactjs.org/docs/higher-order-components.html">高阶组件</a>(又名HOC)是一种高级的React组件组合技术，它实现一个函数来获取一个组件并返回一个修改后的组件。React Developer Tools v4显示类似于<code>forwardRef</code>、<code>Memo</code>的徽章时，也会显示特设徽章。让我们检查一下DevTools中的特设支持。</p>
<p>首先，将以下函数添加到您的<code>App.js</code>文件中:</p>
<pre class="language-javascript hljs">function withMoreProps(Component) {
  function withMoreProps() {
    return (
      &lt;Component x={10} y={20}/&gt;
    );
  }
  withMoreProps.displayName = `withMoreProps(${Component.displayName ||
    Component.name})`;
  return withMoreProps;
}
</pre>
<p><code>withMoreProps</code> HOC为<code>input</code>组件增加了<code>x</code>和<code>y</code>道具。用<code>withMoreProps</code> HOC修改<code>Persons</code>组件如下:</p>
<pre class="language-javascript hljs">function App() {

  const [contacts, setContacts] = useState([]);
  const PersonsWithMoreProps = withMoreProps(Persons);

  useEffect(() =&gt; {
    fetch('http://jsonplaceholder.typicode.com/users')
      .then(res =&gt; res.json())
      .then((data) =&gt; {
          setContacts(data);
      })
      .catch(console.error)
  }, []);

  return (
      &lt;div&gt;
        &lt;Contacts contacts={contacts} /&gt;
        &lt;Persons/&gt;
        &lt;People/&gt;
        &lt;PersonsWithMoreProps/&gt;
      &lt;/div&gt;
  );
}
</pre>
<p>检查DevTools。现在，您可以看到特设标签和新添加的道具:</p>
<p><img data-attachment-id="160630" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-hoc/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Debugging HOCs in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc-300x139.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif" decoding="async" class="aligncenter size-full wp-image-160630 jetpack-lazy-image" src="../Images/d5a8850d7c25e951017f747c3236d279.png" alt="Debugging HOCs in DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160630" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-hoc/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Debugging HOCs in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc-300x139.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160630" src="../Images/d5a8850d7c25e951017f747c3236d279.png" alt="Debugging HOCs in DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-hoc.gif"/></noscript>
<h3 id="suspense-toggle">悬念切换</h3>
<p>React的<a href="https://blog.logrocket.com/using-suspense-react-query-tutorial-examples/">悬念API </a>让组件在渲染前等待或做一些事情。当树中较深的组件等待渲染时，组件可用于指定加载状态。DevTools允许您使用此开关测试这些加载状态:</p>
<p><img data-attachment-id="160632" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-suspense-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif" data-orig-size="730,272" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools helps debugging Suspense API uses" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api-300x112.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif" decoding="async" class="aligncenter size-full wp-image-160632 jetpack-lazy-image" src="../Images/1bbb31e7abea07908cde3062f4b7cab0.png" alt="React Developer Tools Helps debugging Suspense API Uses" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160632" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/react-suspense-api/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif" data-orig-size="730,272" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React Developer Tools helps debugging Suspense API uses" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api-300x112.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160632" src="../Images/1bbb31e7abea07908cde3062f4b7cab0.png" alt="React Developer Tools Helps debugging Suspense API Uses" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/react-suspense-api.gif"/></noscript>
<h2 id="profiler-changes">React开发人员工具中的探查器变化</h2>
<p>在编程领域，分析器指的是动态分析另一个软件程序源代码的软件程序。动态分析过程有助于开发人员识别应用程序中的性能问题。例如，如果一个web应用程序在某些条件下运行缓慢，web开发人员可以使用分析器来确定性能瓶颈。React Developer Tools在浏览器扩展和独立应用程序的单独选项卡中提供了profiler程序。</p>
<h2 id="reload-profile">重新加载和配置文件</h2>
<p>React Developer Tools Profiler是一个强大的React组件性能调优工具。旧的DevTools支持分析，但只是在它检测到React的支持分析的版本之后。因此，无法分析应用程序的初始<code>mount</code>(对性能最敏感的部分之一)。此功能现在由一个<code>reload and profile</code>动作支持:</p>
<p><img data-attachment-id="160634" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/dev-tool-react-reload/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif" data-orig-size="730,566" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Demonstrating the reload and profile feature in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload-300x233.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif" decoding="async" class="aligncenter size-full wp-image-160634 jetpack-lazy-image" src="../Images/b99ca67a01b6ddcffd61e1b2c772910f.png" alt="Demonstrating the Reload and Profile Feature in DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160634" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/dev-tool-react-reload/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif" data-orig-size="730,566" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Demonstrating the reload and profile feature in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload-300x233.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160634" src="../Images/b99ca67a01b6ddcffd61e1b2c772910f.png" alt="Demonstrating the Reload and Profile Feature in DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/dev-tool-react-reload.gif"/></noscript>
<h2 id="component-renders-list">组件呈现列表</h2>
<p>分析器显示在分析会话期间每次呈现选定组件的列表，以及每次呈现的持续时间。当分析特定组件的性能时，该列表可用于在提交之间快速跳转。例如，分析示例应用程序并单击一个<strong>组件</strong>以查看特定组件被渲染了多少次，如下所示:</p>
<p><img data-attachment-id="160636" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/component-render-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Checking component render events in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react-300x139.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif" decoding="async" class="aligncenter size-full wp-image-160636 jetpack-lazy-image" src="../Images/27db34794634f6b7c6ee2b65a696a163.png" alt="Checking Component Render Events in DevTools" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="160636" data-permalink="https://blog.logrocket.com/debug-react-apps-react-devtools/attachment/component-render-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif" data-orig-size="730,338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Checking component render events in DevTools" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react-300x139.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-160636" src="../Images/27db34794634f6b7c6ee2b65a696a163.png" alt="Checking Component Render Events in DevTools" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/01/component-render-react.gif"/></noscript>

<p>仅支持以下版本的React:</p>
<h3>反应DOM</h3>
<ul>
<li><a href="https://www.npmjs.com/package/react/v/0.14.0"> v0-14.x </a>:不支持</li>
<li><a href="https://www.npmjs.com/package/react/v/15.0.0"> v15.x: </a>支持(除了新的组件过滤器特性)</li>
<li><a href="https://www.npmjs.com/package/react/v/16.10.0"> v16.x </a>及更新版本:支持</li>
</ul>
<h3>反应自然</h3>

<p>因此，如果某些特性在特定项目上不起作用，请检查您正在使用的React版本。为新项目使用最新的React版本或升级现有项目中的React版本以使用最新的库功能并获得性能或安全性增强总是好的。</p>
<h2>结论</h2>
<p>在本教程中，我们已经讨论了用DevTools调试React应用程序。我们看了一些随之而来的添加和改进。我们还研究了它们如何使调试代码变得更容易。</p>
<p>尝试用我们在本文中讨论的特性调试React应用程序。你可以查看这个<a href="https://react-devtools-tutorial.vercel.app/"> live playground应用</a>来了解如何在不安装浏览器扩展或独立应用的情况下使用DevTools调试React应用。在调试React应用程序之前，您需要记住以下总结:</p>
<ul>
<li>使用元素树(组件选项卡)浏览组件、编辑属性和状态</li>
<li>使用概要分析器来识别性能问题并分析性能增强(例如，针对SEO和可用性的交互时间(<a href="https://developer.chrome.com/en/docs/lighthouse/performance/interactive/"> TTI </a>)优化)</li>
</ul>
<p>如果您有任何问题、意见或补充，请务必留下您的意见。编码快乐！</p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>