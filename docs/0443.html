<html>
<head>
<title>Building a design system with Grommet and Storybook - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用索环和故事书构建设计系统</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-design-system-grommet-storybook/#0001-01-01">https://blog.logrocket.com/building-design-system-grommet-storybook/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p>我们都听说过“设计系统”这个时髦词。但是我们如何理解它，更重要的是，我们如何为自己建造一个？这篇文章将指导你使用<a href="https://blog.logrocket.com/10-mistakes-react-developers-make/" target="_blank" rel="noopener noreferrer"> React </a>，Grommet和Storybook创建一个设计系统。</p>
<h2>到底什么是设计系统？</h2>
<p>一个设计系统由一种设计语言、一个组件库和一个文档/风格指南网站组成，前两者都存在于其中。</p>
<p>正如Emma Wedekind 在<a href="https://www.youtube.com/watch?v=ropAuzI7MtA&amp;t=24s"> this talk中所详述的，当开发人员谈论设计系统时，他们大多指的是组件库；当设计师这样做时，他们会参考设计语言。项目经理最有可能关心的是文档/风格指南网站，所有的东西都在那里。</a></p>
<p>下面阐述这三个部分的目的:</p>
<ul>
<li>设计语言:这有助于将我们的产品塑造成我们品牌的代表。它包括颜色(代表情感)、字体大小、可访问性和动作(代表个性)。</li>
<li>组件库:这些是可重用的代码组件，作为我们应用程序的构建模块。它们也表达了设计语言。这些包括按钮、输入字段等。如果您没有从头开始构建自己的库，那么您可以定制一个流行的库，比如Grommet，以满足您的项目需求。</li>
<li><strong>文档/风格指南网站:</strong>这是你记录所有关于设计语言和组件库的网站。这通过允许您的所有团队成员访问它来创建一致性。</li>
</ul>
<p>设计系统通常提供构建我们的应用程序的构件。随着公司变得越来越复杂，团队的规模越来越大，它会在公司的产品套件中带来一致的用户体验。</p>
<p>各大软件公司都有自己的设计系统。一些流行设计系统的例子有Shopify的<a href="https://polaris.shopify.com/">北极星</a>，谷歌的<a href="https://material.io/design/">材料设计</a>，以及Trello的<a href="https://blog.trello.com/introducing-nachos-a-tasty-new-design-system-for-trello">玉米片</a>。</p>
<p>那么，如何为自己的品牌打造一个呢？你首先需要准备好设计系统的三个部分。</p>
<h2>索环</h2>
<p><a href="https://v2.grommet.io/"> Grommet </a>是一个React组件库，它提供了可响应且可访问的移动优先代码组件，您可以轻松地将其用于您的项目。</p>
<p>特别值得注意的是，Grommet提供了强大的主题工具，允许您定制组件库，以符合您的颜色、类型、组件交互和布局需求。这解决了我们之前讨论的设计语言部分。</p>
<h2>故事书</h2>
<p>Storybook是一个开源工具，允许你记录和探索你的代码的组成部分。它可以与React、Vue和Angular一起使用，还可以让您单独处理组件，并在不同的状态下测试它们。</p>
<p>最重要的是，Storybook支持自动生成可定制的风格指南网站。</p>
<h2>装置</h2>
<p>首先，让我们搭建一个空白的React应用程序。</p>
<pre>npx create-react-app my-app
cd grommet-storybook-react-app</pre>
<p>在代码编辑器中打开项目。下一步是安装索环:</p>
<pre>npm install grommet styled-components --save</pre>
<p>同时安装故事书:</p>
<pre>npx -p @storybook/cli sb init</pre>
<p>回想一下，Storybook可以用于React、Vue和Angular。上面的命令将检测我们正在使用的框架，并安装合适的故事书版本。在我们的例子中，React版本<code>@storybook/react</code>将被安装。</p>
<p>安装完成后，运行应用程序:</p>
<pre>npm run storybook</pre>
<p>浏览器中将显示以下屏幕:</p>
<p><img data-attachment-id="5841" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-welcome-component-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png" data-orig-size="730,400" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Storybook’s default Welcome component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png" decoding="async" class="aligncenter size-full wp-image-5841 jetpack-lazy-image" src="../Images/0a052168640067aa974c0d56e3219723.png" alt="Storybook's Default Welcome Component" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser-300x164.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5841" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-welcome-component-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png" data-orig-size="730,400" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Storybook’s default Welcome component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5841" src="../Images/0a052168640067aa974c0d56e3219723.png" alt="Storybook's Default Welcome Component" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser-300x164.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-welcome-component-browser.png"/></noscript>
<p>正如您在组件资源管理器中看到的，Storybook提供了两个现成的组件用于演示。这些是<code>Welcome</code>和<code>Button</code>组件。</p>
<p>如果我们查看我们的项目文件夹，我们会注意到安装后添加了<code>.storybook</code>和<code>stories</code>文件夹。</p>
<p><img data-attachment-id="5842" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/stories-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png" data-orig-size="730,377" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Stories folder in our project directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png" decoding="async" class="aligncenter size-full wp-image-5842 jetpack-lazy-image" src="../Images/0b60875b846cbc405c70bcf01753e458.png" alt="Stories Folder In Our Project Directory" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder-300x155.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5842" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/stories-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png" data-orig-size="730,377" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Stories folder in our project directory" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder-300x155.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5842" src="../Images/0b60875b846cbc405c70bcf01753e458.png" alt="Stories Folder In Our Project Directory" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder-300x155.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stories-folder.png"/></noscript>
<p>访问<code>stories/index.js</code>文件夹查看演示组件。观察并删除或注释掉下面的部分；我们将构建自己的欢迎和按钮组件。</p>
<pre>storiesOf('Welcome', module).add('to Storybook', () =&gt; &lt;Welcome showApp={linkTo('Button')} /&gt;);

storiesOf('Button', module)
  .add('with text', () =&gt; &lt;Button onClick={action('clicked')}&gt;Hello Button&lt;/Button&gt;)
  .add('with some emoji', () =&gt; (
    &lt;Button onClick={action('clicked')}&gt;
      &lt;span role="img" aria-label="so cool"&gt;
        😀 😎 👍 💯
      &lt;/span&gt;
    &lt;/Button&gt;
  ));</pre>
<p>这是应该留下的:</p>
<pre>import React from 'react';

import { storiesOf } from '@storybook/react';
import { action } from '@storybook/addon-actions';
import { linkTo } from '@storybook/addon-links';
</pre>
<p><img data-attachment-id="5844" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-components-removed-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png" data-orig-size="730,422" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Default Storybook components removed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser-300x173.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png" decoding="async" class="aligncenter size-full wp-image-5844 jetpack-lazy-image" src="../Images/b0d09fac7117b0ad44fc3ac376ce2f17.png" alt="Default Storybook Components Removed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser-300x173.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5844" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-components-removed-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png" data-orig-size="730,422" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Default Storybook components removed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser-300x173.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5844" src="../Images/b0d09fac7117b0ad44fc3ac376ce2f17.png" alt="Default Storybook Components Removed" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser-300x173.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-components-removed-browser.png"/></noscript>
<h2>创建我们的组件</h2>
<p>现在，进入正题:我们将从构建欢迎和按钮组件开始，就像我们前面看到的一样。</p>
<p>任何好的文档都有一个特点，那就是它有一个帮助开发人员开始的欢迎说明。这通常会提供设置或安装指南。让我们假设我们正在为你的公司建立一个设计系统。我们可以使用<code>welcome</code>组件作为我们的欢迎说明。这意味着它将被明文填充。</p>
<h3><code>Welcome</code>组件</h3>
<p>在<code>src</code>文件夹中创建一个<code>components</code>文件夹，然后在<code>components</code>中创建一个<code>Welcome.js</code>文件。将以下代码放入文件中:</p>
<pre>import React from 'react';
import { Heading, Paragraph, Box } from 'grommet';

class Welcome extends React.Component {

  render() {
    return (
      &lt;Box direction="column" pad="medium"&gt;

        &lt;Heading margin="none" level="3"&gt;Chapter 1&lt;/Heading&gt;
        &lt;Paragraph margin="none"&gt;
          Lorem ipsum dolor sit amet,
          consectetur adipiscing elit,
          sed do eiusmod tempor incididunt ut
          labore et dolore magna aliqua.
        &lt;/Paragraph&gt;
        &lt;Paragraph margin="none"&gt;
          Lorem ipsum dolor sit amet,
          consectetur adipiscing elit,
          sed do eiusmod tempor incididunt ut
          labore et dolore magna aliqua.
        &lt;/Paragraph&gt;

      &lt;/Box&gt;
    );
  }

}

export default Welcome;</pre>
<p>在上面的代码中，我们导入了<code>Heading</code>和<code>Paragraph</code>，它们是来自Grommet的类型组件。我们还导入了<code>Box</code>，这是一个放置内容的容器。一切都在一个<code>Welcome</code>组件中，我们已经为导出设置了这个组件。</p>
<p>在<code>stories</code>文件夹中，转到<code>index.js</code>并导入<code>Welcome</code>组件。</p>
<pre>import Welcome from '../components/Welcome';</pre>
<p>还将以下内容添加到<code>index.js</code>:</p>
<pre>storiesOf('Welcome', module).add('getting started', () =&gt; &lt;Welcome /&gt;);</pre>
<p>在Storybook中，一个故事指的是一个组件及其几种可能的状态，例如，一个处于不同状态的按钮。</p>
<p>在上面的代码中，<code>storiesOf()</code>函数帮助我们在组件浏览器界面中命名一个特定的故事，而<code>.add()</code>函数设置一个下拉菜单，当它被释放时，呈现组件的不同状态。当我们创建下一个组件时，这一点会更清楚。</p>
<p><img data-attachment-id="5845" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-welcome-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png" data-orig-size="730,375" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom Welcome component in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component-300x154.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png" decoding="async" class="aligncenter size-full wp-image-5845 jetpack-lazy-image" src="../Images/10d4a21a631bd991df02ddfc1312eea1.png" alt="Custom Welcome Component In Storybook" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component-300x154.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5845" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-welcome-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png" data-orig-size="730,375" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom Welcome component in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component-300x154.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5845" src="../Images/10d4a21a631bd991df02ddfc1312eea1.png" alt="Custom Welcome Component In Storybook" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component-300x154.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-welcome-component.png"/></noscript>
<h3><code>Button</code>组件</h3>
<p>按钮在界面中被大量使用。它们对产品有很大的影响，是创建设计系统的一个很好的起点。</p>
<p>要创建<code>Button</code>组件，在<code>components</code>文件夹中创建一个<code>Button.js</code>文件。将以下代码粘贴到:</p>
<pre>import React from 'react';
import { Button as GrommetBtn } from 'grommet';


class Button extends React.Component {
  render() {
    return (
      &lt;GrommetBtn label="default" /&gt;
    );
  }
}

export default Button;</pre>
<p>注意，因为我想创建我们自己的组件<code>Button</code>，我不得不将Grommet的默认按钮重命名为<code>GrommetBtn</code>以防止名称冲突。</p>
<p>现在导入<code>index.js</code>中的<code>Button</code>组件:</p>
<pre>import Button from '../components/Button';</pre>
<p>将按钮故事添加到同一个文件中:</p>
<pre>storiesOf('Button', module).add('basic', () =&gt; &lt;Button /&gt;);</pre>
<p>这将呈现如下所示:</p>
<p><img data-attachment-id="5846" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-default-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png" data-orig-size="730,433" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom primary button in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png" decoding="async" class="aligncenter size-full wp-image-5846 jetpack-lazy-image" src="../Images/1a046760c64aeba418435daeb4655a03.png" alt="Custom Primary Button In Storybook" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button-300x178.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5846" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-default-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png" data-orig-size="730,433" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom primary button in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button-300x178.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5846" src="../Images/1a046760c64aeba418435daeb4655a03.png" alt="Custom Primary Button In Storybook" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button-300x178.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-default-button.png"/></noscript>
<p>正如在任何设计系统中所期望的那样，我们应该能够在许多情况下重用像按钮这样的组件。这通常是通过向组件传递自定义属性来实现的。</p>
<p>无论传递什么属性，都会影响组件的呈现方式。幸运的是，索环为每个组件配备了足够的道具来满足您的需求。</p>
<p>为了确保我们的按钮组件接收从<code>index.js</code>传递给它的任何属性，请转到<code>Button.js</code>并在花括号之间添加一个表达式。</p>
<pre>&lt;GrommetBtn label={this.props.label} {...this.props} /&gt;</pre>
<p>现在让我们创建并记录按钮的不同变体。转到button story并进行以下更改:</p>
<pre>storiesOf('Button', module)
  .add('primary', () =&gt; &lt;Button primary label="primary" /&gt;)
  .add('secondary', () =&gt; &lt;Button primary={false} label="secondary" /&gt;)
  .add('plain', () =&gt; &lt;Button plain label="plain" /&gt;)
  .add('Disabled', () =&gt; &lt;Button disabled label="Disabled" /&gt;);</pre>
<p>当我们运行代码时，我们应该会看到下面的屏幕:</p>
<p><img data-attachment-id="5847" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-secondary-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png" data-orig-size="730,521" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom secondary button in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button-300x214.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png" decoding="async" class="aligncenter size-full wp-image-5847 jetpack-lazy-image" src="../Images/f3441ca93528c931adb00e15677feb1f.png" alt="Custom Secondary Button In Storybook" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button-300x214.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5847" data-permalink="https://blog.logrocket.com/building-design-system-grommet-storybook/attachment/storybook-custom-secondary-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png" data-orig-size="730,521" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Custom secondary button in Storybook" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button-300x214.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-5847" src="../Images/f3441ca93528c931adb00e15677feb1f.png" alt="Custom Secondary Button In Storybook" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button-300x214.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/storybook-custom-secondary-button.png"/></noscript>
<p>扣眼按钮有很多有用的道具，比如<code>accessibilityTitle</code>、<code>active</code>、<code>icon</code>、<code>plain</code>、<code>target</code>、<code>size</code>、<code>onClick</code>、<code>href</code>、<code>id</code>、<code>label</code>、<code>type</code>等。请在这里随意查看它们。</p>
<p>值得一提的是，Storybook可以用附加组件来增压<a href="https://storybook.js.org/addons/">，这里可以看到</a>。附加组件是可以附加到Storybook上的额外功能，使其更有用并增加高级功能。</p>
<p>例子有<a href="https://github.com/storybookjs/storybook/tree/master/addons/storysource">源附加组件</a>(允许你查看组件的源代码以复制和粘贴)<a href="https://github.com/storybookjs/storybook/tree/master/addons/notes">、notes附加组件</a>(用于在markdown中记录组件的使用)，以及用于故事书定制的<a href="https://github.com/storybookjs/storybook/tree/master/addons/backgrounds">背景附加组件</a>。</p>
<h2>自定义索环主题</h2>
<p>我们现在来看看三种方式，你可以自定义你的索环主题。</p>
<ol>
<li>索环组件有一个<a href="https://v2.grommet.io/grommet">顶层包装容器</a>,可以用来对组件进行全局样式化。</li>
</ol>
<pre>const customTheme = {
    global: {
       colors: {
       custom: "#cc6633"
       }
    }
};

const Themed = () =&gt; (
  &lt;Grommet theme={customTheme}&gt;
    &lt;Box pad="medium"&gt;
      &lt;Anchor icon={&lt;Add /&gt;} label="Add" color="custom" /&gt;
    &lt;/Box&gt;
  &lt;/Grommet&gt;
);</pre>
<ol>
<li>索环还提供<code><a href="https://v2.grommet.io/themecontext?c=DwFQFgpgthDCD2A7ALhAHsgdAUQxRAJgFAAEJAbgIYA2ArhALwDeTJA5tfAEY0BcJrAMbxOAJwDO-VgXiD+AcgDEAM2UBONYMHySAXz17dRAHykSwAELw0JAA6UCDAETVKothCckeggNZtReFpCZxlBLwIAS1EIQWRIpGdAgHcvAHpTMktrOwdnV3dPb0o-AKCQpzCI6Nj4xKcU9NNgNPBoOCRUDBw8QmMgA">ThemeContext.Extend</a></code>来局部设计组件。</li>
</ol>
<pre>&lt;ThemeContext.Extend
  value={{ global: { colors: { doc: '#ff99cc' } } }}
&gt;
  &lt;Box pad="large" background="doc" direction="row" /&gt;
  &lt;Box pad="large" background="doc" direction="row" /&gt;
&lt;/ThemeContext.Extend&gt;</pre>
<ol>
<li>您还可以使用样式化组件来单独样式化组件。</li>
</ol>
<pre>import styled from 'styled-components`;
import { Button } from 'grommet';
const MyStyledButton = styled(Button)`
   font-weight: bold;
   background-color: #BADA55;
`;

const MyComponent = () =&gt; (
  &lt;div&gt;
     Press Button &lt;MyStyledButton label="Press Me" /&gt;
  &lt;/div&gt;
);</pre>
<h2>将您的文档部署为静态应用程序</h2>
<p>为了向整个团队展示我们的组件库，我们必须将其部署为一个站点。您可以将其部署到Netlify、GitHub页面或任何静态托管服务。</p>
<p>只需将以下npm脚本添加到您的<code>package.json</code>中:</p>
<pre>{
  "scripts": {
    "build-storybook": "build-storybook -c .storybook -o .out"
  }
}</pre>
<p>然后运行<code>yarn build-storybook</code>。</p>
<p>这将把Storybook从项目目录构建到一个静态web应用程序中，并将其放在<code>.out</code>目录中。现在，您可以将内容部署在<code>.out</code>目录中的任何位置。</p>
<p>要在本地测试它:</p>
<pre>npx http-server .out</pre>
<h2>结论</h2>
<p>在这篇文章中，我们探索了能让你建立设计系统的技术。我们已经讨论了如何实现组件、定制、文档和托管您的设计系统。现在去做一些很棒的东西吧！</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>