<html>
<head>
<title>How to use stateless components in Vue.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Vue.js - LogRocket博客中使用无状态组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/#0001-01-01">https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在这篇文章中，您将了解功能组件，并了解如何在Vue的工作流程中使用无状态组件。</p>
<h2>开始之前</h2>
<p>您需要在您的电脑中安装以下设备:</p>
<ul>
<li><a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer"> Node.js版本10.x </a>及以上安装。您可以通过在终端/命令提示符下运行以下命令来验证您是否拥有此版本的Node.js:</li>
</ul>
<pre>node -v</pre>

<p>为此，请先卸载旧版本的CLI:</p>
<pre>npm uninstall -g vue-cli</pre>
<p>接下来，安装新的:</p>
<pre>npm install -g @vue/cli</pre>
<ul>
<li>在这里下载一个Vue starter项目<a href="https://github.com/viclotana/vue-canvas"/></li>
<li>解压缩下载的项目</li>
<li>导航到解压缩后的文件，并运行命令以保持所有依赖项最新:</li>
</ul>
<pre>npm install</pre>
<h2>简介:什么是状态和实例？</h2>
<p>Vue应用程序状态是决定组件行为的对象。Vue应用程序状态决定了组件的呈现方式或动态性。</p>
<p>同时，Vue实例是一个ViewModel，它包含的选项包括表示元素的模板、要挂载的元素、方法和初始化时的生命周期挂钩。</p>
<h2>Vue组件</h2>
<p>Vue.js 中的组件通常是反应式的:在Vue.js中，数据对象可以有很多可以使用的概念、计算属性、方法和观察器的选项。此外，数据对象会在数据值发生变化时重新呈现。</p>
<p>相比之下，功能组件不保持状态。</p>
<h2>功能组件</h2>
<p>本质上，<a href="https://blog.logrocket.com/pure-functional-components-in-react-16-6/" target="_blank" rel="noopener noreferrer">功能组件</a>是拥有自己组件的功能。功能组件没有状态或实例，因为它们不保存或跟踪状态。此外，您不能访问功能组件中的构造。</p>
<p>功能组件是为演示而创建的。Vue.js中的功能组件类似于React.js中的功能组件。在Vue中，开发人员可以通过传递上下文，使用功能组件轻松地构建直接、简洁的组件。</p>
<h2>功能组件语法</h2>
<p>从<a href="https://vuejs.org/v2/guide/render-function.html#Functional-Components" target="_blank" rel="noopener noreferrer">官方文档</a>来看，一个功能组件是这样的:</p>
<pre>Vue.component('my-component', {
  functional: true,
  // Props are optional
  props: {
    // ...
  },
  // To compensate for the lack of an instance,
  // we are now provided a 2nd context argument.
  render: function (createElement, context) {
    // ...
  }
})</pre>
<h2>创建功能组件</h2>
<p>创建功能组件时要记住的一个关键准则是功能属性。functional属性是在组件的模板部分或脚本部分指定的。模板部分的语法如下所示:</p>
<pre>&lt;template functional&gt;
  &lt;div&gt; &lt;h1&gt; hello world&lt;/h1&gt;
  &lt;/div&gt;
&lt;/template&gt;</pre>
<p>您可以将脚本指定为属性，如下所示:</p>
<pre>export default {
  functional: true,
  render(createElement) {
    return createElement(
      "button", 'Click me'
    );
  }
};</pre>
<h2>为什么功能组件很重要？</h2>
<p>功能组件可以快速执行，因为它们没有状态，并且在数据值改变时不会经历与模板的组件或部分相同的初始化和重新呈现过程。</p>
<p>大多数情况下，功能组件对于表示或显示项目循环非常有用。</p>
<h2>演示</h2>
<p>在这个介绍性演示中，您将看到带有Vue模板的单页面组件类型演示和功能组件的render function类型。</p>
<h3>单页功能组件</h3>
<p>打开您的<code>Test.vue</code>文件，并将下面的代码块复制到文件中:</p>
<pre>&lt;template functional&gt;
  &lt;div&gt;
    &lt;p v-for="brand in props.brands" :key="brand"&gt;{{brand}} &lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt; 
export default {
  functional: true,
  name: 'Test',
  props: {
    brands: Array
  }
}
&lt;/script&gt;</pre>
<p>脚本和模板中的功能指示器显示这是一个功能组件。请注意，props仍然可以被传递——它们是功能组件中唯一可以被传递的数据值。</p>
<p>时态数据props hold也可以循环使用。</p>
<p>打开您的<code>app.vue</code>文件，并将下面的代码块复制到其中:</p>
<pre>&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test 
     :brands ="['Tesla', 'Bentley', 'Ferrari', 'Ford']"&gt;
    &lt;/Test&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Test from './components/Test.vue'
export default {
  name: 'app',
  components: {
    Test
  }
}
&lt;/script&gt;
&lt;style&gt;
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
&lt;/style&gt;</pre>
<p>在这里，您将看到props引用与冒号一起使用。</p>
<p>使用以下命令在dev服务器中运行应用程序:</p>
<pre>npm run serve</pre>
<p>浏览器中的结果应该如下所示:</p>
<p><img data-attachment-id="5514" data-permalink="https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/stateless-components-corrected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png" data-orig-size="1198,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateless-components-corrected" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-300x105.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-1024x359.png" decoding="async" class="aligncenter wp-image-5514 jetpack-lazy-image" src="../Images/53d4bb9799b8eca1932eb9d67b9a56af.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png 1198w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-300x105.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-768x269.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-1024x359.png 1024w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5514" data-permalink="https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/stateless-components-corrected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png" data-orig-size="1198,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateless-components-corrected" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-300x105.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-1024x359.png" decoding="async" loading="lazy" class="aligncenter wp-image-5514" src="../Images/53d4bb9799b8eca1932eb9d67b9a56af.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png 1198w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-300x105.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-768x269.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected-1024x359.png 1024w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-corrected.png"/></noscript>
<h3>渲染函数方法</h3>
<p>功能组件也可以包含渲染功能。</p>
<p>开发人员使用渲染函数创建自己的虚拟DOM，而不使用Vue模板。</p>
<p>使用渲染函数在<strong>汽车</strong>列表下创建一个新按钮。在名为<code>example.js</code>的项目文件夹中创建一个新文件，并将下面的代码块复制到该文件中:</p>
<pre>export default {
    functional: true,
    render(createElement, { children }) {
      return createElement("button", children);
    }
  };</pre>
<p>这将在功能组件中创建一个呈现函数来显示按钮，并将元素上的子节点用作按钮文本。</p>
<p>打开您的<code>app.vue</code>文件，并将下面的代码块复制到文件中:</p>
<pre>&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test 
     :brands ="['Tesla', 'Bentley', 'Ferrari', 'Ford']"&gt;
    &lt;/Test&gt;
    &lt;Example&gt;
     Find More Cars
    &lt;/Example&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Test from './components/Test.vue'
import Example from './Example'
export default {
  name: 'app',
  components: {
    Test, Example
  }
}
&lt;/script&gt;
&lt;style&gt;
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
&lt;/style&gt;</pre>
<p>如果您再次运行该应用程序，您会看到<strong>Find More Cars</strong>——子节点——现在是按钮的文本。示例组件在检查时显示为功能组件。</p>
<p><img data-attachment-id="5515" data-permalink="https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/stateless-components-find-more-cars-corrected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateless-components-find-more-cars-corrected" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png" decoding="async" class="aligncenter wp-image-5515 size-full jetpack-lazy-image" src="../Images/30376b128c69f123b4eac5686260285c.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected-300x83.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="5515" data-permalink="https://blog.logrocket.com/how-to-use-stateless-components-in-vue-js/stateless-components-find-more-cars-corrected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateless-components-find-more-cars-corrected" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png" decoding="async" loading="lazy" class="aligncenter wp-image-5515 size-full" src="../Images/30376b128c69f123b4eac5686260285c.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected-300x83.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/stateless-components-find-more-cars-corrected.png"/></noscript>
<h3>添加点击事件</h3>
<p>您可以在组件上添加单击事件，并在根组件中包含该方法。但是，您需要render函数中的数据对象参数来访问它。</p>
<p>将此内容复制到您的<code>example.js</code>文件中:</p>
<pre>export default {
    functional: true,
    render(createElement, { data, children }) {
      return createElement("button", data, children);
    }
  };</pre>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4z74znz85z1z122zz85zz77zqz73z9m1z80zbfz85zv3z89zbqz65zz74z0z72zbwc8">现在</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyti6z78zz83zs1z80zlz76z4z86z1jrsz81zf8wvrz88zx2z65zz75zz71zz70z">，</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4z74znz85z1z122zz85zz77zqz73z9m1z80zbfz85zv3z89zbqz65zz74z0z72zbwc8">将</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyti6z78zz83zs1z80zlz76z4z86z1jrsz81zf8wvrz88zx2z65zz75zz71zz70z">中的点击事件添加到</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4z74znz85z1z122zz85zz77zqz73z9m1z80zbfz85zv3z89zbqz65zz74z0z72zbwc8">中，根组件</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyti6z78zz83zs1z80zlz76z4z86z1jrsz81zf8wvrz88zx2z65zz75zz71zz70z">和</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4z74znz85z1z122zz85zz77zqz73z9m1z80zbfz85zv3z89zbqz65zz74z0z72zbwc8"> Vue将识别</span> <span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyti6z78zz83zs1z80zlz76z4z86z1jrsz81zf8wvrz88zx2z65zz75zz71zz70z"> ze它。</span></p>
<p/>
<div>
<p><span class=" author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxwyti6z78zz83zs1z80zlz76z4z86z1jrsz81zf8wvrz88zx2z65zz75zz71zz70z">C</span>T3】opy thT5】eT7】以下进入T9】your<span class="inline-code author-d-1gg9uz65z1iz85zgdz68zmqkz84zo2qoxw4z74znz85z1z122zz85zz77zqz73z9m1z80zbfz85zv3z89zbqz65zz74z0z72zbwc8"><code>app.vue</code>T11】文件:</span></p>
<pre>&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test 
     :brands ="['Tesla', 'Bentley', 'Ferrari', 'Ford']"&gt;
    &lt;/Test&gt;
    &lt;Example @click="callingFunction"&gt;
     Find More Cars
    &lt;/Example&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Test from './components/Test.vue'
import Example from './Example'
export default {
  name: 'app',
  components: {
    Test, Example
  },
  methods: {
    callingFunction() {
      console.log("clicked");
    }
  }
}
&lt;/script&gt;</pre>
</div>
<p>除了上面的例子，在<a href="https://vuejs.org/v2/guide/render-function.html#Functional-Components" target="_blank" rel="noopener noreferrer">官方文档</a>中列出的功能组件中还可以使用其他参数。</p>
<h2>结论</h2>
<p>这个功能组件的初学者指南可以帮助你实现快速演示，显示项目的循环，或者显示不需要状态的工作流的简单部分。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>