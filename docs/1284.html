<html>
<head>
<title>How to implement form validation with Vuetify in a Vue.js app - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Vue.js应用程序中使用Vuetify实现表单验证</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-implement-form-validation-with-vuetify-in-a-vue-js-app/#0001-01-01">https://blog.logrocket.com/how-to-implement-form-validation-with-vuetify-in-a-vue-js-app/#0001-01-01</a></blockquote><div><article class="article-post">
<p>如今，大多数网站都有要求用户提供信息的注册、登录或联系表单。因为大多数表单在错误处理时不能提供足够的反馈，所以验证这些表单有助于改善用户的整体体验。</p>
<p>例如，当用户填写的表单中有错误时，用户直到提交表单后才知道存在错误，这意味着他或她必须再次完成并重新提交表单。</p>
<p>但是，使用<a href="https://vuetifyjs.com/en/" target="_blank" rel="noopener noreferrer"> Vuetify </a>，一个用于<a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer"> Vue.js </a>的材料设计组件框架，我们可以实现质量形式验证。在这篇博文中，我们将学习如何构建一个注册表单并使用Veutify验证它。</p>
<p>首先，让我们从创建一个Vue.js项目开始。</p>
<h2>创建Vue.js应用程序</h2>
<p>我们将使用<a href="https://cli.vuejs.org/" target="_blank" rel="noopener noreferrer"> Vue CLI </a>创建一个Vue应用程序。如果您的本地系统中没有安装Vue CLI，请运行下面的npm命令进行安装:</p>
<pre>npm install -g @vue/cli
</pre>
<p>命令运行完毕后，我们可以通过运行下面的命令来创建一个Vue.js项目。</p>
<pre>vue create vuetify-form-validation
</pre>
<p>之后，我们会被询问是想要默认预设还是手动设置。在这个项目中，我们将使用默认的预置。</p>
<p>现在让我们将Vuetify添加到项目中。</p>
<h2>将Vuetify添加到项目中</h2>
<p>Vuetify为用户提供了构建丰富且引人入胜的web和移动应用程序所需的一切。</p>
<p>要添加Vuetify，导航到<span>项目文件夹<strong>CD vue tify-form-validation</strong>。</span></p>
<p>然后运行下面的命令来添加Vuetify:</p>
<pre>vue add vuetify
</pre>
<p>当Vuetify命令开始运行时，它将再次要求选择您想要的预置。选择默认预设。</p>
<h2>构建注册表单界面</h2>
<p>在本文中，我们将构建一个注册表单，它将包含以下字段:</p>
<ul>
<li>西方人名的第一个字</li>
<li>姓</li>
<li>电子邮件</li>
<li>密码</li>
<li>请重新输入密码</li>
</ul>
<p>我们还将学习如何验证每个表单字段。首先，让我们设计表单页面。打开组件文件夹，删除<code>HelloWorld.vue</code>文件，创建<code>RegistrationForm.vue</code>。</p>
<p>我们将使用Vuetify grid组件将页面分成两列。</p>
<p><span>在<strong> RegistrationForm.vue </strong>模板</span>内，编写以下代码:</p>
<pre>&lt;template&gt;
  &lt;v-container fluid class="fluid"&gt;
    &lt;v-row justify="center" align="center" class="row"&gt;

      &lt;v-col cols="6" sm="12" md="6" xs="12" class="text-center purple darken-2"
        style="height: 100vh"&gt;

        &lt;v-row justify="center" align="center" style="height: 80vh"&gt;
          &lt;v-col&gt;
            &lt;h1 class="white--text"&gt;LogRockets&lt;/h1&gt;
          &lt;/v-col&gt;
        &lt;/v-row&gt;

      &lt;/v-col&gt;

      &lt;v-col cols="6" sm="12" md="6" xs="12" class="text-center" style="height: 100vh"&gt;
        &lt;h1&gt;Welcome to LogRockets&lt;/h1&gt;
        &lt;p&gt;Please complete this form to create an account&lt;/p&gt;
      &lt;/v-col&gt;

    &lt;/v-row&gt;
  &lt;/v-container&gt;
&lt;/template&gt;
</pre>
<p>注意，我们用<code>&lt;v-container&gt;</code>包装了整个部分。</p>
<p><code>&lt;v-container&gt;</code>是一个Vuetify容器，我们可以使用它来居中或水平填充一个网站，并将<code>fluid</code>的属性绑定到<code>&lt;v-container&gt;</code>，这样它就可以在构建网站时以我们想要的任何屏幕尺寸完全扩展我们的容器。这也使它反应灵敏。</p>
<p>我们还使用了<code>&lt;v-row&gt;</code>来包装整个部分。</p>
<p><code>&lt;v-row&gt;</code>允许我们使用flex属性，因此它可以按照我们希望的方式控制<code>&lt;v-cols&gt;</code>的流程。</p>
<p>我们还添加了<code>&lt;v-cols&gt;</code>，传递了一个属性<code>cols</code>，并赋予它一个值6，因为我们只想将页面分成两列。注意，Vuetify <code>cols</code>只限于12列。<br/>左栏有一个值为<code>purple</code>的class属性，为我们的UI提供紫色作为背景色。它有一个值为<code>height 100vh</code>的样式属性。在左栏中，我们有一个带有文本的<code>&lt;h1&gt;</code>标签。</p>
<p>在右栏中，有一个值为<code>text-center</code>的class属性和一个值为<code>height 100vh</code>的style属性。在右边的<code>cols</code>中，我们有一个带有文本的<code>&lt;h1&gt;</code>标签和一个<code>&lt;p&gt;</code>标签。</p>
<p>我们将值为100vh的style属性传递给两列，因为我们希望表单占据整个网站页面。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<h2>构建注册表单</h2>
<p>现在，让我们建立我们的形式。在右栏中，在<code>&lt;p&gt;</code>标签下面，编写下面的代码:</p>
<pre>&lt;v-form ref="form" class="mx-2" lazy-validation&gt;
&lt;/v-form
</pre>
<p><code>&lt;v-form&gt;</code>是一个Vuetify表单组件，它让我们很容易验证表单输入。</p>
<h2>添加表单域</h2>
<p>接下来，我们将实现表单输入字段。第一个字段是<strong>名和姓输入</strong>字段。让我们也实现它的验证。</p>
<p>在v型表单中，编写以下代码:</p>
<pre>&lt;v-row&gt;
  &lt;v-col cols="6"&gt;
    &lt;v-text-field v-model="firstname" :rules="nameRules" label="First Name"&gt;
    &lt;/v-text-field&gt;
  &lt;/v-col&gt;
  &lt;v-col cols="6"&gt;
    &lt;v-text-field v-model="lastname" :rules="nameRules" label="Last Name"&gt;
    &lt;/v-text-field&gt;
  &lt;/v-col&gt;
&lt;/v-row&gt;</pre>
<p>在上面的代码中，我们首先将<code>&lt;v-input&gt;</code>包装在一行中，就像我们将网页分成两列时所做的那样。我们希望表单输入在第二列。</p>
<p>我们采取的下一步是添加名字和姓氏输入字段。</p>
<p><code>&lt;v-input&gt;</code>有一个属性<code>&lt;v-model&gt;</code>，它是一个Vue.js属性，从输入中接收一个值。<code>&lt;v-input&gt;</code>有一个属性<code>:rules</code>，以函数<code>nameRules</code>为值。<code>nameRules</code>功能用于设置一个条件，检查传递给输入字段的值是有效还是无效。</p>
<p><code>&lt;v-input&gt;</code>有一个属性<code>label</code>，默认情况下它的作用就像一个输入占位符和标签。该值是输入的类型。默认情况下，Vuetify <code>v-input</code>有一种文本类型，所以你可以选择忽略或不忽略它。</p>
<p>除了<code>label</code>和<code>v-model</code>之外，<code>Last Name</code>字段也具有与<code>First Name</code>字段相同的条件。</p>
<h2>验证名字和姓氏字段</h2>
<p>如果我们现在服务我们的应用程序，并将光标放在两个输入字段上，什么都不会发生。这是因为验证功能没有分配给输入。</p>
<p>现在，我们将向两个输入添加一个必需的验证，说明输入不能为空。接下来，我们将为我们声明的<code>nameRules</code>编写验证函数。</p>
<p>转到<strong>模板标签</strong>外的<strong>脚本标签</strong>，并编写以下代码:</p>
<pre>&lt;v-text-field v-model="firstname" :rules="nameRules" label="First Name" required&gt;
&lt;/v-text-field&gt;

firstname: '',
lastname: '',
nameRules: [
  v =&gt; !!v || 'Name is required',
  v =&gt; (v &amp;&amp; v.length &lt;= 10) || 'Name must be less than 10 characters',
],
</pre>
<p><span>在这段代码中，我们声明了将两个姓名输入字段的值保存为字符串的<code>firstname</code>和<code>lastname</code>变量。之后，我们声明了作为变量传递给输入标签上的<code>:rules</code>属性的<code>nameRules</code>变量。</span></p>
<p><span><span/><code>nameRules</code></span>变量有一个条件，检查传递给输入字段的值是否是有效值。如果不是，<code>nameRules</code>应该一直显示错误。</p>
<p>如果我们现在运行我们的应用程序，并尝试在名字和姓氏字段中键入内容，然后移开光标，您将会收到一条错误消息，提示需要输入姓名。</p>
<h2>实现电子邮件字段</h2>
<p>我们要看的下一个字段是电子邮件字段及其验证。在“姓氏”字段下，编写以下代码:</p>
<pre>&lt;v-row&gt;
  &lt;v-col cols="12"&gt;
    &lt;v-text-field v-model="email" :rules="emailRules" label="Email" required&gt;
    &lt;/v-text-field&gt;
  &lt;/v-col&gt;
&lt;/v-row&gt;
</pre>
<p>在email字段中，我们传递接受电子邮件值的<code>v-model</code>、保存验证函数的<code>:rule</code>属性以及告诉用户输入类型的标签。</p>
<h2>验证电子邮件字段</h2>
<p>编写以下代码来触发电子邮件验证:</p>
<pre>email: '',
emailRules: [
  v =&gt; !!v || 'E-mail is required',
  v =&gt; /^(([^&lt;&gt;()[\]\\.,;:\<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4f3c0f">[email protected]</a>']+(\.[^&lt;&gt;()\\[\]\\.,;:\<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="86f5c6">[email protected]</a>']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(v) || 'E-mail must be valid',
 ],
</pre>
<p>在其中，我们声明了一个email变量，它包含email的值和<code>emailRules</code>变量，后者在将值发送到服务器之前检查输入的值是有效的还是无效的。</p>
<p>我们的另一个验证是检查输入是否为空，如果为空，则自动向用户提示错误消息。</p>
<h2>实现密码和复选框字段</h2>
<p>最后，让我们实现密码和复选框字段及其验证。写下面的代码。</p>
<pre>&lt;v-row&gt;
  &lt;v-col cols="6"&gt;
    &lt;v-text-field v-model="password" type="password" :rules="passwordRules"
     label="Password" required&gt;&lt;/v-text-field&gt;
  &lt;/v-col&gt;
&lt;/v-row&gt;

&lt;v-checkbox v-model="firstcheckbox" :rules="[v =&gt; !!v || 'You must agree to continue!']"
    label="I agree with Terms and Conditions" required&gt;&lt;/v-checkbox&gt;

&lt;v-checkbox v-model="seccheckbox" :rules="[v =&gt; !!v || 'You must agree to receive!']"
    label="I want to receive LogRocket Emails" required&gt;&lt;/v-checkbox&gt;
</pre>
<p>注意，密码字段有一个接受输入字段值的<code>v-model</code>属性和一个接受验证函数的<code>:rule</code>属性。</p>
<p><code>v-checkbox</code>还有一个<code>v-model</code>属性，它接受复选框输入字段的值。<code>checkbox :rule</code>属性直接获取验证规则，而不通过任何变量传递。</p>
<h2>验证密码字段</h2>
<p>编写下面的代码来验证密码字段。</p>
<pre>password: '',
  passwordRules: [
      v =&gt; !!v || 'Password is required',
      v =&gt; /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/.test(v) || 'Password must contain at least lowercase letter, one number, a special character and one uppercase letter',
  ],
    firstcheckbox: false,
</pre>
<p><code>passwordRule</code>变量与我们已经声明的email和name规则数组是一样的，但是每个函数都有自己的任务要执行。<code>password rule</code>检查密码是否包含大写字母、小写字母、特殊字符和数字。</p>
<h2>声明按钮验证</h2>
<p>使用Veutify验证，我们仍然可以通过一个按钮来验证输入字段，而不需要传递<code>:rule prop</code>。这里有一个例子:</p>
<pre>&lt;v-btn class="purple darken-2 white--text mt-5"  @click="submitForm"&gt; Register &lt;/v-btn&gt;

methods: {
  submitForm () {
    this.$refs.form.validate();
  },
},
</pre>
<p>上面的代码是一个Vuetify按钮组件。按钮组件有一个连接到点击事件的<code>submitForm</code>函数。每当触发该事件时，它调用Vuetify <code>this.$refs.form.validate()</code>方法，该方法检查传递给输入字段的值是否有效。如果输入字段为空，它会向用户提示一条错误消息。</p>
<p>这是我们使用Vuetify验证表单的另一种方式。</p>
<h2>结论</h2>
<p>在这篇博文中，我们学习了如何在Vue应用程序中使用Vuetify来验证表单，也看到了验证Vuetify表单的两种不同方式。如果您想查看代码或了解更多信息，请访问<a href="https://github.com/FayVik/vuetify-form-validation" target="_blank" rel="noopener noreferrer"> Github </a>。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>