<html>
<head>
<title>Richer, more accessible UIs with React Spectrum - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Spectrum - LogRocket博客提供更丰富、更易访问的用户界面</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/#0001-01-01">https://blog.logrocket.com/rich-accessible-uis-react-spectrum/#0001-01-01</a></blockquote><div><article class="article-post">
<p>7月中旬，<a href="https://react-spectrum.adobe.com/blog/introducing-react-spectrum.html"> Adobe宣布</a>发布React Spectrum，这是一个用于构建自适应、可访问和丰富的用户体验的工具集。React Spectrum的核心由三个主要部分组成:</p>
<ol>
<li><strong>反应谱</strong>，与UI有关</li>
<li><strong> React Aria </strong>，与可及性有关</li>
<li><strong>反应庄重</strong>，处理状态管理和逻辑</li>
</ol>
<p>在本文中，我们将依次了解这些部分。请注意，您应该有相当多的JavaScript经验，并且能够跟上。</p>
<h2>反应光谱</h2>
<p>正如我们之前了解到的，React Spectrum关注于UI。它是Adobe设计系统Spectrum的一个实现；它就像材质UI对于谷歌的材质设计一样。你可以<a href="https://spectrum.adobe.com/">了解更多关于</a> <a href="https://spectrum.adobe.com/"> it </a> <a href="https://spectrum.adobe.com/">这里</a>。React Spectrum为我们提供了大量组件，用于构建可访问的、自适应的、响应迅速的、健壮的用户界面和体验。</p>
<h3>安装反应光谱</h3>
<p>React Spectrum可以通过像npm或Yarn这样的包管理器来安装。它还可以与create-react-app完美配合。</p>
<p>所以，首先新建一个React项目(最好用create-react-app):</p>
<pre>npx create-react-app intro-react-spectrum</pre>
<p>然后安装React Spectrum:</p>
<pre>//npm
npm install @adobe/react-spectrum

//yarn
yarn add @adobe/react-spectrum</pre>
<p>我们现在可以通过使用文档中这个非常简单的示例代码来测试它。在您的<code>app.js</code>中，键入以下内容:</p>
<pre>import {
  Provider,
  defaultTheme,
  Button
} from "@adobe/react-spectrum";
import React from "react";
function App() {
  return (
    &lt;Provider theme = {defaultTheme}&gt;
      &lt;Button
        variant = "primary"
        onPress = {() =&gt; alert("Hey there!")}
      &gt;
        Hello React Spectrum!
      &lt;/Button&gt;
    &lt;/Provider&gt;
  );
}</pre>
<p>这将在屏幕上呈现一个按钮，打开一个警告，上面写着“嘿！”单击时。</p>
<p>现在我们已经设置了React Spectrum，我们可以开始探索它提供了什么。</p>
<h3>提供者</h3>
<p>每个React Spectrum应用程序的基础是一个提供者，用于定义应用程序级别的配置，如主题、语言环境等。例如，在上面的示例代码块中，我们将应用程序的主题设置为<code>defaultTheme</code>，它使用“亮”和“暗”颜色主题。</p>
<p>React Spectrum允许我们在provider组件上设置配色方案，以强制使用特定的配色方案。例如，我们可以通过使用<code>colorScheme</code>属性来强制我们的应用程序使用当前应用程序主题的“深色”配色方案，如下所示:</p>
<pre>&lt;Provider theme = {defaultTheme} colorScheme = "dark"&gt;
      &lt;Button
        variant = "primary"
        onPress = {() =&gt; alert("Hey there!")}
      &gt;
        Hello React Spectrum!
      &lt;/Button&gt;
&lt;/Provider&gt;</pre>
<p>Provider还有一个我非常喜欢的非常方便的用例:为一组元素设置公共属性。例如，我们可以通过用provider包装一组元素并使用<code>isDisabled</code> prop来禁用它们，就像这样:</p>
<pre>&lt;Flex direction = "column" alignItems = "center" flex gap = "size-100"&gt;
        &lt;Provider isDisabled&gt;
          &lt;ActionButton
            width = "size-2000"
            variant = "primary"
          &gt;
            Button 1
          &lt;/ActionButton&gt;
          &lt;Button
            width="size-2000"
            variant = "cta"

          &gt;
            Button 2
          &lt;/Button&gt;
        &lt;/Provider&gt;
      &lt;/Flex&gt;</pre>
<p>Provider还有其他类似的道具，像<code>isQuiet</code>、<code>isHidden</code>等等。</p>
<h3>布局</h3>
<p>React Spectrum支持CSS3中最流行的两种布局系统，分别是flexbox系统和grid系统。它通过提供两个名为<code>Flex</code>和<code>Grid</code>的容器组件来实现这一点。有了这两个组件，我们可以构建灵活且响应迅速的UI。</p>
<p><code>Flex</code>是实现CSS flexbox的容器组件，它允许我们使用flexbox提供的所有属性——比如<code>justify-content</code>、<code>align-content</code>、<code>align-items</code>等。—以道具的形式。下面是一些使用<code>Flex</code>的示例代码:</p>
<pre>&lt;View borderWidth="thin" borderColor="dark" padding="size-200"&gt;
          &lt;Flex width="size-3000" justifyContent="space-around"&gt;
            &lt;View
              height="size-600"
              width="size-600"
              backgroundColor="blue-400"
            &gt;&lt;/View&gt;
            &lt;View
              height="size-600"
              width="size-600"
              backgroundColor="red-500"
            &gt;&lt;/View&gt;
            &lt;View
              height="size-600"
              width="size-600"
              backgroundColor="green-600"
            &gt;&lt;/View&gt;
          &lt;/Flex&gt;
      &lt;/View&gt;</pre>
<p>这是浏览器中显示的结果:</p>
<p><img data-attachment-id="23226" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/flex-component-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg" data-orig-size="533,98" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Flex component code rendered in the browswer" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render-300x55.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg" decoding="async" class="aligncenter size-full wp-image-23226 jetpack-lazy-image" src="../Images/5fce21bbcb425f8bf2e767bf4a8171a5.png" alt="Our Example Flex Component Code Rendered In The Browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg 533w, https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render-300x55.jpeg 300w" data-lazy-sizes="(max-width: 533px) 100vw, 533px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="23226" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/flex-component-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg" data-orig-size="533,98" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Flex component code rendered in the browswer" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render-300x55.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-23226" src="../Images/5fce21bbcb425f8bf2e767bf4a8171a5.png" alt="Our Example Flex Component Code Rendered In The Browser" srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg 533w, https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render-300x55.jpeg 300w" sizes="(max-width: 533px) 100vw, 533px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/flex-component-render.jpeg"/></noscript>
<p><code>Grid</code>是CSS网格系统的一个实现，和<code>Flex</code>一样，它允许我们以道具的形式使用各种CSS网格属性。下面是文档中的一些示例代码，说明如何使用<code>Grid</code>组件:</p>
<pre>&lt;View borderWidth="thin" borderColor="dark" padding="size-200"&gt;
      &lt;Grid
            flex
            areas={["header  header", "sidebar content", "footer  footer"]}
            columns={["1fr", "3fr"]}
            rows={["size-1000", "auto", "size-1000"]}
            height="size-6000" gap="size-100" &gt;
            &lt;View backgroundColor="celery-600" gridArea="header" /&gt;
            &lt;View backgroundColor="blue-600" gridArea="sidebar" /&gt;
            &lt;View backgroundColor="purple-600" gridArea="content" /&gt;
            &lt;View backgroundColor="magenta-600" gridArea="footer" /&gt;
          &lt;/Grid&gt;
      &lt;/View&gt;</pre>
<p>这是结果:</p>
<p><img data-attachment-id="23227" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/grid-component-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg" data-orig-size="705,526" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Grid component code rendered in the browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render-300x224.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg" decoding="async" class="aligncenter size-full wp-image-23227 jetpack-lazy-image" src="../Images/514950143521caea39424455c2453c56.png" alt="Our Example Grid Component Code Rendered In The Browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg 705w, https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render-300x224.jpeg 300w" data-lazy-sizes="(max-width: 705px) 100vw, 705px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="23227" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/grid-component-render/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg" data-orig-size="705,526" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Grid component code rendered in the browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render-300x224.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-23227" src="../Images/514950143521caea39424455c2453c56.png" alt="Our Example Grid Component Code Rendered In The Browser" srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg 705w, https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render-300x224.jpeg 300w" sizes="(max-width: 705px) 100vw, 705px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/grid-component-render.jpeg"/></noscript>
<p>除了<code>Flex</code>和<code>Grid</code>，React Spectrum还有一个被称为插槽的概念。引用文档中的话，“插槽是组件中的命名区域，用于接收子组件并为它们提供样式和布局。”</p>
<p>使用插槽，我们可以为组件提供某些子组件，组件为这些子组件提供布局和样式。使用插槽的组件示例有<code>Dialog</code>、<code>Picker</code>和<code>Menus</code>组件。</p>
<p>我们以<code>Dialog</code>为例。它接受<code>Heading</code>、<code>Header</code>、<code>Content</code>和<code>ButtonGroup</code>组件，并为每个组件提供预定义的布局和样式。下面是一个简单的<code>Dialog</code>的代码:</p>
<pre>&lt;Dialog&gt;
  &lt;Heading&gt;Heading&lt;/Heading&gt;
  &lt;Header&gt;Header&lt;/Header&gt;
  &lt;Divider /&gt;
  &lt;Content&gt;
    &lt;Text&gt;Content&lt;/Text&gt;
  &lt;/Content&gt;
  &lt;ButtonGroup&gt;
    &lt;Button variant="secondary" onPress={close}&gt;
          Button 1
    &lt;/Button&gt;
    &lt;Button variant="cta" onPress={close}&gt;
       Button 2
     &lt;/Button&gt;
   &lt;/ButtonGroup&gt;
&lt;/Dialog&gt;</pre>
<p>生成的对话框应该如下所示:</p>
<p><img data-attachment-id="23229" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/dialog-component-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg" data-orig-size="698,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The results of our dialog component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example-300x123.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg" decoding="async" class="aligncenter size-full wp-image-23229 jetpack-lazy-image" src="../Images/421eb42138023eb5ff96cb6f2db34087.png" alt="The Results Of Our Dialog Component Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg 698w, https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example-300x123.jpeg 300w" data-lazy-sizes="(max-width: 698px) 100vw, 698px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="23229" data-permalink="https://blog.logrocket.com/rich-accessible-uis-react-spectrum/attachment/dialog-component-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg" data-orig-size="698,287" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The results of our dialog component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example-300x123.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-23229" src="../Images/421eb42138023eb5ff96cb6f2db34087.png" alt="The Results Of Our Dialog Component Example" srcset="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg 698w, https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example-300x123.jpeg 300w" sizes="(max-width: 698px) 100vw, 698px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/08/dialog-component-example.jpeg"/></noscript>
<h3>主题</h3>
<p>React Spectrum中的主题允许我们定义应用程序中使用的配色方案和平台比例。</p>
<p>配色方案定义了我们的应用程序的不同主题模式，例如“亮”和“暗”，而平台尺度定义了组件在尺寸上放大(在移动设备上)或缩小(在桌面上)的程度。平台秤确保所有用户的流畅体验，无论他们可能使用的设备类型如何。您可以点击阅读更多关于Spectrum <a href="https://spectrum.adobe.com/page/platform-scale/">平台秤的信息。</a></p>
<p>要创建自定义主题，您必须定义自己的<code>Theme</code>对象。从React Spectrum源代码看到的<code>Theme</code>的结构如下:</p>
<pre>interface Theme {
  /** CSS module defining the global variables, which do not change between color schemes/scales. */
  global?: CSSModule,
  /** CSS module defining the variables for the light color scheme. */
  light?: CSSModule,
  /** CSS module defining the variables for the dark color scheme. */
  dark?: CSSModule,
  /** CSS module defining the variables for the medium scale. */
  medium?: CSSModule,
  /** CSS module defining the variables for the large scale. */
  large?: CSSModule
}</pre>
<p>你可以在这里找到应该为每个CSS模块定义的变量列表。</p>
<p>如果你的目标是用React构建一个Adobe风格的产品，那么React Spectrum是满足你所有需求的完美选择。不过在定制方面有点局限。这肯定可以通过使用主题来定制，但这不是一个快速的过程。</p>
<h2>反应咏叹调</h2>
<p>React Aria主要处理三件事:可访问性、用户交互和国际化。基本上，它帮助开发人员确保我们为所有用户提供最佳体验，无论他们的能力、设备选择或浏览器选择如何。它通过为我们提供React钩子来返回我们可以在JSX元素中展开的道具。我们将简要看看其中的一些挂钩。</p>
<h3>装置</h3>
<p>根据文档，React Aria是可增量采用的。因此，每个组件都作为一个单独的包发布，您必须根据需要单独安装每个组件。出于本文的目的，我们将安装<code>useButton</code>和<code>useFocusRing</code>挂钩。</p>
<pre>npm install @react-aria/button @react-aria/focus</pre>
<h3><code>useButton</code></h3>
<p>我们将讨论的第一个钩子是<code>useButton</code>钩子。这个钩子为一个<code>Button</code>组件提供可访问性和自适应行为。如果我们想实现更多的定制样式，我们可以将这个钩子与常规的语义<code>&lt;button&gt;</code>元素或类似于<code>&lt;div&gt;</code>的表示元素一起使用。它处理所有易访问性问题，以便开发人员可以专注于样式。</p>
<p>这个<code>useButton</code>钩子接受两个参数:来自我们组件的道具和一个<a href="https://reactjs.org/docs/refs-and-the-dom.html"> ref </a>。下面是文档中的一个示例代码块:</p>
<pre>function Button(props) {
  let ref = useRef();
  let {buttonProps} = useButton(props, ref);
  let {children} = props;
  return (
    &lt;button {...buttonProps} ref={ref}&gt;
      {children}
    &lt;/button&gt;
  );
}</pre>
<p>我们也可以选择使用其他JSX元素，如<code>&lt;div&gt;</code>或<code>&lt;span&gt;</code>，而不是<code>&lt;button&gt;</code>，React Aria将确保它保持完全可访问性。</p>
<pre>function Button(props) {
  let {children} = props;
  let ref = useRef();
  let {buttonProps, isPressed} = useButton(
    {
      ...props,
      elementType: 'span'
    },
    ref
  );

  return (
    &lt;span
      {...buttonProps}
      style={{
        cursor: 'pointer',
        userSelect: 'none',
        WebkitUserSelect: 'none'
      }}
      ref={ref}&gt;
      {children}
    &lt;/span&gt;
  );
}</pre>
<h2><code>useFocusRing</code></h2>
<p>允许我们对有键盘焦点的HTML元素应用样式。聚焦环仅适用于键盘聚焦，不适用于鼠标或触摸聚焦。这里有一个使用中的<code>useFocusRing</code>挂钩的简单例子:</p>
<pre>function Example() {
  let {isFocusVisible, focusProps} = useFocusRing();

  return (
    &lt;button
      {...focusProps}
      style={{
        WebkitAppearance: 'none',
        appearance: 'none',
        background: 'green',
        border: 'none',
        color: 'white',
        fontSize: 14,
        padding: '4px 8px',
        outline: isFocusVisible ? '2px solid dodgerblue' : 'none',
        outlineOffset: 2
      }}&gt;
      Test
    &lt;/button&gt;
  );
}</pre>
<p>React Aria是各种非常方便的挂钩的家园，这些挂钩简化了一些常见的前端任务，如创建定制组件、构建最佳用户交互反馈和国际化。</p>
<h2>反应庄重</h2>
<p>反应谱的最后一部分是反应谱。React estorally是一个钩子库，它提供了可以跨React(在web上)和React Native使用的状态管理和核心逻辑。它可以在web上与React Aria一起使用，为像<code><a href="https://react-spectrum.adobe.com/react-aria/useSwitch.html">Switch</a></code>这样的定制组件提供行为和用户交互。</p>
<h3>装置</h3>
<p>就像React Aria一样，React estrial是增量可采用的，所以您必须将每个组件作为单独的包安装在@ React-estrial范围下。</p>
<h3>收集</h3>
<p>react estorally有集合的概念，集合基本上是项目列表。集合非常常见，可以在许多UI组件中找到，其中包括菜单、列表、树、选择、表格等等。集合可以是<strong>静态</strong>(表示静态数据，如菜单)或<strong>动态</strong>(如表示从API获取的数据的列表)。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>有了React estorally，我们可以使用一堆钩子和组件轻松地实现集合。例如，假设我们想要创建一个定制的<code>Select</code>组件，它的条目必须从API中获取。</p>
<p>由于获取数据是一个异步操作，我们必须让用户知道何时数据仍在被获取。我们可以通过React estrial的一个钩子<code>useAsyncList</code>轻松实现这一点。</p>
<p>使用<code>useAsyncList</code>钩子，我们可以确定异步操作的状态(加载或失败),并与我们自己的定制组件或一些实现集合API的React Spectrum组件(如<code>Picker</code>)一起使用。</p>
<p>由于<code>Picker</code>实现了集合API，我们可以很容易地将其与<code>useAsyncList</code>集成。例如，使用<code>Picker</code>组件的<code>isLoading</code>属性，我们可以很容易地通知用户数据仍在获取中，因此，他们将无法使用<code>Picker</code>组件。</p>
<p>这里有一个简单的例子，使用<code>Picker</code>组件和<code>useAsyncList</code>创建一个<code>Select</code>组件，允许用户从尼日利亚银行列表中进行选择。</p>
<pre>function App() {
  let list = useAsyncList({
    async load({signal}) {
      let res = await fetch('https://nigerianbanks.xyz/', {signal});
      let json = await res.json();
      console.log(json);
      return {items: json};
    }
  });
  return (
    &lt;Provider theme={defaultTheme}&gt;
      &lt;View borderWidth="thin" borderColor="dark" padding="size-200"&gt;
        &lt;Picker label="Select a bank" items={list.items} isLoading={list.isLoading}&gt;
          {(item) =&gt; &lt;Item key={item.name}&gt;{item.name}&lt;/Item&gt;}
        &lt;/Picker&gt;
      &lt;/View&gt;
    &lt;/Provider&gt;
  );
}</pre>
<p><code>useAsyncList</code>也可以用来实现无限加载、排序和许多其他有用的可以在数据列表上执行的操作。</p>
<p>最后，不言而喻，React estrial与React Spectrum和React Aria非常好地集成在一起，可以与这两个库结合使用。</p>
<h2>结论</h2>
<p>React Spectrum是各种工具的家园，其中一些工具可以集成到您自己的设计系统中，以构建完全可访问的定制组件和应用程序。点击可以了解更多关于React Spectrum <a href="https://react-spectrum.adobe.com/">的信息。</a></p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>