<html>
<head>
<title>Using Vue.js slots to pass HTML content to components - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Vue.js插槽将HTML内容传递给组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/#0001-01-01">https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/#0001-01-01</a></blockquote><div><article class="article-post">
<p><strong> <em>编者按</em> </strong>:这篇文章最后一次更新是在2021年9月9日，以改进代码、图像和任何过时的信息。</p>
<p>这篇文章将向你展示如何使用Vue插槽传递Vue.js中父组件和子组件的数据。</p>
<h2>开始之前</h2>
<p>这篇文章适合所有阶段的开发人员——包括初学者——尽管在阅读本教程之前需要了解一些先决条件。</p>
<p>您需要在机器上安装以下设备:</p>
<ul>
<li>已安装Node.js版本14.x及更高版本</li>
<li>代码编辑器；我强烈推荐Visual Studio代码</li>
<li>Vue的最新版本，全球安装在您的机器上</li>
<li>安装在您机器上的Vue CLI 4.x如果需要，首先卸载旧的CLI版本</li>
<li>在这里下载并安装一个<a href="https://github.com/viclotana/vue-canvas"> Vue starter项目</a></li>
</ul>
<h2>Vue.js中有哪些槽点？</h2>
<p>Vue slots是Vue团队创建的Vue模板元素，为模板内容分发提供平台。它是一个内容分发API的实现，其灵感来自于<a href="https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Slots-Proposal.md"> Web组件规范草案</a>。</p>
<p>使用Vue插槽，您可以在项目的各个组件之间传递或分发HTML代码。</p>
<h3>Vue.js中插槽的用途是什么？</h3>
<p>内容分发很重要，原因有很多，其中一些与结构有关。使用Vue slots，您可以<a href="https://blog.logrocket.com/writing-idiomatic-typescript/">构造一个HTML接口(就像使用TypeScript) </a>，然后您可以使用它作为指导，通过模板注入来构建您的组件。</p>
<p>对于将模板代码从一个组件传递到另一个组件，这是一个非常可伸缩和高效的解决方案。</p>
<p>定位内容是Vue插槽的另一个很好的用例。您可以只创建一个模板，然后使用另一个组件或父组件来排列该模板，就像您希望它出现在用户界面中一样。</p>
<h2>老虎机与道具</h2>
<p>如果你知道Vue老虎机，你可能想知道道具和老虎机是否做同样的事情。这些工具或平台的中心思想是鼓励资源的可重用性和效率。考虑到这一点，老虎机和道具是相似的。</p>
<p>Props处理在组件之间传递数据对象，而slots处理在组件之间传递模板(HTML)内容。然而，作用域插槽的行为就像道具一样；这将在本教程中清楚地说明。</p>
<h2>vue . js slot语法</h2>
<p>对于slots，您的子组件充当您希望内容如何排列的接口或结构。它可能看起来像这样:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
</pre>
<p>父组件(要注入到子组件中的HTML内容所在的位置)可能如下所示:</p>
<pre class="language-javascript hljs">&lt;Test&gt;
   &lt;h2&gt;Hello World!&lt;/h2&gt;
 &lt;/Test&gt;
</pre>
<p>这种组合返回的用户界面如下所示:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Hello World!&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;
</pre>
<p>请注意，插槽本身如何作为内容注入位置和方式的指南——这是中心思想。</p>
<h2>使用Vue.js插槽传递带有组件的HTML内容</h2>
<p>如果你从一开始就关注了这篇文章，你将会在Visual Studio代码中打开<a href="https://blog.logrocket.com/tag/vue/"> Vue starter项目</a>。为了说明语法部分中的简单示例，我们的父组件将是<code>app.vue</code>文件。打开您的<code>app.vue</code>文件并复制以下代码块:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test&gt;
      &lt;h2&gt;Hello World!&lt;/h2&gt;
    &lt;/Test&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Test from './components/Test.vue'
export default {
  name: 'app',
  components: {
    Test
  }
}
&lt;/script&gt;
</pre>
<p>子组件是测试组件，所以将下面的代码块复制到<code>test.vue</code>文件中:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: 'Test'
}
&lt;/script&gt;
</pre>
<p>使用以下命令在开发环境中运行应用程序:</p>
<pre class="language-javascript hljs">npm run serve
</pre>
<p>然后，它呈现以下内容:</p>
<p><img data-attachment-id="68218" data-permalink="https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/using-slots-render-vue-logo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png" data-orig-size="730,343" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using slots render Vue logo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo-300x141.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png" decoding="async" class="aligncenter size-full wp-image-68218 jetpack-lazy-image" src="../Images/305169b38649f1b97616156ebb76a8b5.png" alt="Using Slots To Render Vue Logo And &quot;Hello World&quot;" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo-300x141.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="68218" data-permalink="https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/using-slots-render-vue-logo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png" data-orig-size="730,343" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using slots render Vue logo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo-300x141.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-68218" src="../Images/305169b38649f1b97616156ebb76a8b5.png" alt="Using Slots To Render Vue Logo And &quot;Hello World&quot;" srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo-300x141.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-slots-render-Vue-logo.png"/></noscript>
<h3>如何使用Vue.js命名槽？</h3>
<p>Vue允许一个组件有多个插槽，这意味着您可以拥有任意数量的插槽。为了测试这一点，将这个新代码块复制到您的<code>test.vue</code>文件中:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;slot&gt;&lt;/slot&gt;
    &lt;slot&gt;&lt;/slot&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: 'Test'
}
&lt;/script&gt;
</pre>
<p>如果您运行应用程序，您可以看到<code>hello world</code>被打印了三次。所以如果你想添加更多的内容——比如一个标题、一段文字，然后是一个无序列表——Vue让我们命名范围，这样它就可以识别要显示的特定范围。</p>
<p>在<code>test.vue</code>文件中命名插槽如下所示:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;slot name="header"&gt;&lt;/slot&gt;
    &lt;slot name="paragraph"&gt;&lt;/slot&gt;
    &lt;slot name="links"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: 'Test'
}
&lt;/script&gt;
</pre>
<p>现在，您还必须根据插槽名称来标记HTML元素，以便在中显示它们。将此复制到您的<code>app.vue</code>文件的模板部分:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test&gt;
      &lt;h2 slot="header"&gt;Hello world!&lt;/h2&gt;
      &lt;p slot="paragraph"&gt;Hello, I am a paragraph text&lt;/p&gt;
      &lt;ul slot="links"&gt;
        &lt;li&gt;Hello, I am a list item&lt;/li&gt;
        &lt;li&gt;Hello, I am a list item&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/Test&gt;
  &lt;/div&gt;
&lt;/template&gt;
</pre>
<h3>怎么用<code>V-slots</code>？</h3>
<p>当Vue版本2.6发布时，它提供了一个更好的语法来引用来自名为<code>v-slot</code>的子组件的插槽名称，这意味着要取代最初的插槽语法。因此，与带有如下槽的父组件模板不同:</p>
<pre class="language-javascript hljs">&lt;Test&gt;
   &lt;h1 slot="header"&gt;Hello world!&lt;/h1&gt;
&lt;/Test&gt;
</pre>
<p>从版本3.0开始，它现在看起来像这样:</p>
<pre class="language-javascript hljs">&lt;Test v-slot:header&gt;
   &lt;h1&gt;Hello world!&lt;/h1&gt;
&lt;/Test&gt;
</pre>
<p>注意，除了字符串从<code>slot</code>到<code>v-slot</code>的微小变化外，还有一个重大变化:<code>v-slot</code>只能在模板上定义，而不能在任何HTML元素上定义。这是一个很大的变化，因为它质疑了命名插槽的可用性，但是在撰写本文时，插槽仍然是文档的一部分。</p>
<h3>什么是作用域槽？</h3>
<p>想象一个场景，其中Vue插槽也可以从父组件访问子组件中的数据对象——一种具有props功能的插槽。</p>
<p>为了说明这一点，通过将下面的代码块复制到<code>test.vue</code>文件中，在子组件中创建一个数据对象:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div&gt;
    &lt;slot v-bind:team="team"&gt;&lt;/slot&gt;
    &lt;slot name="paragraph"&gt;&lt;/slot&gt;
    &lt;slot name="links"&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  name: 'Test',
  data(){
    return{
      team:"FC Barcelona"
    }
  }
}
&lt;/script&gt;
</pre>
<p>就像普通的道具一样，<code>v-bind</code>指令将数据中的团队与父组件中的道具引用绑定在一起。打开您的<code>app.vue</code>文件，将下面的代码块复制到模板部分:</p>
<pre class="language-javascript hljs">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;img alt="Vue logo" src="./assets/logo.png"&gt;
    &lt;Test v-slot="{team}"&gt;
      &lt;h2&gt;Hello world! my team is {{team}}&lt;/h2&gt;
    &lt;/Test&gt;
  &lt;/div&gt;
&lt;/template&gt;
</pre>
<p>如果您运行您的应用程序，您会看到数据对象被成功地传递到父组件。你可以在这里找到本教程的完整代码。</p>
<p><img data-attachment-id="68221" data-permalink="https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/using-scoped-slots-rendering/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png" data-orig-size="730,343" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using scoped slots rendering" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering-300x141.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png" decoding="async" class="aligncenter size-full wp-image-68221 jetpack-lazy-image" src="../Images/10cd2f00326e980165cb55bb14b895db.png" alt="Using Scoped Slots To Render Vue Logo" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering-300x141.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="68221" data-permalink="https://blog.logrocket.com/using-vue-js-slots-pass-html-content-components/using-scoped-slots-rendering/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png" data-orig-size="730,343" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Using scoped slots rendering" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering-300x141.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-68221" src="../Images/10cd2f00326e980165cb55bb14b895db.png" alt="Using Scoped Slots To Render Vue Logo" srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering-300x141.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/Using-scoped-slots-rendering.png"/></noscript>
<h2>结论</h2>
<p>这篇文章向您介绍了Vue.js中的slots，以及它们对内容注入的重要性。您看到了如何设置它，甚至如何为一个组件设置多个插槽。您还看到了插槽如何通过作用域充当道具。继续并享受在您的工作流中实现插槽。</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>