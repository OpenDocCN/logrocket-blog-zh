<html>
<head>
<title>Building reusable web components with Stencil.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Stencil.js构建可重用的web组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/#0001-01-01">https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://stenciljs.com/" target="_blank" rel="noopener noreferrer"> Stencil </a>是由<a href="https://ionicframework.com/team" target="_blank" rel="noopener noreferrer"> Ionic团队</a>开发的用于生成web组件的编译器。Stencil中的Web组件可以用作独立组件，作为Stencil web应用程序的一部分，以及作为Ionic progressive web应用程序的一部分。</p>
<p>根据Ionic团队的说法，Stencil不应该被称为框架，但在我看来它很像框架:)。</p>
<p>一个web组件(如果你错过了的话)只不过是一个定制的HTML标签(<my-element> </my-element>)，用JavaScript编写了额外的逻辑。</p>
<p>Stencil中的组件用<strong> TypeScript </strong>编写，然后编译成各种版本的JavaScript。编译器生成的各种包旨在用于不同的场景。涵盖了所有内容，从带有polyfills的旧浏览器到带有所有闪亮JavaScript特性的新浏览器。角度与<a href="https://angular.io/guide/deployment#differential-loading" target="_blank" rel="noopener noreferrer">差载</a>相同。</p>
<p>模板看起来像反应和角的混合物。两个团队的开发人员会发现许多熟悉的概念和关键词，正因为如此，学习Stencil应该很容易。</p>
<p>在这个介绍性的例子中，我们可以用一个使用JSX的渲染方法来发现一个组件装饰器。</p>
<pre>import { Component, Prop, h } from '@stencil/core';

@Component({
  tag: 'my-first-component',
})
export class MyComponent {

  // Indicate that name should be a public property on the component
  @Prop() name: string;

  render() {
    return (
      &lt;p&gt;
        My name is {this.name}
      &lt;/p&gt;
    );
  }
}</pre>
<p>并且<code>Prop</code>在角度上与<code>Input</code>标签相似。</p>
<h3>模具:</h3>
<ul>
<li>可以与所有主要的前端框架结合，也可以与其他JavaScript库结合，或者根本没有库</li>
<li>它不需要运行时间(像Angular，React，Vue…)。使用一个生成的JavaScript包就足够了</li>
<li>它与<a href="https://developers.google.com/web/fundamentals/web-components/customelements" target="_blank" rel="noopener noreferrer">自定义元素v1 </a>的实现完全一致</li>
<li>生产包的大小从大约100 kb开始，polyfills的大小为大约133 kb(我们可以压缩它)</li>
</ul>
<h2>浏览器支持</h2>
<p>一般来说，所有主流浏览器都支持web组件(和模板)。从12到18的(在WebKit实现之前)的<a href="https://caniuse.com/#search=web%20components" target="_blank" rel="noopener noreferrer"> Edge版本不支持它们。不管怎样，它只占世界上所有使用过的浏览器的2%。</a></p>
<p>Stencil的主要用户是Ionic framework，<a href="https://github.com/ionic-team/ionic/tree/master/core/src/components" target="_blank" rel="noopener noreferrer">它的所有UI组件都是使用Stencil </a>构建的。通过前面的链接，浏览其中的几个，看看他们是怎么做的。阅读高质量的代码是一种很好的学习方式。</p>
<h2>入门指南</h2>
<p><strong>模板</strong>提供了开箱即用的工具。它附带了一个集成开发服务器、一个组件生成器、一个各种包的编译器、一个文档生成器和一个测试套件。</p>
<h2>先决条件</h2>
<p>我们必须安装最新的LTS版本的节点和NPM，以便与它合作。您应该首先验证您所拥有的:</p>
<pre>node -v
npm -v</pre>
<p>确保我们有<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer"> Node.js </a> ≥ 12和<a href="https://www.npmjs.com/get-npm" target="_blank" rel="noopener noreferrer"> NPM </a>版本≥ 6。</p>
<p>我们必须将Stencil作为一个全局包安装:</p>
<pre>npm install -g stencil</pre>
<p>组件的扩展是TSX，因为它使用JSX作为模板语言。</p>
<p>现在，如果我们想要生成我们的项目，我们将不得不使用由Stencil through NPM init提供的交互式向导:</p>
<pre>npm init stencil</pre>
<p>为了演示它的用法，让我们构建一个简单的加密货币小部件。</p>
<p>我们想要构建一个可重用的组件，所以我们将选择第三个选项，<strong>组件</strong>。</p>
<p><img data-attachment-id="8299" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png" data-orig-size="696,129" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal-300x56.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png" decoding="async" class="aligncenter wp-image-8299 size-full jetpack-lazy-image" src="../Images/9179e9ed378bf47c54d7bee09eaf6be5.png" alt="terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png 696w, https://blog.logrocket.com/wp-content/uploads/2019/10/terminal-300x56.png 300w" data-lazy-sizes="(max-width: 696px) 100vw, 696px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8299" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/terminal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png" data-orig-size="696,129" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal-300x56.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png" decoding="async" loading="lazy" class="aligncenter wp-image-8299 size-full" src="../Images/9179e9ed378bf47c54d7bee09eaf6be5.png" alt="terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png 696w, https://blog.logrocket.com/wp-content/uploads/2019/10/terminal-300x56.png 300w" sizes="(max-width: 696px) 100vw, 696px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/terminal.png"/></noscript>
<p>几秒钟后，您应该会看到:</p>
<p><img data-attachment-id="8296" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/done-1/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png" data-orig-size="612,484" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="done-1" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1-300x237.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png" decoding="async" class="aligncenter wp-image-8296 size-full jetpack-lazy-image" src="../Images/f3a9b798d17e0fa5e6ae629dd9cbf283.png" alt="complete generate component" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png 612w, https://blog.logrocket.com/wp-content/uploads/2019/10/done-1-300x237.png 300w" data-lazy-sizes="(max-width: 612px) 100vw, 612px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8296" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/done-1/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png" data-orig-size="612,484" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="done-1" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1-300x237.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png" decoding="async" loading="lazy" class="aligncenter wp-image-8296 size-full" src="../Images/f3a9b798d17e0fa5e6ae629dd9cbf283.png" alt="complete generate component" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png 612w, https://blog.logrocket.com/wp-content/uploads/2019/10/done-1-300x237.png 300w" sizes="(max-width: 612px) 100vw, 612px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/done-1.png"/></noscript>
<h2>创建组件</h2>
<p>首先，我们将从代码中删除生成的组件<code>my-component</code>。可以随意删除。</p>
<p>之后，使用<strong> npm run generate </strong>，我们将生成我们的第一个组件:</p>
<p><img data-attachment-id="8295" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/generate/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png" data-orig-size="788,283" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generate" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate-300x108.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png" decoding="async" class="aligncenter wp-image-8295 size-full jetpack-lazy-image" src="../Images/2b306b1040835a7fcffe8b94565916ef.png" alt="generate" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png 788w, https://blog.logrocket.com/wp-content/uploads/2019/10/generate-300x108.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/generate-768x276.png 768w" data-lazy-sizes="(max-width: 788px) 100vw, 788px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8295" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/generate/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png" data-orig-size="788,283" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="generate" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate-300x108.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png" decoding="async" loading="lazy" class="aligncenter wp-image-8295 size-full" src="../Images/2b306b1040835a7fcffe8b94565916ef.png" alt="generate" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png 788w, https://blog.logrocket.com/wp-content/uploads/2019/10/generate-300x108.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/generate-768x276.png 768w" sizes="(max-width: 788px) 100vw, 788px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/generate.png"/></noscript>
<p>重要的是我们的组件有一个带破折号的名称。在我们的例子中，它是<strong>加密视图</strong>。这将是我们定制的HTML标签的名字&lt;加密视图&gt;&lt;/加密视图&gt;。</p>
<p>手动地，我们必须替换<code>src/index.html</code>中从<code>my-component</code>到<code>crypto-view</code>的引用，以便让开发服务器再次工作:</p>
<p><img data-attachment-id="8301" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png" data-orig-size="478,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder-300x248.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png" decoding="async" class="aligncenter wp-image-8301 size-full jetpack-lazy-image" src="../Images/224d9e6603653a92b2abd215f9b9a55e.png" alt="folder layout" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png 478w, https://blog.logrocket.com/wp-content/uploads/2019/10/folder-300x248.png 300w" data-lazy-sizes="(max-width: 478px) 100vw, 478px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8301" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png" data-orig-size="478,395" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder-300x248.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png" decoding="async" loading="lazy" class="aligncenter wp-image-8301 size-full" src="../Images/224d9e6603653a92b2abd215f9b9a55e.png" alt="folder layout" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png 478w, https://blog.logrocket.com/wp-content/uploads/2019/10/folder-300x248.png 300w" sizes="(max-width: 478px) 100vw, 478px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/folder.png"/></noscript>
<p>这是我们生成的组件的样子:</p>
<pre>import { Component, Host, h } from '@stencil/core';

@Component({
  tag: 'crypto-view',
  styleUrl: 'crypto-view.css',
  shadow: true
})
export class CryptoView {

  render() {
    return (
      &lt;Host&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>我们可以立即发现我们的<code>@Component</code>装饰器设置<code>shadow: true</code>。我们的主(入口)组件有这个设置是非常重要的。基本上，这意味着这个元素将通过影子根与页面中的DOM的其余部分隔离开来:</p>
<p><img data-attachment-id="8304" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png" data-orig-size="693,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="chrome" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png" decoding="async" class="aligncenter wp-image-8304 size-full jetpack-lazy-image" src="../Images/fc5307465bb464a145d8d0ebcea6a821.png" alt="setting for shadow root" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png 693w, https://blog.logrocket.com/wp-content/uploads/2019/10/chrome-300x87.png 300w" data-lazy-sizes="(max-width: 693px) 100vw, 693px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8304" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/chrome/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png" data-orig-size="693,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="chrome" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png" decoding="async" loading="lazy" class="aligncenter wp-image-8304 size-full" src="../Images/fc5307465bb464a145d8d0ebcea6a821.png" alt="setting for shadow root" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png 693w, https://blog.logrocket.com/wp-content/uploads/2019/10/chrome-300x87.png 300w" sizes="(max-width: 693px) 100vw, 693px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/chrome.png"/></noscript>
<p>这进一步意味着在<code>crypto-view.css</code>中定义的样式将不会被应用到crypto-view组件之外的任何元素。</p>
<p>在render方法中，我们有:</p>
<pre>render() {
  return (
    &lt;Host&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/Host&gt;
  );
}</pre>
<p><code>Host</code>顾名思义，指主机组件。在我们的例子中，它是&lt;加密视图&gt;元素。看看这个简单的例子:</p>
<pre>render() {
  return (
    &lt;Host class={'hello'}&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/Host&gt;
  );
}</pre>
<p>这将在crptyo-view组件上追加类hello。</p>
<figure id="attachment_8307" aria-describedby="caption-attachment-8307" class="wp-caption aligncenter"><img data-attachment-id="8307" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/hello/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png" data-orig-size="643,132" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello-300x62.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png" decoding="async" class="wp-image-8307 size-full jetpack-lazy-image" src="../Images/9740bbce8b70c7b5dd28e6b204390a91.png" alt="hello demo" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png 643w, https://blog.logrocket.com/wp-content/uploads/2019/10/hello-300x62.png 300w" data-lazy-sizes="(max-width: 643px) 100vw, 643px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="8307" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/hello/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png" data-orig-size="643,132" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello-300x62.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png" decoding="async" loading="lazy" class="wp-image-8307 size-full" src="../Images/9740bbce8b70c7b5dd28e6b204390a91.png" alt="hello demo" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png 643w, https://blog.logrocket.com/wp-content/uploads/2019/10/hello-300x62.png 300w" sizes="(max-width: 643px) 100vw, 643px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/hello.png"/></noscript><figcaption id="caption-attachment-8307" class="wp-caption-text">Class hydrated is added by Stenci</figcaption></figure>
<p>在JSX，我们必须有根(包装)元素。默认情况下，它在模板中是<code>Host</code>，但也可以是<code>DIV</code>。</p>
<p>在主持人中，我们有<code>slot</code>。如果你来自有角的生态系统，<code>slot</code>就是<code>ng-content</code>。它将投射在&lt;加密视图&gt;…&lt;/加密视图&gt;标签之间传递的任何内容。我们可以传递HTML，子组件或者文本，它会投射到我们定义&lt; slot &gt; &lt; /slot &gt;的地方。</p>
<p>我们也可以有多个插槽，请看这个示例:</p>
<pre>&lt;ui-component&gt;
  &lt;p slot='my-title'&gt;Title&lt;/p&gt;
  &lt;p slot='my-description'&gt;Description&lt;/p&gt;
&lt;/ui-component&gt;</pre>
<p>它可以使用slot中的name属性来呈现:</p>
<pre>render () {
  return (&lt;div&gt;
    &lt;slot name='my-title' /&gt;
    &lt;slot name='my-description' /&gt;
  &lt;/div&gt;)
}</pre>
<h2>半铸钢ˌ钢性铸铁(Cast Semi-Steel)</h2>
<p>现在让我们打开CSS文件<code>crypto-view.css</code>:</p>
<pre>:host {
  display: block;
}</pre>
<p>我们会看到只有<code>:host</code>被定义。类似于JSX代码中的<code>Host</code>元素，<code>:host</code>指的是一个主机组件&lt; crypto-view &gt;，默认为<code>display: block</code>。注意，HTML中的大多数元素都有<code>display: block</code>。现在，当这个被设置时，我们可以通过<code>:host</code>指令将任何CSS样式应用到一个主机元素。</p>
<h2>道具(属性)</h2>
<p>由于我们必须从某个地方获取加密数据，我们将使用cryptocompare.com的API，因为它提供免费的API密钥。</p>
<p>我们将定义的第一个道具是apiKey。带有骆驼大小写专有名称解析为两个单词，中间有一个破折号，因为骆驼大小写在HTML中不受支持，而在JSX中受支持。</p>
<p><img data-attachment-id="8311" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png" data-orig-size="766,39" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop-300x15.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png" decoding="async" class="aligncenter wp-image-8311 size-full jetpack-lazy-image" src="../Images/9250ea5606d194dd96f195c4ca95dfd9.png" alt="props" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png 766w, https://blog.logrocket.com/wp-content/uploads/2019/10/prop-300x15.png 300w" data-lazy-sizes="(max-width: 766px) 100vw, 766px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8311" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/prop/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png" data-orig-size="766,39" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="prop" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop-300x15.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png" decoding="async" loading="lazy" class="aligncenter wp-image-8311 size-full" src="../Images/9250ea5606d194dd96f195c4ca95dfd9.png" alt="props" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png 766w, https://blog.logrocket.com/wp-content/uploads/2019/10/prop-300x15.png 300w" sizes="(max-width: 766px) 100vw, 766px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/prop.png"/></noscript>
<p>在我们的组件中:</p>
<pre>import { Component, Host, h, Prop } from '@stencil/core';

@Component({
  tag: 'crypto-view',
  styleUrl: 'crypto-view.css',
  shadow: true
})
export class CryptoView {

  /**
   * Valid API key obtained from cryptocompare.com
   */
  @Prop() apiKey: string;

  componentDidLoad() {
    console.log(this.apiKey);
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<h2>生命周期方法(挂钩)</h2>
<p>注意<code>componentDidLoad</code>函数，以及其中的<code>console.log</code>。如果我们现在运行应用程序，我们将看到我们的apiKey记录在控制台中。</p>
<p>类方法<code>componentDidLoad</code>是一个生命周期挂钩。这意味着它在组件生命周期中的某个定义点被触发。来自React背景的开发人员会认出这个名字。</p>
<p>以下是一些常用的钩子(模板中的生命周期方法):</p>
<ul>
<li><strong> componentWillLoad() </strong>渲染前触发</li>
<li><strong> componentDidLoad() </strong>渲染后触发(插入到DOM中)</li>
<li><strong> componentWillUpdate() </strong>更新前触发</li>
<li><strong> componentDidUpdate() </strong>更新后触发</li>
<li><strong> componentDidUnload() </strong>在卸载(从DOM中移除)后触发</li>
</ul>
<p>我们可以在<a href="https://stenciljs.com/docs/component-lifecycle" target="_blank" rel="noopener noreferrer">模板文档页面上找到生命周期方法</a>的完整列表和解释。</p>
<p>在我们的例子中，由于apiKey不是异步设置的，我们可以使用<code>componentDidLoad</code>钩子来获取它的值并调用API。注意<code>componentDidLoad</code>只被调用一次，而有些生命周期方法可以被调用多次。</p>
<p>我们将在<code>src/utils/utils.ts</code>中创建函数<code>getCryptoData</code>，该函数将获取比特币、以太币和Ripple的最新美元和欧元价格。</p>
<pre>import { CryptoInterface } from '../components/crypto-view/crypto.interface';

export function getCryptoData(apiKey: string): Promise&lt;CryptoInterface&gt; {
  return fetch(`https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH,XRP&amp;tsyms=USD,EUR&amp;api_key=${apiKey}`)
    .then(response =&gt; response.json());
}</pre>
<p>来自API的响应被映射到接口，以便从IDE(在我的例子中是WebStrom)获得类型支持。</p>
<pre>export interface CryptoInterface {
  BTC: IPrices;
  ETH: IPrices;
  XRP: IPrices;
}

interface IPrices {
  USD: number;
  EUR: number;
}</pre>
<h2>状态</h2>
<p>来自服务器的响应存储在由<code>@State</code>修饰的变量<code>cryptoData</code>中。</p>
<pre>import { Component, Host, h, Prop, State } from '@stencil/core';
import { getCryptoData } from '../../utils/utils';
import { CryptoInterface } from './crypto.interface';

@Component({
  tag: 'crypto-view',
  styleUrl: 'crypto-view.css',
  shadow: true
})
export class CryptoView {

  /**
   * Valid API key obtained from cryptocompare.com
   */
  @Prop() apiKey: string;

  @State() cryptoData: CryptoInterface;

  componentDidLoad() {
    getCryptoData(this.apiKey).then((data) =&gt; {
      this.cryptoData = data;
    });
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>变量的每个变化都用装饰器<code>State</code>标注，这将触发组件的重新呈现。它与React中的相同。在Angular，这是一个不同的(而且更长的)故事。</p>
<p>在React中，设置状态是用内部方法<code>setState</code>完成的，相当于给Stencil中的<code>cryptoData</code>变量赋值(不是普通变量，是状态变量)。</p>
<p>在我们的例子中，我们异步获取加密数据，在组件中接收到数据后，我们将其分配给状态变量<code>cryptoData</code>。</p>
<p>为了显示数据，我们将创建另一个名为crypto-table的组件:</p>
<p><img data-attachment-id="8317" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/crypto-table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png" data-orig-size="809,275" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="crypto-table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png" decoding="async" class="aligncenter wp-image-8317 size-full jetpack-lazy-image" src="../Images/0e5305f8bc51a7669aed66d5be4b37d6.png" alt="crypto data" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png 809w, https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-300x102.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-768x261.png 768w" data-lazy-sizes="(max-width: 809px) 100vw, 809px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8317" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/crypto-table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png" data-orig-size="809,275" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="crypto-table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png" decoding="async" loading="lazy" class="aligncenter wp-image-8317 size-full" src="../Images/0e5305f8bc51a7669aed66d5be4b37d6.png" alt="crypto data" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png 809w, https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-300x102.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table-768x261.png 768w" sizes="(max-width: 809px) 100vw, 809px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/crypto-table.png"/></noscript>
<p>crpyto表是一个表示组件。这样的组件只通过道具接收东西，并把它们展示到JSX。没有内部状态，没有本地计算等等。</p>
<p>看起来是这样的:</p>
<pre>import { Component, Host, h, Prop } from '@stencil/core';

import { CryptoInterface } from '../crypto-view/crypto.interface';

@Component({
  tag: 'crypto-table',
  styleUrl: 'crypto-table.css',
  shadow: false,
  scoped: true
})
export class CryptoTable {

  @Prop() cryptoData: CryptoInterface;
  @Prop() cryptoCurrencies: string[];

  render() {
    return (
      &lt;Host&gt;
        &lt;table class={'crypto'}&gt;
          &lt;tr&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;USD&lt;/td&gt;
            &lt;td&gt;EUR&lt;/td&gt;
          &lt;/tr&gt;
          {this.cryptoCurrencies.map((item) =&gt; {
            return this.cryptoData &amp;&amp; item in this.cryptoData ? &lt;tr&gt;
              &lt;td&gt;{item}&lt;/td&gt;
              &lt;td&gt;{this.cryptoData[item].USD}&lt;/td&gt;
              &lt;td&gt;{this.cryptoData[item].EUR}&lt;/td&gt;
            &lt;/tr&gt; : null
          })}
        &lt;/table&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>现在，如果你熟悉React，Stencil使用JSX和同样的原理来显示数据。如果你来自Angular，忘掉<code>ngIf</code>和<code>ngFor</code>指令，尽快习惯<a href="https://stenciljs.com/docs/templating-jsx" target="_blank" rel="noopener noreferrer"> JSX </a>。</p>
<p>在这个组件中，我们将shadow设置为false，因为我们不需要在DOM中进一步隔离这个组件。这里的新设置是<code>scoped: true</code>，它为这个组件中的每个元素添加了额外的CSS类(<code>cs-crypto-table</code>):</p>
<p><img data-attachment-id="8320" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/scoped/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png" data-orig-size="689,289" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scoped" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png" decoding="async" class="aligncenter wp-image-8320 size-full jetpack-lazy-image" src="../Images/09c0e84149527601deef086865fe4f75.png" alt="scoped css" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png 689w, https://blog.logrocket.com/wp-content/uploads/2019/10/scoped-300x126.png 300w" data-lazy-sizes="(max-width: 689px) 100vw, 689px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8320" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/scoped/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png" data-orig-size="689,289" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scoped" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped-300x126.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png" decoding="async" loading="lazy" class="aligncenter wp-image-8320 size-full" src="../Images/09c0e84149527601deef086865fe4f75.png" alt="scoped css" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png 689w, https://blog.logrocket.com/wp-content/uploads/2019/10/scoped-300x126.png 300w" sizes="(max-width: 689px) 100vw, 689px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/scoped.png"/></noscript>
<p>模板中组件装饰器的作用域和阴影属性的组合类似于Angular中的<code>ViewEncapsulation</code>。</p>
<p>对于创建哑(表示)组件，我们可以使用<a href="https://stenciljs.com/docs/functional-components" target="_blank" rel="noopener noreferrer">功能组件</a>方法。它们是箭头函数，接受道具作为参数并返回JSX。</p>
<p>在<code>CryptoView</code>组件中，我们将注入<code>CryptoTable</code>并通过props绑定传递数据:</p>
<pre>import { Component, Host, h, Prop, State } from '@stencil/core';
import { getCryptoData } from '../../utils/utils';
import { CryptoInterface } from './crypto.interface';

@Component({
  tag: 'crypto-view',
  styleUrl: 'crypto-view.css',
  shadow: true
})
export class CryptoView {

  /**
   * Valid API key obtained from cryptocompare.com
   */
  @Prop() apiKey: string;

  @State() cryptoData: CryptoInterface;

  cryptoCurrencies = ['BTC', 'ETH', 'XRP'];

  componentDidLoad() {
    getCryptoData(this.apiKey).then((data) =&gt; {
      this.cryptoData = data;
    });
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;b&gt;Crypto data on date: {new Date().toLocaleDateString()}&lt;/b&gt;
        &lt;crypto-table cryptoData={this.cryptoData} cryptoCurrencies={this.cryptoCurrencies} /&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>注意，我们不需要在任何地方导入CryptoTable，这都是由模板编译器完成的。</p>
<p>我从W3school抓取了CSS，我们的crypto表看起来是这样的:<img data-attachment-id="8323" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png" data-orig-size="836,161" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png" decoding="async" class="aligncenter wp-image-8323 size-full jetpack-lazy-image" src="../Images/261041d9492399696a2e1632bbe7a9b9.png" alt="crypto table css" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png 836w, https://blog.logrocket.com/wp-content/uploads/2019/10/table-300x58.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/table-768x148.png 768w" data-lazy-sizes="(max-width: 836px) 100vw, 836px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8323" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png" data-orig-size="836,161" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table-300x58.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png" decoding="async" loading="lazy" class="aligncenter wp-image-8323 size-full" src="../Images/261041d9492399696a2e1632bbe7a9b9.png" alt="crypto table css" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png 836w, https://blog.logrocket.com/wp-content/uploads/2019/10/table-300x58.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/table-768x148.png 768w" sizes="(max-width: 836px) 100vw, 836px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/table.png"/></noscript>
<h2>方法</h2>
<p>如果我们设想一个场景，其中宿主应用程序想要刷新组件中的加密数据。我们必须以某种方式公开将触发重新获取加密数据的方法。</p>
<p>Stencil为此引入了<code>Method</code>装饰器:</p>
<pre>@Method()
async refreshCryptoData() {
  getCryptoData(this.apiKey).then((data) =&gt; {
    this.cryptoData = data;
  });
}</pre>
<p>公开的类方法必须标记为异步函数。这是模板的要求。</p>
<p>现在，在index.html我们可以这样称呼它:</p>
<pre>&lt;!DOCTYPE html&gt;
&lt;html dir="ltr" lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"&gt;
  &lt;title&gt;Stencil Component Starter&lt;/title&gt;

  &lt;script type="module" src="/build/crypto-widget.esm.js"&gt;&lt;/script&gt;
  &lt;script nomodule src="/build/crypto-widget.js"&gt;&lt;/script&gt;

&lt;/head&gt;
&lt;body&gt;
    &lt;crypto-view api-key="fd937be4428d64cf4dd1b51146aef28e46d224aea7ea5bdfbbb6d296a05ec1a9"&gt;&lt;/crypto-view&gt;

    &lt;script&gt;
        document.addEventListener('DOMContentLoaded', (event) =&gt; {
            const cryptoView = document.querySelector('crypto-view');
            setTimeout(() =&gt; {
                cryptoView.refreshCryptoData();
            }, 2000);
        })
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>为了便于演示，我们等待两秒钟，然后调用<code>method</code>来刷新组件中的加密数据。</p>
<h2>事件</h2>
<p>在Stencil中，事件类似于Angular中的<code>Output</code>,其中子组件可以发出某种东西，而父组件可以捕捉到它。事件用于将数据从子组件推送到父组件。这类似于我们每天在Angular和React中所做的事情。</p>
<p>有两种捕捉事件的方法。一个带有组件的属性，另一个带有<code>Listen</code>装饰器。</p>
<p>首先，让我们尝试从子组件通知父组件:</p>
<p><img data-attachment-id="8297" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/refresger/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png" data-orig-size="798,271" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="refresher" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png" decoding="async" class="aligncenter wp-image-8297 size-full jetpack-lazy-image" src="../Images/1d0528d519dffba167965c550b6fbacb.png" alt="refresher" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png 798w, https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-300x102.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-768x261.png 768w" data-lazy-sizes="(max-width: 798px) 100vw, 798px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8297" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/refresger/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png" data-orig-size="798,271" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="refresher" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png" decoding="async" loading="lazy" class="aligncenter wp-image-8297 size-full" src="../Images/1d0528d519dffba167965c550b6fbacb.png" alt="refresher" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png 798w, https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-300x102.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/10/refresger-768x261.png 768w" sizes="(max-width: 798px) 100vw, 798px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/refresger.png"/></noscript>
<p>代码如下:</p>
<pre>import { Component, Host, Event, h, EventEmitter } from '@stencil/core';

@Component({
  tag: 'crypto-refresher',
  styleUrl: 'crypto-refresher.css',
})
export class CryptoRefresher {

  @Event() refreshCryptoData: EventEmitter;

  refresh() {
    this.refreshCryptoData.emit(true);
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;button onClick={() =&gt; this.refresh()}&gt;Refresh Crypto Data&lt;/button&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>我们的<code>refreshCryptoData</code>用<code>Event</code>装饰器装饰(不要忘记从@stencil/core导入它),然后在点击按钮时发出。</p>
<pre>import { Component, Host, h, Prop, State, Method, Listen } from '@stencil/core';
import { getCryptoData } from '../../utils/utils';
import { CryptoInterface } from './crypto.interface';

@Component({
  tag: 'crypto-view',
  styleUrl: 'crypto-view.css',
  shadow: true
})
export class CryptoView {

  /**
   * Valid API key obtained from cryptocompare.com
   */
  @Prop() apikey: string;

  @State() cryptoData: CryptoInterface;

  cryptoCurrencies = ['BTC', 'ETH', 'XRP'];

  componentDidLoad() {
    this.fetchData();
  }

  fetchData() {
    getCryptoData(this.apikey).then((data) =&gt; {
      this.cryptoData = data;
    });
  }

  @Method()
  async refreshCryptoData() {
    this.fetchData();
  }

  @Listen('refreshCryptoData')
  listen(event) {
    console.log(event)
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;b&gt;Crypto data on date: {new Date().toLocaleDateString()}&lt;/b&gt;
        &lt;crypto-table cryptoData={this.cryptoData} cryptoCurrencies={this.cryptoCurrencies} /&gt;
        &lt;crypto-refresher onRefreshCryptoData={() =&gt; this.fetchData()} /&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>注意，我们使用了调用组件<crypto-refresher/>的简化版本，这是首选方式，因为我们没有向其中投射任何数据。</p>
<p>让我们先用组件上的一个属性来捕捉这个事件。</p>
<p>在Stencil中，我们应该用前缀<code>on</code>来命名捕捉事件的属性。如果我们的事件被调用，那么捕捉它的属性是<code>onRefreshCryptoData</code>。在我们的例子中，<code>onRefreshCryptoData</code>是一个箭头函数，它将调用<code>fetchData</code>方法。</p>
<p>如果我们通过事件传递一些数据，我们将在箭头函数参数中包含这些数据。</p>
<p>捕捉事件的第二种方法是使用<code>Listen</code>装饰器。它接受事件的名称作为参数，并在捕获事件后调用下面的函数。<code>Listen</code>装饰器在监听系统事件(如调整大小、滚动等)时非常方便。它在棱角方面与<code>HostListener</code>相似。</p>
<h2>观察(反应)</h2>
<p>现在，如果想监听<code>Props</code>的变化并调用其他方法或计算其他东西，我们必须使用<code>Watch</code>装饰器。</p>
<p>例如，如果我们想要计算crytpo表组件中的价格总和并显示出来，我们将不得不等待获取并传递<code>cryptoData</code>,然后计算总和。</p>
<pre>import { Component, Host, h, Prop, Watch, State } from '@stencil/core';

import { CryptoInterface } from '../crypto-view/crypto.interface';

@Component({
  tag: 'crypto-table',
  styleUrl: 'crypto-table.css',
  shadow: false,
  scoped: true
})
export class CryptoTable {

  @Prop() cryptoData: CryptoInterface;
  @Prop() cryptoCurrencies: string[];

  @State() sum: { USD: number, EUR: number };

  @Watch('cryptoData')
  watching(cryptoData: CryptoInterface) {
    this.sum = {
      USD: Math.round(cryptoData.BTC.USD + cryptoData.ETH.USD + cryptoData.XRP.USD),
      EUR: Math.round(cryptoData.BTC.EUR + cryptoData.ETH.EUR + cryptoData.XRP.EUR),
    }
  }

  render() {
    return (
      &lt;Host&gt;
        &lt;table class={'crypto'}&gt;
          &lt;tr&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;USD&lt;/td&gt;
            &lt;td&gt;EUR&lt;/td&gt;
          &lt;/tr&gt;
          {this.cryptoCurrencies.map((item) =&gt; {
            return this.cryptoData &amp;&amp; item in this.cryptoData ? &lt;tr&gt;
              &lt;td&gt;{item}&lt;/td&gt;
              &lt;td&gt;{this.cryptoData[item].USD}&lt;/td&gt;
              &lt;td&gt;{this.cryptoData[item].EUR}&lt;/td&gt;
            &lt;/tr&gt; : null
          })}
          {this.sum ?
          &lt;tr&gt;
            &lt;td&gt;&lt;/td&gt;
            &lt;td&gt;{this.sum.USD}&lt;/td&gt;
            &lt;td&gt;{this.sum.EUR}&lt;/td&gt;
          &lt;/tr&gt; : null }
        &lt;/table&gt;
      &lt;/Host&gt;
    );
  }

}</pre>
<p>在上面的例子中，每次<code>cryptoData</code>改变时，组件将计算所有货币的总和。</p>
<h2>建筑和使用</h2>
<p>为了构建这个项目并产生可共享的包，我们必须运行</p>
<pre>npm run build</pre>
<p>构建将在其中产生一个dist文件夹和crypto-widget文件夹。</p>
<p><img data-attachment-id="8334" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png" data-orig-size="468,593" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build-237x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png" decoding="async" class="aligncenter wp-image-8334 size-full jetpack-lazy-image" src="../Images/0e8863cfc3c1eaa1879668f5d6ff0d43.png" alt="build folder with dist" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png 468w, https://blog.logrocket.com/wp-content/uploads/2019/10/build-237x300.png 237w" data-lazy-sizes="(max-width: 468px) 100vw, 468px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="8334" data-permalink="https://blog.logrocket.com/building-reusable-web-components-with-stencil-js/build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png" data-orig-size="468,593" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build-237x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png" decoding="async" loading="lazy" class="aligncenter wp-image-8334 size-full" src="../Images/0e8863cfc3c1eaa1879668f5d6ff0d43.png" alt="build folder with dist" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png 468w, https://blog.logrocket.com/wp-content/uploads/2019/10/build-237x300.png 237w" sizes="(max-width: 468px) 100vw, 468px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/build.png"/></noscript>
<p>抓取这个文件夹并将其复制到我们想要包含组件的位置是安全的。</p>
<p>在HTML中包含两个文件就足够了，第一个是crypto-widget.js，它是一个es5包(带有polyfills ),旨在用于较旧的浏览器(IE 11)。</p>
<p>第二个是crypto-widget.esm.js，它带有所有新的JavaScript特性，如代码分割、异步等待等。</p>
<pre>&lt;script type="module" src="/build/crypto-widget.esm.js"&gt;&lt;/script&gt;
&lt;script nomodule src="/build/crypto-widget.js"&gt;&lt;/script&gt;</pre>
<p>如今的浏览器很聪明，它们只会加载自己需要的东西。</p>
<h2>结论</h2>
<p>模板是一个很棒的库。它开发得很好，有很好的文档记录，经过实战检验，由一家大公司支持，符合标准，并且非常容易学习。</p>
<p>模板的使用案例包括:</p>
<ul>
<li>为大型项目和组织创建设计系统(可共享的UI组件)</li>
<li>创建应用程序的可移植部分，可以在许多不同的地方共享和使用。(查看器、小部件、集成等。)</li>
</ul>
<p>你可以在这里找到这个项目的GitHub repo。</p>
<p>编码快乐！</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:全面了解您的网络和移动应用</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放问题，就像问题发生在您自己的浏览器中一样。LogRocket不需要猜测错误发生的原因，也不需要向用户询问截图和日志转储，而是让您重放会话以快速了解哪里出错了。它可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。</p>
<p>除了记录Redux操作和状态，LogRocket还记录控制台日志、JavaScript错误、堆栈跟踪、带有头+正文的网络请求/响应、浏览器元数据和自定义日志。它还使用DOM来记录页面上的HTML和CSS，甚至为最复杂的单页面和移动应用程序重新创建像素级完美视频。</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>