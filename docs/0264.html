<html>
<head>
<title>Keeping it simple with the JavaScript console - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用JavaScript console - LogRocket博客保持简单</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/keeping-it-simple-with-the-javascript-console/#0001-01-01">https://blog.logrocket.com/keeping-it-simple-with-the-javascript-console/#0001-01-01</a></blockquote><div><article class="article-post">
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/4efea76a145cc61766f37aee69bfc4b7.png" data-image-id="1*GkiF3ojpNXmRy2RjJByYAg.jpeg" data-width="3898" data-height="2592" data-is-featured="true" data-lazy-src="https://cdn-images-1.medium.com/max/1600/1*GkiF3ojpNXmRy2RjJByYAg.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/1*GkiF3ojpNXmRy2RjJByYAg.jpeg"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/4efea76a145cc61766f37aee69bfc4b7.png" data-image-id="1*GkiF3ojpNXmRy2RjJByYAg.jpeg" data-width="3898" data-height="2592" data-is-featured="true" data-original-src="https://cdn-images-1.medium.com/max/1600/1*GkiF3ojpNXmRy2RjJByYAg.jpeg"/></noscript></figure>
<p class="graf graf--p">我承认，我并不总是使用调试器来找出程序中的问题。如果我的鼠标点击开始打印文档，那么是时候使用最强大的调试工具了:控制台。</p>
<p class="graf graf--p">原因很简单。当一个程序是交互式的时，包含一个中断步骤调试器变得很乏味，并且会中断流程。在这种情况下，更容易的方法是跳到代码中的几个关键位置，跟踪程序的状态，找出程序在哪里走错了路。</p>
<h3 class="graf graf--h3">显示对象</h3>
<p class="graf graf--p">方法<code><a class="markup--anchor markup--p-anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log" target="_blank" rel="noopener noreferrer" data-href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log">console.log</a></code>和它的朋友<code><a class="markup--anchor markup--p-anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/warn" target="_blank" rel="noopener noreferrer" data-href="https://developer.mozilla.org/en-US/docs/Web/API/Console/warn">console.warn</a></code>和<code><a class="markup--anchor markup--p-anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Console/error" target="_blank" rel="noopener noreferrer" data-href="https://developer.mozilla.org/en-US/docs/Web/API/Console/error">console.error</a></code>，让你在控制台中转储对象。这些函数之间唯一的区别是它们的“类型”分类，看起来略有不同，在查看控制台输出时可以过滤掉。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code>console.log(document.head, document.body);</code></pre>
<p class="graf graf--p">根据浏览器的不同，将输出如下内容(这来自Firefox，但一般功能在不同的浏览器中是相同的):</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/3b1fde7fa061c02f7f3e07bd67592fa7.png" data-image-id="0*Vwqz3jdgSCpJ06wc.png" data-width="1074" data-height="268" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*Vwqz3jdgSCpJ06wc.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*Vwqz3jdgSCpJ06wc.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/3b1fde7fa061c02f7f3e07bd67592fa7.png" data-image-id="0*Vwqz3jdgSCpJ06wc.png" data-width="1074" data-height="268" data-original-src="https://cdn-images-1.medium.com/max/1600/0*Vwqz3jdgSCpJ06wc.png"/></noscript></figure>
<p class="graf graf--p">在大多数浏览器实现中，这将显示指定JavaScript对象属性的交互式列表，以及对象的可扩展树视图。</p>
<p class="graf graf--p">还有<code>console.dir</code>，它可以让你对一个单独的对象做同样的事情，但是在表示上有一点点不同。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code>console.dir(document.head)</code></pre>
<p class="graf graf--p">将输出以下内容:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/710bd96a1a751fdd5d378f8042241078.png" data-image-id="0*rQSUcy1uujjHOpwc.png" data-width="1073" data-height="506" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*rQSUcy1uujjHOpwc.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*rQSUcy1uujjHOpwc.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/710bd96a1a751fdd5d378f8042241078.png" data-image-id="0*rQSUcy1uujjHOpwc.png" data-width="1073" data-height="506" data-original-src="https://cdn-images-1.medium.com/max/1600/0*rQSUcy1uujjHOpwc.png"/></noscript></figure>
<p class="graf graf--p">两者之间唯一值得注意的区别是，在打印对象时，<code>console.log</code>对HTML元素进行特殊处理，而<code>console.dir</code>将所有内容显示为普通对象。</p>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">注</strong>:还有<code>console.exception</code>，但这只是<code>console.error</code>的别名。</p>
<h3 class="graf graf--h3">编写格式化字符串</h3>
<p class="graf graf--p">另一种形式是类似printf的格式化字符串，后跟任意数量的替换。这种格式不像printf那样丰富，但它支持一些常见的变体，比如带<code>%s</code>的字符串、带<code>%d</code>或<code>%i</code>的整数以及带<code>%o</code>和<code>%O</code>的对象。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">for (let i = 0; i &lt; 10; i++) {
  console.log(
    "<strong class="markup--strong markup--pre-strong">%s</strong> I've been called <strong class="markup--strong markup--pre-strong">%d</strong> times, this is the document body <strong class="markup--strong markup--pre-strong">%o</strong>",
    <strong class="markup--strong markup--pre-strong">"Hello"</strong>, <strong class="markup--strong markup--pre-strong">i</strong>, <strong class="markup--strong markup--pre-strong">document.body</strong>
  );
}</code></pre>
<p class="graf graf--p">将导致显示以下内容，这些对象是交互式的，就像它们在<code>console.log</code>的另一个变体中使用一样:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/f2c7c03847e9a50cd12c0f119aae67f9.png" data-image-id="0*I2-x57V3VQV_E35K.png" data-width="1074" data-height="289" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*I2-x57V3VQV_E35K.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*I2-x57V3VQV_E35K.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/f2c7c03847e9a50cd12c0f119aae67f9.png" data-image-id="0*I2-x57V3VQV_E35K.png" data-width="1074" data-height="289" data-original-src="https://cdn-images-1.medium.com/max/1600/0*I2-x57V3VQV_E35K.png"/></noscript></figure>
<p class="graf graf--p">您还可以使用另一种替代方法——实际上，它更像是一种转义序列——让您可以使用CSS来设置文本在控制台中的显示方式。那就是<code>%c</code>换人。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">console.log(
  "<strong class="markup--strong markup--pre-strong">%c</strong> The quick <strong class="markup--strong markup--pre-strong">%c</strong> brown <strong class="markup--strong markup--pre-strong">%c</strong> fox jumps over the <strong class="markup--strong markup--pre-strong">%c</strong> lazy dog",
  "font-size: 34px;",
  "font-size: 24px; color: brown;",
  "color: orange;",
  "color: black; font-weight: bold;"
)</code></pre>
<p class="graf graf--p">将呈现如下:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/74459e34b60ef6bcbca5da02550a443f.png" data-image-id="0*H6XrYiWi1tP3lwp3.png" data-width="1073" data-height="104" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*H6XrYiWi1tP3lwp3.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*H6XrYiWi1tP3lwp3.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/74459e34b60ef6bcbca5da02550a443f.png" data-image-id="0*H6XrYiWi1tP3lwp3.png" data-width="1073" data-height="104" data-original-src="https://cdn-images-1.medium.com/max/1600/0*H6XrYiWi1tP3lwp3.png"/></noscript></figure>
<h3 class="graf graf--h3">显示对象表</h3>
<p class="graf graf--p">如果您想要查看大量数据，比如地图或对象数组，那么<code>console.table</code>可以很好地将这些数据呈现为表格数据。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code">var animals = [
  { kind: 'Horse', name: 'Henry', age: 43 },
  { kind: 'Dog', name: 'Spot', age: 13 },
  { kind: 'Cat', name: ' Mittens', age: 18 },
];</code></pre>
<pre class="graf graf--pre"><code>console.table(animals);</code></pre>
<p class="graf graf--p">将呈现如下表所示:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/152c7e2240a2bec347943ba2173760b7.png" data-image-id="0*yS9foVEOvpcGbo77.png" data-width="1075" data-height="262" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*yS9foVEOvpcGbo77.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*yS9foVEOvpcGbo77.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/152c7e2240a2bec347943ba2173760b7.png" data-image-id="0*yS9foVEOvpcGbo77.png" data-width="1075" data-height="262" data-original-src="https://cdn-images-1.medium.com/max/1600/0*yS9foVEOvpcGbo77.png"/></noscript></figure>
<p class="graf graf--p">假设您只想显示几个关键列。当调用<code>console.table</code>时，通过将包含所需列名的数组作为第二个参数传递，可以避免将它们映射到新对象的步骤。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code>console.table(animals, ['kind', 'name']);</code></pre>
<p class="graf graf--p">将呈现如下表格:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/d2d39d510b121643c21b5a854de818bc.png" data-image-id="0*SIfzg4gsBHKlzB7g.png" data-width="1075" data-height="151" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*SIfzg4gsBHKlzB7g.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*SIfzg4gsBHKlzB7g.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/d2d39d510b121643c21b5a854de818bc.png" data-image-id="0*SIfzg4gsBHKlzB7g.png" data-width="1075" data-height="151" data-original-src="https://cdn-images-1.medium.com/max/1600/0*SIfzg4gsBHKlzB7g.png"/></noscript></figure>
<h3 class="graf graf--h3">跟踪函数调用</h3>
<p class="graf graf--p"><code>console.trace</code>方法允许您在控制台中转储堆栈跟踪——换句话说，就是运行时调用该函数的路径——这对于跟踪负责传递坏数据的函数非常有用。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code">function foo() {
  bar();</code></pre>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code">  function bar() {
    console.trace();
  }
}</code></pre>
<pre class="graf graf--pre"><code>foo();</code></pre>
<p class="graf graf--p">将输出如下所示的堆栈跟踪:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/583651de4decc8063d905cda6840cd25.png" data-image-id="0*ShP-frUtsmMW3fvd.png" data-width="1074" data-height="75" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*ShP-frUtsmMW3fvd.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*ShP-frUtsmMW3fvd.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/583651de4decc8063d905cda6840cd25.png" data-image-id="0*ShP-frUtsmMW3fvd.png" data-width="1074" data-height="75" data-original-src="https://cdn-images-1.medium.com/max/1600/0*ShP-frUtsmMW3fvd.png"/></noscript></figure>
<h3 class="graf graf--h3">计数函数调用</h3>
<p class="graf graf--p">有时你想记录一段代码被调用的频率；<code>console.count</code>确实如此。只需提供它应该跟踪的字符串，每次调用它时，它都会进行计数。这在处理用户输入和事件时特别有用。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code">window.addEventListener('click', function(event) {
  console.count(event.type);
  console.log(event);
});</code></pre>
<p class="graf graf--p">将会产生类似以下的输出:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/7f2c56cdcbaba88e33fb1b9fa4b17681.png" data-image-id="0*j1PUjNQpM8_h4euF.png" data-width="1071" data-height="316" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*j1PUjNQpM8_h4euF.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*j1PUjNQpM8_h4euF.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/7f2c56cdcbaba88e33fb1b9fa4b17681.png" data-image-id="0*j1PUjNQpM8_h4euF.png" data-width="1071" data-height="316" data-original-src="https://cdn-images-1.medium.com/max/1600/0*j1PUjNQpM8_h4euF.png"/></noscript></figure>
<p class="graf graf--p">要重置一个计数器，只需要用标签调用<code>console.countReset</code>，它就会重置回零。</p>
<h3 class="graf graf--h3">分组信息</h3>
<p class="graf graf--p">最后，还有<code>console.group</code>，它将信息可视化地组合在一个可折叠的列表中，每一级增加一个缩进。</p>
<p class="graf graf--p">举个例子，</p>
<pre class="graf graf--pre"><code class="markup--code markup--pre-code">console.group('First group');
console.log('First message');
console.group('A group inside the first group');
console.log('A message inside the group inside the first group'); console.log('Another message inside the group inside the first group');
console.groupEnd();
console.log('Second message'); console.groupEnd();</code></pre>
<p class="graf graf--p">将产生以下输出:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/21d971960cdef1726f470630ed5f0c33.png" data-image-id="0*mMAtJ_w4FVtakAOQ.png" data-width="1070" data-height="289" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*mMAtJ_w4FVtakAOQ.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*mMAtJ_w4FVtakAOQ.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/21d971960cdef1726f470630ed5f0c33.png" data-image-id="0*mMAtJ_w4FVtakAOQ.png" data-width="1070" data-height="289" data-original-src="https://cdn-images-1.medium.com/max/1600/0*mMAtJ_w4FVtakAOQ.png"/></noscript></figure>
<h3 class="graf graf--h3">检查状态</h3>
<p class="graf graf--p">除了跨浏览器甚至在Node.js中支持的console对象之外，在浏览器的开发人员控制台中还有一些可用的函数和变量。但是，请注意，这些是特定于供应商的，并且这里支持的子集因浏览器而异。</p>
<p class="graf graf--p">例如,$_变量保存在控制台上下文中计算的最新表达式:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/70d09d3f5a7fad46743a10444e941c48.png" data-image-id="0*bwZ2-WI4_H--tE_X.png" data-width="737" data-height="108" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*bwZ2-WI4_H--tE_X.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*bwZ2-WI4_H--tE_X.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/70d09d3f5a7fad46743a10444e941c48.png" data-image-id="0*bwZ2-WI4_H--tE_X.png" data-width="737" data-height="108" data-original-src="https://cdn-images-1.medium.com/max/1600/0*bwZ2-WI4_H--tE_X.png"/></noscript></figure>
<p class="graf graf--p">$0到$4保存用inspect element检查的最新元素:</p>
<figure class="graf graf--figure"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/134e46bc5b57534aa5557e0996bd422d.png" data-image-id="0*ui7JVVaSeU25m8WR.png" data-width="734" data-height="72" data-lazy-src="https://cdn-images-1.medium.com/max/1600/0*ui7JVVaSeU25m8WR.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://cdn-images-1.medium.com/max/1600/0*ui7JVVaSeU25m8WR.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/134e46bc5b57534aa5557e0996bd422d.png" data-image-id="0*ui7JVVaSeU25m8WR.png" data-width="734" data-height="72" data-original-src="https://cdn-images-1.medium.com/max/1600/0*ui7JVVaSeU25m8WR.png"/></noscript></figure>
<p class="graf graf--p">同样，这些是特定于浏览器的，不同于控制台对象。谷歌Chrome有更多的实用功能，这里记录了这些功能<a class="markup--anchor markup--p-anchor" href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="noopener noreferrer" data-href="https://developers.google.com/web/tools/chrome-devtools/">。不过，还是不要指望它们能在其他浏览器中工作。</a></p>
<h3 class="graf graf--h3">结论</h3>
<p class="graf graf--p">打印到控制台是一种很好的可视化方式。如果简单的事情有助于解决一个复杂的问题，为什么要用一个复杂的解决方案让自己更难呢？</p>
<p class="graf graf--p">将流程和状态可视化真的可以成为救命稻草，所以不要害怕使用它。一个东西简单不代表它只适合初学者。我登录控制台已经十年了，我计划再做一次。</p>
<p class="graf graf--p">给所有读到这里的老同事们:很抱歉用光了你们所有的打印机墨水。</p><div class="code-block code-block-27">
<div class="blog-plug inline-plug vanilla-javascript-cta"><h2>通过理解上下文，更容易地调试JavaScript错误</h2>
<p>调试代码总是一项单调乏味的任务。但是你越了解自己的错误，就越容易改正。</p>
<p>LogRocket 让你以新的独特的方式理解这些错误。我们的前端监控解决方案跟踪用户与您的JavaScript前端的互动，让您能够准确找出导致错误的用户行为。</p>
<a href="https://lp.logrocket.com/blg/javascript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/></noscript></a>
<p>LogRocket记录控制台日志、页面加载时间、堆栈跟踪、慢速网络请求/响应(带有标题+正文)、浏览器元数据和自定义日志。理解您的JavaScript代码的影响从来没有这么简单过！</p>
<a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>