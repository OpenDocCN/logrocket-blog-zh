<html>
<head>
<title>Discussing the over-engineering trap in TypeScript - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>讨论TypeScript - LogRocket博客中的过度工程化陷阱</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/#0001-01-01">https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p>在开始讨论TypeScript中的过度工程之前，我想对JavaScript和更强类型的语言目前如何处理类型做一个基本概述。JavaScript中的所有类型(除了<code>object</code>类型)都被称为<code>primitive values</code>。JavaScript中经常使用的原始值包括类型为<code>string</code>、<code>number</code>和<code>boolean</code>的值。所有原始值都是不可变的。例如，对于字符串来说，这意味着一旦你完成了赋值<code>let testString = ‘test’</code>，你就不能通过做类似<code>testString[0] = ‘r’</code>的事情来改变它以得到<code>rest</code>。你得重新分配，<code>testString = ‘rest’</code>。</p>
<p>JavaScript是一种松散类型的语言。JavaScript中的变量可以被重新赋值为任何类型的值，如<code>number</code>、<code>string</code>或<code>object</code>。比如可以做<code>testString = 4</code>。注意字符串现在是一个数字，而变量的名字仍然是<code>testString</code>。</p>
<p>相比之下，C#可能是更强类型语言的一个例子。为了解释这一点，我举个例子。这就是在C# <code>string testString = “test”;</code>中给变量赋值字符串的方法。我们没有使用<code>var</code>或<code>let</code>关键字，而是声明了变量的类型，(<code>string</code>，就在我们给它赋值的时候。然后，如果我们试图把它重新赋值给一个不同类型的值，比如像这样做<code>testString = 4;</code>，你会得到错误<code>error CS0029: Cannot implicitly convert type ‘int’ to ‘string’</code>:</p>
<figure id="attachment_17437" aria-describedby="caption-attachment-17437" class="wp-caption aligncenter"><img data-attachment-id="17437" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/csharptypeerror/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif" data-orig-size="730,354" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Csharptypeerror" data-image-description="" data-image-caption="&lt;p&gt;C# type error in Visual Studio 2019&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror-300x145.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif" decoding="async" class="size-full wp-image-17437 jetpack-lazy-image" src="../Images/48116a4c7d6ac94b590f9ff9c1edd121.png" alt="C# type error in Visual Studio 2019" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="17437" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/csharptypeerror/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif" data-orig-size="730,354" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Csharptypeerror" data-image-description="" data-image-caption="&lt;p&gt;C# type error in Visual Studio 2019&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror-300x145.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif" decoding="async" loading="lazy" class="size-full wp-image-17437" src="../Images/48116a4c7d6ac94b590f9ff9c1edd121.png" alt="C# type error in Visual Studio 2019" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Csharptypeerror.gif"/></noscript><figcaption id="caption-attachment-17437" class="wp-caption-text">C# type error in Visual Studio 2019</figcaption></figure>
<p><code>testString</code>永远是一个字符串。我想在这里指出，您应该尽量避免在变量的名称中添加类型，因为，正如您在松散类型的语言中看到的那样，它给出了错误的类型(<code>testString</code>变成了数字)，而在更强类型的语言中，有时类型已经显示得非常清楚了。</p>
<p>TypeScript是一种允许JavaScript应用程序具有更强类型语言通常具有的特性的语言。您还可以选择您希望类型检查有多严格，以及您希望将多少现有JavaScript代码迁移到TypeScript。您可以使类型检查变得非常严格，并完全迁移到TypeScript，或者您甚至可以将TypeScript添加到您的JavaScript项目中，以便为将来做准备，而不使用它。在本文中，我将介绍使用TypeScript的优点和缺点。这将使我们更好地了解何时避免在TypeScript中过度设计。</p>
<h2>用更多JavaScript构建的应用程序</h2>
<p>在开始解释使用TypeScript的优点和缺点之前，我觉得应该先解释一下不使用它的优点。为了保持这篇文章的篇幅不太长，我将只介绍一般情况下web上客户端脚本编写的主要方式——即使用JavaScript。本文将不讨论CoffeeScript或Elm等相关语言。我还将解释在服务器端代码中使用比TypeScript更多的JavaScript。</p>
<p>使用更多JavaScript的一个好处是它带来的速度。JavaScript不需要编译，您可以立即看到结果。它不需要被配置——你不需要创建一个配置文件(<code>tsconfig.json</code>)然后添加和改变它的配置。没有额外的配置和编译时间，意味着您可以轻松地构建应用程序原型，以查看您的设计、数据获取和其他功能的结果。</p>
<p>使用更多JavaScript的另一个好处是它的成熟。至少在过去几年里，它一直是在客户端/前端编写脚本的主要方式。有时，它甚至被用在后端(Node.js)。因为它已经非常成熟，所以它已经包含了根据所使用的库来处理类型的方法。例如，在Mongoose中，您可以使用如下代码定义模式:<code>const userSchema = new Schema({ firstName: String })</code>。<code>firstName</code>在这里被定义为拥有一个<code>String</code>类型。也因为它的成熟，JavaScript已经包含了处理文档类型的方法——JSDoc是第一个想到的。如果您已经使用了JSDoc，那么添加TypeScript可能会显得过多。</p>
<p>TypeScript通常很有用，即使对于最小的应用程序或微服务架构中的应用程序也是如此。然而，如果你有更小的应用程序，这意味着有更高的机会，你可以很容易地推断出是什么类型。此外，当您为TypeScript做额外的配置并每次编译以做一些类型检查时，您就失败了。如果您的代码库很小，类型检查可以在单元测试中更容易地完成，使用Chai之类的库，而不需要TypeScript。这让我想到了另一点——您已经可以通过使用测试库来检查类型，而不使用TypeScript，但是TypeScript更快地提供反馈。在您运行测试之前，它有时会在您编码时自动提供反馈(Visual Studio代码)。如果你有一个新的应用程序要处理，看看现有的测试做了什么。</p>
<h2>用更多TypeScript构建的应用程序</h2>
<p>我不打算在这里讨论使用TypeScript的所有优点或缺点，因为它们太多了。当我在本节开始讨论使用TypeScript时，请记住这一点。</p>
<p>我想描述的使用TypeScript的第一个优点是它的工具性。如果你已经使用了像Visual Studio Code(1 . 43 . 2版)或Visual Studio 2019这样的工具，那么现在这些工具中有很多对这种语言的支持。在本文的其余部分，我将把Visual Studio代码称为VS代码。</p>
<p>一个在其他工具中不常见的特性是，VS代码中的悬停信息。当您将鼠标悬停在代码上时，这允许您快速查看关于类型的信息以及方法、参数、变量或JavaScript的其他特性的其他信息。当您将鼠标悬停在函数调用的函数名上时，也可以按住alt键来查看您正在调用的函数:</p>
<p><img data-attachment-id="17440" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/hoverinformationincscode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif" data-orig-size="730,215" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hoverinformationincscode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode-300x88.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif" decoding="async" class="aligncenter size-full wp-image-17440 jetpack-lazy-image" src="../Images/81e485d6a8d481cd5bb16a2a42768a5c.png" alt="Hover information in VS Code" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17440" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/hoverinformationincscode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif" data-orig-size="730,215" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hoverinformationincscode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode-300x88.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-17440" src="../Images/81e485d6a8d481cd5bb16a2a42768a5c.png" alt="Hover information in VS Code" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/hoverinformationincscode.gif"/></noscript>
<p>当您正在调用的函数在您的视图之外或在许多行之外时，这很有帮助。</p>
<p>签名帮助(当你在函数名后输入<code>(</code>来调用该函数时显示的工具提示)是另一个有用的特性，你有时在其他可用的好工具中找不到它。下面的例子显示了当你输入<code>errorMessage(</code>来调用<code>errorMessage</code>函数时发生的情况:</p>
<figure id="attachment_17442" aria-describedby="caption-attachment-17442" class="wp-caption aligncenter"><img data-attachment-id="17442" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/signature-help-in-vs-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif" data-orig-size="730,156" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Signature help in VS Code" data-image-description="" data-image-caption="&lt;p&gt;Signature help in VS Code&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code-300x64.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif" decoding="async" class="size-full wp-image-17442 jetpack-lazy-image" src="../Images/b401edd44b15e378e6720a6a175dd1c0.png" alt="Signature help in VS Code" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="17442" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/signature-help-in-vs-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif" data-orig-size="730,156" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Signature help in VS Code" data-image-description="" data-image-caption="&lt;p&gt;Signature help in VS Code&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code-300x64.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif" decoding="async" loading="lazy" class="size-full wp-image-17442" src="../Images/b401edd44b15e378e6720a6a175dd1c0.png" alt="Signature help in VS Code" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Signature-help-in-VS-Code.gif"/></noscript><figcaption id="caption-attachment-17442" class="wp-caption-text">Signature help in VS Code</figcaption></figure>
<p>快速自动删除未使用的导入是另一个特别有用的特性，这是其他工具所没有的。当您将鼠标悬停在灰显的导入上时，会显示一个允许您执行此操作的蓝色指示器:</p>
<figure id="attachment_17444" aria-describedby="caption-attachment-17444" class="wp-caption aligncenter"><img data-attachment-id="17444" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/quickly-remove-unused-imports-in-vs-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif" data-orig-size="730,244" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Quickly remove unused imports in VS Code" data-image-description="" data-image-caption="&lt;p&gt;Quickly remove unused imports in VS Code&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code-300x100.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif" decoding="async" class="size-full wp-image-17444 jetpack-lazy-image" src="../Images/3e1aa10609e7551a1e7318812c52aa9c.png" alt="Quickly remove unused imports in VS Code" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="17444" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/quickly-remove-unused-imports-in-vs-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif" data-orig-size="730,244" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Quickly remove unused imports in VS Code" data-image-description="" data-image-caption="&lt;p&gt;Quickly remove unused imports in VS Code&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code-300x100.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif" decoding="async" loading="lazy" class="size-full wp-image-17444" src="../Images/3e1aa10609e7551a1e7318812c52aa9c.png" alt="Quickly remove unused imports in VS Code" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/Quickly-remove-unused-imports-in-VS-Code.gif"/></noscript><figcaption id="caption-attachment-17444" class="wp-caption-text">Quickly remove unused imports in VS Code</figcaption></figure>
<p>使用TypeScript的一个缺点是对项目文件结构和构建工具的更改，我还没有讨论过这个缺点。您必须重命名所有的JavaScript文件才能使用文件扩展名<code>.ts</code>。如果使用JSX，需要将扩展名重命名为<code>.tsx</code>。迁移所需的工作量取决于项目中包含的文件数量，但您总是可以随着时间的推移逐步迁移文件。</p>
<p>此外，处理声明和源映射文件可能是一个障碍。比如安装React和react-dom的声明文件时，需要在项目中添加更多的包，<code>npm install --save-dev @types/react @types/react-dom</code>。与框架集成也是一件麻烦的事情，你还需要调整你的构建工具(Babel和webpack就是其中的一些例子)来支持TypeScript。然而，根据您使用的框架和构建工具，可能已经有好的官方资源和文档来支持这一点。</p>
<p>反对将TypeScript用于服务器端代码的一个理由是，您可以在后端切换到其他类型安全的语言。然而，这将取决于其他贡献者拥有什么样的技能。例如，如果您的其他团队成员都已经知道如何用另一种类型安全的语言编写，那么这个选项是对每个人技能的一个很好的利用。尝试根据所需的任务选择最佳语言，如果您想要处理数据、并发性甚至类型，TypeScript可能不是这些主题的最佳选择。与其他语言相比，使用TypeScript的优势在于，嗯…它基本上只是JavaScript…但是有类型！</p>
<h2>顺序添加的属性和检查的严格性</h2>
<p>当从JavaScript迁移时，另一个可能导致问题的问题是官方TypeScript文档中提到的“顺序添加的属性”。这是当你创建一个空的对象:<code>let person = {}</code>，然后给它分配新的键和值<code>person.name = ‘John’</code>。这是JavaScript中经常使用和记录的模式。但是，默认情况下，TypeScript不允许这样做。解决这个问题的最快方法是给<code>person</code>一个<code>any</code>类型，但是这是以较弱的类型检查为代价的。您也可以将属性移入对象文字或使用类型脚本<code>interface</code>。</p>
<p>我将讨论的TypeScript的最后一个特性是控制代码检查严格性的能力。<code>strictNullChecks</code>选项非常适合防止错误，因为<code>null</code>保留关键字和<code>undefined</code>值是JavaScript中常见的错误来源。我能举的例子就是<code>let a:number = null</code>。在这种情况下，<code>a</code>的值可以是<code>null</code>、<code>undefined</code>或<code>NaN</code>(将<code>a</code>设置为<code>0/0</code>时可以得到<code>NaN</code>)。当<code>strictNullChecks</code>选项设置为<code>false</code>时，您可能会想知道三个值<code>a</code>中的哪一个被设置为允许值。关于这个选项需要额外注意的一点是，我发现当你不使用配置文件中的<code>strictNullChecks</code>选项时，默认情况下<code> strictNullChecks</code>似乎已经被设置为true。</p>
<p>我测试的另一个选项<code>noImplicitAny</code>没有按照预期的方式工作。当有一个隐含的<code>any</code>类型时，我们期望它会引发错误，但事实并非如此。您可以在Visual Studio代码中尝试这样做，当您将鼠标悬停在<code>b</code>、<code>let b; console.log(b);</code>上方时，会看到<code>let b: any</code>出现:</p>
<figure id="attachment_17446" aria-describedby="caption-attachment-17446" class="wp-caption aligncenter"><img data-attachment-id="17446" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/noimplicitanyallows-implicitany-sometimesgif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif" data-orig-size="348,115" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="noImplicitAnyallows implicitany sometimesgif" data-image-description="" data-image-caption="&lt;p&gt;noImplicitAny allows implicit any sometimes&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif-300x99.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif" decoding="async" class="size-full wp-image-17446 jetpack-lazy-image" src="../Images/a14338b2988675f855079ab117efd2b0.png" alt="noImplicitAny allows implicit any sometimes" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="17446" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/noimplicitanyallows-implicitany-sometimesgif/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif" data-orig-size="348,115" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="noImplicitAnyallows implicitany sometimesgif" data-image-description="" data-image-caption="&lt;p&gt;noImplicitAny allows implicit any sometimes&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif-300x99.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif" decoding="async" loading="lazy" class="size-full wp-image-17446" src="../Images/a14338b2988675f855079ab117efd2b0.png" alt="noImplicitAny allows implicit any sometimes" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAnyallows-implicitany-sometimesgif.gif"/></noscript><figcaption id="caption-attachment-17446" class="wp-caption-text">noImplicitAny allows implicit any sometimes</figcaption></figure>
<p>但是，在本例中:</p>
<pre>function example (c) {
  return c;
}
console.log(example(5));
</pre>
<p><code>noImplicitAny</code>选项工作并抛出错误:<code>Parameter ‘c’ implicitly has an ‘any’ type. TS7006</code>:</p>
<p><img data-attachment-id="17449" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/noimplicitany-works-in-this-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png" data-orig-size="753,194" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="noImplicitAny works in this example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png" decoding="async" class="aligncenter size-full wp-image-17449 jetpack-lazy-image" src="../Images/6dd21ca2c1bc9cd77ae30186ed0ab142.png" alt="noImplicitAny works in this example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png 753w, https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example-300x77.png 300w" data-lazy-sizes="(max-width: 753px) 100vw, 753px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17449" data-permalink="https://blog.logrocket.com/discussing-the-over-engineering-trap-in-typescript/noimplicitany-works-in-this-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png" data-orig-size="753,194" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="noImplicitAny works in this example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-17449" src="../Images/6dd21ca2c1bc9cd77ae30186ed0ab142.png" alt="noImplicitAny works in this example" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png 753w, https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example-300x77.png 300w" sizes="(max-width: 753px) 100vw, 753px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/noImplicitAny-works-in-this-example.png"/></noscript>
<p>这仍然是一个很好的选择，并按预期工作，但它没有涵盖我们期望的所有情况。</p>
<h2>结论</h2>
<p>从长远来看，或者对于大型项目来说，向代码中添加类型的成本或开销远远大于它的好处。请记住始终正确使用TypeScript。在考虑使用它之前，先了解更多关于它的特性和您自己的项目的信息。这将帮助您决定是否应该迁移到TypeScript，在您的项目中需要多少它的功能，以及您的项目是否已经有类似的功能。</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:全面了解您的网络和移动应用</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放问题，就像问题发生在您自己的浏览器中一样。LogRocket不需要猜测错误发生的原因，也不需要向用户询问截图和日志转储，而是让您重放会话以快速了解哪里出错了。它可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。</p>
<p>除了记录Redux操作和状态，LogRocket还记录控制台日志、JavaScript错误、堆栈跟踪、带有头+正文的网络请求/响应、浏览器元数据和自定义日志。它还使用DOM来记录页面上的HTML和CSS，甚至为最复杂的单页面和移动应用程序重新创建像素级完美视频。</p>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>