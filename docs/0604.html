<html>
<head>
<title>Build a progressive web app (PWA) with React - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React - LogRocket博客构建一个渐进式web应用程序(PWA)</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-pwa-react/#0001-01-01">https://blog.logrocket.com/building-pwa-react/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>本文于2022年6月2日更新，以包含更多关于Create React App和Netlify的最新信息。</em></p>
<h2>什么是渐进式网络应用程序(PWA)？</h2>
<p>渐进式网络应用是一个(名字很糟糕的)好主意。您可以使用web技术构建一个适用于所有设备和外形的应用程序。它可以通过网络访问，也可以出现在Android或iOS设备的主屏幕上。这款应用可以离线工作，启动时显示闪屏，还有通知功能。</p>
<p>PWAs可以为您的企业节省资金。如果你想为你的用户提供应用程序体验，另一种方法是使用三种不同的技术构建相同的应用程序(一种用于web，一种用于Android，一种用于iOS)。</p>
<p>当你走这条路时，很难避免成本和复杂性的倍增。这通常会导致团队分裂，因为每个人都在不同的堆栈上工作。因此失去一定程度的注意力是很常见的。PWAs可以在这里提供帮助；不仅从开发人员的角度来看，而且从资源的角度来看，它们都是令人信服的选择。</p>
<p>然而，PWAs的缺点是它们比普通的web应用程序更复杂；从头开始写一个就不那么简单了。但是建立一个PWA有助于引导你走向成功的道路。这篇文章将强调其中的一个:如何使用React和TypeScript从零到你自己的PWA。</p>
<p>请注意，本文假定您了解:</p>

<h2>内容</h2>

<h2 id="building-pwa-create-react-app">使用Create React应用程序构建PWA</h2>
<p>为了创建我们的PWA，我们将使用<a href="https://create-react-app.dev/"> Create React App </a>。这个优秀的项目早就内置了对制作PWAs的支持。最近几个月，这种支持已经成熟到令人非常满意的程度。</p>
<p>从Create向上，可以创建一个<code>/src/serviceWorker.js</code>来受益于对Workbox的InjectManifest插件的内置支持，它将编译我们的服务工作者并注入URL进行预缓存。开始创建新PWA的最简单方法是使用Create React App附带的<a href="https://create-react-app.dev/docs/custom-templates/" target="_blank" rel="noopener">自定义模板</a>之一。</p>
<p>要使用Create React App创建支持TypeScript的PWA，请在终端中运行下面的<code>npx</code>命令:</p>
<pre><code>npx create-react-app pwa-react-typescript --template cra-template-pwa-typescript
</code></pre>
<p>这将为您构建一个用TypeScript构建的React web应用程序，它支持开箱即用的PWA。它可以在本地使用以下工具进行测试:</p>
<pre><code>cd pwa-react-typescript
yarn start
</code></pre>
<h2 id="from-web-app-pwa-using-workbox">使用工具箱从web应用程序到PWA</h2>
<p>从web应用到PWA非常简单——这只是一个选择离线行为的问题。</p>
<p>如果您在新创建的项目中打开<code>index.tsx</code>文件，您会发现以下代码:</p>
<pre><code>// If you want your app to work offline and load faster, you can change
// unregister() to register() below. Note this comes with some pitfalls.
// Learn more about service workers: https://bit.ly/CRA-PWA
serviceWorker.unregister();
</code></pre>
<p>如提示所示，将<code>serviceWorker.unregister()</code>换成<code>serviceWorker.register()</code>，你现在就有了一个PWA。太神奇了！这是什么意思？嗯，让<a href="https://create-react-app.dev/docs/making-a-progressive-web-app/#why-opt-in" target="_blank" rel="noopener">引用一下文件</a>:</p>
<blockquote><p>–所有静态网站资产都被缓存，以便在后续访问中快速加载您的页面，而不管网络连接(如2G或3G)。更新在后台下载。<br/>–无论网络状态如何，即使离线，您的应用程序也能正常工作。这意味着您的用户将能够在10，000英尺的高空和地铁上使用您的应用程序。</p></blockquote>
<p>它将负责生成一个服务人员文件，该文件将自动预缓存您的所有本地资产，并在您部署更新时使它们保持最新。服务人员将使用缓存优先策略来处理对本地资产的所有请求，包括对HTML的导航请求，确保您的web应用程序始终快速，即使在缓慢或不可靠的网络上也是如此。</p>
<p>在引擎盖下，Create React App通过使用名为<a href="https://developers.google.com/web/tools/workbox" target="_blank" rel="noopener"> Workbox </a>的技术实现了这一点。Workbox将自己描述为“一组库和节点模块，使缓存资产变得容易，并充分利用用于构建渐进式Web应用程序的功能。”</p>
<p>谷歌的优秀员工意识到编写自己的PWA可能会很棘手。有许多新的行为需要配置和了解；很容易犯错误。Workbox通过实现缓存或离线行为的默认策略来帮助简化前进的道路，这可以通过配置来控制。</p>
<p>在<code>create-react-app</code>中使用<code>Workbox</code>的一个缺点是(就像Create React App中的大多数东西一样),如果默认设置不能满足你的需求，你自己的配置空间就很小。这在未来可能会改变——事实上，<a href="https://github.com/facebook/create-react-app/pull/5369" target="_blank" rel="noopener">有一个开放的PR添加了这种支持</a>。</p>
<h2 id="customizing-your-pwa-react">使用React定制您的PWA</h2>
<p>但不仅仅是线下体验让这成为了PWA。其他重要因素包括:</p>
<ul>
<li>该应用程序可以添加到您的主屏幕上(A2HS，又名“已安装”)</li>
<li>该应用程序有一个可以定制的名称和图标</li>
<li>当应用程序启动时，会有一个闪屏显示给用户</li>
</ul>
<p>使用Create React应用程序，上述所有内容都“在盒子里”。让我们开始定制这些。</p>
<p>首先，我们将为我们的应用程序命名。启动<code>index.html</code>，用<code>&lt;title&gt;My PWA&lt;/title&gt;</code>替换<code>&lt;title&gt;React App&lt;/title&gt;</code>。(请随意编造一个比我建议的更有想象力的名字。)</p>
<p>接下来，打开<code>manifest.json</code>并更换以下部件:</p>
<pre><code>  "short_name": "React App",
  "name": "Create React App Sample",
</code></pre>
<p>有了这个:</p>
<pre><code>  "short_name": "My PWA",
  "name": "My PWA",
</code></pre>
<p>您的应用程序现在有了名称。你可能会问:这个<code>manifest.json</code>文件是什么？嗯，引用谷歌的好人的话:</p>
<blockquote><p>web应用程序清单是一个简单的JSON文件，它告诉浏览器有关您的web应用程序的信息，以及当它“安装”在用户的移动设备或桌面上时应该如何运行。Chrome需要一个清单来显示添加到主屏幕提示。典型的清单文件包括应用程序名称、它应该使用的图标、启动时应该开始的<code>start_url</code>等信息。</p></blockquote>
<p>所以<code>manifest.json</code>本质上是关于你的应用的元数据。现在应该是这样的:</p>
<pre><code>{
  "short_name": "My PWA",
  "name": "My PWA",
  "icons": [
    {
      "src": "favicon.ico",
      "sizes": "64x64 32x32 24x24 16x16",
      "type": "image/x-icon"
    },
    {
      "src": "logo192.png",
      "type": "image/png",
      "sizes": "192x192"
    },
    {
      "src": "logo512.png",
      "type": "image/png",
      "sizes": "512x512"
    }
  ],
  "start_url": ".",
  "display": "standalone",
  "theme_color": "#000000",
  "background_color": "#ffffff"
}
</code></pre>
<p>您可以使用上述属性(以及其他尚未配置的属性)来控制您的应用程序的行为。例如，如果你想替换你的应用程序使用的图标，那么很简单:</p>
<ul>
<li>将新的徽标文件放在<code>public</code>文件夹中</li>
<li>在<code>manifest.json</code>中更新对它们的引用</li>
<li>最后，对于旧的苹果设备，更新<code>index.html</code>中的<code>&lt;link rel="apple-touch-icon" ... /&gt;</code></li>
</ul>
<h2 id="creating-multiple-urls-pwa">在PWA中创建多个URL</h2>
<p>到目前为止，我们已经有了一个基本的PWA。它是可安装的。可以本地运行，用<code>yarn start</code>开发。您可以使用<code>yarn build</code>构建它以进行部署。</p>
<p>然而，这不是一个可识别的web应用程序，因为它不支持不同的页面/URL。我们通常希望以这种方式分解我们的应用程序。让我们现在做那件事。我们将使用<code><a href="https://blog.logrocket.com/react-router-dom-tutorial-examples/" target="_blank" rel="noopener">react-router</a></code>，React事实上的路由解决方案。</p>
<p>为了将它添加到我们的项目中(以及TypeScript所需的类型定义)，我们使用以下代码:</p>
<pre><code>yarn add react-router-dom @types/react-router-dom
</code></pre>
<p>现在让我们把我们的应用程序分成几页。我们将用这个替换现有的<code>App.tsx</code>:</p>
<pre><code>import React from "react";
import { BrowserRouter as Router, Routes, Route, Link } from "react-router-dom";
import About from "./About";
import Home from "./Home";

const App: React.FC = () =&gt; (
  &lt;Router&gt;
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;Link to="/"&gt;Home&lt;/Link&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;Link to="/about"&gt;About&lt;/Link&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
    &lt;Routes&gt;
      &lt;Route path="/about"&gt;
        &lt;About /&gt;
      &lt;/Route&gt;
      &lt;Route path="/"&gt;
        &lt;Home /&gt;
      &lt;/Route&gt;
    &lt;/Routes&gt;
  &lt;/Router&gt;
);
export default App;
</code></pre>
<p>这将是我们的根页面。它负责使用<code>react-router</code>来呈现我们想要提供的页面，并提供允许用户导航到这些页面的链接。在进行我们的更改时，我们会破坏我们的测试(该测试检查一个我们现在已经删除的链接)，所以我们将用下面的代码来修复它。</p>
<p>将<code>App.test.tsx</code>替换为:</p>
<pre><code>import React from 'react';
import { render } from '@testing-library/react';
import App from './App';

test('renders about link', () =&gt; {
  const { getByText } = render();
  const linkElement = getByText(/about/i);
  expect(linkElement).toBeInTheDocument();
});
</code></pre>
<p>你会注意到，在我们新的<code>App.tsx</code>中，我们导入了两个新组件(或页面):<code>About</code>和<code>Home</code>。让我们创造这些。</p>
<p>第一，<code>About.tsx</code>:</p>
<pre><code>import React from "react";

const About: React.FC = () =&gt; (
  &lt;h1&gt;This is a PWA&lt;/h1&gt;
);

export default About;
</code></pre>
<p>然后，<code>Home.tsx</code>:</p>
<pre><code>import React from "react";

const Home: React.FC = () =&gt; (
  &lt;h1&gt;Welcome to your PWA!&lt;/h1&gt;
);

export default Home;
</code></pre>
<h2 id="code-splitting-pwa">对您的PWA进行代码拆分</h2>
<p>既然我们已经将我们的应用程序分成了多个部分，我们也将分割代码。改善PWAs加载时间的一个好方法是确保代码不被构建到大文件中。</p>
<p>目前，我们的应用程序构建了一个<code>single-file.js</code>。如果你运行<code>yarn build</code>，你会看到这个样子:</p>
<pre><code>  47.88 KB  build/static/js/2.89bc6648.chunk.js
  784 B     build/static/js/runtime-main.9c116153.js
  555 B     build/static/js/main.bc740179.chunk.js
  269 B     build/static/css/main.5ecd60fb.chunk.css
</code></pre>
<p>注意这个<code>build/static/js/main.bc740179.chunk.js</code>文件。这是我们的<code>single-file.js</code>。它表示构建构成我们的应用程序的TypeScript文件的编译输出。它会随着我们的应用程序的增长而增长，最终从用户加载速度的角度来看会变得有问题。</p>
<p>Create React App基于webpack构建。webpack对代码分割有很好的支持，因此，Create React App <a href="https://reactjs.org/docs/code-splitting.html#code-splitting" target="_blank" rel="noopener">默认支持它</a>。让我们将它应用到我们的应用程序中。同样，我们要改变<code>App.tsx</code>。</p>
<p>我们之前有:</p>
<pre><code>import About from "./About";
import Home from "./Home";
</code></pre>
<p>让我们将其替换为:</p>
<pre><code>const About = lazy(() =&gt; import('./About'));
const Home = lazy(() =&gt; import('./Home'));
</code></pre>
<p>这是React中延迟加载组件的语法。您会注意到它在内部使用了动态的<code>import()</code>语法，webpack将它用作“分割点”</p>
<p>让我们在React等待动态导入被解析的时候给它一些东西来渲染。就在我们的<code>&lt;Router&gt;</code>组件内部，我们还将添加一个<code>&lt;Suspense&gt;</code>组件:</p>
<pre><code> &lt;Router&gt;
    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;
    {/*...*/}
    &lt;/Suspense&gt;
  &lt;/Router&gt;
</code></pre>
<p>在等待动态加载路线代码时，<code>&lt;Suspense&gt;</code>组件将呈现<code>&lt;div&gt;Loading...&lt;/div&gt;</code>。</p>
<p>所以我们最后的<code>App.tsx</code>组件看起来像这样:</p>
<pre><code>import React, { lazy, Suspense } from "react";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";
const About = lazy(() =&gt; import("./About"));
const Home = lazy(() =&gt; import("./Home"));

const App: React.FC = () =&gt; (
  &lt;Router&gt;
    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;
      &lt;nav&gt;
        &lt;ul&gt;
          &lt;li&gt;
            &lt;Link to="/"&gt;Home&lt;/Link&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;Link to="/about"&gt;About&lt;/Link&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;
      &lt;Switch&gt;
        &lt;Route path="/about"&gt;
          &lt;About /&gt;
        &lt;/Route&gt;
        &lt;Route path="/"&gt;
          &lt;Home /&gt;
        &lt;/Route&gt;
      &lt;/Switch&gt;
    &lt;/Suspense&gt;
  &lt;/Router&gt;
);

export default App;
</code></pre>
<p>这现在是一个代码分割应用程序。我们怎么知道？如果我们再次运行<code>yarn build</code>,我们会看到类似这样的内容:</p>
<pre><code>  47.88 KB          build/static/js/2.89bc6648.chunk.js
  1.18 KB (+428 B)  build/static/js/runtime-main.415ab5ea.js
  596 B (+41 B)     build/static/js/main.e60948bb.chunk.js
  269 B             build/static/css/main.5ecd60fb.chunk.css
  233 B             build/static/js/4.0c85e1cb.chunk.js
  228 B             build/static/js/3.eed49094.chunk.js
</code></pre>
<p>注意，我们现在有多个<code>*.chunk.js</code>文件:我们的初始<code>main.*.chunk.js</code>，然后是代表<code>Home.tsx</code>的<code>3.*.chunk.js</code>，以及代表<code>About.tsx</code>的<code>4.*.chunk.js</code>。</p>
<p>随着我们从这一点继续构建我们的应用程序，我们将有一个很好的方法来确保用户在需要时加载文件，并且这些文件不应该太大——可扩展的出色性能。</p>
<h2 id="deploying-pwa">部署您的PWA</h2>
<p>现在我们已经有了基本的PWA，让我们部署它，这样外界就可以欣赏它了。为此，我们将使用<a href="https://blog.logrocket.com/netlify-vs-cloudflare-pages/" target="_blank" rel="noopener"> Netlify </a>。</p>
<p>我们PWA <a href="https://github.com/emmanueletukudo/pwa-react-typescript" target="_blank" rel="noopener">的源代码就在GitHub这里</a>。</p>
<p>我们将登录Netlify，点击<strong>创建新站点</strong>选项，并选择GitHub作为提供商。我们需要授权Netlify访问我们的GitHub。</p>
<p>您可能需要点击<strong>在GitHub上配置Netlify</strong>按钮来授予Netlify访问您的repo的权限，如下所示:</p>
<p><img data-attachment-id="114591" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-granting-permissions-to-netlify/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png" data-orig-size="730,986" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Granting Permissions To Netlify" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png" decoding="async" class="size-full wp-image-114591 aligncenter jetpack-lazy-image" src="../Images/9e1474129cf4a270bcf742a76f7c8c88.png" alt="Building PWA with React Granting Permissions To Netlify" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify-222x300.png 222w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="114591" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-granting-permissions-to-netlify/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png" data-orig-size="730,986" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Granting Permissions To Netlify" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify-222x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png" decoding="async" loading="lazy" class="size-full wp-image-114591 aligncenter" src="../Images/9e1474129cf4a270bcf742a76f7c8c88.png" alt="Building PWA with React Granting Permissions To Netlify" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify-222x300.png 222w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Granting-Permissions-To-Netlify.png"/></noscript>
<p>然后，您可以从Netlify中选择您的回购协议。Netlify提供的所有默认设置都适用于我们的用例:</p>
<p><img data-attachment-id="114593" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-default-netlify-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png" data-orig-size="730,739" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Default Netlify Settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings-296x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png" decoding="async" class="size-full wp-image-114593 aligncenter jetpack-lazy-image" src="../Images/ad587e5cea0c347db5f08a2398c12875.png" alt="Building PWA with React Default Netlify Settings" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings-296x300.png 296w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="114593" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-default-netlify-settings/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png" data-orig-size="730,739" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Default Netlify Settings" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings-296x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png" decoding="async" loading="lazy" class="size-full wp-image-114593 aligncenter" src="../Images/ad587e5cea0c347db5f08a2398c12875.png" alt="Building PWA with React Default Netlify Settings" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings-296x300.png 296w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Default-Netlify-Settings.png"/></noscript>
<p>让我们点击神奇的<strong>部署站点</strong>按钮！几分钟后，你会发现Netlify已经部署了我们的PWA。</p>
<p><img data-attachment-id="114595" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-deploying-site-from-netlify/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png" data-orig-size="730,244" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Deploying Site From Netlify" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify-300x100.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png" decoding="async" class="size-full wp-image-114595 aligncenter jetpack-lazy-image" src="../Images/133e3f4a1ffafc0b29ae6ee91f4a9201.png" alt="Building PWA with React Deploying Site From Netlify" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify-300x100.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="114595" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-deploying-site-from-netlify/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png" data-orig-size="730,244" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Deploying Site From Netlify" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify-300x100.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png" decoding="async" loading="lazy" class="size-full wp-image-114595 aligncenter" src="../Images/133e3f4a1ffafc0b29ae6ee91f4a9201.png" alt="Building PWA with React Deploying Site From Netlify" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify-300x100.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Deploying-Site-From-Netlify.png"/></noscript>
<p>如果我们浏览Netlify提供的URL，我们将能够看到实际部署的PWA。您还有机会设置一个自定义域名，这是您在简单演示之外通常需要的。重要的是，这将在HTTPS上空提供服务，这将允许我们的服务人员进行操作。</p>
<p>现在我们知道它就在那里，让我们看看我们建立的东西是如何支持专业人士的观点的。我们将针对我们的PWA运行Google Chrome DevTools审计:</p>
<p><img data-attachment-id="114597" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-chrome-devtools-audit-score/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png" data-orig-size="730,143" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Chrome DevTools Audit Score" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png" decoding="async" class="size-full wp-image-114597 aligncenter jetpack-lazy-image" src="../Images/c5dda48489d7976fe180074d2df13763.png" alt="Building PWA with React Chrome DevTools Audit Score" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score-300x59.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="114597" data-permalink="https://blog.logrocket.com/building-pwa-react/attachment/building-pwa-with-react-chrome-devtools-audit-score/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png" data-orig-size="730,143" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Building PWA with React Chrome DevTools Audit Score" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png" decoding="async" loading="lazy" class="size-full wp-image-114597 aligncenter" src="../Images/c5dda48489d7976fe180074d2df13763.png" alt="Building PWA with React Chrome DevTools Audit Score" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score-300x59.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/Building-PWA-with-React-Chrome-DevTools-Audit-Score.png"/></noscript>
<p>这是我们PWA的一个好的开始！</p>
<h2>结论</h2>
<p>将新的或现有的React应用程序转换为PWA有很多好处，尤其是考虑到前端开发的未来是基于web优化的。这种方法将帮助您从一开始就构建一个高性能的web应用程序。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:全面了解您的网络和移动应用</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放问题，就像问题发生在您自己的浏览器中一样。LogRocket不需要猜测错误发生的原因，也不需要向用户询问截图和日志转储，而是让您重放会话以快速了解哪里出错了。它可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。</p>
<p>除了记录Redux操作和状态，LogRocket还记录控制台日志、JavaScript错误、堆栈跟踪、带有头+正文的网络请求/响应、浏览器元数据和自定义日志。它还使用DOM来记录页面上的HTML和CSS，甚至为最复杂的单页面和移动应用程序重新创建像素级完美视频。</p>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>