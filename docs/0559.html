<html>
<head>
<title>What’s new in Firefox 71: CSS subgrid and more - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Firefox 71的新特性:CSS子网格和more - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/#0001-01-01">https://blog.logrocket.com/new-in-firefox-71-css-subgrid/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Firefox 71刚刚发布，支持CSS子网格。这对任何使用web布局的人来说都是一个巨大的消息，因为它允许我们轻松地将项目对齐到其父级的网格容器。</p>
<p>到目前为止，当我们声明一个网格容器时，只有它的直接后代可以与指定的列/行对齐。我们总是可以在网格中嵌套网格，但是它们的轨迹是相互独立的，当我们需要孙元素(嵌套网格中的元素)对齐时，这会导致一些问题。</p>
<p><code>grid-template-columns</code>和<code>grid-template-rows</code>的新的<code>subgrid</code>值允许我们声明一个嵌套网格，它继承了其父网格的轨迹，反过来，在使用任何类型的自动调整大小(<code>auto</code>、<code>min-content</code>、<code>max-content</code>)时，可以影响它的尺寸。</p>
<p>让我们看看这在一些常见UI组件中是如何工作的。</p>
<h2>对齐行</h2>
<p>考虑一个典型的卡片网格。设计UI时，我们可能会得到一个完全对齐的重复占位符模型:</p>
<p><img data-attachment-id="10707" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/grid-cards-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example grid of cards with elements aligned" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png" decoding="async" class="aligncenter size-full wp-image-10707 jetpack-lazy-image" src="../Images/6bfef54deea08bc7798f6b7e1582be49.png" alt="Example Grid Of Cards With Elements Aligned" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example-300x157.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10707" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/grid-cards-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png" data-orig-size="730,381" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example grid of cards with elements aligned" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10707" src="../Images/6bfef54deea08bc7798f6b7e1582be49.png" alt="Example Grid Of Cards With Elements Aligned" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example-300x157.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/grid-cards-example.png"/></noscript>
<p>但是当我们把它变成真正的web/app代码时，我们可能会得到不同的文本长度，这通常会导致一个粗略的布局，用糟糕的HTML和一些CSS代码把它们放在一起。</p>
<figure id="attachment_10709" aria-describedby="caption-attachment-10709" class="wp-caption aligncenter"><img data-attachment-id="10709" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/misaligned-elements-grid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png" data-orig-size="730,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grid of cards with misaligned elements" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png" decoding="async" class="wp-image-10709 size-full jetpack-lazy-image" src="../Images/8a75d76c33842cec627b2ac948e54b9d.png" alt="Grid Of Cards With Misaligned Elements" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid-300x175.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="10709" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/misaligned-elements-grid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png" data-orig-size="730,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grid of cards with misaligned elements" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png" decoding="async" loading="lazy" class="wp-image-10709 size-full" src="../Images/8a75d76c33842cec627b2ac948e54b9d.png" alt="Grid Of Cards With Misaligned Elements" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid-300x175.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/misaligned-elements-grid.png"/></noscript><figcaption id="caption-attachment-10709" class="wp-caption-text">Without subgrid, aligning elements across the cards can be quite hard.</figcaption></figure>
<p>在卡片中使用CSS子网格来继承主容器中的行声明，可以保证元素与其他卡片中的元素占据相同的空间。我们只需定义容器中的行，然后指示卡片跨越所有行，并且它们的元素自动调整为每行一行。</p>
<p>我建议在一个<code>@supports</code>查询中做这类事情，这样我们可以有一个明智的回退，逐步增强到子网格版本:</p>
<pre>@supports (grid-template-rows: subgrid){
  .container{
    /* declare the rows for the container*/
    grid-template-rows: repeat(4, auto);  
  }

  .card{
    /* gets the element to span all rows, to prevent overlapping */
    grid-row: span 4;
    /* sets the card row tracks to depend on the parent*/
    grid-template-rows: subgrid;
  }
}</pre>
<figure id="attachment_10713" aria-describedby="caption-attachment-10713" class="wp-caption aligncenter"><img data-attachment-id="10713" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-elements-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png" data-orig-size="730,428" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Cards with elements aligned" data-image-description="" data-image-caption="&lt;p&gt;Using subgrid, the elements align despite their length.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid-300x176.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png" decoding="async" class="size-full wp-image-10713 jetpack-lazy-image" src="../Images/b048bd3e5e50c28d124c39ea51b13e09.png" alt="Cards With Elements Aligned" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid-300x176.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="10713" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-elements-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png" data-orig-size="730,428" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Cards with elements aligned" data-image-description="" data-image-caption="&lt;p&gt;Using subgrid, the elements align despite their length.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid-300x176.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png" decoding="async" loading="lazy" class="size-full wp-image-10713" src="../Images/b048bd3e5e50c28d124c39ea51b13e09.png" alt="Cards With Elements Aligned" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid-300x176.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-elements-subgrid.png"/></noscript><figcaption id="caption-attachment-10713" class="wp-caption-text">Using subgrid, the elements align despite their length.</figcaption></figure>
<p>这里有一个CodePen上的现场演示，如果你运行的是Firefox并想体验一下的话:</p>
<p class="codepen" data-height="265" data-theme-id="default" data-default-tab="css,result" data-user="facundocorradini" data-slug-hash="LYEEOmQ" data-pen-title="Subgrid #1: cards">参见<a href="https://codepen.io"> CodePen </a>上Facundo科拉迪尼(<a href="https://codepen.io/facundocorradini">@ facundocoradini</a>)<br/>的Pen <a href="https://codepen.io/facundocorradini/pen/LYEEOmQ"> <br/>子网格#1:卡牌</a>。</p>
<p>通过列轨道对齐</p>
<h2>相同的概念可以用于列。假设我们得到了这个简单的表单UI，我们需要将它转换成代码:</h2>
<p><img data-attachment-id="10714" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligning-forms-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png" data-orig-size="495,534" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Aligning form elements example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png" decoding="async" class="aligncenter size-full wp-image-10714 jetpack-lazy-image" src="../Images/9f56bb757f22876513cbf55bf1d5c782.png" alt="Aligning Form Elements Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png 495w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example-278x300.png 278w" data-lazy-sizes="(max-width: 495px) 100vw, 495px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png"/></p>
<p>一些开发人员喜欢将<code>&lt;input&gt;</code>嵌套在<code>&lt;label&gt;</code>元素中，以获得更清晰的标记，因为这样更容易阅读，并且可以隐式声明它们之间的关系。其他人选择让标签成为输入的兄弟，明确声明它们与<code>for</code>属性的关系，有时为每一对添加一个容器。</p><noscript><img data-lazy-fallback="1" data-attachment-id="10714" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligning-forms-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png" data-orig-size="495,534" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Aligning form elements example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10714" src="../Images/9f56bb757f22876513cbf55bf1d5c782.png" alt="Aligning Form Elements Example" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png 495w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example-278x300.png 278w" sizes="(max-width: 495px) 100vw, 495px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligning-forms-example.png"/></noscript>
<p>虽然选择任何一种方法都有许多可访问性、可用性和兼容性方面的考虑，但嵌套在标签内的输入的一个更大的限制是，当标签长度是动态的(即，当我们不知道标签到底有多宽)时，很难使它们与CSS正确对齐。这是一个非常常见的情况，尤其是在处理国际化的时候。</p>
<p>如果我们只是尝试使用嵌套网格，不同的标签文本节点将导致不均匀的输入。</p>
<p><img data-attachment-id="10717" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/uneven-inputs-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png" data-orig-size="485,532" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form with uneven inputs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form-273x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png" decoding="async" class="aligncenter size-full wp-image-10717 jetpack-lazy-image" src="../Images/24204b8508976ca88af46bccb71b43c5.png" alt="Form With Uneven Inputs" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png 485w, https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form-273x300.png 273w" data-lazy-sizes="(max-width: 485px) 100vw, 485px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png"/></p>
<p>Subgrid通过使用表单的网格来对齐标签的子标签，为我们提供了一个更好的解决方案。这样，标签的间距将对应于最长的一个，并且输入将自动对齐。</p><noscript><img data-lazy-fallback="1" data-attachment-id="10717" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/uneven-inputs-form/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png" data-orig-size="485,532" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form with uneven inputs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form-273x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10717" src="../Images/24204b8508976ca88af46bccb71b43c5.png" alt="Form With Uneven Inputs" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png 485w, https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form-273x300.png 273w" sizes="(max-width: 485px) 100vw, 485px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/uneven-inputs-form.png"/></noscript>
<p>接下来的问题是做什么作为退路。我们可以为标签的文本节点轨迹设置一个固定的宽度，或者更改<code>grid-template-columns</code>声明，以便将输入设置为具有固定宽度的输入。</p>
<p>或者，在不支持子网格的浏览器中，我们可以简单地让表单退回到标签覆盖输入的布局，因为这也很可能是我们在小屏幕上要做的事情。记住，我们可以嵌套<code>@supports</code>和<code>@media</code>查询，所以这应该会使维护更简单。</p>
<p>参见<a href="https://codepen.io"> CodePen </a>上Facundo科拉迪尼(<a href="https://codepen.io/facundocorradini">@ facundocoradini</a>)<br/>的Pen <a href="https://codepen.io/facundocorradini/pen/wvBBpJM"> <br/> CSS子网格#2:表单布局</a>。</p>
<pre>@media screen and (min-width:500px){
  @supports (grid-template-columns: subgrid){
    .form{
      grid-template-columns: auto 1fr;
      grid-gap: 20px;
    }
    .field{
      grid-column: 1 / -1;
      grid-template-columns: subgrid;
    }
    input,textarea{
      /* lets the grid-gap take care of spacing instead */
      margin: 0;
    }
  }
}</pre>
<figure id="attachment_10719" aria-describedby="caption-attachment-10719" class="wp-caption aligncenter"><img data-attachment-id="10719" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-form-small-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png" data-orig-size="283,527" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form elements aligned on a small screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen-161x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png" decoding="async" class="wp-image-10719 size-full jetpack-lazy-image" src="../Images/a9ccff5d88eebb032ffae833522a8b07.png" alt="Form Elements Aligned On A Small Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png 283w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen-161x300.png 161w" data-lazy-sizes="(max-width: 283px) 100vw, 283px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="10719" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-form-small-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png" data-orig-size="283,527" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form elements aligned on a small screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen-161x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png" decoding="async" loading="lazy" class="wp-image-10719 size-full" src="../Images/a9ccff5d88eebb032ffae833522a8b07.png" alt="Form Elements Aligned On A Small Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png 283w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen-161x300.png 161w" sizes="(max-width: 283px) 100vw, 283px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-small-screen.png"/></noscript><figcaption id="caption-attachment-10719" class="wp-caption-text">Small-screen layout.</figcaption></figure>
<figure id="attachment_10723" aria-describedby="caption-attachment-10723" class="wp-caption aligncenter"><img data-attachment-id="10723" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-forms-without-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png" data-orig-size="474,515" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Aligned inputs without subgrid" data-image-description="" data-image-caption="&lt;p&gt;Browser that doesn’t support subgrid.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid-276x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png" decoding="async" class="size-full wp-image-10723 jetpack-lazy-image" src="../Images/131708b97611d754a79ad28b85782689.png" alt="Aligned Inputs Without Subgrid" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png 474w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid-276x300.png 276w" data-lazy-sizes="(max-width: 474px) 100vw, 474px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="10723" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-forms-without-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png" data-orig-size="474,515" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Aligned inputs without subgrid" data-image-description="" data-image-caption="&lt;p&gt;Browser that doesn’t support subgrid.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid-276x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png" decoding="async" loading="lazy" class="size-full wp-image-10723" src="../Images/131708b97611d754a79ad28b85782689.png" alt="Aligned Inputs Without Subgrid" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png 474w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid-276x300.png 276w" sizes="(max-width: 474px) 100vw, 474px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-forms-without-subgrid.png"/></noscript><figcaption id="caption-attachment-10723" class="wp-caption-text">Browser that doesn’t support subgrid.</figcaption></figure>
<figure id="attachment_10725" aria-describedby="caption-attachment-10725" class="wp-caption aligncenter"><img data-attachment-id="10725" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-form-with-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png" data-orig-size="495,534" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form inputs aligned with subgrid" data-image-description="" data-image-caption="&lt;p&gt;Final layout with subgrid support.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png" decoding="async" class="size-full wp-image-10725 jetpack-lazy-image" src="../Images/6fe1a62b67ffd435771a1b742f9fff0a.png" alt="Form Inputs Aligned With Subgrid" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png 495w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid-278x300.png 278w" data-lazy-sizes="(max-width: 495px) 100vw, 495px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="10725" data-permalink="https://blog.logrocket.com/new-in-firefox-71-css-subgrid/aligned-form-with-subgrid/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png" data-orig-size="495,534" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Form inputs aligned with subgrid" data-image-description="" data-image-caption="&lt;p&gt;Final layout with subgrid support.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid-278x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png" decoding="async" loading="lazy" class="size-full wp-image-10725" src="../Images/6fe1a62b67ffd435771a1b742f9fff0a.png" alt="Form Inputs Aligned With Subgrid" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png 495w, https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid-278x300.png 278w" sizes="(max-width: 495px) 100vw, 495px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aligned-form-with-subgrid.png"/></noscript><figcaption id="caption-attachment-10725" class="wp-caption-text">Final layout with subgrid support.</figcaption></figure>
<p class="codepen" data-height="265" data-theme-id="default" data-default-tab="css,result" data-user="facundocorradini" data-slug-hash="wvBBpJM" data-pen-title="CSS subgrid #2: form layout">See the Pen <a href="https://codepen.io/facundocorradini/pen/wvBBpJM"><br/>
CSS subgrid #2: form layout</a> by Facundo Corradini (<a href="https://codepen.io/facundocorradini">@facundocorradini</a>)<br/>
on <a href="https://codepen.io">CodePen</a>.</p>
<p>正如你所看到的，subgrid是一个非常受欢迎的CSS工具箱的补充，它在Firefox中首次亮相，很快也将为其他浏览器做好准备。我们可以通过渐进增强开始使用它，所以现在是学习如何这样做的时候了。</p>
<p>在这里，我介绍了两个非常常见的应用程序，但是subgrid远不止于此:我们可以将两个轴都设置为sub grid，使用命名轨迹，并将元素放置到特定的轨迹中，就像CSS grid一样。</p>
<p>为了更全面地了解，我推荐阅读CSS Grid Level 2规范(T1)和Rachel Andrew的文章(T3)。</p>
<p>不仅仅是子网格！</p>
<h2>虽然我关注的是这个关键方面，但是Firefox 71为用户和开发人员提供了许多改进。</h2>
<p><code>column-span</code></p>
<h3>属性的实现最终允许我们以一种强大的方式使用多字体布局。例如，我们可以将一个容器设置为multicol，并让一个元素跨越所有列，这对于标题来说很常见。Firefox比这晚了八年，但我仍然庆祝它的实现——迟到总比不到好。</h3>
<p>纵横比映射和对<code>path</code>值的支持</p>
<h3>Firefox现在从HTML属性中计算图像的内部纵横比，因此即使我们通过CSS设置图像尺寸，它也会显示正确的占位符大小。这将防止布局抖动。Chrome在下周即将发布的版本中宣布了这一功能，因此我们现在就可以开始使用这一令人惊叹的功能。</h3>
<p><code>clip-path</code>属性现在接受<code>path()</code>值，这允许我们使用任何类似SVG的路径来裁剪元素。</p>
<p>支持<code>Promise.allSettled()</code></p>
<h3>在JS方面，现在支持<code>Promise.allSettled()</code>方法。当所有给定的承诺都被解决时，这将实现，不管它们是被实现还是被拒绝，提供每个承诺的结果的数组。<br/>之前可用的<code>Promise.all()</code>非常相似，但是只有当所有承诺都实现时才解决。</h3>
<p>要更深入地了解这些变化和完整的变化列表，请查看Mozilla Hacks在这个新版本上的帖子。</p>
<p>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p>
<p>Focus on the bugs that matter — <a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">try LogRocket today</a>.</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>