<html>
<head>
<title>Rust external web APIs: The definitive guide - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Rust外部web APIs:权威指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/rust-external-web-apis-the-definitive-guide/#0001-01-01">https://blog.logrocket.com/rust-external-web-apis-the-definitive-guide/#0001-01-01</a></blockquote><div><article class="article-post">
<p>外部web API是一种除了web开发人员之外，还可以被更多人访问的API。我们将用语言实现的外部web API称为包装器，因为它们将本机web API提供的功能和接口封装到一个易于使用的库中。库提供了与整个服务进行交互的简单方法，消除了手动向各个端点编写HTTP请求的需要。</p>
<p/>
<p>API包装器，无论是内部的还是外部的，都有各种不同的特征来区分它们，使得一些包装器比其他的包装器更适合和更有用。在本指南中，我们将评估Rust中一些最流行的外部API，排名不分先后，包括:</p>

<p>我们将根据以下标准评估上述每个API:</p>
<ol>
<li><strong>稳定性</strong> —维护、更新率、开发者响应、许可证、依赖量、发布等。</li>
<li><strong>人气</strong> — GitHub明星，crates.io统计，forks，社区等。</li>
<li><strong>开发者体验</strong> —易用性、文档、问题、社区、Rust代码规范、语法等。</li>
</ol>
<p>最后，我们将概述一些步骤来帮助你<a href="#howtochoose">为你的Rust项目</a>选择最好的外部web API。</p>
<h2 id="spotify">Spotify的Rust API包装</h2>
<p>原生Spotify web API提供对一组<a href="https://developer.spotify.com/documentation/web-api/reference/" target="_blank" rel="noopener">端点</a>的访问，每个端点都有自己唯一的路径。像这个列表中的许多其他包装器一样，通过API key或OAuth 进行的<a href="https://blog.logrocket.com/9-rust-authentication-libraries-that-are-ready-for-production/" target="_blank" rel="noopener">认证是访问Spotify web API所必须的。</a></p>
<p>最流行的Spotify Rust web API包装器是<code>aspotify</code>和<code>rspotify</code>。</p>
<h3 id="aspotifyhttpsgithubcomkaijewsonaspotify"><code>aspotify</code></h3>
<p><code>aspotify</code>是Spotify API的Rust包装器。它为Spotify的所有对象模型提供了Rust结构，并为其所有端点提供了功能。</p>
<p><code>aspotify</code>使用<a href="https://docs.rs/reqwest/" target="_blank" rel="noopener"> <code>reqwest</code> </a>来处理API调用。目前，它支持所有稳定的Spotify功能。还计划增加对其他<a href="https://blog.logrocket.com/the-state-of-rust-http-clients/" target="_blank" rel="noopener"> Rust HTTP客户端</a>的支持，这对于喜欢使用不可知库的Rust开发者来说将是一个巨大的突破。</p>
<p>一个缺点是<code>aspotify</code>相对缺乏文档。也就是说，该库包含一个很好的示例展示，可以帮助新手入门。</p>
<ul>
<li>稳定性:⦿⦿⦿⦿⦾</li>
<li>知名度:⦿⦿⦾⦾⦾</li>
<li>开发者体验:⦿⦿⦿⦾⦾</li>
</ul>
<h3 id="rspotify"><code>rspotify</code></h3>
<p><a href="https://github.com/ramsayleung/rspotify" target="_blank" rel="noopener"> <code>rspotify</code> </a>是用于<a href="https://developer.spotify.com/web-api/" target="_blank" rel="noopener"> Spotify Web API </a>的健壮轻量级包装器。它包含Spotify所有端点的功能，从获取元数据到访问用户信息(关注用户、艺术家和播放列表、保存的曲目管理等)。).可以想象，这个web API也需要认证。</p>
<p><code>rspotify</code>的缪斯是<a href="https://github.com/plamere/spotipy"> Spotipy </a>，一个流行的python Spotify web API。像<code>aspotify</code>，<code>rspotify</code>在幕后使用<code>reqwest</code>，但是它有更好的支持和<a href="https://docs.rs/rspotify/0.10.0/rspotify/">文档</a>，加上有用的代码示例。它看起来可以直接跳到您的产品代码上了。</p>
<ul>
<li>稳定性:⦿⦿⦿⦿⦾</li>
<li>知名度:⦿⦿⦿⦿⦿</li>
<li>开发者体验:⦿⦿⦿⦿⦾</li>
</ul>

<h3 id="egg-mode"><code>egg-mode</code></h3>
<p><code><a href="https://crates.io/crates/egg-mode" target="_blank" rel="noopener">egg-mode</a></code>是一个与Twitter公共API交互的Rust库。尽管Twitter API非常庞大，<code>egg-mode</code>仍然致力于实现整个公共API，让任何人都能尽可能容易地在Rust中使用Twitter API。</p>
<p>在<code>egg-mode</code>中，端点作为裸函数可用，这很有趣，因为与其他外部web APIs不同，认证细节是作为参数而不是作为根工作器添加的。</p>
<p>与其他Rust Twitter包装器相比，<code>egg-mode</code>相当新。尽管如此，它足够完整和稳定，可以用于生产。该库非常受欢迎，维护良好，有文档记录，并且充满了涵盖大多数用例的优秀示例。</p>
<ul>
<li>稳定性:⦿⦿⦿⦿⦾</li>
<li>知名度:⦿⦿⦿⦿⦾</li>
<li>开发者体验:⦿⦿⦿⦿⦾</li>
</ul>
<h2 id="discord">Discord API的Rust库</h2>
<p>Discord提供了一个成熟的API接口，帮助其强大而活跃的社区创建第三方应用。幸运的是，Rust中有两个稳定的库来促进这种交互:<code>serenity</code>和<code>discord-rs</code>。</p>
<h3 id="serenity"><code>serenity</code></h3>
<p><a href="https://github.com/serenity-rs/serenity" target="_blank" rel="noopener"> <code>serenity</code> </a>是一个著名的Discord API的Rust库，可以让你创建成熟的Discord机器人。您可以访问整个Discord API并执行诸如发送消息、提及用户、语音通道操作、获取/发送反应等操作。<a href="https://crates.io/crates/serenity" target="_blank" rel="noopener"> <code>serenity</code>的尖端特性</a>范围从高级到低级接口。</p>
<p><code>serenity</code>使用<code><a href="https://docs.rs/serenity/*/serenity/client/struct.Client.html#method.new" target="_blank" rel="noopener">Client::new(&lt;token&gt;)</a></code>对API进行无缝认证，其中您提供了自己的Discord bot令牌。在此之后，您可以与API进行交互。<code>serenity</code>使您能够用<code>validate_token</code>检查您以前的令牌，这是可伸缩性的一个优点。</p>
<p>这个库是独一无二的，因为它自动处理分片连接和缓存，这简化了复杂性并避免了对Discord API的不必要的HTTP请求。</p>
<p>宁静是一种纯粹的快乐。它有过多的<a href="https://github.com/serenity-rs/serenity/tree/current/examples" target="_blank" rel="noopener">很好解释的例子</a>，它自己的<a href="https://discord.com/invite/9X7vCus" target="_blank" rel="noopener">不和谐服务器</a>，伟大的维护/发布时间表，问题管理，和<a href="https://docs.rs/serenity" target="_blank" rel="noopener">广泛的文档</a>。</p>
<p>专业提示:您可以使用<a href="https://crates.io/crates/serenity_utils" target="_blank" rel="noopener"> <code>serenity-utils</code> </a>来扩展serenity，并为使用<code>serenity</code>创建的Discord机器人提供转换、提示和菜单功能。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦿</li>
</ul>
<h3 id="discord-rs"><code>discord-rs</code></h3>
<p><code><a href="https://github.com/SpaceManiac/discord-rs" target="_blank" rel="noopener">discord-rs</a></code>是一个Rust客户端库，用于<a href="https://discord.com/"> Discord </a>聊天客户端API。</p>
<p>使用<code>discord-rs</code>，在您使用您的bot令牌认证之后，您可以使用web套接字连接访问Discord事件。</p>
<p>项目据说偶尔会维护。你不应该期待很多突破性的变化，也不应该期待最近的更新。文档写得很好，并且在库中包含了很好的例子。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>人气</strong> : ⦿⦿⦿⦾⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦾⦾</li>
</ul>
<h2 id="github">GitHub防锈板条箱</h2>
<p>GitHub的API让你可以访问一整套旨在帮助你管理GitHub上的存储库的功能。除了非常被动之外，GitHub API还有许多端点，如果您正在构建下一个问题管理机器人或GitHub动作工作流，这些端点可能会变得难以管理。</p>
<h3 id="hubcaps"><code>hubcaps</code></h3>
<p><a href="https://crates.io/crates/hubcaps" target="_blank" rel="noopener"> <code>hubcaps</code> </a>提供了一套与GitHub API交互的构建模块。它为存储库、分支、标签、部署、发布、拉取、发布、gists、钩子、搜索和团队提供了一个接口，并使向Github API服务认证变得非常容易。</p>
<p>非常稳定，已经持续了相当长的一段时间。它因使用GitHub API而闻名，并且已经有很多未解决的问题。还有无数的例子可以帮助你开始。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h3 id="octocrab"><code>octocrab</code></h3>
<p><a href="https://crates.io/crates/octocrab" target="_blank" rel="noopener"> <code>octocrab</code> </a>是一个第三方GitHub API客户端，可以让你在Rust中创建自己的GitHub集成。它附带了一个高级的、强类型的、语义API，由直接与API交互的Rust函数和一个低级的HTTP API组成，后者使您能够扩展当前的函数或创建定制的函数。</p>
<p><code>octocrab</code>公开了一组HTTP行为，这些行为一直使用任何先前的身份验证和配置。这个公开的API使您能够很好地控制HTTP调用生成的所有请求和响应。</p>
<p>因为GitHub变化很快，所以一个库很难绑定API的每个全新特性。但是，<code>octocrab</code>动作很快，尽可能多地和原生GitHub API配对。<code>octocrab</code>遵循当前针对Rust的最佳实践，而不损害其众所周知的灵活性，使您能够扩展<code>octocrab</code>的API，并围绕GitHub的API提供强大的绑定。</p>
<p>虽然<code>octocrab</code>很新，但它是一个稳定的、维护良好的库，遵循Rust惯例，并且有良好的文档记录。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h2 id="telegram">生锈的电报机器人</h2>
<p>机器人是运行在Telegram内部的第三方应用程序。用户可以通过向机器人发送消息、命令和<a href="https://core.telegram.org/bots#inline-mode" target="_blank" rel="noopener">内嵌请求</a>来与机器人互动。</p>
<h3 id="telegram-bot"><code>telegram-bot</code></h3>
<p><a href="https://github.com/telegram-rs/telegram-bot" target="_blank" rel="noopener"> Rust电报机器人库</a>，或<code>telegram-bot</code> API，涵盖了<a href="https://docs.rs/telegram-bot/0.7.0/telegram_bot/prelude/index.html" target="_blank" rel="noopener">广泛的电报机器人能力</a>。它给你所有你需要的工具，用几行代码就能构建一个完整的电报机器人。</p>
<p>显示你在机器人中可能需要的东西的实体目录。它得到了很好的维护和稳定，社区很快跟进问题。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h3 id="teloxide"><strong>T2<code>teloxide</code></strong></h3>
<p><a href="https://github.com/teloxide/teloxide" target="_blank" rel="noopener"> <code>teloxide</code> </a>将自己描述为一个优雅的电报机器人框架。</p>
<p>让在Telegram中创建机器人的过程变得令人愉快。它设计精巧，几乎涵盖了整个Telegram bot API。</p>
<p><code>teloxide</code>提供了一个高级的Rust实现，使得开发变得简单而有趣。它遵循功能反应式设计，具有完整的对话管理子系统，并提供强类型的bot命令。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>除了优秀的文档，这些特性证明了<code>teloxide</code>的创建是为了让开发者的工作更容易。它已经可以投入生产了，并且严格遵循官方的Telegram bot API，后者变化非常频繁。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦿</li>
</ul>
<h2 id="awscrates">AWS用防锈板条箱</h2>
<p>Amazon web services (AWS)是一组广泛的开发人员服务，以其可访问性和完整性而闻名。AWS包含170多种服务，从数据库和身份验证到人工智能和NLP产品。</p>
<p>AWS服务必须拥有每种现有语言的SDK和包装器，因为当您开始使用云时，这些服务变得非常重要。</p>
<h3 id="rusoto_core"><code>rusoto_core</code></h3>
<p>Rusoto在Rust社区中以覆盖广泛的流行AWS服务而闻名，这使得它成为使用Rust和AWS的开发人员的首选。</p>
<p><a href="https://crates.io/crates/rusoto_core" target="_blank" rel="noopener"> <code>rusoto-core</code> </a>是核心板条箱，内含常用功能。Rusoto将每个<a href="https://www.rusoto.org/supported-aws-services.html" target="_blank" rel="noopener">支持的AWS服务</a>分成一个单独的箱子，充当一个排序树摇动库，在其中你只使用你需要的服务。这些服务是从<a href="https://github.com/boto/botocore"> <code>botocore</code> </a> API定义中生成的</p>
<p>就像本指南中列出的大多数web APIs一样，Rusoto需要一个身份验证API——在Rusoto中，它由自己独立的机箱管理。这种模块化的简单性使得与Rusoto一起工作非常愉快。</p>
<p>Rusoto有一个欣欣向荣的社区(T1)和丰富的文档(T3)，并且非常稳定，维护得很好。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦿</li>
</ul>
<h2 id="other">其他Rust web APIs</h2>
<p>下面的Rust库和包并不完全符合上面列出的任何类别，但是它们仍然值得你拥有。</p>
<h3 id="urlshortener"><code>urlshortener</code></h3>
<p>顾名思义，<a href="https://crates.io/crates/urlshortener" target="_blank" rel="noopener"> <code>urlshortener</code> </a>旨在通过最小化的接口实现尽可能多的网址缩写服务。</p>
<pre>let req = providers::request(long_url, &amp;Provider::GooGl { api_key: key.to_owned() });
</pre>
<p><code>urlshortener</code>提供了一长串可用于缩短URL的实用程序；有些需要认证，有些则不需要。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h3 id="wikipedia"><code>wikipedia</code></h3>
<p>通过HTTP请求访问维基百科是一项艰巨的任务。通常需要考虑很多参数，结果很难解析。</p>
<p>幸运的是，<a href="https://crates.io/crates/wikipedia" target="_blank" rel="noopener"> <code>wikipedia</code> </a>库将与维基百科端点打交道的麻烦转化为易于使用的Rust函数。</p>
<p>是同类图书馆中唯一一个可以广泛使用的图书馆。它已经很稳定，有很好的文档记录，并且很容易学习。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h3 id="pusher"><code>pusher</code></h3>
<p><a href="https://pusher.com"> Pusher </a>帮助您构建实时功能，并在您的网络和移动应用程序中推送通知。</p>
<p><code><a href="https://crates.io/crates/pusher" target="_blank" rel="noopener">pusher-rs</a></code>为<a href="https://pusher.com/docs/channels/library_auth_reference/rest-api" target="_blank" rel="noopener">推杆支架API </a>提供防锈绑定。它使您能够在前端触发事件，并访问您的推送通道的内容。该内容包括关于应用程序的通道、属性的有意义的信息，对于存在通道，还包括当前订阅它们的用户。</p>
<p>拥有强大的文档和结构良好的代码，对于生产使用来说非常稳定。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦿</li>
</ul>
<h3 id="slack-hook"><code>slack-hook</code></h3>
<p>是一个Rust crate，专门用于通过webhooks向Slack发送消息。它可以用来在几行内将任何Rust应用程序连接到您的Slack工作区。</p>
<p>是一个非常受欢迎的锈箱，因为它能快速完成工作。它有非常好的文档，并且非常稳定。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h3 id="rants"><code>rants</code></h3>
<p><a href="https://nats.io/" target="_blank" rel="noopener"> NATS.io </a>是一个面向云原生应用、物联网消息和微服务架构的开源消息系统。</p>
<p><a href="https://docs.rs/rants/0.5.0/rants/" target="_blank" rel="noopener"> <code>rants</code> </a>是NATS客户端协议的一个薄薄的包装。学习使用客户端最简单的方法是阅读<a href="https://docs.nats.io/nats-protocol/nats-protocol" target="_blank" rel="noopener"> NATS客户端协议文档</a>，其中涵盖了所有提供的协议。</p>
<p><code>rants</code>的一个亮点是它允许你在<a href="https://github.com/sfackler/rust-native-tls" target="_blank" rel="noopener"> <code>native-tls</code> </a>和<a href="https://github.com/ctz/rustls" target="_blank" rel="noopener"> <code>rustls</code> </a>板条箱之间选择你喜欢的<a href="https://blog.logrocket.com/rust-cryptography-libraries-a-comprehensive-list/#tls" target="_blank" rel="noopener"> TLS支架</a>。</p>
<p>是一个非常稳定的包装器。它遵循NATS客户端协议中使用的概念和术语。它是最新的，维护得很好。</p>
<ul>
<li><strong>稳定</strong> : ⦿⦿⦿⦿⦿</li>
<li><strong>人气</strong> : ⦿⦿⦿⦿⦾</li>
<li><strong>开发者体验</strong> : ⦿⦿⦿⦿⦾</li>
</ul>
<h2 id="howtochoose">如何选择外部Rust web API</h2>
<p>我们在本指南中介绍了很多Rust外部web APIs，但这只是冰山一角。虽然这个列表并不详尽，但它足够全面，可以让您知道在选择外部Rust web API用于生产时应该注意什么。</p>
<p>在为Rust项目寻找一个好的开源库时，有几个标准需要考虑。这里有一个快速的备忘单，下次你在Rust中寻找外部web API时可以参考:</p>
<ol>
<li>转到<a href="https://crates.io/" target="_blank" rel="noopener"> crates.io </a>并输入您要寻找的服务(如<code>yahoo-weather</code>)。Rust开发者的另一个有用资源是<a href="https://rust.libhunt.com/" target="_blank" rel="noopener"> Awesome Rust </a>，这是一个精选的Rust库列表</li>
<li>如果你有一个以上的结果，比较他们最近的下载；在大多数情况下，数字越大，包装越受欢迎</li>
<li>向下滚动到所选板条箱页面的底部，并分析使用情况图表。通常，如果图表从左到右的值增加，这表明它已经引起了社区的注意</li>
<li>打开存储库。如果是开源的，你可以在页面顶部找到回购的链接</li>
<li>调查最近的提交、未解决问题的数量和星号，甚至自述文件的结构方式。这些通常是指示软件包维护状态的标志</li>
<li>最后，浏览一下文档和可用的代码示例。大多数包使用<a href="https://doc.rust-lang.org/rustdoc/what-is-rustdoc.html" target="_blank" rel="noopener"> <code>rust-doc</code> </a>生成单据。通过打开不同的模块，您可以直观地看到它们在实践中是如何使用的以及它们所采用的参数。一些软件包，如<a href="https://www.rusoto.org/"> rusoto </a>，有定制的文档，在社区中很受欢迎，因为它们更加平易近人</li>
</ol>
<p> </p><div class="code-block code-block-29">
<div class="blog-plug inline-plug rust-plug"><h2><a href="https://lp.logrocket.com/blg/rust-signup" target="_blank">log rocket</a>:Rust应用的web前端的全面可见性</h2><p>调试Rust应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监控和跟踪Rust应用程序的性能、自动显示错误、跟踪缓慢的网络请求和加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/rust-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/rust-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Rust应用程序上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>现代化调试Rust应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/rust-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>