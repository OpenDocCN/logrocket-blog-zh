<html>
<head>
<title>Building an ecommerce website with React and 8base - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用React和8base - LogRocket博客建立一个电子商务网站</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/#0001-01-01">https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/#0001-01-01</a></blockquote><div><article class="article-post">
<p>2018年，网购市场的总价值估计约为2.84万亿美元。亚马逊、沃尔玛和阿里巴巴等公司名列榜首。通过其庞大的平台，这些巨头为小企业也经营和拥有自己的电子商务商店打开了一个新的窗口。</p>
<p>在本教程中，我们将建立一个电子商务网站，前端使用React，后端使用8base。</p>
<blockquote><p>注意:要学习本教程，需要对React和Node.js有基本的了解。请确保在开始之前安装了Node和npm/yarn。我们还将在项目中使用一些GraphQL查询，所以熟悉一些GraphQL会有所帮助。</p></blockquote>
<h2>什么是反应？</h2>
<p><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer"> React </a>是一个基于组件的JavaScript库，用于构建用户界面。它允许我们构建管理其状态的封装组件，然后将它们组合成复杂的ui。</p>
<h2>8base是什么？</h2>
<p>8base是一个GraphQL后端，允许javascript开发人员使用全栈JavaScript快速交付企业应用程序。它是前端框架不可知的，因此它使开发人员能够创建面向客户的应用程序，无论他们选择什么。</p>
<p>我们将使用8base作为我们应用程序的后端数据库层。这是我们将为我们的电子商务网站存储产品的地方。</p>
<h2>入门指南</h2>
<p>8base提供了大量的特性来帮助开发人员更快、更容易地构建高性能的应用程序。使用8base控制台，您可以使用简单的GUI构建您的后端，该GUI允许您执行以下操作:</p>
<ul>
<li>定义数据模式:创建表/表关系</li>
<li>设置权限和授权角色</li>
<li>将多个项目组织到<strong>工作区</strong></li>
<li>使用API explorer设计查询(基于GraphQL)</li>
<li>管理文件</li>
</ul>
<p>要开始使用8base，请按照下列步骤操作:</p>
<ul>
<li>在<a href="https://auth.8base.com/login?state=g6Fo2SBrb283dEtrOGU4bndGUTFGQUVyZWNwcFlrNzVFVWw5Z6N0aWTZIHByblBCMU84VWREN1ZXLVJvVFRkclpYUjE0ai01cDJOo2NpZNkgcUdIWlZ1NUN4WTVrbGl2bTI4T1BMam9wdnNZcDBiYUQ&amp;client=qGHZVu5CxY5klivm28OPLjopvsYp0baD&amp;protocol=oauth2&amp;response_type=token%20id_token&amp;redirect_uri=https%3A%2F%2Fapp.8base.com%2Fauth%2Fcallback&amp;scope=openid%20email%20profile&amp;mode=signUp&amp;nonce=x0M6LCwpVoLZ3u1HqwPuY.Qi1.YSBj6M&amp;auth0Client=eyJuYW1lIjoiYXV0aDAuanMiLCJ2ZXJzaW9uIjoiOS4xMS4xIn0%3D" target="_blank" rel="noopener noreferrer"> 8base </a>上创建一个账户。你可以开始免费使用8base。</li>
</ul>
<p><img data-attachment-id="10764" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/8base-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="8base-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn-300x168.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg" decoding="async" class="aligncenter wp-image-10764 size-full jetpack-lazy-image" src="../Images/f06f6563d216d3c597c108f8eff84126.png" alt="8base" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn-300x168.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10764" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/8base-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg" data-orig-size="730,410" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="8base-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn-300x168.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-10764 size-full" src="../Images/f06f6563d216d3c597c108f8eff84126.png" alt="8base" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn-300x168.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/8base-nocdn.jpeg"/></noscript>
<ul>
<li>注册完成后，点击Data Builder按钮导航到<a href="https://app.8base.com/data/?source=post_page---------------------------" target="_blank" rel="noopener noreferrer"> Data </a>菜单，然后点击“New Table”开始构建您的后端。</li>
</ul>
<p><img data-attachment-id="10765" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/johnpauls-workspace-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png" data-orig-size="730,366" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="JohnPauls-workspace-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png" decoding="async" class="aligncenter wp-image-10765 size-full jetpack-lazy-image" src="../Images/ff22cb3ba08af3e3cc89e85f0b56373f.png" alt="john-paul-nocdn.png" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn-300x150.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10765" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/johnpauls-workspace-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png" data-orig-size="730,366" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="JohnPauls-workspace-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png" decoding="async" loading="lazy" class="aligncenter wp-image-10765 size-full" src="../Images/ff22cb3ba08af3e3cc89e85f0b56373f.png" alt="john-paul-nocdn.png" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn-300x150.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/JohnPauls-workspace-nocdn.png"/></noscript>
<ul>
<li>加载新表后，您将进入模式，开始定义字段。让我们四处看看，并注意一些事情。在左边，你会看到有<code>System Tables</code>和<code>Your Tables</code>。</li>
</ul>
<p>每个新的8base workspace都自动预装了一些内置表格。这些表用于处理文件、设置和权限等事务，并且都可以通过8base GraphQL API进行访问。</p>
<ul>
<li>继续创建一个表<code>Products</code>，它将包含以下字段:</li>
</ul>
<p><strong>名称:" "</strong> <br/>类型:字段类型为文本。<br/>描述:“这将是产品的名称”</p>
<p><strong>价格:</strong> <br/>类型:字段类型为数字。<br/>描述:“该字段将保存我们产品的价格。”</p>
<p><strong>描述:“</strong>”<br/>类型:字段类型为文本。<br/>描述:“该字段将保存我们产品的描述。”</p>
<p><strong>图像:" "</strong> <br/>类型:字段类型为文件。<br/>描述:“该字段将保存我们产品的图像。”</p>
<p><img data-attachment-id="10766" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/fields-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fields-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10766 jetpack-lazy-image" src="../Images/b41bdc0cbbebb803d244ff7fbd495d23.png" alt="fields-nocdn.png" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn-300x140.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10766" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/fields-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fields-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10766" src="../Images/b41bdc0cbbebb803d244ff7fbd495d23.png" alt="fields-nocdn.png" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn-300x140.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/fields-nocdn.png"/></noscript>
<ul>
<li>我们需要一些示例帖子，所以让我们添加一些示例数据。在我们创建模式的模式菜单图标旁边，单击Data选项卡，通过设置标题和正文添加一个示例产品记录。</li>
</ul>
<p><img data-attachment-id="10767" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/image_preview-nocdn-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png" data-orig-size="730,364" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image_preview-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png" decoding="async" class="aligncenter wp-image-10767 size-full jetpack-lazy-image" src="../Images/4fadd91370d379ab23f1829cbf9b9949.png" alt="image preview" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn-300x150.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10767" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/image_preview-nocdn-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png" data-orig-size="730,364" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image_preview-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png" decoding="async" loading="lazy" class="aligncenter wp-image-10767 size-full" src="../Images/4fadd91370d379ab23f1829cbf9b9949.png" alt="image preview" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn-300x150.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/image_preview-nocdn.png"/></noscript>
<ul>
<li>接下来，复制API端点URL(位于左下角)——这是您的前端和8base后端之间通信的单一端点。</li>
</ul>
<p><img data-attachment-id="10768" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/api-endpoint-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API-endpoint-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10768 jetpack-lazy-image" src="../Images/57a6d2b619eac5faee5e6336b2a8adc4.png" alt="API endpoint" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn-300x166.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10768" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/api-endpoint-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png" data-orig-size="730,405" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API-endpoint-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn-300x166.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10768" src="../Images/57a6d2b619eac5faee5e6336b2a8adc4.png" alt="API endpoint" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn-300x166.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-endpoint-nocdn.png"/></noscript>
<ul>
<li>最后，在本教程中，我们将默认允许来宾开放访问，因此处理身份验证是可选的。要允许客人访问您的新产品表，请导航至<code>Settings &gt; Roles &gt; Guest,</code>并选中产品和文件下的相应框。</li>
</ul>
<p>默认情况下，所有访问API端点的未经身份验证的用户都被分配Guest角色。</p>
<p>我们不会在本教程中讨论认证。您可以在这里看到如何更详细地处理认证<a href="https://docs.8base.com/docs/authentication?utm_source=scotchio&amp;utm_medium=blog&amp;utm_campaign=codebeast&amp;source=post_page---------------------------" target="_blank" rel="noopener noreferrer">。</a></p>
<p><img data-attachment-id="10769" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/settings-johnpaul-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png" data-orig-size="730,357" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="settings-johnpaul-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn-300x147.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10769 jetpack-lazy-image" src="../Images/909b4f060df6dd42d9c1ce8ef0beae37.png" alt="workspace-nocdn.png" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn-300x147.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10769" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/settings-johnpaul-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png" data-orig-size="730,357" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="settings-johnpaul-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn-300x147.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10769" src="../Images/909b4f060df6dd42d9c1ce8ef0beae37.png" alt="workspace-nocdn.png" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn-300x147.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/settings-johnpaul-nocdn.png"/></noscript>
<p>通过几个简单的步骤，我们已经使用8base完成了一个生产就绪的CMS后端的设置。让我们从应用程序的前端开始。</p>
<h3>使用React</h3>
<p>要开始使用React，我们必须首先安装它。启动并运行的最快方法是使用<a href="https://create-react-app.dev/" target="_blank" rel="noopener noreferrer"> CRA </a>。</p>
<p>如果您的开发机器上还没有安装它，请打开您的终端并运行以下命令:</p>
<pre>npx create-react-app</pre>
<h3>生成React项目</h3>
<p>一旦安装成功，您现在可以引导一个新的react项目。要创建我们的项目，请运行以下命令:</p>
<pre>npx create-react-app shopping-cart</pre>
<p>通过在项目根文件夹的终端中运行<code>npm start</code>来启动React应用服务器。</p>
<p><img data-attachment-id="10770" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/react-edit-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png" data-orig-size="730,407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-edit-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10770 jetpack-lazy-image" src="../Images/ae155a22d54d3ccaf2da002eabd24d5f.png" alt="React" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn-300x167.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10770" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/react-edit-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png" data-orig-size="730,407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-edit-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10770" src="../Images/ae155a22d54d3ccaf2da002eabd24d5f.png" alt="React" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn-300x167.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/react-edit-nocdn.png"/></noscript>
<h3>创建我们的布局</h3>
<p>让我们开始为我们的项目创建布局。我们的应用程序将有5个不同的组件。</p>
<ul>
<li><strong>导航条</strong>:用来放置我们的导航和购物车图标</li>
<li><strong>产品</strong>:显示产品列表。<br/>–<strong>产品</strong>:单个产品的加价</li>
<li><strong>页脚</strong>:我们应用的页脚</li>
<li><strong>购物车</strong>:存放购物车中的物品</li>
</ul>
<p>我们将在我们的项目中使用bootstrap，所以首先让我们包含它。在公共文件夹中打开您的<code>index.html</code>,并将以下链接标签添加到head部分:</p>
<pre>// ./public/index.html
&lt;link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"&gt;</pre>
<p>现在我们可以在应用程序中使用引导类了。</p>
<p>接下来，创建一个组件文件夹，并在其中创建以下组件:Navbar.js、Products.js、Product.js、Footer.js、Cart.js。</p>
<p>打开Navbar.js并添加以下代码:</p>
<pre>// src/components/Navbar.js
import React from 'react';

const Navbar = () =&gt; {
  return (
    &lt;nav className="navbar navbar-light bg-light"&gt;
      &lt;a className="navbar-brand"&gt;Shoppr&lt;/a&gt;
        &lt;button className="btn btn-outline-success my-2 my-sm-0" type="submit"&gt;Cart&lt;/button&gt;
    &lt;/nav&gt;
  );
};
export default Navbar;</pre>
<p>打开Footer.js并向其中添加以下代码:</p>
<pre>// src/components/Footer.js 
import React from 'react';
import '../App.css';

const Footer = () =&gt; {
  return (
      &lt;footer className="page-footer font-small bg-blue pt-4"&gt;
        &lt;div className="container text-center text-md-left"&gt;
          &lt;div className="row"&gt;
            &lt;div className="col-md-6 mt-md-0 mt-3"&gt;
              &lt;h5 className="text-uppercase font-weight-bold"&gt;Contact Us&lt;/h5&gt;
              &lt;p&gt;You can contact us on 234-8111-111-11&lt;/p&gt;
            &lt;/div&gt;
            &lt;div className="col-md-6 mb-md-0 mb-3"&gt;
              &lt;h5 className="text-uppercase font-weight-bold"&gt;Return Policy&lt;/h5&gt;
              &lt;p&gt;We accept returns after 7 days max&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div className="footer-copyright text-center py-3"&gt;© 2019 Copyright:
          &lt;span&gt; Shoppr&lt;/span&gt;
        &lt;/div&gt;
      &lt;/footer&gt;
  );
};
export default Footer;</pre>
<p>我们的页脚需要一些样式，所以我们将以下样式添加到<code>App.css</code>文件中:</p>
<pre>// src/App.css
footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  background-color: #333;
  color:#fff;
}</pre>
<p>在我们创建我们的产品组件之前，我们需要查询8base，以便向我们发送要显示的产品详细信息。让我们现在做那件事。</p>
<h3>使用GraphQL连接到8base后端</h3>
<p>为了将我们的应用程序连接到后端，我们需要安装几个GraphQL包。我们将使用的一个库是<a href="https://www.npmjs.com/package/apollo-boost" target="_blank" rel="noopener noreferrer"> apollo-boost </a>，它提供了一个使用URI连接到GraphQL后端的客户端。</p>
<p>URI是由8base提供的端点，可在仪表板的<a href="https://app.8base.com/data" target="_blank" rel="noopener noreferrer">数据</a>页面上获得。</p>
<p>在您的终端中运行以下命令来安装必要的软件包:</p>
<pre>npm install apollo-boost graphql graphql-tag react-apollo</pre>
<p>一旦成功，继续将src目录中的<code>index.js</code>文件更新为以下代码:</p>
<pre>import React from 'react';
    import ReactDOM from 'react-dom';
    import './index.css';
    import App from './App';
    import { ApolloProvider } from "react-apollo";
    import ApolloClient from "apollo-boost";
    import * as serviceWorker from './serviceWorker';
    
    const client = new ApolloClient({
      uri: "&lt;YOUR_8BASE_ENDPOINT&gt;"
    });
    
    ReactDOM.render(
      &lt;ApolloProvider client={client}&gt;
        &lt;App /&gt;
      &lt;/ApolloProvider&gt;,
      document.getElementById('root')
    );
    
    serviceWorker.unregister();</pre>
<p>我们已经用<code>ApolloProvider</code>包装了整个应用程序，它只需要一个道具，客户端。ApolloProvider加载8base表模式，这使您可以访问应用程序中数据模型的所有属性。</p>
<h3>展示我们的产品</h3>
<p>我们已经能够将我们的表模式从8base加载到我们的应用程序中。下一步是获取和展示我们的产品。</p>
<p>在组件文件夹下创建一个<code>product-list</code>文件夹，然后创建一个<code>index.js</code>文件，并向其中添加以下内容:</p>
<pre>// src/components/product-list/index.js
import gql from "graphql-tag";
import { graphql } from "react-apollo";

const PRODUCTS_QUERY = gql`
  query {
    productsList {
      items {
        id
        createdAt
        name
        price
        description
        image {
          downloadUrl
        }
      }
    }
  }
`;
export default PRODUCTS_QUERY;</pre>
<p>这里，我们创建一个名为<code>PRODUCTS_QUERY</code>的常数来存储查询。<code>gql</code>函数用于解析包含GraphQL代码的普通字符串。</p>
<p>我们已经用一些数据填充了后端。为了测试我们的查询是否工作正常，8base专门为此提供了一个方便的GraphQL explorer。在8base仪表板的菜单中，单击API explorer图标并运行查询。</p>
<p><img data-attachment-id="10773" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/api-explorer-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png" data-orig-size="730,374" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API-explorer-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn-300x154.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10773 jetpack-lazy-image" src="../Images/c2e46778fcd02e3a6357882d78e9f5e4.png" alt="API explorer" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn-300x154.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10773" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/api-explorer-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png" data-orig-size="730,374" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API-explorer-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn-300x154.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10773" src="../Images/c2e46778fcd02e3a6357882d78e9f5e4.png" alt="API explorer" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn-300x154.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/API-explorer-nocdn.png"/></noscript>
<p>现在，我们确信我们的查询工作正常。让我们继续创建我们产品的组件。</p>
<p>打开您的<code>Products.js</code>组件，并向其中添加以下代码:</p>
<pre>// src/components/Products.js
import React, { Component } from 'react';
import { Query } from 'react-apollo';
import PRODUCTS_QUERY from './product-list/index';
import Product from './Product';
import Navbar from './Navbar';

class Products extends Component {

   constructor(props) {
    super(props);
    this.state = {
      cartitems: []
    };
   }

   addItem = (item) =&gt; {
      this.setState({
          cartitems : this.state.cartitems.concat([item])
      });
    }

  render() {
    return (
      &lt;Query query={PRODUCTS_QUERY}&gt;
       {({ loading, error, data }) =&gt; {

          if (loading) return &lt;div&gt;Fetching&lt;/div&gt;
          if (error)   return &lt;div&gt;Error&lt;/div&gt;

          const items = data.productsList.items;
          return (
            &lt;div&gt;
              &lt;Navbar/&gt;
              &lt;div className="container mt-4"&gt;
                &lt;div className="row"&gt;
                   {items.map(item =&gt; &lt;Product key={item.id} product={item} addItem={this.addItem} /&gt;)}
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          )
        }}
      &lt;/Query&gt;
    );
  }

};</pre>
<p>导出默认产品；这里，我们用<code>&lt;Query/&gt;</code>组件包装我们的产品，并将<code>PRODUCTS_QUERY</code>作为道具传递。</p>
<p>阿波罗给组件的<code>render prop function</code>注入了几个道具。这些道具本身提供了关于网络请求状态的信息:</p>
<ol>
<li><code>loading</code>:只要请求仍在进行，并且还没有收到响应，这就是<code>true</code>。</li>
<li>如果请求失败，这个字段将包含关于到底哪里出错的信息。</li>
<li><code>data</code>:这是从服务器接收的实际数据。它有代表一列<code>product</code>元素的<code>items</code>属性。</li>
</ol>
<p>最后，我们遍历所有收到的项目，并将它们作为道具传递给我们的产品组件。在我们看到它的样子之前，让我们创建我们的<code>Product</code>组件。</p>
<p>打开您的<code>Product.js</code>,添加以下代码:</p>
<pre>// src/components/Product.js
import React from 'react';

const Product = (props) =&gt; {
  return (
      &lt;div className="col-sm-4"&gt;
          &lt;div className="card" style={{width: "18rem"}}&gt;
            &lt;img src={props.product.image.downloadUrl} className="card-img-top" alt="shirt"/&gt;
            &lt;div className="card-body"&gt;
              &lt;h5 className="card-title"&gt;{props.product.name}&lt;/h5&gt;
              &lt;h6 className="card-title"&gt;$ {props.product.price}&lt;/h6&gt;
              &lt;button className="btn btn-primary" onClick={() =&gt; props.addItem(props.product)}&gt;Buy now&lt;/button&gt;
            &lt;/div&gt;
          &lt;/div&gt;
      &lt;/div&gt;
  );
}
export default Product;</pre>
<p>我们的<code>Product.js</code>是一个功能组件，通过props接收产品细节并显示出来。</p>
<p>我们还调用click方法上的<code>addItem</code>函数，以便在单击时将当前产品添加到购物车中。</p>
<p>现在，我们所有的组件都设置好了，我们需要将它们导入到我们的<code>App.js</code>组件中，这是我们的基本组件。打开它，添加以下内容:</p>
<pre>// src/App.js
import React from 'react';
import './App.css';
import Footer from './components/Footer';
import Products from './components/Products';

function App() {
  return (
    &lt;div className="App"&gt;
      &lt;Products /&gt;
      &lt;Footer/&gt;
    &lt;/div&gt;
  );
}
export default App;</pre>
<p>在您的浏览器中转至，<a href="https://localhost:3000" rel="nofollow"> https://localhost:3000 </a>，您将看到以下内容:</p>
<p><img data-attachment-id="10778" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/example-shirts-ecommerce-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="example-shirts-ecommerce-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png" decoding="async" class="aligncenter size-full wp-image-10778 jetpack-lazy-image" src="../Images/bd6884dcc50a2a81c283322ad22ac827.png" alt="shirts-nocdn.png" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn-300x175.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10778" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/example-shirts-ecommerce-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png" data-orig-size="730,425" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="example-shirts-ecommerce-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10778" src="../Images/bd6884dcc50a2a81c283322ad22ac827.png" alt="shirts-nocdn.png" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn-300x175.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/example-shirts-ecommerce-nocdn.png"/></noscript>
<p>此时，我们有一个展示产品的商店，我们需要添加功能来将商品添加到我们的购物车中。</p>
<h3>添加购物车功能</h3>
<p>要添加我们的购物车功能，我们需要在组件中添加更多的方法。</p>
<p>将您的<code>products.js</code>更新为:</p>
<pre>// src/components/products.js
import React, { Component } from 'react';
import { Query } from 'react-apollo';
import PRODUCTS_QUERY from './product-list/index';
import Product from './Product';
import Cart from './Cart';
import Navbar from './Navbar';

class Products extends Component {

  constructor(props) {
    super(props);
    this.state = {
      cartitems: []
    };
    this.addItem = this.addItem.bind(this);
  }

    addItem(item){
      this.setState({
          cartitems : this.state.cartitems.concat([item])
      });
    }

    showModal = () =&gt; {
      this.setState({ show: true });
    };

    hideModal = () =&gt; {
      this.setState({ show: false });
    };

  render() {

    return (
          &lt;Query query={PRODUCTS_QUERY}&gt;
           {({ loading, error, data }) =&gt; {

              if (loading) return &lt;div&gt;Fetching&lt;/div&gt;
              if (error)   return &lt;div&gt;Error&lt;/div&gt;

              const items = data.productsList.items;
              const itemssent = this.state.cartitems;

              return (
                &lt;div&gt;
                 &lt;Navbar cart={itemssent} show={this.showModal} /&gt;
                 &lt;Cart show={this.state.show} items={itemssent} handleClose={this.hideModal}&gt;
                  &lt;/Cart&gt;
                  &lt;div className="container mt-4"&gt;
                    &lt;div className="row"&gt;
                       {items.map(item =&gt; &lt;Product key={item.id} product={item} addItem={this.addItem} /&gt;)}
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              )
            }}
          &lt;/Query&gt;
      )
   };
};

export default Products;</pre>
<p>用以下代码更新您的<code>Navbar.js</code>:</p>
<pre>// src/components/Navbar.js
    import React from 'react';
    
    const Navbar = (props) =&gt; {
      return (
        &lt;nav className="navbar navbar-light bg-light"&gt;
          &lt;h3&gt;Shoppr&lt;/h3&gt;
            &lt;button className="btn btn-outline-success my-2 my-sm-0" onClick={() =&gt; props.show()}&gt;Cart {(props.cart.length)}&lt;/button&gt;
        &lt;/nav&gt;
      );
    };
    
    export default Navbar;</pre>
<p>现在，创建一个<code>Cart.js</code>文件，并向其中添加以下代码:</p>
<pre>import React from 'react';


const Cart = ({ handleClose, show, items }) =&gt; {

  return (
    &lt;div className={show ? "modal display-block" : "modal display-none"}&gt;
      &lt;section className="modal-main"&gt;
        {items.map(item =&gt;
           &lt;div className="card" style={{width: "18rem"}}&gt;
              &lt;img src={item.image.downloadUrl} className="card-img-top" alt="shirt"/&gt;
              &lt;div className="card-body"&gt;
                &lt;h5 className="card-title"&gt;{item.name}&lt;/h5&gt;
                &lt;h6 className="card-title"&gt;$ {item.price}&lt;/h6&gt;
              &lt;/div&gt;
            &lt;/div&gt;
        )}
         Total items: {items.length}
        &lt;button className="btn btn-warning ml-2" onClick={handleClose}&gt;close&lt;/button&gt;
      &lt;/section&gt;
    &lt;/div&gt;
  );

};

export default Cart;</pre>
<p>我们需要一点风格来正确显示我们的购物车模态。打开您的<code>app.css</code>,添加以下代码:</p>
<pre>.modal {
  position: fixed;
  top: 0;
  left: 0;
  width:100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
}

.modal-main {
  position:fixed;
  background: white;
  width: 80%;
  height: auto;
  top:50%;
  left:50%;
  padding: 10px;
  transform: translate(-50%,-50%);
}

.display-block {
  display: block;
}

.display-none {
  display: none;
}</pre>
<p>现在打开您的购物车，向其中添加商品，并通过购物车按钮查看:</p>
<p><img data-attachment-id="10777" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/shirts-ecommerce-nocdn-png/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif" data-orig-size="600,339" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="shirts-ecommerce-nocdn.png" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png-300x170.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif" decoding="async" class="aligncenter size-full wp-image-10777 jetpack-lazy-image" src="../Images/9c3533e9e268214c50ebf8e882d07b71.png" alt="shirts on an ecommerce site" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10777" data-permalink="https://blog.logrocket.com/building-an-e-commerce-website-with-react-and-8base/attachment/shirts-ecommerce-nocdn-png/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif" data-orig-size="600,339" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="shirts-ecommerce-nocdn.png" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png-300x170.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10777" src="../Images/9c3533e9e268214c50ebf8e882d07b71.png" alt="shirts on an ecommerce site" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/shirts-ecommerce-nocdn.png.gif"/></noscript>
<h3>结论</h3>
<p>在本教程中，我们已经创建了一个基本的电子商务商店。这里学到的概念可以帮助你创建强大的电子商务网站，而不用担心你的后端基础设施。你可以在这里了解更多关于React <a href="https://reactjs.org" target="_blank" rel="noopener noreferrer">和8base </a><a href="https://8base.com" target="_blank" rel="noopener noreferrer">的信息。你可以在这里找到本教程使用的代码</a><a href="https://github.com/samuelayo/8base_shopping_cart" target="_blank" rel="noopener noreferrer"/>。</p>
<p>快乐编码。</p><div class="code-block code-block-22">
<div class="blog-plug inline-plug ecomm-plug"><h2><a href="https://lp.logrocket.com/blg/ecommerce-signup"> LogRocket </a>:看看用户为什么不完成你的电子商务流程中的一个步骤的技术和UX原因。</h2><a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/></noscript></a><p>LogRocket 就像是一个网络和移动应用程序和网站的DVR，记录你的电子商务应用程序上发生的一切。LogRocket没有猜测用户不转化的原因，而是主动揭示了阻止你转化的根本原因，比如JavaScript错误或死点击。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>开始主动监控您的电子商务应用程序— <a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer">免费试用</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>