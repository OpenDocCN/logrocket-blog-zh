<html>
<head>
<title>A guide to features and updates in React DevTools - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React DevTools - LogRocket博客中的特性和更新指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/guide-features-updates-react-devtools/#0001-01-01">https://blog.logrocket.com/guide-features-updates-react-devtools/#0001-01-01</a></blockquote><div><article class="article-post">
<p><strong> <em>编者按</em> </strong> <em> : </em> <em>本React DevTools教程最近一次更新是在2022年8月5日，其中包含了关于安装React DevTools浏览器扩展的章节，解决了浏览器上显示的扩展的常见问题，以及最近的小更新中附带的新功能。</em></p>
<p>当你在做一个React项目时，React DevTools是一个非常有价值的资产。尽管它有自己的标准用例，但是DevTools中有很多微妙的特性没有被注意到或者没有被使用。</p>
<p>在本文中，我们将演示如何使用React DevTools的各种功能，这些功能您可能还没有尝试过(或者甚至不知道存在)。我们还将介绍如何安装浏览器扩展，并重点介绍React DevTools v4和后续次要版本中附带的一些特性。</p>


<p>React DevTools是一个开源的、MIT授权的工具，由Meta开发和维护。它为浏览器开发工具增加了React调试功能。尽管React DevTools主要是一个浏览器扩展，但它也是一个独立的包。</p>
<p>虽然浏览器扩展用于调试基于浏览器的React应用程序，但是您也可以使用独立包来调试非基于浏览器的应用程序，例如React本地和移动浏览器。</p>

<p>用于调试基于web的React应用程序的React DevTools浏览器扩展在一些流行的web浏览器上可用。您可以从下面相应的web浏览器加载项商店安装它:</p>

<p>也可以直接从源代码构建和安装React DevTools。<a href="https://github.com/facebook/react/tree/main/packages/react-devtools-extensions#prerequisite-steps" target="_blank" rel="noopener">您可以查看文档，了解如何操作的说明</a>。</p>
<p>要使用独立的React DevTools包，您需要从<code>npm</code>包注册表安装它，如下所示:</p>
<pre class="language-yarn hljs">yarn global add react-devtools
</pre>
<pre class="&quot;language-bash">npm install -g react-devtools
</pre>

<p>当你指向一个用React构建的站点时，React DevTools应该出现在浏览器的DevTools中。然而，在使用扩展时遇到问题是很常见的。</p>
<p>一个常见的问题是React DevTools不显示在浏览器DevTools中，即使安装后也是如此。</p>
<p>以下是此问题的一些可能原因和解决方案:</p>
<ul>
<li>如果您从文件(<code>file:</code>)加载项目，请确保提供对文件URL的扩展名访问。给予扩展对项目的访问权是很重要的</li>
<li>确保在安装React DevTools后重新加载网页，以便开始检测已经打开的页面</li>
<li>如果您的项目在iFrame中运行或调试React本地项目，文档建议使用独立的React DevTools包</li>
<li>当你正在调试一个浏览器扩展时，不可能使用React DevTools</li>
</ul>
<p>React DevTools文档的FAQ部分列出了提到的问题以及如何解决这些问题。</p>

<p>React DevTools一直在添加新特性。<a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html" target="_blank" rel="noopener"> React DevTools 4 </a>于2019年8月正式发布，带来了显著的性能提升、改版的导航体验以及对React Hooks的全面支持。从那以后，React团队通过<a href="https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md" target="_blank" rel="noopener">定期更新和改进</a>不断完善DevTools。</p>
<p>现在，我们将讨论使用React DevTools的五种方法。让我们投入进去吧！</p>
<h3 id="debug-performance-react-profiler">使用React探查器调试性能</h3>
<p>2018年9月，React团队推出了一个令人难以置信的强大功能，用于调试与性能相关的问题，称为<a href="https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html" target="_blank" rel="noopener"> React Profiler </a>。当与React v16.5或更高版本一起使用时，React DevTools为您提供了一个概要分析功能，向您显示应用程序如何重新呈现。</p>
<p>就像您选择的开发工具中的常规JavaScript分析器一样，您必须“记录”一组交互。完成后，您将看到应用程序经历的每个重新渲染的可视化效果，以及精确的时间信息和彩色编码的火焰图。截至2019年4月，它甚至<a href="https://twitter.com/brian_d_vaughn/status/1113200027835310080" target="_blank" rel="noopener">抓取了每一次DOM更新</a>的截图。</p>
<p><img data-attachment-id="128817" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/react-profiler-flame-graph/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png" data-orig-size="720,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-profiler-flame-graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png" decoding="async" class="aligncenter size-full wp-image-128817 jetpack-lazy-image" src="../Images/24729ae535544f9bbbfabbd033f840d8.png" alt="React Profiler Flame Graph" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph-300x83.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128817" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/react-profiler-flame-graph/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png" data-orig-size="720,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-profiler-flame-graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-128817" src="../Images/24729ae535544f9bbbfabbd033f840d8.png" alt="React Profiler Flame Graph" srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph-300x83.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-profiler-flame-graph.png"/></noscript>
<p>为了更深入地了解React Profiler，我推荐观看Brian Vaughn录制的现场视频,他在视频中演示了如何使用Profiler来定位和消除讨厌的性能错误。</p>

<p>你是那种喜欢花大量时间让你的开发环境看起来恰到好处的人吗？如果是这样，你会很高兴知道React DevTools是主题。您可以在React DevTools设置的<strong> General </strong>选项卡中找到主题选项:</p>
<p><img data-attachment-id="128819" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/react-devtools-theming-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png" data-orig-size="730,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-devtools-theming-options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options-300x197.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png" decoding="async" class="aligncenter size-full wp-image-128819 jetpack-lazy-image" src="../Images/c813e505e23b1e180a4d91cf4f5ddc58.png" alt="React Devtools Theming Options" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options-300x197.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128819" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/react-devtools-theming-options/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png" data-orig-size="730,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-devtools-theming-options" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options-300x197.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-128819" src="../Images/c813e505e23b1e180a4d91cf4f5ddc58.png" alt="React Devtools Theming Options" srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options-300x197.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/react-devtools-theming-options.png"/></noscript>
<p>默认情况下，它将使用您的浏览器主题。你也可以随时在亮色和暗色主题之间切换。要开始玩主题，单击主面板右侧的cog图标，然后单击<strong>常规</strong>设置选项卡。</p>
<h3 id="access-react-components-state-console">从控制台访问React组件和状态</h3>
<p>尽管您可以在React DevTools中直接找到并修复大多数问题，但是有一些调试与一个好的旧<code>console.log</code>一起工作会更好。我最喜欢的特性之一是DevTools实际上给了你通过控制台本身与组件实例交互的选项。</p>
<p>在React DevTools中选择一个组件并弹出打开控制台(点击<code>Esc</code>键可以让你同时看到这两个组件)。键入<code>$r</code>，您将可以从控制台访问该React组件的实例。</p>
<p><img data-attachment-id="128821" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/access-react-components-console/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png" data-orig-size="720,311" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="access-react-components-console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png" decoding="async" class="aligncenter size-full wp-image-128821 jetpack-lazy-image" src="../Images/836675ac555bdac4633952a666e0f72c.png" alt="Access React Components From The Console" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console-300x130.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128821" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/access-react-components-console/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png" data-orig-size="720,311" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="access-react-components-console" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-128821" src="../Images/836675ac555bdac4633952a666e0f72c.png" alt="Access React Components From The Console" srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png 720w, https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console-300x130.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/access-react-components-console.png"/></noscript>
<p>这给了您很大的调试能力。使用DevTools，您可以从控制台访问React状态，触发回调方法，甚至增加功能。</p>
<p>如果您对某个特定的函数感兴趣，比如点击处理程序或回调函数，React DevTools还提供了一个很好的便利特性。如果您在props或state overview中右键单击一个函数，您可以将它作为一个全局变量使用。这样，你可以用不同的参数和上下文随时调用它。</p>
<h3 id="view-source-pro">像专家一样查看源代码</h3>
<p>现代浏览器中的调试工具比大多数人意识到的要强大得多。您可以设置断点，随着应用程序的变化检查状态和属性，并逐行执行代码。然而，用Babel 编译的<a href="https://blog.logrocket.com/why-you-dont-need-babel/" target="_blank" rel="noopener">代码往往很难读懂，也很难理解。如果你真的可以像你写的那样查看源代码，那不是很好吗？</a></p>
<p>巴别塔提供了一个插件，为所有JSX元素添加一个<code>__source</code>道具。这使得React DevTools可以直接链接到您正在检查的组件的源代码。它会使您的应用程序变慢一点，但是在开发模式下效果很好。</p>
<p>要使用这个特性，安装<code><a href="https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-jsx-source" target="_blank" rel="noopener">babel-plugin-transform-react-jsx-source</a></code>，将其应用到您的<code>.babelrc</code>文件，并重启您的开发服务器。当你右击组件树中的一个组件时，你会看到一个新选项:<code>“Show &lt;component name&gt; source”:</code></p>
<p><img data-attachment-id="128823" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/show-component-source/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png" data-orig-size="650,428" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="show-component-source" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png" decoding="async" class="aligncenter size-full wp-image-128823 jetpack-lazy-image" src="../Images/bd3efe0e6b15ec9b097b72cc6381f8b6.png" alt="Show Component Source" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png 650w, https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source-300x198.png 300w" data-lazy-sizes="(max-width: 650px) 100vw, 650px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="128823" data-permalink="https://blog.logrocket.com/guide-features-updates-react-devtools/attachment/show-component-source/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png" data-orig-size="650,428" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="show-component-source" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-128823" src="../Images/bd3efe0e6b15ec9b097b72cc6381f8b6.png" alt="Show Component Source" srcset="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png 650w, https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source-300x198.png 300w" sizes="(max-width: 650px) 100vw, 650px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/05/show-component-source.png"/></noscript>
<p>这使您能够跳转到浏览器的源代码视图，在那里您可以检查、设置断点并一起修改代码。</p>
<p>如果你使用流行的引导工具<a href="https://blog.logrocket.com/whats-new-in-create-react-app-4-0-0/" target="_blank" rel="noopener"> Create React App </a>，你会发现它开箱即用。没有配置，没有插件，什么都没有。直接跳到源头就好！</p>
<h3 id="access-secret-react-apis">访问机密反应API</h3>
<p>你知道吗，React有一些顶级导出是专门为与React DevTools交互而设计的？你可能不会经常需要它们，但是当你需要的时候，它们会非常方便。</p>
<h4 id="use-debug-value"><code>useDebugValue</code></h4>
<p>当你<a href="https://blog.logrocket.com/advanced-react-hooks-creating-custom-reusable-hooks/" target="_blank" rel="noopener">创建与其他开发者共享的自定义反应钩子</a>时，使用<code>useDebugValue</code>钩子通常是个好主意。这个钩子向React DevTools中显示的钩子添加了一个信息标签。</p>
<h4 id="interaction-tracking">交互跟踪</h4>
<p>在某些情况下，理解为什么特定的提交或重新呈现花费的时间比预期的长可能有点复杂。这就是为什么React DevTools支持所谓的<a href="https://gist.github.com/bvaughn/8de925562903afd2e7a12554adcdda16" target="_blank" rel="noopener">交互跟踪</a>的原因。这是一个编程式API，允许你在应用程序中的不同事件上放置标签，并跟踪它们的性能。</p>
<p>首先，安装<code>scheduler</code>包并导入<code>unstable_trace</code>方法。该方法接受一个标签(例如，“单击了登录按钮”)、一个时间戳和一个回调。回调中发生的事情可以在比以前更详细的层次上被跟踪。</p>
<h4 id="debug-react-production-build">调试React生产版本</h4>
<p>如果您遇到了只在应用程序的生产版本中出现的性能退化，您可能想尝试对您的应用程序进行分析。不幸的是，React不包括对React 生产版本的<a href="https://gist.github.com/bvaughn/25e6233aeb1b4f0cdb8d8366e54a3977" target="_blank" rel="noopener">概要分析支持——至少默认情况下没有。</a></p>
<p>幸运的是，您仍然可以选择在您的生产应用程序中提供概要分析。您可能不想将它发送给您的客户，但是在本地或在QA环境中测试它会对您有很大帮助。</p>

<p>如前所述，React DevTools一直在大量开发中。<a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html" target="_blank" rel="noopener"> React DevTools v4 </a>于2019年8月发布，随后的小更新引入了许多重大和微小的改进，我们将在下面列出其中的一些。<a href="https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md" target="_blank" rel="noopener"> React DevTools changelog </a>有React DevTools最近更新和改进的完整列表，但我们现在只看几个。</p>
<h3 id="legacy-react-support">传统React支持</h3>
<p>早期版本的React DevTools仅支持React v16及更高版本。然而，React DevTools v4也支持React v0.13、14和15。对于那些坚持维护或修复遗留React代码库的人来说，这是一个好消息。</p>
<blockquote><p>我想这也值得在线程中明确提及:新的DevTools将支持旧的React版本(可能是v13+)</p>
<p>坦率地说，我最初希望避免这种情况，但这感觉像是对社区等“正确的事情”。——布莱恩·沃恩(@ briandvaughn)<a href="https://twitter.com/brian_d_vaughn/status/1118685119336706048?ref_src=twsrc%5Etfw" target="_blank" rel="noopener">2019年4月18日</a></p></blockquote>
<h3 id="collapsed-expanded-tree-view">折叠或展开的树视图</h3>
<p>当您打开React DevTools时，您现在可以决定默认情况下是希望组件的树视图折叠还是展开。您可以从cog图标后面的新的和改进的设置面板中更改您的首选项。</p>
<h3 id="simplified-tree-view">简化的树形视图</h3>
<p>React DevTools在v4中提供了一个稍微简化的树形视图。不显示任何内联属性(如果适用，除了键)，只显示纯DOM节点(如<code>&lt;div /&gt;</code>)。</p>
<p>这是一个颇具争议的变化，遭到了社区的强烈反对。另一方面，简化的树带来了更好的性能和更易管理的树视图UI。</p>
<blockquote><p>话虽如此，我预计一些变化将会引起争议。</p>
<p>比如:1。新的DevTools不显示内联属性，只显示名称和键(如果有的话)。2.新的DevTools没有在组件树中显示DOM元素。——布莱恩·沃恩(@ briandvaughn)<a href="https://twitter.com/brian_d_vaughn/status/1118676989303328768?ref_src=twsrc%5Etfw" target="_blank" rel="noopener">2019年4月18日</a></p></blockquote>

<p>你知道React DevTools的大多数控件都有解释性工具提示吗？大多数用户也没有。原生工具提示有很长的延迟，导致许多用户认为根本没有任何工具提示。React DevToos v4中现在有了改进的工具提示，这要感谢Ryan Florence和他的<a href="https://ui.reach.tech/" target="_blank" rel="noopener"> Reach UI库</a>！</p>
<h3 id="search-timeline-component-name">按组件名称搜索时间线</h3>
<p>React DevTools v4.22.0次要版本增加了按组件名称搜索时间轴的功能。搜索组件名称会缩放组件测量。然后，您可以使用下一个和上一个箭头单步执行。</p>
<p>上面列出的特性只是React DevTools v4和后续次要版本附带的许多特性中的一部分。</p>

<p>您可能已经注意到，在谈到React DevTools时，Brian Vaughn的名字经常出现。Brian是React DevTools的主要开发人员，在为普通React开发人员创建有用的工具方面做了大量工作。如果你想成为DevTools专家，我建议你去看看他关于这个主题的一些演讲。布莱恩还做了<a href="https://reactpodcast.com/37" target="_blank" rel="noopener">几个播客采访</a>，值得一看。</p>
<h2 id="conclusion">结论</h2>
<p>React DevTools使React应用程序的构建、发布和调试变得比以往更加容易。多亏了Profiler API，您甚至可以立即解决大多数性能问题！对于新手和专业人士来说，这是一个非常重要的学习如何使用和掌握的工具。</p>
<p>React DevTools中你最喜欢的特性是什么？</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>