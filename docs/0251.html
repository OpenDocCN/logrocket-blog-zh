<html>
<head>
<title>New Angular features you didn’t know existed - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>你不知道存在的新的角度特征</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/new-angular-features-you-didnt-know-existed-7f292a6e7afc/#0001-01-01">https://blog.logrocket.com/new-angular-features-you-didnt-know-existed-7f292a6e7afc/#0001-01-01</a></blockquote><div><article class="article-post">
<blockquote><p>TL；DR:在这篇文章中，你将会看到一些你可能不知道的新的角度特征。我们将看看它们背后的思维过程，甚至一些如何开始使用它们的例子。</p></blockquote>
<h3>有角的</h3>
<p>Angular是一个JavaScript框架(GitHub上有近44，000颗星)，是一个可以轻松构建web应用程序的平台。Angular结合了声明性模板、依赖注入、端到端工具和集成的最佳实践来解决开发挑战。Angular使开发人员能够构建基于web、移动或桌面的应用程序。它还有最有用的CLI工具，让初学者轻松入门。</p>
<p>在本文中，将向您介绍每个Angular开发者都应该了解的一些Angular特性。Angular目前在<a href="https://angular.io/guide/releases">第七个版本</a>，下一个版本预计在2019年5月的任何时候发布。在这篇文章中，你将回顾激动人心的特性，并预览8.0版中即将出现的特性。</p>
<figure>

</figure>

<h3>角度元素</h3>
<p><a href="https://blog.angular.io/version-6-of-angular-now-available-cc56b0efa7a4">在去年大约这个时候发布的第六个版本</a>中，Angular Elements被发布给开发者使用。<a href="https://angular.io/guide/elements"> Angular Elements </a>是一个新的Angular包，通过将角度组件注册为自定义元素，您可以使用它在现有的角度应用程序中引导角度组件。Angular通过将Angular组件编译成web组件来实现这一点。</p>
<p>随着web组件在JavaScript社区得到广泛接受，这是在Angular项目中开始使用它们的好时机。Angular元素是可重用的，因为你可以在其他框架中使用它们，如<a href="https://reactjs.org/"> React </a>和<a href="https://vuejs.org/"> Vue </a>，也可以在项目的服务器端使用它们。</p>
<p><a href="https://blog.angular.io/version-7-of-angular-cli-prompts-virtual-scroll-drag-and-drop-and-more-c594e22e7b8c?source=collection_home---4------5---------------------">在版本7 </a>中，Angular团队使用web标准为自定义HTML元素添加了对内容投影的支持，如Angular Elements中的<code>&lt;slot&gt;</code>:</p>
<pre>@Component({
  selector: 'bla-bla',
  template: `
    &lt;header&gt;
      &lt;slot name="bla-header"&gt;&lt;/slot&gt;
    &lt;/header&gt;
    &lt;slot&gt;&lt;/slot&gt;`,
  encapsulation: ViewEncapsulation.ShadowDom,
  styles: []
})
export class BlaComponent {
}
</pre>
<p>有了这个声明，现在可以像这样使用slot了:</p>
<pre>&lt;bla-bla&gt;
  &lt;span slot="bla-header"&gt;Angular rocks!&lt;/span&gt;
&lt;bla-bla&gt;
</pre>
<h3>图书馆支持</h3>
<p>由于普遍的需求，Angular团队添加了schematics支持，因此您现在可以创建和发布新的库来扩展Angular功能。如果您发现您需要在多个应用程序中解决同一个问题，或者您希望以可重用的方式与其他开发人员共享您的解决方案，您应该对此感到兴奋:</p>
<pre>ng generate library &lt;name&gt;</pre>
<figure id="2c8d" class="graf graf--figure graf-after--pre">

</figure>
<p>此命令将在您的CLI工作区内创建一个库项目，并提供配置该项目以进行测试和构建的选项。点击此处，您可以了解更多关于使用Angular CLI创建库的信息。</p>
<h3>CLI升级:ng添加和ng更新</h3>
<p>为了从根本上使CLI工具更易于使用和更直观，在第6版的<a href="https://blog.angular.io/version-6-of-angular-now-available-cc56b0efa7a4">Angular CLI中引入了更多的CLI命令。这些命令非常有用，如果您的Angular版本是版本6或更高版本，您应该开始使用它们。</a></p>
<p><strong> 1。ng add </strong>:这个CLI命令旨在通过一个命令帮助您轻松地通过包和特性向项目添加新功能。语法是:</p>
<p><code>ng add &lt;package&gt;</code></p>
<p>它使用您的默认包管理器(yarn或npm)来下载新的依赖项，并激活安装脚本来安装它们，这样您就可以随时使用它们。</p>
<ul class="postList">
<li id="dc3a" class="graf graf--li graf-after--p">受 <a class="markup--anchor markup--li-anchor" href="https://blog.logrocket.com/getting-started-with-the-new-vue-cli-3-43bcbe1ae759?source=your_stories_page---------------------------" target="_blank" rel="noreferrer nofollow noopener" data-href="https://blog.logrocket.com/getting-started-with-the-new-vue-cli-3-43bcbe1ae759?source=your_stories_page---------------------------"> <em class="markup--em markup--li-em"> Vue CLI 3.0 </em> </a>中ng add的启发，Vue等其他JavaScript框架也实现了类似的CLI add命令功能</li>
</ul>
<p><strong> 2。ng update </strong>:这个CLI命令进入您的package.json文件，对其进行分析，并使用其内置的Angular版本推荐系统来更新您指定的特定包。语法如下所示:</p>
<p><code>ng update &lt;package&gt;</code></p>
<p>其中包是您的首选包的名称。更新命令不仅仅是更新你的包，它还保持你的依赖关系同步，并使用yarn或npm对你的项目进行必要的转换。</p>
<h3>数据保护程序更新</h3>
<p>在版本7中，引入了一个效率特性，现在当您运行build命令时，当您的包大小超过2MB时，您会得到警告。当您的包达到5MB大小时，它会进一步显示错误消息。但是，您可以通过修改Angular.json文件，将这些错误和警告设置调整到您自己的包大小限制:</p>
<pre>"budgets": [
  {
    "type": "initial",
    "maximumWarning": "2mb",
    "maximumError": "5mb"
  }
]
</pre>
<p>这些预算设置与谷歌chrome用户可以看到的类似，因此可以获得Chrome的<a href="https://support.google.com/chrome/answer/2392284">数据保存器</a>功能。这是一个非常好的方法，让你既遵守纪律，又对设定的捆绑包大小目标负责。</p>
<h3>角CDK</h3>
<p><a href="https://material.angular.io"> Google的Material.io </a>平台在Angular第六版发布的时候进行了更新，这个平台是用来用材料设计来构建网页体验的。它现在包含一个组件开发工具包。组件开发工具包(CDK)是一套工具，它实现了常见的交互模式，同时对它们的表现形式没有偏见。它代表了Angular Material库中核心功能的抽象，没有任何特定于材料设计的样式。可以把CDK想象成一个空白状态，在这个状态下，你可以开发你自己的定制组件。可以使用命令行将材质设置添加到角度项目中:</p>
<p><code>ng add @angular/material</code></p>
<p>以下特征源自CDK。</p>
<h3>起动机部件</h3>
<p>几个开箱即用的启动组件被添加到CDK，如在第六角版本。这些组成部分是:</p>
<p><strong> 1。材料侧边导航</strong>:这里我们看到一个由工具栏和侧边导航组成的开始角应用程序。所有的组件都是完全响应的，当然是按照材料设计建造的:<br/> <code>ng generate @angular/material:material-nav — name=my-nav</code></p>
<p><strong> 2。材料仪表板</strong>:这里你可以用一个命令生成一个起始仪表板模板。这个仪表板包含动态网格列表卡，所有设计根据材料设计原则。他们都有求必应:</p>
<p><code>ng generate @angular/material:material-dashboard --name=my-dashboard</code></p>
<p><strong> 3。材料数据表</strong>:在这里可以生成一个已经配置了数据源的数据表组件，用于排序和分页；</p>
<p><code>ng generate @angular/material:material-table --name=my-table</code></p>
<p><a href="http://material.angular.io/guide/schematics">你可以在这里</a>了解更多可用的角材示意图。</p>
<h3>虚拟卷轴</h3>
<p>Angular版本7在CDK上增加了更多闪亮的元素。添加虚拟滚动功能有助于以这样一种方式构建您的用户界面，即当您必须显示具有长列表项的组件时，您可能不必使用分页选项。虚拟滚动模块正是通过在滚动时将元素加载到DOM中，并通过列表的可见部分从DOM中卸载元素来实现这一点的，这反过来又为使用大型可滚动列表构建更酷、更快的用户体验提供了一个很好的平台:</p>
<pre>import {ChangeDetectionStrategy, Component} from '@angular/core';

/** @title Basic virtual scroll */
@Component({
  selector: 'cdk-virtual-scroll-overview-example',
  styleUrls: ['cdk-virtual-scroll-overview-example.css'],
  templateUrl: 'cdk-virtual-scroll-overview-example.html',
  changeDetection: ChangeDetectionStrategy.OnPush,
})
export class CdkVirtualScrollOverviewExample {
  items = Array.from({length: 100000}).map((_, i) =&gt; `Item #${i}`);
}
</pre>
<p><strong class="markup--strong markup--figure-strong">打字稿</strong></p>
<pre>.example-viewport {
  height: 200px;
  width: 200px;
  border: 1px solid black;
}

.example-item {
  height: 50px;
}
</pre>
<p><strong class="markup--strong markup--figure-strong"> CSS </strong></p>
<p><a href="https://material.angular.io/cdk/scrolling/overview">你可以在这里阅读更多关于虚拟滚动的信息</a>。</p>
<h3>拖放</h3>
<figure id="727c" class="graf graf--figure graf-after--h3">
<figcaption class="imageCaption">Drag and Drop on an example dashboard</figcaption></figure>
<p>添加到虚拟滚动模块的是另一个用户界面游戏规则改变者，称为拖放。这个模块为用户界面设计带来了令人兴奋的交互性。通过拖放，您可以让列表项变得非常具有交互性，让用户能够在单个列表中甚至在两个列表之间拖放列表项。这是一个非常有创意的功能，你应该去看看。列表项的呈现、重新排序和重新洗牌都是自动和动态完成的，您还可以将该过程制作成动画:</p>
<pre>&lt;div class="example-box" cdkDrag&gt;
  Drag me around
&lt;/div&gt;
</pre>
<p><strong class="markup--strong markup--figure-strong"> HTML </strong></p>
<pre>import {Component} from '@angular/core';

/**
 * @title Basic Drag&amp;Drop
 */
@Component({
  selector: 'cdk-drag-drop-overview-example',
  templateUrl: 'cdk-drag-drop-overview-example.html',
  styleUrls: ['cdk-drag-drop-overview-example.css'],
})
export class CdkDragDropOverviewExample {}
</pre>
<p><strong class="markup--strong markup--figure-strong">打字稿</strong></p>
<pre>.example-box {
  width: 200px;
  height: 200px;
  border: solid 1px #ccc;
  color: rgba(0, 0, 0, 0.87);
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  background: #fff;
  border-radius: 4px;
  position: relative;
  z-index: 1;
  transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1);
  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),
              0 2px 2px 0 rgba(0, 0, 0, 0.14),
              0 1px 5px 0 rgba(0, 0, 0, 0.12);
}

.example-box:active {
  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),
              0 8px 10px 1px rgba(0, 0, 0, 0.14),
              0 3px 14px 2px rgba(0, 0, 0, 0.12);
}
</pre>
<p><strong class="markup--strong markup--figure-strong"> CSS </strong></p>
<p>个人认为，想到的常见用例有:游戏和项目板。</p>
<h3>结论:角8来了！</h3>
<p>在等待下一个版本的时候，我们已经看到了最新最闪亮的角度特征。<a href="https://blog.angular.io/a-plan-for-version-8-0-and-ivy-b3318dfc19f7">根据推测的Angular发布时间表</a>，Angular版本8的可选预览版将于今年5月发布，这将是一个非常具有象征意义的发布，因为Angular渲染器将被更改为一个名为Ivy的新版本。Ivy承诺带来更快的重新构建时间、类型检查的改进、更简单的调试平台，最重要的是大大减小了包的大小。你第一次遇到这些角度特征中的哪一个？</p><div class="code-block code-block-19">
<div class="blog-plug inline-plug angular-plug"><h2>像用户一样体验Angular应用程序</h2><p>调试Angular应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪生产中所有用户的角度状态和动作感兴趣，</p><a href="https://lp.logrocket.com/blg/angular-signup">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/2794ac39244976f37c4941d9a910be23.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/610d6a7-687474703a2f2f692e696d6775722e636f6d2f696147547837412e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你网站上发生的一切，包括网络请求、JavaScript错误等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket NgRx插件将角度状态和动作记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化调试Angular应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/angular-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>
</div>
<hr/>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>