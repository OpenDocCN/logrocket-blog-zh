<html>
<head>
<title>Setting up email authentication with React Native, react-navigation, and Firebase - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React Native、react-navigation和Firebase - LogRocket博客设置电子邮件身份验证</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/#0001-01-01">https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong> </em> <em>本帖于2021年10月更新，以反映react-navigation和react-native-firebase的当前版本。</em></p>
<p>管理移动应用中的用户认证流是要实现的最重要的特性之一。在本教程中，我们将讨论使用带有React Native和最新版本的react-navigation ( <a href="https://reactnavigation.org/" target="_blank" rel="noopener noreferrer">版本6 </a>)和<a href="https://rnfirebase.io/" target="_blank" rel="noopener"> react-native-firebase </a>库的电子邮件登录提供者来实现认证流的策略之一。对于后端服务，我们将使用<a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer"> Firebase SDK </a>。</p>
<p>为了跟进，确保您可以访问Firebase项目及其控制台(免费层项目也可以——我也将使用免费层)。</p>
<h2>在React Native with Firebase中实现身份验证的要求</h2>
<p>对于本教程，请确保您的开发环境包括以下必需的包:</p>
<ul>
<li>安装在本地机器上的10.x.x 以上的Node.js</li>
<li><a href="https://facebook.github.io/watchman/" target="_blank" rel="noopener noreferrer"> watchman </a>文件监视器，已安装</li>
<li>react-native-cli通过npm安装或通过npm访问</li>
<li><a href="https://cocoapods.org/" target="_blank" rel="noopener noreferrer">仅适用于iOS的cocoapods </a></li>
<li>用于测试的iOS模拟器或Android模拟器</li>
<li>务必注意，下面的教程将使用<a href="https://reactnative.dev/" target="_blank" rel="noopener noreferrer"> react-native版本0.62.x </a>。请确保您使用的React Native版本高于0.60.x</li>
</ul>
<p>对于为React Native设置开发环境的完整演练，您可以在这里浏览官方文档。</p>
<h2>创建React本机应用程序</h2>
<p>首先创建一个新的React原生应用程序。打开终端窗口并执行以下命令。我将使用npm来访问最新的React本机CLI版本。创建项目目录后，请确保在目录内导航:</p>
<pre class="language-shell hljs">npx react-native init rnEmailAuthFirebase
# navigate to project directory
cd rnEmailAuthFirebase</pre>
<p>现在让我们安装构建这个演示应用程序所需的所有依赖项。返回终端窗口运行以下命令。正在安装的以下库与在React本机应用程序中配置Firebase SDK以及使用react-navigation设置导航流相关。</p>
<p>为了安装依赖项，我将使用<code>yarn</code>，但是您也可以使用<code>npm</code>:</p>
<pre class="language-shell hljs"># for navigation
yarn add @react-navigation/native @react-navigation/stack react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context @react-native-community/masked-view
yarn add @react-navigation/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="670906130e1102275149574955">[email protected]</a> @react-navigation/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2e5d5a4f4d456e18001e0019">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d0a2b5b1b3a4fdbeb1a4b9a6b5fda3b3a2b5b5bea390e3fee7fee2">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9be9fefaf8efb6f5faeff2edfeb6e8fafdfeb6fae9fefab6f8f4f5effee3efdba8b5a8b5a9">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="156770747661387b74617c63703872706661606770387d747b7179706755243b24253b26">[email protected]</a> @react-native-masked-view/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97faf6e4fcf2f3bae1fef2e0d7a7b9a5b9a1">[email protected]</a></pre>
<p>如果你在Mac上开发iOS，你需要安装pods(通过Cocoapods)来完成链接。运行下面的命令:</p>
<pre class="language-shell hljs">npx pod-install ios
</pre>
<p>依赖关系<code>react-native-screens</code>需要对Android平台进行额外的配置。打开文件<code>android/app/src/main/java//MainActivity.java</code>并在顶部添加以下内容:</p>
<pre class="language-java hljs">import android.os.Bundle;</pre>
<p>在同一文件中，在<code>MainActivity</code>类中添加以下代码片段:</p>
<pre class="language-java hljs">@Override
protected void onCreate(Bundle savedInstanceState) {
  super.onCreate(null);
}
</pre>
<p>react-native-gesture-handler包需要额外的配置。打开React Native app根目录下的<code>App.js</code>文件，导入文件顶部的包。</p>
<pre>// language: javascript
import 'react-native-gesture-handler';</pre>
<p>集成和启用React导航库的步骤现在已经完成。</p>
<p>如果您使用过react-native-firebase版本5或更低版本，您可能会注意到它是一个monorepo，用于从一个模块管理所有firebase依赖项。</p>
<p>这个库的最新版本希望您只安装那些基于您想要使用的Firebase特性的依赖项。例如，在当前应用中，要支持电子邮件身份验证功能，您需要安装身份验证和核心应用包:</p>
<pre>yarn add @react-native-firebase/app @react-native-firebase/auth</pre>
<p>安装完依赖项后，请确保遵循react-navigation的<a href="https://reactnavigation.org/docs/getting-started" target="_blank" rel="noopener noreferrer">官方文档</a>中提供的说明来配置其本机二进制文件，以便在iOS和Android平台上都能工作。</p>
<p>iOS用户，安装完这些依赖项后安装pods:</p>
<pre class="language-shell hljs">npx pod-install ios
</pre>
<h2>从控制台创建新的Firebase项目</h2>
<p>要访问每个移动操作系统平台的Firebase凭证，并将其配置为使用Firebase SDK，请创建一个新的Firebase项目。或者，如果您已经可以从<a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer"> Firebase控制台</a>访问，则使用一个，在这种情况下，您可以跳过这一步。</p>
<p><img data-attachment-id="70268" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image8-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png" data-orig-size="636,543" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8-300x256.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png" decoding="async" class="aligncenter size-full wp-image-70268 jetpack-lazy-image" src="../Images/cfbcf1748e314363f7d36f11aaad5b25.png" alt="Creating a new Firebase project" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png 636w, https://blog.logrocket.com/wp-content/uploads/2020/04/image8-300x256.png 300w" data-lazy-sizes="(max-width: 636px) 100vw, 636px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70268" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image8-6/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png" data-orig-size="636,543" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8-300x256.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-70268" src="../Images/cfbcf1748e314363f7d36f11aaad5b25.png" alt="Creating a new Firebase project" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png 636w, https://blog.logrocket.com/wp-content/uploads/2020/04/image8-300x256.png 300w" sizes="(max-width: 636px) 100vw, 636px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image8.png"/></noscript>
<p>要创建一个新的Firebase项目，点击<strong>添加项目</strong>按钮，然后输入Firebase项目的名称。</p>
<p><img data-attachment-id="70270" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image3-15/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png" data-orig-size="758,687" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3-300x272.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png" decoding="async" class="aligncenter wp-image-70270 jetpack-lazy-image" src="../Images/04910a456d451952d507cc46504d2b69.png" alt="Setting up new Firebase project step 2" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png 758w, https://blog.logrocket.com/wp-content/uploads/2020/04/image3-300x272.png 300w" data-lazy-sizes="(max-width: 643px) 100vw, 643px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70270" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image3-15/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png" data-orig-size="758,687" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3-300x272.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png" decoding="async" loading="lazy" class="aligncenter wp-image-70270" src="../Images/04910a456d451952d507cc46504d2b69.png" alt="Setting up new Firebase project step 2" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png 758w, https://blog.logrocket.com/wp-content/uploads/2020/04/image3-300x272.png 300w" sizes="(max-width: 643px) 100vw, 643px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image3.png"/></noscript>
<p>在下一个屏幕上，您可以保留默认设置，并按下<strong> Create project </strong>按钮来初始化一个新的Firebase项目。</p>
<p><img data-attachment-id="70272" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image11-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png" data-orig-size="643,703" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11-274x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png" decoding="async" class="aligncenter wp-image-70272 size-full jetpack-lazy-image" src="../Images/77d6e59d58fc48e656082deee7d68442.png" alt="Setting up a new Firebase project configuring google analytics" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png 643w, https://blog.logrocket.com/wp-content/uploads/2020/04/image11-274x300.png 274w" data-lazy-sizes="(max-width: 643px) 100vw, 643px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70272" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image11-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png" data-orig-size="643,703" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-authentication-react-native-react-navigation-firebase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11-274x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png" decoding="async" loading="lazy" class="aligncenter wp-image-70272 size-full" src="../Images/77d6e59d58fc48e656082deee7d68442.png" alt="Setting up a new Firebase project configuring google analytics" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png 643w, https://blog.logrocket.com/wp-content/uploads/2020/04/image11-274x300.png 274w" sizes="(max-width: 643px) 100vw, 643px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image11.png"/></noscript>
<p>加载完成后，按下按钮，Firebase项目的主仪表板屏幕将欢迎您。点击<strong>创建项目</strong>，您将被重定向到仪表板屏幕。就是这样。您已经成功创建了一个新的Firebase项目！</p>
<p><img data-attachment-id="70274" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image4-16/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png" data-orig-size="730,297" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase3" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4-300x122.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png" decoding="async" class="aligncenter size-full wp-image-70274 jetpack-lazy-image" src="../Images/f42dbf250d1f4f68a0fef2f12fd6d288.png" alt="Welcomed to Firebase main page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/image4-300x122.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70274" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image4-16/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png" data-orig-size="730,297" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="set-up-email-authentication-react-native-react-navigation-firebase3" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4-300x122.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-70274" src="../Images/f42dbf250d1f4f68a0fef2f12fd6d288.png" alt="Welcomed to Firebase main page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/image4-300x122.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image4.png"/></noscript>
<h2>将Firebase添加到React本机项目中</h2>
<p>现在确保<strong>电子邮件登录方法</strong>已启用。从<strong> Firebase控制台，</strong>从侧边菜单导航到<strong>认证</strong>部分:</p>
<p><img data-attachment-id="70279" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image9-4/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" data-orig-size="257,273" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="authentication-react-native-navigation-firebase-authentication tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" decoding="async" class="aligncenter wp-image-70279 size-full jetpack-lazy-image" src="../Images/c27181beeaa0047368d3c534799e74a2.png" alt="react-native-firebase-authentication-tab" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70279" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image9-4/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" data-orig-size="257,273" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="authentication-react-native-navigation-firebase-authentication tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png" decoding="async" loading="lazy" class="aligncenter wp-image-70279 size-full" src="../Images/c27181beeaa0047368d3c534799e74a2.png" alt="react-native-firebase-authentication-tab" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image9.png"/></noscript>
<p>进入第二页签<strong>登录方式</strong>，启用<strong>电子邮件登录提供商</strong>:</p>
<p><img data-attachment-id="70281" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image1-19/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png" data-orig-size="873,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-sign-in-tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png" decoding="async" class="aligncenter wp-image-70281 size-full jetpack-lazy-image" src="../Images/28f059903cc7e299ac78af1dd2e5e992.png" alt="enable email sign in provider" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png 873w, https://blog.logrocket.com/wp-content/uploads/2020/04/image1-300x123.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/image1-768x316.png 768w" data-lazy-sizes="(max-width: 873px) 100vw, 873px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70281" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image1-19/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png" data-orig-size="873,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-sign-in-tab" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png" decoding="async" loading="lazy" class="aligncenter wp-image-70281 size-full" src="../Images/28f059903cc7e299ac78af1dd2e5e992.png" alt="enable email sign in provider" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png 873w, https://blog.logrocket.com/wp-content/uploads/2020/04/image1-300x123.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/image1-768x316.png 768w" sizes="(max-width: 873px) 100vw, 873px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image1.png"/></noscript>
<h2>将Firebase凭据添加到您的iOS应用程序</h2>
<p>Firebase提供了一个名为<code>GoogleService-Info.plist</code>的文件，其中包含所有的API密钥以及iOS设备验证正确的Firebase项目的其他凭证。</p>
<p>要获得这些凭证，请在浏览器窗口中返回到<a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer"> Firebase控制台</a>。在Firebase项目的仪表板屏幕上，从侧面菜单打开<strong>项目设置</strong>:</p>
<p><img data-attachment-id="70283" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image14-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" data-orig-size="241,84" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-project-setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" decoding="async" class="aligncenter wp-image-70283 size-full jetpack-lazy-image" src="../Images/824211b7022372c8a3c1bd42faff507f.png" alt="email authentication project settings" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70283" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image14-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" data-orig-size="241,84" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-project-setting" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png" decoding="async" loading="lazy" class="aligncenter wp-image-70283 size-full" src="../Images/824211b7022372c8a3c1bd42faff507f.png" alt="email authentication project settings" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image14.png"/></noscript>
<p>转到您的<strong>应用部分</strong>，点击图标<strong> iOS </strong>选择平台:</p>
<p><img data-attachment-id="70285" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image12-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png" data-orig-size="698,345" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-add" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png" decoding="async" class="aligncenter wp-image-70285 size-full jetpack-lazy-image" src="../Images/0655acbd9e1f475ca68630e68944ad40.png" alt="add firebase to your react native app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png 698w, https://blog.logrocket.com/wp-content/uploads/2020/04/image12-300x148.png 300w" data-lazy-sizes="(max-width: 698px) 100vw, 698px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70285" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image12-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png" data-orig-size="698,345" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-add" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12-300x148.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png" decoding="async" loading="lazy" class="aligncenter wp-image-70285 size-full" src="../Images/0655acbd9e1f475ca68630e68944ad40.png" alt="add firebase to your react native app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png 698w, https://blog.logrocket.com/wp-content/uploads/2020/04/image12-300x148.png 300w" sizes="(max-width: 698px) 100vw, 698px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image12.png"/></noscript>
<p>进入申请详情，点击<strong>注册app </strong>，下载<code>GoogleService-Info.plist</code>。</p>
<p><img data-attachment-id="70287" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image13-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png" data-orig-size="635,739" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13-258x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png" decoding="async" class="aligncenter wp-image-70287 size-full jetpack-lazy-image" src="../Images/301cc230f4be453206221ad34d367278.png" alt="firebase react native register app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png 635w, https://blog.logrocket.com/wp-content/uploads/2020/04/image13-258x300.png 258w" data-lazy-sizes="(max-width: 635px) 100vw, 635px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70287" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image13-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png" data-orig-size="635,739" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13-258x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png" decoding="async" loading="lazy" class="aligncenter wp-image-70287 size-full" src="../Images/301cc230f4be453206221ad34d367278.png" alt="firebase react native register app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png 635w, https://blog.logrocket.com/wp-content/uploads/2020/04/image13-258x300.png 258w" sizes="(max-width: 635px) 100vw, 635px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image13.png"/></noscript>
<p>打开Xcode，然后打开文件<code>/ios/rnEmailAuthFirebase.xcodeproj</code>文件。右击项目名称和<strong>添加文件</strong>选项，然后选择要添加到这个项目的文件:</p>
<p><img data-attachment-id="17349" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/addfilestochatapp/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png" data-orig-size="273,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="addfilestochatapp" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp-190x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png" decoding="async" class="aligncenter size-full wp-image-17349 jetpack-lazy-image" src="../Images/fbcc2b509c68c8c698260a5241720813.png" alt="add files to chat app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png 273w, https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp-190x300.png 190w" data-lazy-sizes="(max-width: 273px) 100vw, 273px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17349" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/addfilestochatapp/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png" data-orig-size="273,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="addfilestochatapp" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp-190x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-17349" src="../Images/fbcc2b509c68c8c698260a5241720813.png" alt="add files to chat app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png 273w, https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp-190x300.png 190w" sizes="(max-width: 273px) 100vw, 273px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/addfilestochatapp.png"/></noscript>
<p>然后打开<code>ios/ChatApp/AppDelegate.m</code>并添加以下标题:</p>
<pre class="language-c hljs">#import &lt;Firebase.h&gt;</pre>
<p>在同一个文件的<code>didFinishLaunchingWithOptions</code>方法中，添加以下configure方法:</p>
<pre class="language-c hljs">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    if ([FIRApp defaultApp] == nil) {
      [FIRApp configure];
    }</pre>
<p>最后，返回终端窗口安装pod:</p>
<pre class="language-shell hljs">cd ios/ &amp;&amp; pod install
# after pods are installed
cd ..</pre>
<p>确保您构建了iOS应用程序:</p>
<pre class="language-shell hljs">npx react-native run-ios</pre>
<p>要为您的Android应用程序集成Firebase配置，您需要生成、下载和添加<code>google-services.json</code>。</p>
<p>在Firebase仪表盘屏幕上，点击<strong>项目概述&gt;设置</strong>，在<strong>常规</strong>选项卡中，转到<strong>您的应用</strong>部分。点击<strong>添加应用</strong>按钮，然后点击模态中带有<strong> Android图标</strong>的按钮。</p>
<p>输入你的应用程序的详细信息。然后点击<strong>报名</strong> <strong> app </strong>。下图中的Android包名称必须与您的本地项目包名称相匹配，该名称可以在您的项目中的<code>/android/app/src/main/AndroidManifest.xml file</code>内的<code>manifest</code>标记中找到。</p>
<p><img data-attachment-id="70292" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image7-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-e1633445129465.png" data-orig-size="730,577" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-300x237.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-1024x809.png" decoding="async" class="aligncenter wp-image-70292 size-full jetpack-lazy-image" src="../Images/d710977fdcfa6973354da72e3d222da4.png" alt="register app" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-e1633445129465.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-e1633445129465.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70292" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image7-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-e1633445129465.png" data-orig-size="730,577" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-300x237.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-1024x809.png" decoding="async" loading="lazy" class="aligncenter wp-image-70292 size-full" src="../Images/d710977fdcfa6973354da72e3d222da4.png" alt="register app" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image7-e1633445129465.png"/></noscript>
<p>下载<code>google-services.json</code>文件。将它放在React本地项目中的文件位置:<code>/android/app/google-services.json.</code></p>
<p>接下来，启用google服务插件。这需要修改Android目录中的两个文件。将<code>google-services plugin</code>作为依赖项添加到您的<code>/android/build.gradle file</code>中:</p>
<pre class="language-java hljs">buildscript {
  dependencies {
    // ... other dependencies
    // Add the line below 
    classpath 'com.google.gms:google-services:4.3.8'
  }
}
</pre>
<p>然后，通过将以下内容添加到您的<code>/android/app/build.gradle</code>文件来执行插件:</p>
<pre class="language-java hljs">apply plugin: 'com.android.application'
apply plugin: 'com.google.gms.google-services' // &lt;- Add this line
</pre>
<p>接下来，要重建Android应用程序，请执行以下命令:</p>
<pre class="language-shell hljs">npx react-native run-android</pre>
<p>就是这样。在React本机应用程序中设置Firebase SDK和凭证的配置已经完成。</p>
<h2>创建可重用的表单组件</h2>
<p>在本节中，让我们创建一些可重用的表单组件，如<code>FormInput</code>和<code>FormButton</code>。这些UI组件将用于两个屏幕:登录和注册。React Native中可重用组件的优势在于，您不必为不同的屏幕组件集再次编写类似的公共代码。</p>
<p>创建一个新目录<code>src/components</code>，并在其中创建三个新文件:</p>
<ul>
<li><code>FormButton.js</code></li>
<li><code>FormInput.js</code></li>
<li><code>Loading.js</code></li>
</ul>
<p>打开<code>FormButton.js</code>。该组件将在屏幕组件UI中显示一个按钮。首先导入以下语句:</p>
<pre>import React from 'react';
import { StyleSheet, TouchableOpacity, Text } from 'react-native';
import { windowHeight, windowWidth } from '../utils/Dimensions';</pre>
<p><code><a href="https://reactnative.dev/docs/dimensions" target="_blank" rel="noopener noreferrer">Dimensions</a></code>从React Native core API提供了一种获取屏幕宽度和高度的方法。不要给文本输入字段固定的宽度和高度，让这个API根据窗口的尺寸为我们计算它。在本节的最后，您将创建这些助手，<code>windowHeight</code>和<code>windowWidth</code>。</p>
<p>接下来，导出默认函数<code>FormButton</code>，它将有一些道具:</p>
<pre>export default function FormButton({ buttonTitle, ...rest }) {
  return (
    &lt;TouchableOpacity style={styles.buttonContainer} {...rest}&gt;
      &lt;Text style={styles.buttonText}&gt;{buttonTitle}&lt;/Text&gt;
    &lt;/TouchableOpacity&gt;
  );
}</pre>
<p>属性必须是作为参数传递的最后一个属性，否则，你将得到一个错误。传递这个道具的目的是让组件拥有其他道具值。最后，为这个可重用组件定义相应的样式:</p>
<pre>const styles = StyleSheet.create({
  buttonContainer: {
    marginTop: 10,
    width: windowWidth / 2,
    height: windowHeight / 15,
    backgroundColor: '#6646ee',
    padding: 10,
    alignItems: 'center',
    justifyContent: 'center',
    borderRadius: 8
  },
  buttonText: {
    fontSize: 28,
    color: '#ffffff'
  }
});</pre>
<p>然后打开第二个可重用组件<code>FormInput.js</code>。它将类似于您刚刚创建的前一个UI组件。</p>
<p>该组件将提供一个文本输入字段，供屏幕组件使用，并供用户输入凭证:</p>
<pre>import React from 'react';
import { StyleSheet, TextInput } from 'react-native';
import { windowHeight, windowWidth } from '../utils/Dimensions';
export default function FormInput({ labelValue, placeholderText, ...rest }) {
  return (
    &lt;TextInput
      value={labelValue}
      style={styles.input}
      numberOfLines={1}
      placeholder={placeholderText}
      placeholderTextColor='#666'
      {...rest}
    /&gt;
  );
}
const styles = StyleSheet.create({
  input: {
    padding: 10,
    marginTop: 5,
    marginBottom: 10,
    width: windowWidth / 1.5,
    height: windowHeight / 15,
    fontSize: 16,
    borderRadius: 8,
    borderWidth: 1
  }
});</pre>
<p>最后，打开<code>Loading.js</code>文件。该组件将负责显示一个装载微调器:</p>
<pre>import React from 'react';
import { View, ActivityIndicator, StyleSheet } from 'react-native';
export default function Loading() {
  return (
    &lt;View style={styles.loadingContainer}&gt;
      &lt;ActivityIndicator size='large' color='#6646ee' /&gt;
    &lt;/View&gt;
  );
}
const styles = StyleSheet.create({
  loadingContainer: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center'
  }
});</pre>
<p>现在，在<code>src/</code>目录中创建另一个名为<code>utils/</code>的目录。在这个新目录中，创建并打开名为<code>Dimensions.js</code>的文件和下面的代码片段:</p>
<pre>import { Dimensions } from 'react-native';
export const windowWidth = Dimensions.get('window').width;
export const windowHeight = Dimensions.get('window').height;</pre>
<h2>在React Native中创建登录屏幕</h2>
<p>让我们将所有的屏幕组件一起存储在一个名为<code>src/screens/</code>的新目录中，并创建一个最重要的屏幕组件文件<code>LoginScreen.js</code>。</p>
<p>当用户没有通过验证或授权进入应用程序时，这个屏幕组件将成为初始路径。它将要求用户输入应用程序的凭据，并查看主屏幕或任何其他屏幕，这些屏幕仅允许用户在获得授权时进行交互。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>登录屏幕将有四个主要的UI元素:</p>
<ul>
<li>用于用户凭证的两个文本输入字段，<code>email</code>和<code>password</code></li>
<li>两个按钮—一个登录按钮和一个导航到注册屏幕的按钮</li>
</ul>
<p>首先导入以下语句:</p>
<pre>import React, { useState } from 'react';
import { View, Text, StyleSheet, TouchableOpacity } from 'react-native';
import FormButton from '../components/FormButton';
import FormInput from '../components/FormInput';</pre>
<p>在<code>LoginScreen</code>功能组件中定义状态变量<code>email</code>和<code>password</code>。它们将与<code>FormInput</code>组件一起使用，以获取用户凭证的值。默认情况下，它们的值是一个空字符串:</p>
<pre>export default function LoginScreen({ navigation }) {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.text}&gt;Welcome to Firebase app&lt;/Text&gt;
      &lt;FormInput
        value={email}
        placeholderText='Email'
        onChangeText={userEmail =&gt; setEmail(userEmail)}
        autoCapitalize='none'
        keyboardType='email-address'
        autoCorrect={false}
      /&gt;
      &lt;FormInput
        value={password}
        placeholderText='Password'
        onChangeText={userPassword =&gt; setPassword(userPassword)}
        secureTextEntry={true}
      /&gt;
      &lt;FormButton buttonTitle='Login' onPress={() =&gt; alert('login button')} /&gt;
      &lt;TouchableOpacity
        style={styles.navButton}
        onPress={() =&gt; navigation.navigate('Signup')}
      &gt;
        &lt;Text style={styles.navButtonText}&gt;New user? Join here&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;
    &lt;/View&gt;
  );
}</pre>
<p>此处使用<code>navigation</code>道具参考来导航注册屏幕。这个prop参考提供了一组函数，可以作为每个屏幕组件的动作进行调度，它是由react-navigation库提供的。<code>navigation.navigate()</code>接受从当前屏幕导航到的屏幕值。</p>
<p>道具现在不会发出动作，原因有二。原因一，你还没有创建一个注册屏幕，原因二，有一个导航栈设置。你很快就会这么做。最后，这里是<code>LoginScreen</code>组件的相应样式:</p>
<pre>const styles = StyleSheet.create({
  container: {
    backgroundColor: '#f5f5f5',
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  },
  text: {
    fontSize: 24,
    marginBottom: 10
  },
  navButton: {
    marginTop: 15
  },
  navButtonText: {
    fontSize: 20,
    color: '#6646ee'
  }
});</pre>
<h2>创建注册屏幕</h2>
<p>在<code>src/screens/</code>目录下创建一个名为<code>SignupScreen.js</code>的新文件。这个屏幕将与您在上一节中创建的屏幕非常相似。</p>
<p>以下是完整的代码片段:</p>
<pre>import React, { useState } from 'react';
import { View, Text, StyleSheet } from 'react-native';
import FormButton from '../components/FormButton';
import FormInput from '../components/FormInput';
export default function SignupScreen() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.text}&gt;Create an account&lt;/Text&gt;
      &lt;FormInput
        value={email}
        placeholderText='Email'
        onChangeText={userEmail =&gt; setEmail(userEmail)}
        autoCapitalize='none'
        keyboardType='email-address'
        autoCorrect={false}
      /&gt;
      &lt;FormInput
        value={password}
        placeholderText='Password'
        onChangeText={userPassword =&gt; setPassword(userPassword)}
        secureTextEntry={true}
      /&gt;
      &lt;FormButton buttonTitle='Signup' onPress={() =&gt; alert('sign button')} /&gt;
    &lt;/View&gt;
  );
}
const styles = StyleSheet.create({
  container: {
    backgroundColor: '#f5f5f5',
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  },
  text: {
    fontSize: 24,
    marginBottom: 10
  }
});</pre>
<h2>创建您的第一个堆栈导航器</h2>
<p>在当前的应用程序中，让我们创建另一个名为<code>HomeScreen</code>的屏幕组件。这个组件没什么用。当您集成Firebase后端服务时，它将有一个注销按钮并显示用户的详细信息。</p>
<p>用下面的代码片段在screens目录中创建一个名为<code>HomeScreen.js</code>的新文件:</p>
<pre>import React from 'react';
import { View, Text, StyleSheet } from 'react-native';
import FormButton from '../components/FormButton';
export default function HomeScreen() {
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.text}&gt;Home Screen&lt;/Text&gt;
      &lt;FormButton buttonTitle='Logout' /&gt;
    &lt;/View&gt;
  );
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#f5f5f1'
  },
  text: {
    fontSize: 20,
    color: '#333333'
  }
});</pre>
<p>这个屏幕将有自己的堆栈导航器。堆栈导航器提供React本机应用程序在不同屏幕之间切换，类似于web浏览器中的导航工作方式。当处于导航状态时，它推动或弹出一个屏幕。</p>
<p>创建一个新目录<code>src/navigation</code>,用于存储当前演示应用程序的所有导航相关配置文件。在内部，首先用下面的代码片段创建一个名为<code>HomeStack.js</code>的新文件:</p>
<pre>import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';
import HomeScreen from '../screens/HomeScreen';
const Stack = createStackNavigator();
export default function HomeStack() {
  return (
    &lt;Stack.Navigator&gt;
      &lt;Stack.Screen name='Home' component={HomeScreen} /&gt;
    &lt;/Stack.Navigator&gt;
  );
}</pre>
<p>导航器是以声明方式定义的，react-navigation库遵循基于组件的方法。这与使用react的web开发中的react-router库非常相似(如果你熟悉的话)。</p>
<p><code>createStackNavigator</code>是用于实现堆栈导航模式的函数。在上面的代码片段中，<code>Stack</code>是这个函数的一个实例。这个函数返回两个React组件，<code>Screen</code>和<code>Navigator</code>，帮助我们配置每个组件屏幕，如下所示。</p>
<h2>添加一个auth堆栈以反应本机</h2>
<p>在当前的应用程序中会有两个堆栈导航器。您在上一节中看到的第一个导航器。第二个航海家将被称为<code>AuthStack</code>。</p>
<p>在<code>navigation/</code>目录中，创建一个名为<code>AuthStack.js</code>的新文件。这个文件也将有一个堆栈导航器，代码片段如下:</p>
<pre>import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';
import SignupScreen from '../screens/SignupScreen';
import LoginScreen from '../screens/LoginScreen';
const Stack = createStackNavigator();
export default function AuthStack() {
  return (
    &lt;Stack.Navigator initialRouteName='Login'&gt;
      &lt;Stack.Screen
        name='Login'
        component={LoginScreen}
        options={{ header: () =&gt; null }}
      /&gt;
      &lt;Stack.Screen name='Signup' component={SignupScreen} /&gt;
    &lt;/Stack.Navigator&gt;
  );
}</pre>
<p>在上面的代码片段中，<code>Stack.Navigator</code>获取那些对每个屏幕路径通用的属性值。例如，堆栈导航器在其中的每个屏幕上添加一个标题。对于当前堆栈，您不需要在<code>Login</code>屏幕上显示标题，它被设置为<code>null</code>。</p>
<p><code>initialRouteName</code>是导航器第一次加载时呈现的路线名称。</p>
<h2>使用身份验证提供程序检查用户的登录状态</h2>
<p>让我们创建一个身份验证提供者来检查用户是否登录，如果他们登录了，就自动对他们进行身份验证。</p>
<p>在<code>src/navigation/</code>中创建一个名为<code>AuthProvider.js</code>的新文件。首先导入以下语句:</p>
<pre>import React, { createContext, useState } from 'react';
import auth from '@react-native-firebase/auth';</pre>
<p>创建一个<code>AuthContext</code>。导出它，因为它将提供用户的状态和其他帮助器功能，这些功能是在不同的应用程序屏幕中执行身份验证操作所必需的:</p>
<pre>export const AuthContext = createContext({});</pre>
<p>Reactjs中的<a href="https://reactjs.org/docs/context.html#reactcreatecontext" target="_blank" rel="noopener noreferrer">上下文API </a>共享React组件树的全局数据。当您创建一个上下文时(就像我们上面所做的那样)，需要传递一个默认值。然后，当组件没有匹配的<code>Provider</code>时，使用该值。</p>
<p><code>Provider</code>允许React组件订阅上下文变化。要创建一个auth provider，需要导出一个名为<code>AuthProvider</code>的函数。</p>
<p>这个提供者将允许屏幕组件访问应用程序中当前用户的状态。在该功能组件中定义一个名为<code>user</code>的状态变量，如下所示:</p>
<pre>export const AuthProvider = ({ children }) =&gt; {
  const [user, setUser] = useState(null);
  return (
    &lt;AuthContext.Provider
      value={{
        user,
        setUser,
        login: async (email, password) =&gt; {
          try {
            await auth().signInWithEmailAndPassword(email, password);
          } catch (e) {
            console.log(e);
          }
        },
        register: async (email, password) =&gt; {
          try {
            await auth().createUserWithEmailAndPassword(email, password);
          } catch (e) {
            console.log(e);
          }
        },
        logout: async () =&gt; {
          try {
            await auth().signOut();
          } catch (e) {
            console.error(e);
          }
        }
      }}
    &gt;
      {children}
    &lt;/AuthContext.Provider&gt;
  );
};
</pre>
<p>在上面的代码片段中，在对象<code>value</code>内部，定义了一些函数。这些函数是助手方法，将在屏幕组件中用于不同的操作。</p>
<p>每个功能都使用Firebase方法与实时Firebase后端服务进行交互。登录和注册功能都需要用户的<code>email</code>和<code>password</code>来验证/保存凭证。注销方法调用一个简单的<code>signOut()</code>方法。</p>
<p>所有这些Firebase方法都可以从<code>@react-native-firebase/auth</code>包中获得。请注意，所有这些函数都是异步动作，因此需要使用<code>async await</code>语法帮助或基于承诺的语法。</p>
<h2>包装提供商中的所有路由器</h2>
<p>在本节中，您将在<code>Routes</code>周围包装auth provider，以便在屏幕组件中使用helper函数以及当前<code>user</code>的值。</p>
<p>创建一个名为<code>src/navigation/index.js</code> file的新文件，并添加以下代码片段:</p>
<pre>import React from 'react';
import { AuthProvider } from './AuthProvider';
import Routes from './Routes';
export default function Providers() {
  return (
    &lt;AuthProvider&gt;
      &lt;Routes /&gt;
    &lt;/AuthProvider&gt;
  );
}</pre>
<p>此外，确保使用<code>Providers</code>作为当前演示应用程序的入口点。修改<code>App.js</code>文件，如下所示:</p>
<pre>import React from 'react';
import Providers from './src/navigation';
export default function App() {
  return &lt;Providers /&gt;;
}</pre>
<h2>验证用户在初始路线上的登录状态</h2>
<p>拼图的最后一块将是在<code>src/navigation/</code>目录中的一个<code>Routes.js</code>文件。创建此文件，并从导入以下语句开始:</p>
<pre>import React, { useContext, useState, useEffect } from 'react';
import { NavigationContainer } from '@react-navigation/native';
import auth from '@react-native-firebase/auth';
import AuthStack from './AuthStack';
import HomeStack from './HomeStack';
import { AuthContext } from './AuthProvider';
import Loading from '../components/Loading';

</pre>
<p>用两个状态变量<code>initializing</code>和<code>loading</code>定义<code>Routes</code>函数，检查用户的状态是否登录。从授权上下文中，添加<code>user</code>和<code>setUser</code>。然后定义一个处理用户状态更改的助手方法。</p>
<p>使用<code>useEffect</code> Hook，您可以订阅这个状态改变函数，并确保在组件卸载时取消订阅:</p>
<pre>export default function Routes() {
  const { user, setUser } = useContext(AuthContext);
  const [loading, setLoading] = useState(true);
  const [initializing, setInitializing] = useState(true);
  // Handle user state changes
  function onAuthStateChanged(user) {
    setUser(user);
    if (initializing) setInitializing(false);
    setLoading(false);
  }
  useEffect(() =&gt; {
    const subscriber = auth().onAuthStateChanged(onAuthStateChanged);
    return subscriber; // unsubscribe on unmount
  }, []);
  if (loading) {
    return &lt;Loading /&gt;;
  }
  return (
    &lt;NavigationContainer&gt;
      {user ? &lt;HomeStack /&gt; : &lt;AuthStack /&gt;}
    &lt;/NavigationContainer&gt;
  );
}</pre>
<h2>使用<code>AuthContext</code>完成应用程序</h2>
<p>现在一切都配置好了，你所要做的就是使用<code>AuthContext</code>中的助手方法。首先修改<code>Login.js</code>文件:</p>
<pre>// import useContext from React
import React, { useState, useContext } from 'react';
// after other import statements, add below
import { AuthContext } from '../navigation/AuthProvider';
// inside functional component LoginScreen, fetch the helper method
export default function LoginScreen({navigation}) {
  // ...
  const { login } = useContext(AuthContext);
  // make sure the FormButton's onPress method uses the helper method
  return (
    {/* rest of the code remains same */}
    &lt;FormButton buttonTitle='Login' onPress={() =&gt; login(email, password)} /&gt;
  )
}</pre>
<p>要运行该应用程序，您必须从终端窗口使用特定于平台的命令来构建它，如下所示:</p>
<pre># for iOS
npx react-native run-ios
# for android
npx react-native run-android</pre>
<p>您将在登录屏幕的模拟器中获得以下输出:</p>
<p><img data-attachment-id="70329" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image6-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png" data-orig-size="470,822" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-login-screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6-172x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png" decoding="async" class="aligncenter wp-image-70329 size-full jetpack-lazy-image" src="../Images/7829814053453fcdcd7aa7008b0b0f8c.png" alt="firebase app login screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png 470w, https://blog.logrocket.com/wp-content/uploads/2020/04/image6-172x300.png 172w" data-lazy-sizes="(max-width: 470px) 100vw, 470px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70329" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image6-7/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png" data-orig-size="470,822" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-navigation-firebase-login-screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6-172x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png" decoding="async" loading="lazy" class="aligncenter wp-image-70329 size-full" src="../Images/7829814053453fcdcd7aa7008b0b0f8c.png" alt="firebase app login screen" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png 470w, https://blog.logrocket.com/wp-content/uploads/2020/04/image6-172x300.png 172w" sizes="(max-width: 470px) 100vw, 470px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image6.png"/></noscript>
<p>类似地，<code>SignupScreen.js</code>必须修改如下:</p>
<pre>// import useContext from React
import React, { useState, useContext } from 'react';
// after other import statements, add below
import { AuthContext } from '../navigation/AuthProvider';
// inside functional component SignupScreen, fetch the helper method
export default function SignupScreen({navigation}) {
  // ...
  const { register } = useContext(AuthContext);
  // make sure the FormButton's onPress method uses the helper method
  return (
    {/* rest of the code remains same */}
    &lt;FormButton
        buttonTitle='Signup'
        onPress={() =&gt; register(email, password)}
      /&gt;
  )
}</pre>
<p>您将在注册屏幕的模拟器中获得以下输出:</p>
<p><img data-attachment-id="70339" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image16-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png" data-orig-size="470,822" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-firebase-create-account" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16-172x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png" decoding="async" class="aligncenter wp-image-70339 size-full jetpack-lazy-image" src="../Images/e172b7625dc11fdec1a59c85efbd5603.png" alt="create an account " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png 470w, https://blog.logrocket.com/wp-content/uploads/2020/04/image16-172x300.png 172w" data-lazy-sizes="(max-width: 470px) 100vw, 470px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70339" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image16-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png" data-orig-size="470,822" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-firebase-create-account" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16-172x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png" decoding="async" loading="lazy" class="aligncenter wp-image-70339 size-full" src="../Images/e172b7625dc11fdec1a59c85efbd5603.png" alt="create an account " srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png 470w, https://blog.logrocket.com/wp-content/uploads/2020/04/image16-172x300.png 172w" sizes="(max-width: 470px) 100vw, 470px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image16.png"/></noscript>
<p>最后，像这样修改<code>HomeScreen.js</code>文件:</p>
<pre>import React, { useContext } from 'react';
import { View, Text, StyleSheet } from 'react-native';
import FormButton from '../components/FormButton';
import { AuthContext } from '../navigation/AuthProvider';
export default function HomeScreen() {
  const { user, logout } = useContext(AuthContext);
  return (
    &lt;View style={styles.container}&gt;
      &lt;Text style={styles.text}&gt;Welcome user {user.uid}&lt;/Text&gt;
      &lt;FormButton buttonTitle='Logout' onPress={() =&gt; logout()} /&gt;
    &lt;/View&gt;
  );
}
// styles remain same</pre>
<p>这是该应用程序的完整演示。创建新的用户帐户:</p>
<p><img data-attachment-id="17352" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/completedemo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo.gif" data-orig-size="730,1490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="completedemo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-147x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif" decoding="async" class="aligncenter wp-image-17352 size-large jetpack-lazy-image" src="../Images/4a995ba1eed7982488da12fdbc7a6fa8.png" alt="complete demo app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif 502w, https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-147x300.gif 147w" data-lazy-sizes="(max-width: 502px) 100vw, 502px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17352" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/completedemo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo.gif" data-orig-size="730,1490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="completedemo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-147x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif" decoding="async" loading="lazy" class="aligncenter wp-image-17352 size-large" src="../Images/4a995ba1eed7982488da12fdbc7a6fa8.png" alt="complete demo app" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif 502w, https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-147x300.gif 147w" sizes="(max-width: 502px) 100vw, 502px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/completedemo-502x1024.gif"/></noscript><br/>
To verify the user account is being stored in the Firebase, check out its console. You are going to find the <code>uid</code> of the user to be the same:
<p><img data-attachment-id="70341" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image5-15/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png" data-orig-size="844,44" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-firebase-email-account" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5-300x16.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png" decoding="async" class="aligncenter wp-image-70341 size-full jetpack-lazy-image" src="../Images/4818fae4980d202e0c96e8bbd9dd2848.png" alt="react native email authentication" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png 844w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-300x16.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-768x40.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-825x44.png 825w" data-lazy-sizes="(max-width: 844px) 100vw, 844px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="70341" data-permalink="https://blog.logrocket.com/email-authentication-react-native-react-navigation-firebase/image5-15/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png" data-orig-size="844,44" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="email-authentication-react-native-firebase-email-account" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5-300x16.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png" decoding="async" loading="lazy" class="aligncenter wp-image-70341 size-full" src="../Images/4818fae4980d202e0c96e8bbd9dd2848.png" alt="react native email authentication" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png 844w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-300x16.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-768x40.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/04/image5-825x44.png 825w" sizes="(max-width: 844px) 100vw, 844px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/image5.png"/></noscript>
<h2>结论</h2>
<p>恭喜你！您已经完成了本教程。以下是我们在这篇文章中提到的内容:</p>
<ul>
<li>安装和配置react-navigation版本6</li>
<li>使用组件/声明性方法构建堆栈导航器</li>
<li>编写自定义导航器以在两个堆栈导航器之间切换</li>
<li>安装和配置Firebase项目及其SDK</li>
<li>使用反应原生燃烧基</li>
<li>使用电子邮件创建实时用户认证应用程序</li>
</ul>
<p>Firebase SDK与最新的react-native版本的集成使它变得很容易，因为该库已被分为不同的模块以用于不同的目的。现在，作为一名开发人员，你只需要安装那些与你想要使用的Firebase服务直接对应的模块。</p>
<p>你可以在<a href="https://github.com/amandeepmittal/react-native-examples/tree/master/rnEmailAuthFirebase" target="_blank" rel="noopener noreferrer"> this GitHub repo </a>找到本演示中使用的完整代码。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>