<html>
<head>
<title>New in Chrome 76: The frosted glass effect with backdrop-filter - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Chrome 76中的新功能:带背景的磨砂玻璃效果</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/new-in-chrome-76/#0001-01-01">https://blog.logrocket.com/new-in-chrome-76/#0001-01-01</a></blockquote><div><article class="article-post">
<p>你有没有想过在网络上重现iOS设备上那种典型的毛玻璃效果/背景模糊？谷歌Chrome浏览器的最新版本只需要几行<a href="https://blog.logrocket.com/a-guide-to-css-pseudo-elements/" target="_blank" rel="noopener noreferrer"> CSS </a>就可以实现，这要感谢背景过滤属性的实现！</p>
<h2>了解背景滤镜属性</h2>
<p>正如自我描述的名字告诉我们的那样，background-filter允许我们对元素的背景应用CSS过滤器。但是我们如何定义背景呢？</p>
<p>在CSS中“背景”代表元素后面<em>所画的<a href="https://drafts.fxtf.org/filter-effects-2/#backdrop-root-image" target="_blank" rel="noopener noreferrer">。当然，这意味着使用<code>backdrop-filter</code>的第一件事是增加某种透明度，让我们可以看透它。</a></em></p>
<p>为此，我们可以不对元素应用任何背景，通过RGBA将其设置为半透明，或者对整个元素应用不透明度。请记住，后者还会影响元素的文本节点和所有后代，因此对于大多数情况来说，这可能不是正确的选择。让我们从半透明的白色背景开始:</p>
<pre>.frosted{
      background: rgba(255, 255, 255, 0.3);
    }</pre>
<p>接下来，我们要声明过滤器本身。background-filter接受与<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" rel="noopener noreferrer"> filter </a>属性完全相同的值，因此我们可以以多种方式影响背景。从简单的模糊到灰度或棕褐色，甚至任何花哨的类似Instagram的滤镜都可以改变图像的色调、亮度、饱和度和对比度。</p>
<p>让我们应用模糊的毛玻璃效果:</p>
<pre>.frosted{
  background: rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(8px);
}</pre>
<p>差不多就是这样。我说“几行”是认真的。通过一些定位魔术，我们可以得到如下结果:</p>
<p class="codepen" data-height="354" data-theme-id="0" data-default-tab="css,result" data-user="facundocorradini" data-slug-hash="OKpreN" data-pen-title="Frosted glass effect">参见<a href="https://codepen.io"> CodePen </a>上Facundo科拉迪尼(<a href="https://codepen.io/facundocorradini">@ facundocoradini</a>)<br/>的笔<a href="https://codepen.io/facundocorradini/pen/OKpreN/"> <br/>磨砂玻璃效果</a>。</p>
<p/>
<figure id="attachment_4340" aria-describedby="caption-attachment-4340" class="wp-caption aligncenter"><img data-attachment-id="4340" data-permalink="https://blog.logrocket.com/new-in-chrome-76/frosted-glass-overlay/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png" data-orig-size="737,482" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frosted glass overlay" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay-300x196.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png" decoding="async" class="wp-image-4340 size-full jetpack-lazy-image" src="../Images/d0299eb90cd43c064964dbd6708b0c65.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png 737w, https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay-300x196.png 300w" data-lazy-sizes="(max-width: 737px) 100vw, 737px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="4340" data-permalink="https://blog.logrocket.com/new-in-chrome-76/frosted-glass-overlay/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png" data-orig-size="737,482" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frosted glass overlay" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay-300x196.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png" decoding="async" loading="lazy" class="wp-image-4340 size-full" src="../Images/d0299eb90cd43c064964dbd6708b0c65.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png 737w, https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay-300x196.png 300w" sizes="(max-width: 737px) 100vw, 737px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/frosted-glass-overlay.png"/></noscript><figcaption id="caption-attachment-4340" class="wp-caption-text">The result without backdrop-filter (left) and with it (right)</figcaption></figure>
<h2>使其对其他浏览器安全</h2>
<p>起初，只有<a href="https://caniuse.com/#search=backdrop-filter" target="_blank" rel="noopener noreferrer"> Safari和Edge </a>支持这一特性，现在<a href="https://blog.logrocket.com/whats-new-in-chrome-74-6f8b82919c68/" target="_blank" rel="noopener noreferrer"> Chrome </a>和基于Chrome的浏览器也加入进来。但是我们仍然应该让我们的代码对于Firefox和其他小型浏览器和设备是安全的。</p>
<p>好消息是，就像CSS中的任何东西一样，如果浏览器发现它不理解的声明，它会简单地忽略它。因此，我们上面使用的方法是安全的，因为任何缺乏背景过滤支持的浏览器都会提供半透明的白色背景，没有任何效果。</p>
<p>但是有些情况下这还不够。也许没有模糊背景的半透明背景无法为文本提供足够的对比度，或者我们希望为不支持背景过滤的浏览器提供完全不同的元素样式。</p>
<p>更安全的方法是使用@supports查询和渐进式改进。我们应该从声明不支持它的浏览器的样式开始。</p>
<p>在这种情况下，我将使用几乎不透明的白色背景，以增加可读性时，没有模糊应用。</p>
<pre>.frosted{
  background: rgba(255, 255, 255, 0.9);
}</pre>
<p>然后使用@supports查询，我们可以在任何支持它的浏览器上应用该效果，并调低alpha通道以增加透明度。</p>
<pre>/* sets default styling */
.frosted{
  background: rgba(255, 255, 255, 0.9);
}

/* applies semi-transparent background for browsers that support backdrop-filter */
@supports (backdrop-filter: none) {
  .frosted {
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(8px);
  }
}</pre>
<p>请注意，我使用“背景-过滤器:无”作为条件。在检查浏览器支持时，使用最简单的属性值通常被认为是一个好习惯。我可以使用类似于“@ supports(background-filter:blur(8px))”的东西，但这将是重复的，如果有人在将来更改过滤器，可能会看起来非常混乱。</p>
<h2>不仅仅是磨砂玻璃</h2>
<p>我把重点放在磨砂玻璃上，因为这是我长久以来一直想用的，但我们可以应用任何我们想要的滤镜，包括:</p>
<ul>
<li>虚化</li>
<li>聪明</li>
<li>对比</li>
<li>灰度等级</li>
<li>色调-旋转</li>
<li>转化的</li>
<li>不透明</li>
<li>饱和的</li>
<li>乌贼的墨</li>
</ul>
<p>此外，我们甚至可以将它们组合成高级的。为此，我们只需定义属性中的所有过滤器(记住，值必须<strong>而不是</strong>是逗号分隔的…不同CSS属性之间相当不一致)。</p>
<p>例如，为了重现瓦尔登效应，我们可以使用:</p>
<pre>.walden{
  backdrop-filter:
    contrast(100%)
    brightness(110%)
    saturate(160%)
    sepia(30%)
    hue-rotate(350deg)
  ;
}</pre>
<p>(来自<a href="https://twitter.com/una" target="_blank" rel="noopener noreferrer">乌纳克拉韦茨</a>’<a href="https://una.im/CSSgram/" target="_blank" rel="noopener noreferrer">CSS gram</a>的值)</p>
<p class="codepen" data-height="411" data-theme-id="0" data-default-tab="result" data-user="facundocorradini" data-slug-hash="RXpOqX" data-pen-title="Walden backdrop-filter">参见<a href="https://codepen.io"> CodePen </a>上法库多·科拉迪尼(<a href="https://codepen.io/facundocorradini">@法库多科拉迪尼</a> ) <br/>的<a href="https://codepen.io/facundocorradini/pen/RXpOqX/">瓦尔登湖背景-滤镜</a>。</p>
<p>在Chrome 76中更多！</p>
<figure id="attachment_4343" aria-describedby="caption-attachment-4343" class="wp-caption aligncenter"><img data-attachment-id="4343" data-permalink="https://blog.logrocket.com/new-in-chrome-76/waldeneffect/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="waldeneffect" data-image-description="" data-image-caption="&lt;p&gt;The result in a browser that don’t support backdrop-filter (left) vs one that does (right)&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png" decoding="async" class="wp-image-4343 size-full jetpack-lazy-image" src="../Images/ea1a4ab682a21bd44a7b03c9aa3865dd.png" alt="walden effect picture of puppy" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect-300x149.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="4343" data-permalink="https://blog.logrocket.com/new-in-chrome-76/waldeneffect/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png" data-orig-size="730,362" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="waldeneffect" data-image-description="" data-image-caption="&lt;p&gt;The result in a browser that don’t support backdrop-filter (left) vs one that does (right)&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect-300x149.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png" decoding="async" loading="lazy" class="wp-image-4343 size-full" src="../Images/ea1a4ab682a21bd44a7b03c9aa3865dd.png" alt="walden effect picture of puppy" srcset="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect-300x149.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/07/waldeneffect.png"/></noscript><figcaption id="caption-attachment-4343" class="wp-caption-text">The result in a browser that doesn’t support backdrop-filter (left) vs one that does (right)</figcaption></figure>
<h2>当然，背景过滤只是这个新版本的众多改进之一。其他好消息包括对<a href="https://blog.logrocket.com/whats-new-in-firefox-67-prefers-color-scheme-and-more-195be81df03f/" target="_blank" rel="noopener noreferrer">偏好配色方案媒体查询</a>的支持、omnibar中简化pwa安装的新按钮、对众多apk的更新等等。你可以在<a href="https://developers.google.com/web/updates/2019/07/nic76" target="_blank" rel="noopener noreferrer"> Chrome的博客</a>上读到它们。</h2>
<p> </p>
<p>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p>
<p>Focus on the bugs that matter — <a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">try LogRocket today</a>.</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>