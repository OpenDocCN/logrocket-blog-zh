<html>
<head>
<title>Vue CLI 3 — the deep dive - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Vue CLI 3 —深潜日志火箭博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/vue-cli-3-the-deep-dive-41dff070ac4a/#0001-01-01">https://blog.logrocket.com/vue-cli-3-the-deep-dive-41dff070ac4a/#0001-01-01</a></blockquote><div><div class="section-inner sectionLayout--insetColumn">
<figure class="graf graf--figure"><img decoding="async" class="graf-image aligncenter jetpack-lazy-image" src="../Images/02b86c88ff4285562e7c7168342f804b.png" data-image-id="1*zyNSb0UXhP8TfxYbj-GNWg.png" data-width="400" data-height="400" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*zyNSb0UXhP8TfxYbj-GNWg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*zyNSb0UXhP8TfxYbj-GNWg.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image aligncenter" src="../Images/02b86c88ff4285562e7c7168342f804b.png" data-image-id="1*zyNSb0UXhP8TfxYbj-GNWg.png" data-width="400" data-height="400" data-original-src="https://storage.googleapis.com/blog-images-backup/1*zyNSb0UXhP8TfxYbj-GNWg.png"/></noscript><figcaption class="imageCaption">Let’s face it — you’re probably not here for the image</figcaption></figure>
<p class="graf graf--p">Vue CLI是一个简单但功能强大的工具，用于搭建Vue.js项目。</p>
<p class="graf graf--p">它可以确保各种构建工具与合理的默认设置一起顺利工作，因此您可以专注于编写您的应用程序，而不是花时间与配置斗争</p>
<p class="graf graf--p">Vue CLI 3大概是目前Vue生态系统中发生的最好的事情，原因如下:</p>
<h4 class="graf graf--h4">1.基于插件的架构</h4>
<p class="graf graf--p">新的CLI实现了我们所说的基于插件的架构，这是对使用基于模板的架构的早期版本的重大改进。</p>
<p class="graf graf--p">这意味着，现在只有一个模板，你需要的其他功能都将作为插件添加进来。</p>
<h4 class="graf graf--h4">2.灵活性</h4>
<p class="graf graf--p">新的CLI使得启动一个新项目变得非常容易，而不必考虑将来可能需要的所有功能。</p>
<p class="graf graf--p">你可以创建项目，直接进入编码，当需要一个特性时，就添加它！</p>
<h4 class="graf graf--h4"><strong class="markup--strong markup--h4-strong"> 3。零配置快速成型</strong></h4>
<p class="graf graf--p">这允许你像服务一个html文件一样服务你的vue应用或组件。</p>
<h4 class="graf graf--h4">4.武契特</h4>
<p class="graf graf--p">新的CLI允许您将vuex添加到您的项目中，就像您在以前的版本中添加vue路由器一样。</p>
<h4 class="graf graf--h4"><strong class="markup--strong markup--h4-strong"> 5。打字稿</strong></h4>
<p class="graf graf--p">现在有官方的CLI支持引导Typescript Vue.js应用程序</p>
<h4 class="graf graf--h4">6.自定义插件</h4>
<p class="graf graf--p">如果所有好的官方CLI插件还不够，还有创建你自己的自定义插件的支持(当然，发布你的插件，让其他人可以使用它们。</p>
</div>
<div class="section-inner sectionLayout--insetColumn">
<h3 class="graf graf--h3">安装Vue CLI 3</h3>
<p class="graf graf--p">要安装CLI，请运行以下代码。</p>
<pre class="graf graf--pre">npm install -g @vue/cli</pre>
<p class="graf graf--p">这将安装最新版本的Vue CLI。完成后，您可以通过运行以下命令来确认您安装的版本:</p>
<pre class="graf graf--pre">vue -V</pre>
<h3 class="graf graf--h3">CLI命令中的更改</h3>
<p class="graf graf--p">与之前的版本相比，CLI命令有了一点小小的变化，新的命令被添加到了这个包中。</p>
<p class="graf graf--p">创建一个名为myproject的新项目。</p>
<p class="graf graf--p"><code>vue serve &lt;filename&gt;</code>发球<em class="markup--em markup--p-em">。js </em>或者<em class="markup--em markup--p-em">。零配置开发模式下的vue </em>文件。</p>
<p class="graf graf--p"><code>vue build &lt;filename&gt;</code>从<em class="markup--em markup--p-em">构建生产就绪包。js </em>或者<em class="markup--em markup--p-em">。零配置的vue </em>文件。</p>
<p class="graf graf--p">调用已安装的插件生成器来创建插件工作所需的文件。</p>
<p class="graf graf--p"><code>vue inspect</code>显示应用程序的webpack配置，因为它已被完全抽象化。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p class="graf graf--p"><code>vue init</code>是为仍然喜欢使用以前的遗留版本2的用户保留的，但是要使用这个命令，您必须安装一个全局桥</p>
<p class="graf graf--p">为此，请在您的终端中运行下面的代码。</p>
<pre class="graf graf--pre">npm install -g @vue/cli-init</pre>
<p class="graf graf--p">一旦安装完成。你现在可以随时在版本3中直接使用版本2。</p>
<pre class="graf graf--pre">vue init webpack newapp</pre>
<h3 class="graf graf--h3">创建新项目</h3>
<p class="graf graf--p">要创建一个新项目，请在您的终端中运行下面的代码</p>
<pre class="graf graf--pre">vue create projectname</pre>
<p class="graf graf--p">其中<strong class="markup--strong markup--p-strong">项目名称</strong>是您想要创建的应用程序的名称。</p>
<p class="graf graf--p">系统将提示您选择预设，默认预设(包含babel &amp; eslint配置)或手动选择您想要的功能。</p>
<p class="graf graf--p">如果您选择默认预设，CLI将创建您的项目并安装必要的插件来启动和运行它。</p>
<p class="graf graf--p">如果您选择手动选择特性，CLI将继续向您显示所有现成的受支持插件，并要求您选择要添加到项目中的插件。</p>
<p class="graf graf--p">要选择，使用键盘上的<strong class="markup--strong markup--p-strong">空格键</strong>或键<strong class="markup--strong markup--p-strong"> A </strong>来选择所有插件。</p>
<p class="graf graf--p">完成后，点击<strong class="markup--strong markup--p-strong">回车</strong>键继续。</p>
<p class="graf graf--p">根据所选择的插件，将会显示额外的提示，只需选择您需要的插件，然后按enter键，让CLI完成它的工作。</p>
<p class="graf graf--p">新CLI的一个很酷的地方是，创建的项目还会在您的机器上为您的项目自动创建一个新的repo。</p>
<h3 class="graf graf--h3">支持开箱即用的插件</h3>
<ol class="postList">
<li class="graf graf--li">打字稿<code>@vue/typescript</code></li>
<li class="graf graf--li">渐进式网络应用程序(PWA) <code>@vue/pwa</code></li>
<li class="graf graf--li">路由器视图</li>
<li class="graf graf--li">武契特</li>
<li class="graf graf--li">Css预处理程序(postcss，css模块，sass，less &amp; stylus)</li>
<li class="graf graf--li">过磅器/格式化器<code>@vue/eslint</code></li>
<li class="graf graf--li">单元测试<code>@vue/mocha</code>或<code>@vue/jest</code></li>
<li class="graf graf--li">E2E测试<code>@vue/cypress</code>或<code>@vue/nightwatch</code></li>
</ol>
<h3 class="graf graf--h3"><strong class="markup--strong markup--h3-strong">预设</strong></h3>
<p class="graf graf--p">在使用CLI创建新项目并手动选择功能时，会创建一个预设。</p>
<p class="graf graf--p">CLI使用创建的预设来创建项目文件。</p>
<p class="graf graf--p">它是用JSON编写的，包含了你创建新应用时选择的所有特性。</p>
<p class="graf graf--p">预设可以重复使用，因此在创建未来的应用程序时，您可以轻松地直接进入应用程序，而无需经历整个功能选择过程。</p>
<p class="graf graf--p">要使用CLI从以前保存的预设创建新项目，请将目录更改为预设的位置，并运行以下代码</p>
<pre class="graf graf--pre">vue create -p presetname newproject</pre>
<p class="graf graf--p">这使用指定的预置文件创建一个名为<em class="markup--em markup--p-em"> newproject的项目。</em></p>
<h3 class="graf graf--h3">向现有项目添加CLI插件</h3>
<p class="graf graf--p">要向已经创建的项目添加插件，只需运行下面的命令</p>
<pre class="graf graf--pre">vue add @vue/pwa</pre>
<p class="graf graf--p">其中<code>@vue/pwa</code>是您想要添加的插件的名称，在本例中是Progressive Web App插件。</p>
<p class="graf graf--p">需要注意的一点是，新的CLI现在接受包的简写名称，例如<code>@vue/pwa</code>是CLI包<code>@vue/cli-plugin-pwa</code>的简写。</p>
<p class="graf graf--p">CLI将名称<code>@vue/value</code>解析为<code>@vue/cli-plugin-value</code>以安装软件包。</p>
<h3 class="graf graf--h3">零配置快速成型</h3>
<p class="graf graf--p">新的命令行界面使得服务<em class="markup--em markup--p-em">变得超级简单。vue </em>或<em class="markup--em markup--p-em">。使用<code>vue serve</code>和<code>vue build</code>命令在开发或生产模式下创建js </em>文件。</p>
<p class="graf graf--p">这非常适合于您只想测试您的想法，并且您真的不想为配置而烦恼的情况。</p>
<p class="graf graf--p">要使用此命令，您必须首先安装vue CLI全局服务。</p>
<p class="graf graf--p">为此，只需在您的终端中运行下面的代码。</p>
<pre class="graf graf--pre">npm install -g @vue/cli-service-global</pre>
<p class="graf graf--p">安装完成后，您可以使用<code>vue serve</code>或<code>vue build</code>。</p>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">vista服务</strong></p>
<pre class="graf graf--pre">vue serve app.vue</pre>
<p class="graf graf--p">其中<em class="markup--em markup--p-em"> app.vue </em>是您想要提供的组件或文件的名称。</p>
<p class="graf graf--p"><code>serve</code>命令还提供了一个选项，一旦它运行完命令就启动你的浏览器，而不是只向你显示它当前为应用服务的url。</p>
<p class="graf graf--p">为此，运行<code>vue serve -o app.vue</code></p>
<p class="graf graf--p">视图构建</p>
<pre class="graf graf--pre">vue build app.vue</pre>
<p class="graf graf--p">其中<em class="markup--em markup--p-em"> app.vue </em>是您想要提供的组件或文件的名称。</p>
<p class="graf graf--p"><code>vue build</code>命令构建一个生产就绪包，它还允许您指定是将其构建为库还是web组件。</p>
<p class="graf graf--p">构建为库，<code>vue build -t lib app.vue</code>而构建为web组件，<code>vue build -t wc app.vue</code>。</p>
<h3 class="graf graf--h3"><strong class="markup--strong markup--h3-strong">环境变量</strong></h3>
<p class="graf graf--p">新的CLI现在允许您使用<strong class="markup--strong markup--p-strong"> <em class="markup--em markup--p-em">来使用环境变量。env </em> </strong>文件在你的项目的根目录下。</p>
<p class="graf graf--p">该文件由<strong class="markup--strong markup--p-strong"> <em class="markup--em markup--p-em">键=值</em> </strong>对组成。</p>
<p class="graf graf--p">每个人都需要管理至少两个环境，这意味着我们需要为这个环境指定变量。</p>
<p class="graf graf--p">为了有效地做到这一点，CLI引入了我们所说的<strong class="markup--strong markup--p-strong">模式。</strong></p>
<p class="graf graf--p">模式只是环境的另一个名称，它指定您是处于开发、生产还是测试模式。</p>
<p class="graf graf--p">创建仅由特定模式使用的变量。您必须将模式名称作为后缀添加到<strong class="markup--strong markup--p-strong"> <em class="markup--em markup--p-em">。env </em> </strong>文件名。</p>
<p class="graf graf--p"><code>.env.development</code>为开发模式&amp; <code>.env.production</code>为生产模式。</p>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">注意:</strong>对于将变量嵌入到客户端捆绑代码中的CLI，变量需要以<code>VUE_APP_</code>名称为前缀。</p>
<p class="graf graf--p">添加变量<code>seckey</code>现在变成了<code>VUE_APP_SECKEY</code></p>
<h4 class="graf graf--h4">调整Webpack配置</h4>
<p class="graf graf--p">Vue CLI提供了一种非常简单灵活的方式来调整内部webpack配置。</p>
<p class="graf graf--p">为此，您必须使用<code>vue.config.js</code>中的<code>configureWebpack</code>选项</p>
<pre class="graf graf--pre">// vue.config.js
module.exports = {
  configureWebpack: {
    plugins: [
      new MyAwesomeWebpackPlugin()
    ]
  }
}</pre>
<p class="graf graf--p">以防您的项目根目录中还没有<em class="markup--em markup--p-em"> vue.config.js </em>文件。您必须手动创建它。</p>
<p class="graf graf--p">您可能想知道:“我如何知道内部Webpack配置中已经有什么，这样我就知道我需要添加什么？”</p>
<p class="graf graf--p">这就是<code>vue inspect</code>命令变得方便的地方。</p>
<p class="graf graf--p">该命令将所有内部Webpack配置输出到您的终端。</p>
<p class="graf graf--p">要将其输出到文件中，只需指定一个文件名，如下所示</p>
<pre class="graf graf--pre">vue inspect &gt; output.js</pre>
<h3 class="graf graf--h3">摘要</h3>
<p class="graf graf--p">在撰写本文时，新的CLI仍处于测试阶段，因此可能会有一些错误。事实上，建议不要在生产中使用，除非你喜欢冒险。</p>
<p class="graf graf--p">干杯！</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>
</div>
</div>    
</body>
</html>