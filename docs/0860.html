<html>
<head>
<title>Introduction to Blitz.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Blitz.js - LogRocket博客简介</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/introduction-to-blitz-js/#0001-01-01">https://blog.logrocket.com/introduction-to-blitz-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在开始编写应用程序之前，创建一个新的React项目需要大量的配置。这是像Create React App这样的样板库存在的主要原因之一。但是即使有了这些库，要构建一个完整的web应用程序仍然有许多困难要克服。</p>
<p>例如，您必须确定您将使用什么数据库。服务器和后端呢？这足以让你怀念过去使用Rails的日子，那时你只需下载框架，一切都已经准备好了。</p>
<p>如果您希望在使用React时拥有一个全栈、数据库支持的结构，那么您可能想要查看一下<a href="https://github.com/blitz-js/blitz" target="_blank" rel="noopener noreferrer"> Blitz.js </a>，这是一个用于构建单片React应用程序的新框架。</p>
<h5 class="blog-button">在这里收听我们关于Blitz.js的播客。T3】</h5>
<p>一个完整的React框架</p>
<h2 id="amonolithicreactframework">Blitz是一个React框架，它恢复了2000年代的web框架(如Rails和Laravel)的简单性和惯例，同时仍然允许您编写JSX语法并在客户端呈现。对于需要快速构建和发布应用程序的小型开发团队来说，这是一个很好的框架。</h2>
<p>让我们来总结一下使用Blitz的一些主要好处。</p>
<p>您不需要构建API来获取客户端呈现中的数据</p>
<ul>
<li>您可以从同一个应用程序中进行客户端、服务器端和静态页面渲染</li>
<li>默认情况下，React并发模式是启用的</li>
<li>包括用于代码搭建的CLI，这类似于Rails生成控制器和模型的方式</li>
<li>完全支持静态、端到端类型的TypeScript</li>
<li>使您能够部署无服务器或有服务器</li>
<li>Blitz团队还计划在未来增加对React Native和authentication的支持。</li>
</ul>
<p>就像Rails一样，Blitz用于创建整体应用程序。这意味着您不必仅仅为了从服务器获取数据而创建API。如果您遇到需要访问您系统的第三方软件，您可以在以后创建API。</p>
<p>要开始，如果你使用Yarn，用<code>npm install -g blitz</code>或<code>yarn global add blitz</code>下载Blitz。下载后，用<code>blitz new myBlitzApp</code>创建你的第一个闪电战应用。</p>
<p>在<code>myBlitzApp</code>目录中，您会发现许多自动生成的文件和目录，它们组成了Blitz.js应用程序的<a href="https://github.com/blitz-js/blitz/blob/canary/TUTORIAL.md#creating-a-project" target="_blank" rel="noopener noreferrer">结构。以下是这些目录用途的概述:</a></p>
<p><img data-attachment-id="18604" data-permalink="https://blog.logrocket.com/introduction-to-blitz-js/blitz-js-app-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png" data-orig-size="720,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blitz.js app structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png" decoding="async" class="aligncenter size-full wp-image-18604 jetpack-lazy-image" src="../Images/99585eca56cc6f29fa7857534715d1a7.png" alt="Blitz.js App Structure" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure-300x203.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png"/></p>
<p>关于上述内容的一些注意事项:</p><noscript><img data-lazy-fallback="1" data-attachment-id="18604" data-permalink="https://blog.logrocket.com/introduction-to-blitz-js/blitz-js-app-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png" data-orig-size="720,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blitz.js app structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure-300x203.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-18604" src="../Images/99585eca56cc6f29fa7857534715d1a7.png" alt="Blitz.js App Structure" srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure-300x203.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-app-structure.png"/></noscript>
<p>出于显而易见的原因，您的大部分应用程序代码将放在<code>app/</code>目录中。由于Blitz是一个多页面应用程序，您将在此处保存您的页面</p>
<ul>
<li><code>db/</code>目录用于您的数据库配置。它存储您的模式并将迁移输出编译到<code>migrations</code>文件夹中</li>
<li><code>node_modules/</code>目录用于已安装的依赖项</li>
<li><code>public/</code>目录存储静态资产，如图像和视频</li>
<li><code>utils</code>目录存储了跨应用程序的共享实用程序代码</li>
<li>“点文件”(<code>.babelrc.js</code>、<code>.env</code>等)。)用于环境配置</li>
<li>有一个用于高级Blitz配置的<code>blitz.config.js</code>文件。例如，您可以使用它来定制Webpack构建</li>
<li><code>jobs/</code>目录可能用于创建类似于Rails活动作业的cron服务，但是在撰写本文时还没有相关文档</li>
<li>创建新的Blitz应用程序可能需要一段时间，因为它会自动为您安装其依赖项。安装完成后，进入<code>myBlitzApp</code>目录，用<code>blitz start</code>命令运行Blitz应用程序。</li>
</ul>
<p>导航到您的<a href="http://localhost:3000" rel="nofollow"> http://localhost:3000 </a>以查看您的Blitz索引页面。</p>
<p><img data-attachment-id="18605" data-permalink="https://blog.logrocket.com/introduction-to-blitz-js/blitz-js-index-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png" data-orig-size="720,418" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blitz.js index page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page-300x174.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png" decoding="async" class="aligncenter size-full wp-image-18605 jetpack-lazy-image" src="../Images/2cde1cb4a0ff815d6fa51e79e22f6743.png" alt="Blitz.js Index Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page-300x174.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png"/></p>
<p>Blitz支持现成的TypeScript，并对其生成的所有文件使用<code>.tsx</code>语法。上面索引页的代码在<code>app/pages/index.tsx</code>。</p><noscript><img data-lazy-fallback="1" data-attachment-id="18605" data-permalink="https://blog.logrocket.com/introduction-to-blitz-js/blitz-js-index-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png" data-orig-size="720,418" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blitz.js index page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page-300x174.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-18605" src="../Images/2cde1cb4a0ff815d6fa51e79e22f6743.png" alt="Blitz.js Index Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png 720w, https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page-300x174.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/blitz-js-index-page.png"/></noscript>
<p>使用Create React App时，需要添加React头盔用于插入meta标签，React路由器用于移动到不同的页面。由于Blitz是建立在Next.js之上的，你可以使用它的API，比如<a href="https://nextjs.org/docs/api-reference/next/head" target="_blank" rel="noopener noreferrer"> head </a>和<a href="https://nextjs.org/docs/api-reference/next/link" target="_blank" rel="noopener noreferrer"> link </a>，来添加meta标签和创建锚文本。</p>
<p>Blitz中的页面概念与<a href="https://nextjs.org/docs/basic-features/pages" target="_blank" rel="noopener noreferrer"> Next.js pages </a>完全相同，但与Next.js不同的是，您可以在<code>app</code>文件夹中嵌套多个pages文件夹，以整齐的方式组织它们。</p>
<pre>import {Head, Link} from 'blitz'
const Home = () =&gt; (
  &lt;div className="container"&gt;
    &lt;Head&gt;
      &lt;title&gt;myBlitzApp&lt;/title&gt;
      &lt;link rel="icon" href="/favicon.ico" /&gt;
    &lt;/Head&gt;
    &lt;main&gt;
        &lt;Link href="/projects"&gt;
          &lt;a&gt;/projects&lt;/a&gt;
        &lt;/Link&gt;
    &lt;/main&gt;
  &lt;/div&gt;
)
export default Home
</pre>
<p>所有写在<code>pages/</code>文件夹中的React组件都可以通过其对应的URL访问，所以可以从<code>localhost:3000/about</code>访问<code>pages/about.tsx</code>。</p>
<p>Blitz数据库配置</p>
<h2 id="blitzdatabaseconfiguration">默认情况下，Blitz将SQLite与Prisma 2一起用于其数据库客户端。也就是说，你可以使用任何你想要的东西，比如PostgreSQL或者TypeORM。默认的Prisma 2模式位于<code>db/schema.prisma</code>上。</h2>
<p>您可以在这个模式中指定您的模型，并使用<code>blitz db migrate</code>命令迁移数据库。要了解这是如何工作的，取消上面的<code>Project</code>模型的注释，然后运行<code>blitz db migrate</code>并输入您的迁移名称。您可以为迁移名称编写任何内容。</p>
<pre>// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource sqlite {
  provider = "sqlite"
  url      = "file:./db.sqlite"
}

// SQLite is easy to start with, but if you use Postgres in production
// you should also use it in development with the following:
//datasource postgresql {
//  provider = "postgresql"
//  url      = env("DATABASE_URL")
//}

generator client {
  provider = "prisma-client-js"
}


// --------------------------------------

//model Project {
//  id        Int      @default(autoincrement()) @id
//  name      String
//}
</pre>
<p>接下来，通过从终端运行<code>blitz generate</code>命令，自动化从模型生成文件的过程。</p>
<p>生成的文件将被记录到控制台中。</p>
<pre>blitz generate all project
</pre>
<p>由于在撰写本文时Blitz仍处于alpha阶段，它仍然缺乏足够的文档来解释页面、查询和数据库之间的交互。我在<a href="https://github.com/blitz-js/blitz/issues/89"> GitHub </a>上找到了一些关于查询和突变的解释。简单地说，Blitz查询和突变是普通的异步JavaScript函数，总是在服务器上运行。</p>
<pre>CREATE    app\projects\pages\projects\index.tsx
CREATE    app\projects\pages\projects\new.tsx
CREATE    app\projects\pages\projects\[id]\edit.tsx
CREATE    app\projects\pages\projects\[id].tsx
CREATE    app\projects\queries\getProjects.ts
CREATE    app\projects\queries\getProject.ts
CREATE    app\projects\mutations\createProject.ts
CREATE    app\projects\mutations\deleteProject.ts
CREATE    app\projects\mutations\updateProject.ts
</pre>
<p>结论</p>
<h2 id="conclusion">撇开文档不谈，Blitz.js当然有可能减少使用React开发应用程序时的痛苦——特别是对于那些怀念过去创建新项目只需运行<code>rails new</code>命令的开发者来说。</h2>
<p>借助Blitz，您可以将应用程序作为单个实体进行部署，并根据自己的条件和节奏添加高级技术。</p>
<p>如果你有兴趣亲自尝试Blitz，请查看其教程页面。</p>
<p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</h2><p>. </p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675660750">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
<p vwo-el-id="28675661060">Modernize how you debug your React apps —
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">start monitoring for free</a>.
</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>