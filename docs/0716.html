<html>
<head>
<title>How to use CSS Scroll Snap - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使用CSS滚动快照-日志火箭博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-use-css-scroll-snap/#0001-01-01">https://blog.logrocket.com/how-to-use-css-scroll-snap/#0001-01-01</a></blockquote><div><div class="mainheading">

<div class="row post-top-meta hidden-md-down">

<div class="col-md-10 col-xs-12">
<a class="text-capitalize link-dark" href="https://blog.logrocket.com/author/rifkinada/">
Nada Rifki <span class="btn follow">Follow</span></a>
<span class="author-description d-block">Nada is a JavaScript developer who likes to play with UI components to create interfaces with great UX. She specializes in Vue.js and loves sharing anything and everything that could help her fellow frontend web developers. Nada also dabbles in digital marketing, dance, and Chinese.</span>
</div>
</div>
<h1 class="posttitle">如何使用CSS滚动捕捉</h1>
<h2 class="post-subtitle"><span class="post-date"><time class="post-date">2020年3月9日</time> </span> <span class="dot"/> <span class="readingtime"> 2分钟阅读</span> <span class="wordcount"> 835 </span> <span class="logrocket_editor"/></h2>
<p>只需要CSS来定制你的滚动而不是玩JavaScript的想法听起来很棒，不是吗？</p>
</div>
<article class="article-post">
<p>今天，我将向您展示CSS Scroll Snap如何帮助您做到这一点。</p>
<p>那么CSS Scroll Snap是干什么的呢？</p>
<h2>我打赌你已经使用了一些库来控制你的网站的滚动行为。是的，我和其中一些人相处得很糟糕。</h2>
<p>其中一些库会降低页面的性能和用户体验。</p>
<p>更不用说，当你用新的设计更新增加更多的复杂性时，处理它们有时产生的所有错误是一种真正的痛苦。</p>
<p>这就是为什么我更喜欢使用这个简单的CSS特性，它允许我在页面中获得漂亮的滚动，而不必依赖于JavaScript库。</p>
<p>这些属性也帮助我节省了大量时间。</p>
<p>简而言之，CSS滚动捕捉使滚动捕捉，每次滚动将视口锁定在特定点(您指定的点)。</p>
<p>另一方面，线性滚动根据控制器的速率移动——无论是鼠标、触摸手势还是箭头键。</p>
<p>现在，让我们看看CSS滚动捕捉是如何工作的。</p>
<p>如果你想直接进入一个真实的例子，直接进入第三部分，我用几行CSS代码构建了Instagram转盘。</p>
<p>让我们开始吧。</p>
<p>CSS滚动捕捉的工作原理</p>
<h3>CSS滚动捕捉通过应用两个主要属性来工作:<code>scroll-snap-type</code>和<code>scroll-snap-align</code>。</h3>
<p>以下是您需要了解的每一项内容:</p>
<p>第一个是<code>scroll-snap-type</code>，应用于父容器。它接受两个参数:捕捉方向和捕捉行为:</p>
<ul>
<li>关于捕捉行为参数:选择<code>proximity</code>使捕捉只出现在离用户停止滚动最近的点。</li>
</ul>
<pre>.container {
 scroll-snap-type: [ x | y | block | inline | both ] [ mandatory | proximity ];
}</pre>
<p>另一方面，当用户滚动时，<code>mandatory</code>使捕捉发生在你选择的特定位置。</p>
<p>第二个是<code>scroll-snap-align</code>，应用于容器的子容器。</p>
<ul>
<li>这是为x轴和y轴指定捕捉点的地方:</li>
</ul>
<p>在我们继续之前，重要的是要注意，除非您指定容器的溢出并给它一个固定的高度，否则这些都不起作用。</p>
<pre>.children {
 scroll-snap-align: [ none | start | end | center ]{1,2};
}</pre>
<p>此外，如果其中一个子元素的内容比父容器长，就不应该使用mandatory。如果您这样做，用户将看不到该内容。</p>
<p>我们还需要熟悉两个属性:</p>
<p><code>scroll-padding</code>(应用于父容器)非常类似于CSS padding属性，并充当偏移量。你还有<code>scroll-padding-top</code>、<code>scroll-padding-bottom</code>、<code>scroll-padding-left</code>和<code>scroll-padding-right</code>。</p>
<ol>
<li><code>scroll-margin</code>(应用于容器的子容器)也类似于CSS margin属性，并作为开始。你还有<code>scroll-margin-top</code>、<code>scroll-margin-bottom</code>、<code>scroll-margin-left</code>和<code>scroll-margin-right</code>。</li>
<li>如果你有兴趣了解更多关于所有滚动捕捉属性和未来属性的信息，Mozilla文档总是一个很好的起点。</li>
</ol>
<p>如何使用CSS Scroll Snap创建类似Instagram的旋转木马</p>
<h3>为了帮助你更好地理解这个概念，我在<a href="https://codepen.io/nrifki/pen/LYVygxW" target="_blank" rel="noopener noreferrer"> codepen </a>上做了一个类似Instagram的小转盘。</h3>
<p>点击此处观看现场演示:</p>
<p>没有描述</p>
<blockquote class="embedly-card" data-card-controls="1" data-card-align="center" data-card-theme="light">

<p>如你所见，它包括七个不同大小的盒子。</p>
</blockquote>
<p>更多来自LogRocket的精彩文章:</p>
<p>让我惊讶的是，除了添加下面的CSS行来自动使滚动捕捉到每个框之外，我们没有其他事情可做。</p><div class="code-block code-block-54">
<hr/>
<h3>仅用JavaScript解决这个问题需要大量额外的工作。</h3>

<hr/></div>
<p>CSS滚动捕捉支持跨浏览器吗？</p>
<pre>&lt;style&gt;
.container {
    width: 60vw;
    height: 70vh;
    margin: 15vh auto;
    overflow-x: scroll;
    scroll-snap-type: x mandatory;
    color: white;
    background-color: oldlace;
    display: flex;
    align-items: center;
}

.child {
    margin-left: 0.5rem;
    height: 90%;
    scroll-snap-align: start;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.child:nth-child(1n) {
    background-color: darkorchid;
    flex: 0 0 80%;
}

.child:nth-child(2n) {
    background-color: indigo;
    flex: 0 0 60%;
}

.child:nth-child(3n) {
    background-color: navy;
    flex: 0 0 40%;
}

.child:nth-child(4n) {
    background-color: palegreen;
    flex: 0 0 50%;
}

.child:nth-child(5n) {
    background-color: yellow;
    flex: 0 0 80%;
}

.child:nth-child(6n) {
    background-color: orange;
    flex: 0 0 60%;
}

.child:nth-child(7n) {
    background-color: tomato;
    flex: 0 0 80%;
}
&lt;/style&gt;</pre>
<p>好了，现在让我们进入百万美元的问题:跨浏览器支持。</p>
<h3>正如你在这里看到的<a href="https://caniuse.com/#feat=css-snappoints" target="_blank" rel="noopener noreferrer"/>，CSS滚动捕捉功能在现代浏览器中得到了很好的支持。</h3>
<p>你会遇到的唯一问题是Internet Explorer，它需要旧版本的规范，你可以在这里找到<a href="https://www.w3.org/TR/2015/WD-css-snappoints-1-20150326/" target="_blank" rel="noopener noreferrer"/>。</p>
<p>另外，我建议您将属性<code>-webkit-overflow-scrolling: touch;</code>添加到容器中，以支持iOS设备。</p>
<p>结论</p>
<p>差不多就是这样！</p>
<h3>这很简单，但有时这可以节省我几个小时的代码。尝试使用JavaScript实现滚动捕捉，并使用不同宽度的每个子元素重新计算捕捉点，您就会明白我的意思了。</h3>
<p>如果您有任何问题或意见，请随时在评论中告诉我，或在Twitter上ping我。我总是回复。</p>
<p>你的前端是否占用了用户的CPU？</p>
<p>随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用、内存使用等感兴趣，</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>.</h2><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">LogRocket</a> is like a DVR for web and mobile apps, recording everything that happens in your web app or site. Instead of guessing why problems happen, you can aggregate and report on key frontend performance metrics, replay user sessions along with application state, log network requests, and automatically surface all errors.</p><p>Modernize how you debug web and mobile apps — <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>