<html>
<head>
<title>Building storefronts with SAP Spartacus - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用SAP Spartacus构建店面- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-storefronts-with-sap-spartacus/#0001-01-01">https://blog.logrocket.com/building-storefronts-with-sap-spartacus/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Spartacus是一个轻量级的开源框架，用于为SAP商务云构建在线电子商务商店。Spartacus基于JavaScript和Angular，以库的形式发布。开发人员可以将Spartacus导入到现有的应用程序中，让工具开箱即可用于店面。</p>
<p>在本文中，我们将介绍Spartacus的一些特性，讨论如何开始使用店面应用程序，并介绍一些提示和技巧。</p>
<h2>斯巴达克斯的特征</h2>
<p>利用斯巴达克斯的两个主要优势是它的可扩展性和升级能力。<a href="https://github.com/SAP/spartacus">开源库</a>经常更新——大约每两周一次——因此开发者可以快速利用升级和新功能。由于Spartacus完全通过对SAP商务云的REST API调用来工作，店面独立于任何后端架构运行。</p>
<p><a href="https://blog.logrocket.com/a-guide-to-sap-commerce-cloud-spartacus/"> Spartacus框架</a>支持渐进式网络应用(PWA)。PWAs包含响应式设计元素，允许客户在移动和桌面平台上利用店面，而无需开发人员编写额外的前端功能。</p>
<p>Spartacus与各种内容管理系统(CMS)接口良好，完全支持提供个性化体验。Spartacus专为电子商务店面设计，可轻松与SmartEdit集成。SmartEdit包括一个预览Spartacus网站的功能，因为它们将出现在客户面前。</p>
<h2>属国</h2>
<p>斯巴达克斯由前端的角形平台支撑。它还使用了yarn和Node.js。</p>
<p>不同版本的斯巴达克斯需要Angular、Node.js、yarn的具体版本，所以最好<a href="https://github.com/SAP/spartacus#requirements">查看需求</a>。</p>
<p>在后端，Spartacus与SAP商务云接口。建议使用2005版的SAP商务云，但Spartacus将支持1905版及更高版本。</p>
<h2>入门指南</h2>
<p>要安装Spartacus，请将库导入现有的JavaScript或Angular web应用程序。在下面的例子中，我们将解释如何使用schematics将Spartacus安装到现有的Angular项目中。</p>
<h3>先决条件</h3>
<p>对于下面的工作流，以下先决条件是必需的:</p>
<ul>
<li>Angular CLI版本9.1或更高，但低于10.0</li>
<li>角度等于或大于9度，但小于10.0度</li>
<li>节点版本小于或等于13</li>
</ul>
<h2>工作流程和示例</h2>
<h3>添加斯巴达克斯库</h3>
<p>要将Spartacus库导入Angular项目，请打开命令提示符，并将目录更改为您的项目目录。在这里，在提示符下键入以下命令:</p>
<pre>ng add @spartacus/schematics
</pre>
<p>此命令添加基本配置，但可以扩展以进行自定义。</p>
<p>例如，为<code>baseUrl</code>添加一个参数会设置CX OCC后端的基本URL。货币或语言等其他参数设置店面中的默认值。Spartacus文档中提供了可用参数的完整列表。</p>
<p>除了参数之外，基本命令还可以进一步扩展，以扩展应用程序。这里有几个例子:</p>
<ul>
<li><code>ng g @spartacus/schematics:add-ssr</code>(配置服务器端渲染)</li>
<li><code>ng g @spartacus/schematics:add-pwa</code>(包括为斯巴达克斯定制的PWA模块)</li>
<li><code>ng g @spartacus/schematics:add-cms-component</code>(创建一个CMS组件并添加该组件)</li>
</ul>
<h3>幕后发生了什么</h3>
<p>当base命令运行时，后台会发生几个步骤来在您的项目中设置Spartacus:</p>
<ul>
<li>所需的依赖项被添加到项目中</li>
<li>斯巴达克斯模块被导入<code>app.module</code>并设置默认配置</li>
<li>斯巴达克斯风格导入到<code>main.scss</code></li>
<li><code>cx-storefront</code>组件被添加到<code>app.component</code></li>
</ul>
<p>如果添加PWA或SSR之类的参数或标志，则会发生额外的步骤，例如，添加服务器端呈现依赖项和配置所需的额外文件。</p>
<h3>CMS组件设置</h3>
<p>建立一个新的电子商务网站的最重要的步骤之一是获得库存，所以斯巴达克斯示意图支持添加CMS组件。</p>
<p>虽然<code>add-cms-component</code>可以处理几乎所有的CMS设置，但是某些定制也是可用的，其中大部分与CMD组件数据相关。</p>
<ul>
<li><code>--declareCmsModule</code>:标识添加新CMS组件的位置。如果未指定现有模块，安装程序将生成一个新模块。</li>
<li><code>--cmsComponentData</code>(也称<code>--cms</code>):默认为<code>true</code>。该选项将<code>CmsComponentData</code>添加到新组件中。</li>
<li><code>--cmsComponentDataModel</code>(也称<code>--cms-model</code>):标识<code>CmsComponentData</code>的型号类别。如果<code>--cmsComponentData</code>设置为<code>true</code>，则该参数是必需的。</li>
<li><code>--cmsComponentDataModelPath</code>(也称<code>--cms-model-path</code>):指定导入<code>CmsComponentData</code>的路径。默认设置为<code>@spartacus/core</code>。</li>
</ul>
<p>下面是一个使用<code>add-cms-component</code>和<code>--declareCmsModule</code>的例子:</p>
<pre>ng g @spartacus/schematics:add-cms-component mySiteCms
--cms-model=MySiteModel --module=app
--declareCmsModule=my-site-cms-path/my-site-cms</pre>
<p>上面的语句创建了必要的<code>component.ts</code>文件，并将该文件添加到用户指定的模块位置<code>my-site-cms-path/my-site-cms.module.ts</code>。该命令还将<code>my-site-cms.module.ts</code>导入到<code>app.module.ts</code>。</p>
<p>在站点建立之后，CMS仍然可以通过各种JavaScript、Angular和CSS变化来定制个性化体验。Spartacus文档包括关于<a href="https://sap.github.io/spartacus-docs/customizing-cms-components/">定制CMS组件</a>的附加信息。</p>
<h3>定制斯巴达克斯</h3>
<h4>页面定制</h4>
<p>Spartacus支持页面，即使它是单页面应用程序(SPA)。Spartacus中的页面由CMS控制，因此对页面的任何添加或编辑都是在CMS端进行的。</p>
<h4>旗帜</h4>
<p>Spartacus利用横幅组件来呈现CMS中创建的横幅。横幅可以有一个或多个图像，也可以包含标题等可选内容。它们通常用于链接附加内容。</p>
<p>横幅可以用斯巴达克斯这样映射:</p>
<pre>    SimpleResponsiveBannerComponent: {
      component: BannerComponent
    },
    BannerComponent: {
      component: BannerComponent
    },
    SimpleBannerComponent: {
      component: BannerComponent
    }
  }
}
</pre>
<h4>搜索框</h4>
<p>添加一个搜索框组件可以为用户搜索提供两个重要的功能:自动完成和无需离开页面就可以搜索产品目录。搜索框组件被添加到JavaScript组件中，如下所示:</p>
<pre>        SearchBoxComponent: {
          component: SearchBoxComponent
        }
    }
}
</pre>
<p>可以对其进行编辑，以定制搜索功能。</p>
<h2>提示和技巧</h2>
<h3>配方模块</h3>
<p>斯巴达克斯在<code>src/app/app.module.ts</code>中设置了提供基本实现的配方模块。目前，B2cStorefrontModule是最流行的食谱模块。但是，如果您需要额外的灵活性来进行更深层次的定制，那么使用另一个recipe模块(如StorefrontModule或StorefrontFoundationModule)可能更适合您的站点。这些都是值得研究的，看看什么是最适合你的网站。</p>
<h3>参考库</h3>
<p>我们建议参考斯巴达克斯库进行进一步定制。尽管将Spartacus源代码复制并粘贴到您的项目中很有诱惑力，但还有其他更简洁的方式来定制您的店面，例如，编辑CMS内容。</p>
<h2>结论</h2>
<p>Spartacus是一个使用SAP商务云的面向店面的开源库。在本文中，我们介绍了斯巴达克斯的几个基本特性，以及如何将它与现有网站结合起来。我们讨论了几个如何为CMS、横幅和搜索功能定制Spartacus的例子。我们还介绍了一些与斯巴达克斯合作的技巧和诀窍。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>有关使用斯巴达克斯和定制店面的更多信息，请访问<a href="https://sap.github.io/spartacus-docs/">斯巴达克斯官方文档</a>。</p><div class="code-block code-block-22">
<div class="blog-plug inline-plug ecomm-plug"><h2><a href="https://lp.logrocket.com/blg/ecommerce-signup"> LogRocket </a>:看看用户为什么不完成你的电子商务流程中的一个步骤的技术和UX原因。</h2><a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/></noscript></a><p>LogRocket 就像是一个网络和移动应用程序和网站的DVR，记录你的电子商务应用程序上发生的一切。LogRocket没有猜测用户不转化的原因，而是主动揭示了阻止你转化的根本原因，比如JavaScript错误或死点击。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>开始主动监控您的电子商务应用程序— <a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer">免费试用</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>