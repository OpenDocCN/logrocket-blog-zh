# 为什么你应该把你的应用变成一个 PWA 

> 原文：<https://blog.logrocket.com/why-you-should-turn-your-app-into-a-pwa/>

现代 web 应用程序有各种各样的技术，我们现在有许多不同的技术、概念、框架和库来实现 web 应用程序。构建一个现代的 web 应用程序需要大量的过程和时间来思考、设计、开发和测试应用程序。

现代应用程序要想获得成功并吸引用户，应该具备一些几乎是强制性的品质，例如:

*   漂亮的设计
*   页面之间非常平滑的过渡
*   页面应该快速而优雅地加载
*   用户体验需要良好
*   应用程序的搜索引擎优化应该非常认真地对待，并不断改进，以便搜索引擎将抓取，查看和排名应用程序更好，等等。

这些只是在构建 web 应用程序之前应该考虑的一些要点，但是有许多可用的技术和概念可以帮助它长期成功。

想象一下，使用相同的通用技术，我们可以让这个 web 应用程序像本地应用程序一样运行和工作，而不是构建一个普通的 web 应用程序。我们可以让它更高效、更高性能、更优雅，能够向用户发送推送通知，离线工作，提高性能和转化率等。

## 什么是 PWA？

渐进式 web 应用程序(PWA)是现代 web 应用程序，它使用最新的 Web 功能，允许应用程序安装在用户的设备上，类似于本地应用程序。通过这样做，web 应用程序可以像本地应用程序一样工作，并使用本地应用程序上可用的一些功能，如推送通知、离线工作、地理定位、设备硬件访问等。

当你没有互联网连接时，渐进式网络应用程序离线工作，使用上次交互时缓存的数据，这是可能的，因为服务人员。

> 服务人员是您的浏览器在后台运行的脚本，独立于网页，为不需要网页或用户交互的功能打开了大门。如今，它们已经包括了像[推送通知](https://developers.google.com/web/updates/2015/03/push-notifications-on-the-open-web)和[后台同步](https://developers.google.com/web/updates/2015/12/background-sync)这样的功能。

使用服务人员进行离线工作使得渐进式 web 应用程序对 web 应用程序具有吸引力和高性能。虽然它们看起来像是一种新的方式来构建具有一些本地应用程序特性的 web 应用程序，但是渐进式 web 应用程序正在被许多不同的公司使用，并且显示出真正积极的结果。

总部位于印度的电子商务公司 Flipkart 决定将他们的网络应用程序转变为渐进式网络应用程序，结果，[将用户在其网站上花费的时间增加了两倍](https://developers.google.com/web/showcase/2016/flipkart)，并带来了一些更积极的结果:

> **–40%**更高的再次参与率
> **–70%**通过添加到主屏幕
> **–3 倍**更低的数据使用量

如今有很多其他公司在生产中使用渐进式网络应用程序，如 [Twitter](https://developers.google.com/web/showcase/2017/twitter) 、 [Pinterest](https://medium.com/dev-channel/a-pinterest-progressive-web-app-performance-case-study-3bd6ed2e6154) 、 [Flipkart](https://sites.google.com/view/progressivewebapps/case-studies) 、[星巴克](https://app.starbucks.com/)、[福布斯](https://developers.google.com/web/showcase/2017/forbes)等等。

## 将您的应用程序转变为 PWA

进步的网络应用程序正在悄悄地接管网络应用程序的世界，公司慢慢地开始采用它们并取得巨大的成功。将您的现代 web 应用程序转变为 PWA 可以带来很多好处，并有助于您的用户与您的应用程序进行更多的交互和互动。

让我们来看看渐进式 web 应用程序提供的功能，以及为什么它们可以使 web 应用程序如此强大、高性能和可靠，让 web 应用程序感觉像是本机应用程序。

## 表演

渐进式网络应用程序总是使用 [HTTPS](https://web.dev/why-https-matters/) 从安全的源连接加载。它有助于减少应用程序的加载时间，并提高应用程序加载到用户的速度。

要使用原生应用程序，用户需要从商店下载，这将需要用户设备的内存，并且大多数时候，用户不想下载一个简单的应用程序，该应用程序将在一个月内使用两次。

想象一下，你的手机上不是有 30 个原生应用程序，而是有 30 个渐进式网络应用程序，从你的设备上释放内存。对于那些希望用户坚持在自己的设备上使用 web 应用程序的公司来说，渐进式 web 应用程序可能是一个不错的解决方案，只需安装它，而不必为它创建一个独特的本地应用程序。

## 脱机的

网络应用程序是从零开始设计和开发的，可以在线使用。有时，用户的互联网连接可能会中断几分钟，但在连接恢复后，用户希望他们的操作被注册，应用程序应该做用户想要做的事情。无论如何，每个用户都希望他们的操作被注册。网络应用的问题在于让它们离线工作并不是一件容易的事情。

由于服务人员的原因，渐进式网络应用程序只能离线工作。服务人员为 web 应用程序提供离线功能，他们负责让渐进式 web 应用程序离线工作，并且以非常高效和快速的方式工作。

服务人员帮助缓存 progressive web 应用程序中的新内容，并将其作为本地更改同步到远程服务器，使 progressive web 应用程序对用户来说感觉新鲜和最新。

## 快速安装

关于原生应用的一个痛点是，它们需要从商店下载，比如 App Store 或 Google Play store。

用户将需要花费手机的一些内存来安装应用程序，花更多的时间下载应用程序，创建帐户，并在应用程序上导航之前设置一切。

渐进式网络应用程序是不需要从商店下载的应用程序，用户只需点击按钮就可以将应用程序保存到他们的设备上。渐进式网络应用程序在独立的窗口中运行，而不是在浏览器中运行，这使得它们可以非常容易地从用户的主屏幕上启动:

> 这些应用程序不是通过商店打包和部署的，它们只是摄取了所有正确维生素的网站。——亚历克斯·拉塞尔谈“[渐进式网络应用:逃离标签而不失去我们的灵魂](https://infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul/)”。

让应用程序像真正的原生应用程序一样保存在他们的设备上的能力有很大的不同，它将节省设备上的内存，并且它只会在用户打开应用程序时加载内容。

## PWA 与混合动力

渐进式 web 应用程序仍然是构建 web 应用程序的一种新方式，有时它可能会引起一些混淆，尤其是在刚刚了解这两种不同概念的开发人员之间。一些开发者倾向于混淆渐进式网络应用和混合式应用，尽管它们有一些不同之处。

* * *

### 更多来自 LogRocket 的精彩文章:

* * *

混合应用程序是使用 web 和本地技术的组合构建的，并通过本地应用程序商店分发。混合应用程序可以非常快速地构建，并且可以在不同的平台上使用。混合应用的核心使用 web 技术(HTML、CSS、JavaScript)构建，然后封装在原生技术中，这使应用能够访问移动设备的功能，如推送通知、地理定位等。

渐进式 web 应用程序是一种现代的 web 应用程序，可以从您的浏览器下载，并且可以具有本机应用程序的功能。与混合应用不同，渐进式应用不通过商店分发，如 Google Play 商店或应用商店。

## PWAs 入门

既然我们对渐进式 web 应用程序的工作方式和混合应用程序之间的差异有了更多的了解，那么让我们将一个 [Next.js](https://nextjs.org/) 应用程序转换成 PWA，看看它在实践中的表现。

您可以使用以下命令轻松创建一个新的 [Next.js](https://nextjs.org/) 应用程序:

```
npx create-next-app pwa-example

```

创建应用程序后，我们将安装一个将应用程序转换为 PWA 的依赖项:

```
yarn add next-pwa

```

现在，我们要做的就是在我们的根文件夹中创建一个名为`next.config.js`的文件，并将以下代码放入其中:

```
const withPWA = require('next-pwa')

module.exports = withPWA({
  pwa: {
    disable: process.env.NODE_ENV === 'development',
    register: true,
    scope: '/app',
    sw: 'service-worker.js',
  }
})

```

在我们的`public`文件夹中，我们将创建我们的`manifest.json`文件。每个 PWA 都应该有一个名为`manifest.json`的文件，这个 web 清单文件以 JSON 格式提供有关应用程序的信息，我们的应用程序需要下载，并以类似于本地应用程序的方式工作。

这是一个`manifest.json`文件的样子:

```
{
  "theme_color": "#fe0000",
  "background_color": "#ffff",
  "display": "browser",
  "scope": "/",
  "start_url": "/",
  "app_name": "Example",
  "short_name": "Example",
  "description": "Example of a PWA",
  "icons": [
    {
      "src": "/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icon-256x256.png",
      "sizes": "256x256",
      "type": "image/png"
    },
    {
      "src": "/icon-384x384.png",
      "sizes": "384x384",
      "type": "image/png"
    },
    {
      "src": "/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}

```

我们将使用一个 [PWA 清单生成器](https://www.simicart.com/manifest-generator.html/)来生成我们的`manifest.json`。这非常简单，只需要几秒钟。在生成了我们的`manifest.json`文件和图标之后，我们所要做的就是把内容放到我们的`public`文件夹中。

现在，我们有一个 [Next.js](https://nextjs.org/) PWA 正在工作，为我们的应用程序提供离线支持，以及 PWA 带来的更多优势。

## 结论

渐进式 web 应用程序是构建现代应用程序的新标准，它混合了 web 和本地技术，以创建快速且可访问的 web 应用程序。将您的应用程序转变为渐进式网络应用程序可以带来许多优势，如离线支持、推送通知、地理定位、改善用户体验、增加销售和转化流量等等。

## [LogRocket](https://lp.logrocket.com/blg/nextjs-signup) :全面了解生产 Next.js 应用

调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示 JavaScript 错误、跟踪缓慢的网络请求和组件加载时间感兴趣，

[try LogRocket](https://lp.logrocket.com/blg/nextjs-signup)

.

[![](img/f300c244a1a1cf916df8b4cb02bec6c6.png)](https://lp.logrocket.com/blg/nextjs-signup)[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/nextjs-signup)

LogRocket 就像是网络和移动应用的 DVR，记录下你的 Next.js 应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket 还可以监控应用程序的性能，报告客户端 CPU 负载、客户端内存使用等指标。

LogRocket Redux 中间件包为您的用户会话增加了一层额外的可见性。LogRocket 记录 Redux 存储中的所有操作和状态。

让您调试 Next.js 应用的方式现代化— [开始免费监控](https://lp.logrocket.com/blg/nextjs-signup)。