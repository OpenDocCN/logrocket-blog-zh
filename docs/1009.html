<html>
<head>
<title>Essentials for building your first Gutenberg block - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>建立你的第一个古腾堡block - LogRocket博客的要点</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-first-gutenberg-block/#0001-01-01">https://blog.logrocket.com/building-first-gutenberg-block/#0001-01-01</a></blockquote><div><article class="article-post">
<p>PHP开发人员会发现为新的WordPress编辑器<a href="https://wordpress.org/gutenberg/"> Gutenberg </a>编写代码令人望而生畏，因为它需要React和JavaScript的深厚知识。</p>
<p>这是我几个月前开始搭建第一个积木时的亲身经历。尽管我离掌握这些语言还有一段距离，但我已经能够在一定程度上适应新的范式，并成功地制作了几个模块。</p>
<p>在这篇文章中，我将分享几个技巧，以了解在为古腾堡编码时需要注意什么。</p>
<h2>看看古腾堡团队是如何做到的</h2>
<p>我学习如何在Gutenberg中做一些事情的主要方法是通过检查Gutenberg团队是如何做的，主要是通过检查repo 中的代码<a href="https://github.com/WordPress/gutenberg">。</a></p>
<p>即使我们已经知道React、JavaScript、Redux、webpack或Gutenberg使用的任何库，检查repo中的代码也是非常可取的。Gutenberg在它所依赖的库之上提供了一个抽象层，它的一些功能只在特定于Gutenberg的方式下工作。</p>
<p>例如，通过包<code><a href="https://github.com/WordPress/gutenberg/tree/master/packages/data">@wordpress/data</a></code>与数据存储交互就是这种情况。尽管这个包是在<a href="https://blog.logrocket.com/why-use-redux-reasons-with-clear-examples-d21bffd5835/"> Redux </a>之上实现的，但是它包含了<a href="https://github.com/WordPress/gutenberg/tree/master/packages/data#comparison-with-redux">和</a>的几个重要区别，所以从以前的项目中使用Redux的经验可能还不足以知道如何在Gutenberg中使用它。</p>
<h2>集中使用WordPress编辑器来发现什么可以被重用</h2>
<p>为Gutenberg实现的任何功能也可供我们自己使用。作为WordPress编辑器的重度用户，探索它的所有屏幕和用户交互，发现和试验这些功能，并决定是否将它们移植到我们自己的插件，这是一个好主意。</p>
<p>例如，我注意到用户第一次与WordPress编辑器交互时显示的欢迎屏幕:</p>
<figure id="attachment_22009" aria-describedby="caption-attachment-22009" class="wp-caption aligncenter"><img data-attachment-id="22009" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-editor-welcome-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="WP editor welcome screen" data-image-description="" data-image-caption="&lt;p&gt;WordPress editor welcome screen.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg" decoding="async" class="size-full wp-image-22009 jetpack-lazy-image" src="../Images/f93f4068a8fc2149e1cc36a6ba59cd24.png" alt="WordPress Editor Welcome Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen-300x224.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg"/><noscript><img data-lazy-fallback="1" data-attachment-id="22009" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-editor-welcome-screen/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="WP editor welcome screen" data-image-description="" data-image-caption="&lt;p&gt;WordPress editor welcome screen.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg" decoding="async" loading="lazy" class="size-full wp-image-22009" src="../Images/f93f4068a8fc2149e1cc36a6ba59cd24.png" alt="WordPress Editor Welcome Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen-300x224.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-editor-welcome-screen.jpg"/></noscript><figcaption id="caption-attachment-22009" class="wp-caption-text">WordPress editor welcome screen.</figcaption></figure>
<p>我认为这种用户交互对于显示用户文档非常实用，所以我决定将它移植到我自己的插件中。</p>
<p>为了找到代码，我<a href="https://github.com/WordPress/gutenberg/search?q=%22In+the+WordPress+editor%2C+each+paragraph%2C+image%2C+or+video%22&amp;unscoped_q=%22In+the+WordPress+editor%2C+each+paragraph%2C+image%2C+or+video%22">搜索了字符串</a> <code>"In the WordPress editor, each paragraph, image, or video"</code>(它出现在编辑的欢迎指南上)，产生了带有代码的文件<code><a href="https://github.com/WordPress/gutenberg/blob/7b63e877336bb8f156bcd25191066bad38ba6635/packages/edit-post/src/components/welcome-guide/index.js">packages/edit-post/src/components/welcome-guide/index.js</a></code>:</p>
<pre>// imports...
// ...

export default function WelcomeGuide() {
  // ...

  return (
    &lt;Guide
      className="edit-post-welcome-guide"
      contentLabel={ __( 'Welcome to the block editor' ) }
      finishButtonText={ __( 'Get started' ) }
      onFinish={ () =&gt; toggleFeature( 'welcomeGuide' ) }
    &gt;
      &lt;GuidePage className="edit-post-welcome-guide__page"&gt;
        &lt;h1 className="edit-post-welcome-guide__heading"&gt;
          { __( 'Welcome to the block editor' ) }
        &lt;/h1&gt;
        &lt;CanvasImage className="edit-post-welcome-guide__image" /&gt;
        &lt;p className="edit-post-welcome-guide__text"&gt;
          { __(
            'In the WordPress editor, each paragraph, image, or video is presented as a distinct “block” of content.'
          ) }
        &lt;/p&gt;
      &lt;/GuidePage&gt;

      /* More &lt;GuidePage&gt; components */
      /* ... */
    &lt;/Guide&gt;
  );
}</pre>
<p>我将代码从库中复制/粘贴到我的插件中，并根据我的需要进行编辑。结果非常令人满意:</p>
<figure id="attachment_22011" aria-describedby="caption-attachment-22011" class="wp-caption aligncenter"><img data-attachment-id="22011" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-welcome-guide-with-gutenberg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Reusing the welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Reusing the welcome guide for my own plugin.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg-300x201.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif" decoding="async" class="size-full wp-image-22011 jetpack-lazy-image" src="../Images/67c5e360dfbc7a26ecf0aee1da906258.png" alt="Reusing The Welcome Guide For My Own Plugin" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="22011" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-welcome-guide-with-gutenberg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif" data-orig-size="730,488" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Reusing the welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Reusing the welcome guide for my own plugin.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg-300x201.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif" decoding="async" loading="lazy" class="size-full wp-image-22011" src="../Images/67c5e360dfbc7a26ecf0aee1da906258.png" alt="Reusing The Welcome Guide For My Own Plugin" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-welcome-guide-with-gutenberg.gif"/></noscript><figcaption id="caption-attachment-22011" class="wp-caption-text">Reusing the welcome guide for my own plugin.</figcaption></figure>
<h2>浏览可用的文档</h2>
<p>古腾堡的文档可在<a href="https://developer.wordpress.org/block-editor/">块编辑手册</a>中找到。它是<a href="https://github.com/WordPress/gutenberg/issues/22151">还没有彻底</a>，这使得初学者很难开始为古腾堡编码。</p>
<p>例如，我从中学到了以下印象:</p>
<ul>
<li>感觉有点混乱，每个包都提供了自己的文档，没有一个总体的地图来显示它们是如何连接的</li>
<li>它包含技术术语，只有具有现代JavaScript技术经验的开发人员才能理解</li>
<li>它确实提供了一些教程，但是这些并没有解释为什么/如何/什么时候需要所有的过程</li>
<li>它受到“知识诅咒”的困扰，文档是由专家编写的，他们忽略了琐碎的信息，而这些信息对于非专家来说仍然是有价值的</li>
</ul>
<p>即使它有很大的改进空间，现有的文档仍然非常有用。所以，一定要浏览所有的文档，多看几遍，直到一切顺利。每当对某个主题不够满意时，尽可能地从存储库中学习代码来填补空白。</p>
<h2>使用<code>@wordpress/create-block</code>包搭建一个新的模块</h2>
<p>是一个搭建新积木的工具，由Gutenberg团队维护。我在以前的文章<a href="https://blog.logrocket.com/setting-up-first-gutenberg-project/"> <em>中描述了如何使用这个包，建立你的第一个古腾堡项目</em> </a>。</p>
<h2>检查你需要的是一个块还是一个组件</h2>
<p>Gutenberg基于React，这是一个JavaScript库，用于构建通过组件描述的用户界面。组件是JavaScript类或函数，旨在呈现一些特定的界面，并通过属性对其进行定制。它也是可组合的，即一个组件可以包含另一个组件，从而重用其代码。</p>
<p>Gutenberg基于<a href="https://developer.wordpress.org/block-editor/principles/key-concepts/#blocks">块</a>，其中块是具有某些特性的高级React组件(例如，它的属性被保存到数据库中)。因此，块可以由组件组成(块也可以包含<a href="https://developer.wordpress.org/block-editor/tutorials/block-tutorial/nested-blocks-inner-blocks/">嵌套块</a>，但这是另一回事)。</p>
<p>尽管古腾堡看起来完全是关于块的，但在某些情况下，我们不是通过块，而是通过组件与古腾堡互动。</p>
<p>例如，前面显示的欢迎指南在模式窗口中显示用户文档，并通过文档选项卡面板中的链接触发:</p>
<figure id="attachment_21771" aria-describedby="caption-attachment-21771" class="wp-caption aligncenter"><img data-attachment-id="21771" data-permalink="https://blog.logrocket.com/setting-up-first-gutenberg-project/sidebar-panel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Sidebar panel" data-image-description="" data-image-caption="&lt;p&gt;Sidebar panel.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel-300x224.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg" decoding="async" class="size-full wp-image-21771 jetpack-lazy-image" src="../Images/b7cfa8a11887d682cc22b3476ccdde97.png" alt="Sidebar Panel In The Document TabPanel" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel-300x224.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg"/><noscript><img data-lazy-fallback="1" data-attachment-id="21771" data-permalink="https://blog.logrocket.com/setting-up-first-gutenberg-project/sidebar-panel/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Sidebar panel" data-image-description="" data-image-caption="&lt;p&gt;Sidebar panel.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel-300x224.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg" decoding="async" loading="lazy" class="size-full wp-image-21771" src="../Images/b7cfa8a11887d682cc22b3476ccdde97.png" alt="Sidebar Panel In The Document TabPanel" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel-300x224.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/sidebar-panel.jpeg"/></noscript><figcaption id="caption-attachment-21771" class="wp-caption-text">Sidebar panel.</figcaption></figure>
<p>创建这个面板是通过<code>&lt;PluginDocumentSettingPanel&gt;</code>完成的，它是一个组件，而不是一个模块:</p>
<pre>import { registerPlugin } from '@wordpress/plugins';
import { PluginDocumentSettingPanel } from '@wordpress/edit-post';

const WelcomeGuidePluginDocumentSettingPanel = () =&gt; (
  &lt;PluginDocumentSettingPanel
    name="welcome-guide"
    title="Welcome Guide"
    className="welcome-guide"
  &gt;
    /* Link to open the modal window */
    /* ... */
    /* Modal window */
    /* ... */
  &lt;/PluginDocumentSettingPanel&gt;
);

registerPlugin( 'welcome-guide-plugin-document-setting-panel', {
  render: WelcomeGuidePluginDocumentSettingPanel,
  icon: 'welcome-view-site',
} );</pre>
<p>有没有可能使用一个块来满足相同的用例，即在编辑器中向用户显示文档？我们来看看这个。</p>
<p>我们可以在编辑器的顶部有一个带有折叠元素的块，最初是关闭的:</p>
<figure id="attachment_22016" aria-describedby="caption-attachment-22016" class="wp-caption aligncenter"><img data-attachment-id="22016" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/accordion-video-closed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Closed accordion with user documentation" data-image-description="" data-image-caption="&lt;p&gt;Accordion with user documentation, initially closed.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg" decoding="async" class="size-full wp-image-22016 jetpack-lazy-image" src="../Images/d5e8291927397cb6a9cdb9ed7ec71efd.png" alt="Closed Accordion With User Documentation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed-300x224.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg"/><noscript><img data-lazy-fallback="1" data-attachment-id="22016" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/accordion-video-closed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Closed accordion with user documentation" data-image-description="" data-image-caption="&lt;p&gt;Accordion with user documentation, initially closed.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg" decoding="async" loading="lazy" class="size-full wp-image-22016" src="../Images/d5e8291927397cb6a9cdb9ed7ec71efd.png" alt="Closed Accordion With User Documentation" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed-300x224.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-closed.jpg"/></noscript><figcaption id="caption-attachment-22016" class="wp-caption-text">Accordion with user documentation, initially closed.</figcaption></figure>
<p>当点击它时，它会打开并显示用户文档，在这种情况下是通过Vimeo嵌入的视频:</p>
<figure id="attachment_22018" aria-describedby="caption-attachment-22018" class="wp-caption aligncenter"><img data-attachment-id="22018" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/accordion-video-opened/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Open accordion with user documentation" data-image-description="" data-image-caption="&lt;p&gt;Accordion with user documentation, now open.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg" decoding="async" class="size-full wp-image-22018 jetpack-lazy-image" src="../Images/a2b434b9ddb5d884ef5e0a142825ab15.png" alt="Open Accordion With User Documentation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened-300x224.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg"/><noscript><img data-lazy-fallback="1" data-attachment-id="22018" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/accordion-video-opened/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Open accordion with user documentation" data-image-description="" data-image-caption="&lt;p&gt;Accordion with user documentation, now open.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg" decoding="async" loading="lazy" class="size-full wp-image-22018" src="../Images/a2b434b9ddb5d884ef5e0a142825ab15.png" alt="Open Accordion With User Documentation" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened-300x224.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/accordion-video-opened.jpg"/></noscript><figcaption id="caption-attachment-22018" class="wp-caption-text">Accordion with user documentation, now open.</figcaption></figure>
<p>然而，这种方案行不通，因为对块(及其数据，除非它是一个<a href="https://developer.wordpress.org/block-editor/principles/key-concepts/#reusable-blocks">可重用块</a>)的引用存储在该帖子的数据库条目中。然后，至少会发生以下问题之一:</p>
<ul>
<li>Vimeo视频URL(作为block属性传递)也会保存在帖子上，对于每一个帖子，它确实不属于那里</li>
<li>或者，URL可以被硬编码在块中，但是我们需要创建几个折叠块，每个自定义帖子类型(CPT)一个，在那里显示块(假设不同的CPT需要显示不同的视频)</li>
<li>否则，我们可以使用<code>core/html</code>块，并通过一个<a href="https://developer.wordpress.org/block-editor/developers/block-api/block-templates/">模板</a>用它的内部HTML初始化它，但这并不可行，因为模板只允许我们定义属性，而不是内容。即使它真的有效，通过模板传递HTML来实现accordion(这需要CSS，可能还需要一些JavaScript)也是一种黑客行为</li>
</ul>
<p>最后，即使所有这些问题都解决了，一旦块被添加到CPT，它就不能被修改或删除，因为当模板和保存的内容不同步时，Gutenberg会显示警告消息。这将使用户困惑，因为不匹配与用户提供的内容无关:</p>
<figure id="attachment_22020" aria-describedby="caption-attachment-22020" class="wp-caption aligncenter"><img data-attachment-id="22020" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/template-content-out-of-sync/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Warning message" data-image-description="" data-image-caption="&lt;p&gt;Warning message shown when template and content are out of sync.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg" decoding="async" class="size-full wp-image-22020 jetpack-lazy-image" src="../Images/2048c44f2fce637370272fec7cdcaaf5.png" alt="Warning Message When Template And Content Are Out Of Synch" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync-300x224.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg"/><noscript><img data-lazy-fallback="1" data-attachment-id="22020" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/template-content-out-of-sync/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Warning message" data-image-description="" data-image-caption="&lt;p&gt;Warning message shown when template and content are out of sync.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg" decoding="async" loading="lazy" class="size-full wp-image-22020" src="../Images/2048c44f2fce637370272fec7cdcaaf5.png" alt="Warning Message When Template And Content Are Out Of Synch" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync-300x224.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/template-content-out-of-sync.jpg"/></noscript><figcaption id="caption-attachment-22020" class="wp-caption-text">Warning message shown when template and content are out of sync.</figcaption></figure>
<p>结论:块并不适合所有的用例，所以在开始编码之前要注意你是否需要一个块。</p>
<h2>重用古腾堡组件</h2>
<p>古腾堡附带的任何组件也可供自己使用。有三种方法可以浏览组件列表:</p>
<ol>
<li>查看<code><a href="https://github.com/WordPress/gutenberg/tree/master/packages/components/src">packages/components/src</a></code>下的回购</li>
<li>阅读手册的<a href="https://developer.wordpress.org/block-editor/components/">组件参考</a></li>
<li>在<a href="https://wordpress.github.io/gutenberg">古腾堡的故事书</a>里和他们一起玩</li>
</ol>
<p>所有这些组件都托管在<code>@wordpress/components</code>包中，所以我们必须将这个包作为依赖项安装在块的<code>package.json</code>文件中。为此，打开一个终端窗口并在块的根文件夹中运行:</p>
<pre>npm install @wordpress/components --save-dev</pre>
<p>现在，block可以<code>import</code>任何组件，比如一个<code>&lt;Button&gt;</code>:</p>
<pre>import { Button } from '@wordpress/components';

const MyButton = () =&gt; (
 &lt;Button isSecondary&gt;
   Label
 &lt;/Button&gt;
);</pre>
<p>静态<code>import</code>语句可以采取几种形式。在这种情况下，组件名<code>Button</code>必须用<code>{ }</code>括起来。阅读模块<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">如何导出</a>和<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">如何导入</a>是一个好主意。</p>
<p>您可以在此查看迄今可用的组件<a href="https://developer.wordpress.org/block-editor/components/">。</a></p>
<h2>使用外部组件</h2>
<p>Gutenberg附带的组件没有覆盖所有用例，所以我们很可能需要从组件库中导入外部组件，如<a href="https://material-ui.com/"> Material-UI </a>、<a href="https://react-bootstrap.github.io/"> React Bootstrap </a>、<a href="https://chakra-ui.com/"> Chakra UI </a>或其他。</p>
<p>例如，我需要为我的插件实现一个多选，尽管Gutenberg的<code>SelectControl</code>组件允许我们选择多个值，但它的用户界面并不完美:</p>
<figure id="attachment_22022" aria-describedby="caption-attachment-22022" class="wp-caption aligncenter"><img data-attachment-id="22022" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/multi-select-control/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png" data-orig-size="730,330" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SelectControl component" data-image-description="" data-image-caption="&lt;p&gt;SelectControl with multiple attribute&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png" decoding="async" class="size-full wp-image-22022 jetpack-lazy-image" src="../Images/0f2c3581db237597dcdcc437622f0179.png" alt="SelectControl Component With Multiple Attributes" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control-300x136.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22022" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/multi-select-control/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png" data-orig-size="730,330" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SelectControl component" data-image-description="" data-image-caption="&lt;p&gt;SelectControl with multiple attribute&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png" decoding="async" loading="lazy" class="size-full wp-image-22022" src="../Images/0f2c3581db237597dcdcc437622f0179.png" alt="SelectControl Component With Multiple Attributes" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control-300x136.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/multi-select-control.png"/></noscript><figcaption id="caption-attachment-22022" class="wp-caption-text">SelectControl with multiple attribute</figcaption></figure>
<p>因此，我前往npm注册表，对“multiselectreact”进行了<a href="https://www.npmjs.com/search?q=multiselect%20react">搜索，并安装了第一个结果——名为<code><a href="https://www.npmjs.com/package/react-select">react-select</a></code>的库。</a></p>
<p>要为Gutenberg块安装这个库(假设我们已经使用<code>@wordpress/create-block</code>创建了这个块)，我们到终端，进入项目的根文件夹，执行这个命令:</p>
<pre>npm install react-select --save-dev</pre>
<p>该命令将把<code>"react-select"</code> JavaScript依赖项添加到文件<code>package.json</code>中，并下载文件夹<code>node_modules/</code>下的依赖项。从现在起，该库将可在块内使用，遵循其说明:</p>
<pre>import Select from 'react-select';

const MultiSelect = ( props ) =&gt; {
  const { defaultValue, options } = props;
  return (
    &lt;Select
      defaultValue={ defaultValue }
      options={ options }
      isMulti={ true }
    /&gt;
  )
}</pre>
<p>该组件提供的用户体验非常引人注目，优于Gutenberg的<code>&lt;SelectControl&gt;</code>:</p>
<figure id="attachment_22024" aria-describedby="caption-attachment-22024" class="wp-caption aligncenter"><img data-attachment-id="22024" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/react-select-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif" data-orig-size="595,457" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select component" data-image-description="" data-image-caption="&lt;p&gt;react-select component.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component-300x230.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif" decoding="async" class="size-full wp-image-22024 jetpack-lazy-image" src="../Images/e50f85c849321981f2c04bf207de35e1.png" alt="React-Select Componenet" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="22024" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/react-select-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif" data-orig-size="595,457" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select component" data-image-description="" data-image-caption="&lt;p&gt;react-select component.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component-300x230.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif" decoding="async" loading="lazy" class="size-full wp-image-22024" src="../Images/e50f85c849321981f2c04bf207de35e1.png" alt="React-Select Componenet" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/react-select-component.gif"/></noscript><figcaption id="caption-attachment-22024" class="wp-caption-text">react-select component.</figcaption></figure>
<h2>时尚风格</h2>
<p>当使用<code>@wordpress/create-block</code>搭建一个新的块时，默认情况下，所有的样式都是通过CSS预处理器<a href="https://sass-lang.com/"> Sass </a>完成的。Sass增加了生成CSS代码的脚本特性——变量、嵌套规则、混合、函数等等。</p>
<p>例如，下面的Sass代码:</p>
<pre>$base-color: #c6538c;
$border-dark: rgba($base-color, 0.88);

.wp-block-my-block {
  .alert {
    border: 1px solid $border-dark;
  }
}
</pre>
<p>产生以下CSS输出:</p>
<pre>.wp-block-my-block .alert {
  border: 1px solid rgba(198, 83, 140, 0.88);
}</pre>
<p>块有两个独立的样式表:一个用于编辑体验，另一个用于页面上的表示。相应地，脚手架块包含两个Sass文件:</p>
<ol>
<li><code>editor.scss</code>(由<code>edit.js</code>编辑<code>import</code>)包含仅适用于编辑器的样式，编译为<code>build/index.css</code></li>
<li><code>style.scss</code>(由<code>index.js</code>编辑的<code>import</code>)包含适用于编辑器和前端的样式，被编译为<code>build/style-index.css</code>。</li>
</ol>
<h2 id="customizing-webpack">自定义webpack</h2>
<p>Gutenberg的核心是webpack，它是现代JavaScript应用程序的静态模块捆绑器。</p>
<p>webpack可以用来导入应用程序中的任何类型的资源，而不仅仅是JavaScript——图像、Markdown文件(将代码转换成HTML)或者任何有<a href="https://webpack.js.org/loaders/">加载器</a>的东西。</p>
<p>古腾堡的网络包配置可以在找到<a href="https://github.com/WordPress/gutenberg/blob/master/packages/scripts/config/webpack.config.js">。一个块还可以通过在根文件夹中添加一个<code>webpack.config.js</code>文件</a><a href="https://github.com/WordPress/gutenberg/tree/master/packages/scripts#provide-your-own-webpack-config">来提供它自己的webpack配置</a>。自定义配置可以覆盖默认配置，如下所示:</p>
<pre>// Default webpack configuration
const defaultConfig = require( '@wordpress/scripts/config/webpack.config' );

// Add extra configuration, and export it
module.exports = {
  ...defaultConfig,
  module: {
    ...defaultConfig.module,
    rules: [
      ...defaultConfig.module.rules,
      // Add here a new rule
      // ...
    ],
  },
};</pre>
<p>例如，我已经决定使用Markdown文件为前面显示的欢迎指南编写用户文档。为了处理<code>.md</code>文件，我们必须为webpack提供一个Markdown加载器(根据<a href="https://www.npmjs.com/package/markdown-loader">的文档</a>，还有一个<a href="https://webpack.js.org/loaders/html-loader/">的HTML加载器</a>，通过一个定制的<code>webpack.config.js</code>文件定义它，如下所示:</p>
<pre>const defaultConfig = require( '@wordpress/scripts/config/webpack.config' );

module.exports = {
  ...defaultConfig,
  module: {
    ...defaultConfig.module,
    rules: [
      ...defaultConfig.module.rules,
      {
        test: /\.md$/,
        use: [
          {
            loader: "html-loader"
          },
          {
            loader: "markdown-loader"
          }
        ]
      }
    ],
  },
};</pre>
<p>Markdown和HTML加载器都是JavaScript依赖项，必须通过在终端的块的根文件夹中执行以下命令将其导入到项目中:</p>
<pre>npm install --save-dev markdown-loader html-loader</pre>
<p>现在，我们可以<code>import</code>Markdown文件的内容(已经呈现为HTML)并在任何组件中使用它:</p>
<pre>import UserDocumentationContent from './user-documentation.md';

const UserDocumentation = ( props ) =&gt; {
  const { className } = props;
  return (
    &lt;div
      className={ className }
      dangerouslySetInnerHTML={ { __html: UserDocumentationContent } }
    /&gt;
  );
}</pre>
<h2>保持我们的块是最新的</h2>
<p>Gutenberg有两个版本:每两周发布一次新功能的Gutenberg插件和每三到四个月整合一次新功能的WordPress核心。</p>
<p>如果我们已经使用了<code>@wordpress/create-block</code>来搭建新的块，我们可以通过在根文件夹中运行这个命令来用所有WordPress包的最新版本来更新这个块:</p>
<pre>npm run packages-update</pre>
<p>该命令将检索<code>package.json</code>中所有<code>@wordpress/...</code>包的列表，并将它们的版本升级到最新版本。</p>
<p>但是，要小心！WordPress历来避免在新版本中引入突破性的变化，但Gutenberg的情况并非如此，所以我们必须检查在升级到新版本后是否有任何东西停止工作。</p>
<p>例如，在将它们升级到使用更新版本的<code>@wordpress/scripts</code>之后，几个模块<a href="https://github.com/WordPress/gutenberg/issues/23607">在为生产</a>编译时停止了工作。原因一点也不清楚:问题可能是由webpack、Babel、Node或它们的组合引起的。</p>
<p>我花了五天时间进行调试、研究，并与人们交谈，以了解发生了什么并修复它。这次挫折清楚地表明了WordPress已经变得多么复杂。</p>
<p>此外，每当Gutenberg插件有新的发布时，我们必须检查我们的块是否仍然工作良好，或者它们是否需要适应新的代码。例如，当我第一次创建前面显示的欢迎指南时，它看起来像这样:</p>
<figure id="attachment_22026" aria-describedby="caption-attachment-22026" class="wp-caption aligncenter"><img data-attachment-id="22026" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/gutenberg-welcome-guide/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Original welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Original welcome guide.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg" decoding="async" class="size-full wp-image-22026 jetpack-lazy-image" src="../Images/8c416a34bf327802aabb40cad0775e98.png" alt="Original Gutenberg Welcome Guide" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide-300x224.jpg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg"/><noscript><img data-lazy-fallback="1" data-attachment-id="22026" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/gutenberg-welcome-guide/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg" data-orig-size="730,546" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Original welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Original welcome guide.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide-300x224.jpg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg" decoding="async" loading="lazy" class="size-full wp-image-22026" src="../Images/8c416a34bf327802aabb40cad0775e98.png" alt="Original Gutenberg Welcome Guide" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide-300x224.jpg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-welcome-guide.jpg"/></noscript><figcaption id="caption-attachment-22026" class="wp-caption-text">Original welcome guide.</figcaption></figure>
<p>然而，从古腾堡版本<code>8.2</code>开始，它看起来是这样的:</p>
<figure id="attachment_22027" aria-describedby="caption-attachment-22027" class="wp-caption aligncenter"><img data-attachment-id="22027" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/gutenberg-broken-welcome-guide/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png" data-orig-size="730,486" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Broken welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Welcome guide after upgrading.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png" decoding="async" class="size-full wp-image-22027 jetpack-lazy-image" src="../Images/dc954c69b51107321f1f70aca2301c91.png" alt="Broken Welcome Guide After Upgrading" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide-300x200.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22027" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/gutenberg-broken-welcome-guide/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png" data-orig-size="730,486" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Broken welcome guide" data-image-description="" data-image-caption="&lt;p&gt;Welcome guide after upgrading.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide-300x200.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png" decoding="async" loading="lazy" class="size-full wp-image-22027" src="../Images/dc954c69b51107321f1f70aca2301c91.png" alt="Broken Welcome Guide After Upgrading" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide-300x200.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/gutenberg-broken-welcome-guide.png"/></noscript><figcaption id="caption-attachment-22027" class="wp-caption-text">Welcome guide after upgrading.</figcaption></figure>
<p>那么，我们如何监控重大变更呢？</p>
<p>所有的<a href="https://developer.wordpress.org/block-editor/packages/">包</a>都使用<a href="https://semver.org/">语义版本</a>，所以版本由三个数字组成，中间用一个点隔开:<code>MAJOR.MINOR.PATCH</code>。每当一个版本引入了突破性的变化，那么<code>MAJOR</code>号就增加(例如，从<code>9.1.0</code>到<code>10.0.0</code>)。</p>
<p>每个包<a href="https://github.com/WordPress/gutenberg/blob/master/packages/README.md#maintaining-changelogs">都有一个<code>CHANGELOG</code>文件</a>，声明不同版本之间的变化，包括重大变化。因此，我们必须检查块的<code>package.json</code>文件中的<code>@wordpress/...</code>包列表，并读取每个包的<code>CHANGELOG</code>。</p>
<p>比如<code>@wordpress/scripts</code>的<code>CHANGELOG</code>就是<a href="https://github.com/WordPress/gutenberg/blob/master/packages/scripts/CHANGELOG.md">这个</a>。我检查了我的块停止工作的版本(<a href="https://github.com/WordPress/gutenberg/blob/master/packages/scripts/CHANGELOG.md#1000-2020-05-28">版本<code>10.0.0</code> </a>)，但是它没有声明突破性的改变，所以要么问题一定在其他的包中，要么突破性的改变是在不知情的情况下引入的(我们需要格外注意)。</p>
<p>此外，我们必须在浏览器中加载Gutenberg，并查看我们是否在DevTools控制台中收到错误或反对通知。例如，一个反对通知表明不再使用<code>&lt;GuidePage&gt;</code>组件，这就是为什么我的欢迎指南的样式被破坏了:</p>
<figure id="attachment_22029" aria-describedby="caption-attachment-22029" class="wp-caption aligncenter"><img data-attachment-id="22029" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/console-deprecations/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png" data-orig-size="1178,848" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console deprecations" data-image-description="" data-image-caption="&lt;p&gt;Deprecation notices by Gutenberg.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-300x216.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-1024x737.png" decoding="async" class="size-full wp-image-22029 jetpack-lazy-image" src="../Images/e86e55272440f11534b7260d41398a3f.png" alt="Deprecation Notices By Gutenberg" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png 1178w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-300x216.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-1024x737.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-768x553.png 768w" data-lazy-sizes="(max-width: 1178px) 100vw, 1178px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="22029" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/console-deprecations/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png" data-orig-size="1178,848" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Console deprecations" data-image-description="" data-image-caption="&lt;p&gt;Deprecation notices by Gutenberg.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-300x216.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-1024x737.png" decoding="async" loading="lazy" class="size-full wp-image-22029" src="../Images/e86e55272440f11534b7260d41398a3f.png" alt="Deprecation Notices By Gutenberg" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png 1178w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-300x216.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-1024x737.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations-768x553.png 768w" sizes="(max-width: 1178px) 100vw, 1178px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/console-deprecations.png"/></noscript><figcaption id="caption-attachment-22029" class="wp-caption-text">Deprecation notices by Gutenberg.</figcaption></figure>
<p>每当我们需要修复代码时，我们还必须确保它能与Gutenberg的两个版本兼容:插件的最新版本和集成到WordPress core的版本。</p>
<p>保持我们的块更新是一项耗时的活动，可能每两周进行一次(Gutenberg的每个新版本)。在估计构建模块所需的工作量时，应该考虑到这一点。</p>
<h2>检查遗留的WordPress代码是否已经能够满足你的需求</h2>
<p>这一节是我最后加的，其实最开始就应该评价。</p>
<p>从上面看到的信息中可以看出，Gutenberg是复杂的，需要大量的努力来执行，这可以转化为投入到项目中的时间(用于学习技术、编码、测试)或雇佣其他人来做这件事的金钱。</p>
<p>如果你没有这些，那么你就要考虑古腾堡是否值得你去费心了。</p>
<p>在某些情况下，古腾堡当然值得麻烦。例如，如果您的应用程序需要提供引人注目的用户体验，那么Gutenberg实际上比使用遗留的WordPress代码(主要涉及PHP、jQuery和自定义JavaScript的组合)更容易做到。</p>
<p>然而，在其他一些情况下，使用遗留的WordPress PHP代码对于手边的用例已经足够好了。例如，关于前面显示的带有用户文档的欢迎指南，这个用例可以在没有Gutenberg的情况下满足，只使用PHP和CSS代码，通过<a href="https://www.designbombs.com/adding-modal-windows-in-the-wordpress-admin/">重用已经在WordPress admin </a>中编码的功能:</p>
<figure id="attachment_22031" aria-describedby="caption-attachment-22031" class="wp-caption aligncenter"><img data-attachment-id="22031" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-modal-window-without-gutenberg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif" data-orig-size="730,435" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="WP modal window without Gutenberg" data-image-description="" data-image-caption="&lt;p&gt;Opening a modal window without Gutenberg.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg-300x179.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif" decoding="async" class="size-full wp-image-22031 jetpack-lazy-image" src="../Images/dcce4f026818c65c72e5aaaebf7f50e5.png" alt="WordPress Modal Window Without Gutenberg" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif"/><noscript><img data-lazy-fallback="1" data-attachment-id="22031" data-permalink="https://blog.logrocket.com/building-first-gutenberg-block/wp-modal-window-without-gutenberg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif" data-orig-size="730,435" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="WP modal window without Gutenberg" data-image-description="" data-image-caption="&lt;p&gt;Opening a modal window without Gutenberg.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg-300x179.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif" decoding="async" loading="lazy" class="size-full wp-image-22031" src="../Images/dcce4f026818c65c72e5aaaebf7f50e5.png" alt="WordPress Modal Window Without Gutenberg" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/wp-modal-window-without-gutenberg.gif"/></noscript><figcaption id="caption-attachment-22031" class="wp-caption-text">Opening a modal window without Gutenberg.</figcaption></figure>
<p>两种解决方案都成功地在模态窗口中显示了文档。使用Gutenberg的用户体验非常好，但我也花了更长的时间来实现。</p>
<p>总之，在搭建积木之前，确保你真的需要它。</p>
<h2>结论</h2>
<p>Gutenberg非常强大，但是它有一个陡峭的学习曲线，特别是对于不熟悉JavaScript的开发人员。</p>
<p>我几个月前开始使用Gutenberg，完全是一个React和JavaScript初学者。从那以后，我学到了一些东西，有时是通过阅读文档，有时是通过探索源代码。我在本文中与我的初学者同伴分享了这些技巧，以便更容易开始使用Gutenberg。</p>
<p>现在，去搭积木吧！</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>使用<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>消除传统错误报告的干扰</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket会告诉您应用程序中实际影响用户的最具影响力的bug和UX问题。</p>
<p>然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。</p>
<p>LogRocket自动聚合客户端错误、JS异常、前端性能指标和用户交互。然后LogRocket使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。</p>
<p>关注重要的bug—<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">今天就试试LogRocket】。</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>