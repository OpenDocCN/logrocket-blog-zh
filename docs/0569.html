<html>
<head>
<title>CI/CD tools compared: CircleCI and Travis CI vs. major CSPs - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CI/CD工具比较:CircleCI和Travis CI与主要CSP-log rocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/#0001-01-01">https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/#0001-01-01</a></blockquote><div><article class="article-post">
<p>近年来，软件行业在持续集成和持续部署领域出现了创新爆炸。已经建立了许多工具和服务来提供CI/CD管道的关键部分，但是只有少数几个组织建立了完整的CI/CD系统，并且将自己确立为事实上的标准。其中最重要的是CircleCI和Travis CI。</p>
<p>然后是大型云服务提供商(CSP ),如微软、谷歌和亚马逊，它们都在构建自己的CI/CD系统。但是，为什么您要使用他们的工具，而不是来自成熟的、有目的的组织的工具呢？是否有任何供应商锁定问题需要考虑？这些只是我将试图回答的几个问题。</p>
<p>我将从简要回顾被比较的五个工具开始，分为两类:目的驱动工具(CircleCI和Travis CI)和CSP工具(Azure Pipelines、Google Cloud Build、AWS CodePipeline)。我将重点介绍每种工具的突出特点，然后再深入一点，比较五个方面的工具:</p>
<ol>
<li>初始CI/CD管道设置经验</li>
<li>随着您的组织的成长和任何潜在的成长烦恼的可扩展性</li>
<li>CI/CD渠道的灵活性和可扩展性</li>
<li>供应商锁定问题</li>
<li>您可能希望使用CSP工具而不是目的驱动工具的原因</li>
</ol>
<h2>CI/CD工具概述</h2>
<p>除非另有说明，否则您可以假设每个工具都有一套标准的功能，包括:</p>
<ul>
<li>支持多种语言和运行时</li>
<li>用代码定义您的构建和部署过程(通常以YAML格式)</li>
<li>能够运行单元测试并报告结果</li>
<li>当管道成功或失败时发送通知</li>
<li>在构建时支持动态环境变量</li>
<li>安全管理构建时所需的机密输入</li>
</ul>
<p>这些都是开发人员在CI/CD管道中所期望的功能。相反，我将强调每个工具的一些独特功能。</p>
<h2>目的驱动的工具:CircleCI和Travis CI</h2>
<p>CircleCI和Travis CI都是CI/CD工具领域的重量级人物。每种工具都有独特的功能，适合稍微不同的受众。</p>
<h3>绕圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈圈</h3>
<p><img data-attachment-id="10934" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/circleci-workflow/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png" data-orig-size="730,276" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CircleCI workflow" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png" decoding="async" class="aligncenter size-full wp-image-10934 jetpack-lazy-image" src="../Images/6e5d156a9c4cc88424b2910423aa3bc1.png" alt="CircleCI Workflow" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow-300x113.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10934" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/circleci-workflow/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png" data-orig-size="730,276" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CircleCI workflow" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow-300x113.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10934" src="../Images/6e5d156a9c4cc88424b2910423aa3bc1.png" alt="CircleCI Workflow" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow-300x113.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/circleci-workflow.png"/></noscript>
<p>CircleCI提供了一个名为CircleCI Cloud的托管工具和一个名为CircleCI Server的自托管工具。这些工具有许多相似之处，也有一些关键的不同之处。</p>
<p>这两个工具都允许您在Linux上使用各种语言和运行时进行构建。只有CircleCI Cloud支持Windows或Mac版本，这意味着CircleCI Server不再支持。NET、Swift和Objective-C构建。两者都允许您指定一个您希望您的构建在其中运行的容器。</p>
<p>CircleCI通常将CI/CD管道称为“工作流”，它让您可以将多个构建作业以一种漂亮的可视化表示方式连接在一起。CircleCI Cloud支持在工作流中添加“orb”。orb是预先打包的、可重用的构建步骤，允许您快速集成许多第三方功能，例如向Slack通道发送通知或部署到AWS。不幸的是，CircleCI服务器不支持orb。</p>
<h3>特拉维斯·CI</h3>
<p><img data-attachment-id="10935" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/travis-ci-build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png" data-orig-size="730,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Travis CI Build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build-300x197.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png" decoding="async" class="aligncenter size-full wp-image-10935 jetpack-lazy-image" src="../Images/da755465dd3ed66a13bdba0b6afa1688.png" alt="Travis CI Build" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build-300x197.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10935" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/travis-ci-build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png" data-orig-size="730,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Travis CI Build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build-300x197.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10935" src="../Images/da755465dd3ed66a13bdba0b6afa1688.png" alt="Travis CI Build" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build-300x197.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/travis-ci-build.png"/></noscript>
<p>Travis CI还提供了一个托管工具，以及一个名为Travis CI Enterprise的自托管工具。这两个工具都允许您在Linux、Windows或macOS上使用各种语言和运行时进行构建。</p>
<p>您还可以在这两个工具中定义“构建矩阵”。构建矩阵本质上允许您针对不同版本的语言、运行时、环境和/或包版本并行运行多次构建。与本文中涉及的所有其他工具相比，这个功能是强大而独特的。</p>
<p>Travis CI托管工具专注于开源社区支持，甚至包括免费使用层和对所有开源项目的测试。另一方面，Travis CI Enterprise专注于添加大型企业通常需要的功能，如GitHub Enterprise integration(它与Active Directory集成一起提供)和具有高可用性和负载平衡的本地服务器设置。</p>
<h3>比较CircleCI和Travis CI</h3>
<p>正如您到目前为止所看到的，CircleCI和Travis CI的自托管版本有很大不同。另一个很大的区别是如何在每个工具的代码中定义CI/CD管道。</p>
<p>CircleCI <code>config.yml</code>文件可以包含多个作业，这些作业包含您想要在任何容器上运行的任何步骤(命令)。您还可以定义工作流，将作业串联到管道中。</p>
<p>另一方面，Travis CI <code>travis.yml</code>文件更加结构化。您可以在YAML文件的顶部指定一种构建语言。每种构建语言都有一个定义良好的作业生命周期，如果没有明确指定任何步骤，还会有指定的阶段和逻辑默认步骤(命令)。</p>
<h2>CSP工具:Azure Pipelines、Google Cloud Build和AWS CodePipeline</h2>
<p>现在我们来看看三大云服务提供商提供的工具。毫不奇怪，这些工具都紧密集成到各自的云平台中。</p>
<h3>天蓝色管道</h3>
<p><img data-attachment-id="10936" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/azure-pipelines/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png" data-orig-size="730,348" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure Pipelines" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png" decoding="async" class="aligncenter size-full wp-image-10936 jetpack-lazy-image" src="../Images/595286b42517e61c8a613e7fa6c7887e.png" alt="Azure Pipelines" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines-300x143.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10936" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/azure-pipelines/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png" data-orig-size="730,348" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure Pipelines" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines-300x143.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10936" src="../Images/595286b42517e61c8a613e7fa6c7887e.png" alt="Azure Pipelines" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines-300x143.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/azure-pipelines.png"/></noscript>
<p>Azure Pipelines被宣传为一个完整的CI/CD系统，可以构建任何东西并在任何地方部署。虽然它肯定能够支持部署到其他云提供商，但文档和示例都侧重于部署到Azure。它提供了与更大的Azure DevOps平台和一个相当大的市场的深度集成，该市场具有可以向您的管道添加新集成的扩展。</p>
<p>它还包含一个智能的基于web的管道创建向导，该向导可以检测您的应用程序使用的技术，然后生成一个详细的<code>azure-pipelines.yml</code>文件作为起点。与其他工具相比，该向导可能不是最快的设置体验，但它在生成定制管道以适应开箱即用的应用程序方面做得很好。</p>
<p>Azure管道在构建可以运行的地方非常灵活。一个管道可以有多个作业，这些作业在运行不同操作系统(Linux、Windows或macOS)的不同构建代理上运行，支持多种语言和运行时。</p>
<p>生成代理可以是Microsoft托管的，也可以是自托管的。构建可以直接在构建代理上运行，也可以在构建代理上的容器中运行，整个Azure Pipelines产品本身可以使用自托管选项在内部运行。</p>
<h3>谷歌云构建</h3>
<p><img data-attachment-id="10937" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/google-cloud-build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google Cloud Build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png" decoding="async" class="aligncenter size-full wp-image-10937 jetpack-lazy-image" src="../Images/8c991e2527fe8afdce1abbbb6ba5184c.png" alt="Google Cloud Build" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build-300x130.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10937" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/google-cloud-build/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png" data-orig-size="730,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google Cloud Build" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build-300x130.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10937" src="../Images/8c991e2527fe8afdce1abbbb6ba5184c.png" alt="Google Cloud Build" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build-300x130.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/google-cloud-build.png"/></noscript>
<p>与同类产品相比，Google Cloud Build是一款更新的工具。这个工具主要关注于构建容器化的应用程序。该工具有一些区别于其他工具的特征和限制。</p>
<p>构建在“云构建器”中运行，云构建器本质上是一个容器。有几个官方支持的云构建器运行Linux并支持各种通用语言和运行时。不幸的是，没有Windows或macOS云构建器。</p>
<p>Google Cloud Build主要关注持续集成。如果您想要持续地将应用程序部署到一个环境中，您将需要集成其他工具，如Spinnaker或Jenkins。也就是说，有相当多的文档介绍了如何将这些流行的工具集成到您的构建中。</p>
<p>Google Cloud SDK (CLI)可用于远程触发构建，甚至在本地运行构建，以进行测试和调试。</p>
<h3>AWS代码管道</h3>
<p><img data-attachment-id="10938" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/aws-codepipeline/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png" data-orig-size="730,499" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="AWS CodePipeline" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png" decoding="async" class="aligncenter size-full wp-image-10938 jetpack-lazy-image" src="../Images/aca21fe7591dab15684906976dafdc8d.png" alt="AWS CodePipeline" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline-300x205.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10938" data-permalink="https://blog.logrocket.com/ci-cd-tools-compared-circleci-travis-ci-vs-major-csps/attachment/aws-codepipeline/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png" data-orig-size="730,499" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="AWS CodePipeline" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-10938" src="../Images/aca21fe7591dab15684906976dafdc8d.png" alt="AWS CodePipeline" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline-300x205.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/aws-codepipeline.png"/></noscript>
<p>AWS CodePipeline是几个紧密集成在一起的Amazon工具之一，是构建CI/CD管道所必需的。CodeBuild和CodeDeploy是另外两个您最想安装的工具。事实上，亚马逊在确保其所有AWS工具和服务获得一流待遇方面做得很好。</p>
<p>还有大量第三方集成到其他CI/CD工具，包括CircleCI、Travis CI、GitHub Enterprise等等。可用的第三方集成的数量甚至可以与Azure Pipelines相媲美。</p>
<p>在AWS CodePipeline中，构建在容器中运行。有三个由Amazon管理的容器提供Linux或Windows版本，每个容器都预装了各种随时可用的运行时和语言。您还可以使用来自DockerHub等其他注册中心的其他容器，并且使用AWS提供的CodeBuild代理脚本可以实现内部构建代理。</p>
<p>鉴于AWS CodePipeline的组件化性质，您可以自由地使用其他CI或CD工具作为您的管道的一部分，而不是CodeBuild或CodeDeploy。例如，如果您更喜欢Travis CI体验，有现成的说明可以在AWS中设置一个Travis CI实例，并将其与您的管道集成。</p>
<h2>比较目的驱动工具和CSP工具</h2>
<h3>工具之间的管道设置体验如何？</h3>
<p>本文中的每个工具都提供了不同的方法来设置新的CI/CD管道，包括手工编写YAML文件或运行基于web的可视化向导。如果您不熟悉每个工具的YAML语法，可视化向导会很有帮助。</p>
<p>目的驱动的工具为建立新管道提供了快速、简单、基于网络的界面。CircleCI和Travis CI的托管版本通过用户现有的GitHub帐户对用户进行身份验证，并提取GitHub存储库列表来激活管道。</p>
<p>CircleCI收集了一些额外的信息，并根据您的回答提供了一个样本YAML文件。另一方面，Travis CI要求您按照文档预先手工编写YAML文件。</p>
<p>根据您的构建过程的标准程度，如果您能够使用Travis CI YAML文件提供的逻辑默认值，它可能会非常简单。例如，如果您正在构建一个典型的Node.js应用程序，您可以指定<code>language</code>和<code>node_js</code>属性，Travis CI将假设您使用<code>npm install</code>和<code>npm test</code>来安装、构建和测试您的应用程序。当您的管道成功或失败时，这两个工具还提供现成的电子邮件通知。</p>
<p>云服务提供商工具包括基于web的界面，这些界面更加详细，允许您在一开始就对管道进行更多的设计。Azure Pipelines接口特别强大，因为它试图根据你的源代码来检测你的应用程序使用了什么工具和配置。</p>
<p>AWS CodePipeline接口非常详细，让用户有机会彻底定制管道，并同时可选地设置其他AWS工具，如CodeBuild和CodeDeploy。</p>
<p>谷歌云构建提供了三个云服务提供商中最不完美的体验。开发人员最终按照Google的文档手动编写YAML配置文件。</p>
<p>不幸的是，当您的管道成功或失败时，只有Azure Pipelines提供现成的电子邮件通知。AWS CodePipeline和Google Cloud Build需要额外的配置来设置任何类型的自动通知。</p>
<p>对于快速简单的管道设置过程，CircleCI凭借其漂亮的YAML配置生成器胜出，该生成器减少了生成管道YAML文件所需的前期研究。对于一个彻底的、开发者友好的管道设置过程，让你有机会预先设计你的管道，Azure Pipelines胜出<strong>。</strong></p>
<h3>随着组织的发展，该工具的可伸缩性如何？</h3>
<p>CI/CD工具环境中的可伸缩性不仅仅由基础设施可伸缩性来衡量。让我们来看看成长型组织的一些可伸缩性因素。</p>
<h4>用户管理</h4>
<p>随着您的组织接纳更多用户，您需要能够快速配置这些用户，将他们组织成团队，并在必要时限制访问。</p>
<p>CircleCI(云和服务器)和Travis CI(仅限企业)都与GitHub Enterprise集成，GitHub Enterprise提供了到内部用户目录的LDAP连接，这意味着在使用这些工具时，您不需要为现有用户创建新帐户。</p>
<p>同样，CircleCI和Travis CI Enterprise都与GitHub组织集成，用于对用户进行分组。CircleCI提供了一些有限的权限设置来控制谁可以更改CircleCI项目的设置。Travis CI Enterprise可以从GitHub Enterprise同步其权限设置。</p>
<p>每种CSP工具都利用了它们自己的完善且强大的身份管理和组织服务。Azure Pipelines与Azure DevOps集成，后者支持用户级权限、组织，并与Azure AD集成，将用户映射到其他用户目录中的帐户。</p>
<p>Google Cloud Build有一组有限的用户角色，用于控制对单个云版本的访问，并与Google Cloud IAM集成，以将用户映射到其他用户目录中的帐户。</p>
<p>AWS CodePipeline具有细粒度的用户级访问控制，与AWS IAM集成以将用户映射到其他用户目录中的帐户，以及用于分析单个用户对您组织的管道的访问级别的工具。</p>
<p>AWS CodePipeline凭借其强大的访问控制和访问分析工具在竞争中胜出。Azure Pipelines(和Azure DevOps)紧随其后。</p>
<h4>基础设施</h4>
<p>随着您的组织在越来越多的平台上开发更多的应用程序，您需要可伸缩的后台基础设施来运行您的构建并同时运行更多的管道。</p>
<p>CircleCI Cloud和Travis CI都有有限的基础架构供所有用户(不仅仅是您组织中的用户)共享。虽然这两种工具都努力确保它们有足够的容量，但当使用量达到峰值时，管道可能会被延迟。</p>
<p>事实上，CircleCI文档指出，当所有客户的服务器达到最大容量时，就会触发一个“运行队列”。CircleCI Server和Travis CI Enterprise允许组织拥有自托管的专用基础架构，可根据需要进行扩展。Travis CI Enterprise对高可用性和负载平衡的支持略胜CircleCI一筹。</p>
<p>鉴于通信服务提供商的工具运行在他们自己庞大的云平台上，他们在这一领域最具优势。Azure Pipelines可以根据您的需要扩展到几乎任意多的托管构建代理，并且可以运行的并发管道的数量实际上只受您付费的限制。</p>
<p>AWS CodePipeline与Azure Pipelines非常相似，只是每个用户帐户每个区域有300个管道的人为上限。Google Cloud Build允许你在构建中使用尽可能多的云构建器。但是，每个帐户有10个并行构建的严格限制。</p>
<p>Azure DevOps赢得了基础设施可扩展性之战，因为它拥有几乎无限的容量、管道并发性以及直接在Azure或内部托管构建代理的能力。</p>
<h4>费用</h4>
<p>当开发团队的规模和管道的数量不可预测地增长时，成本是一个非常重要的考虑因素。</p>
<p>CircleCI Cloud和Travis CI都有按用户定价的模式。假设这些提供商中的每一个都控制可用托管基础设施容量的数量，并限制并发管道的数量，则他们不需要在基础设施级别收费。CircleCI Server和Travis CI Enterprise也有按用户定价的模式，基础设施成本由您的组织单独处理。</p>
<p>Azure Pipelines有一个按用户定价的模型，以及支持额外并行管道的额外成本。构建代理是有成本的，Microsoft托管的构建代理比自托管的构建代理成本更高。如果您使用其他管道特性，比如工件存储或测试功能，可能会有额外的成本。</p>
<p>谷歌云构建对使用云构建器的时间按分钟收费。并行构建没有额外的成本，但是如果您使用其他特性，比如工件存储，可能会有额外的成本。</p>
<p>AWS代码管道成本有点复杂。在AWS CodePipeline中创建的每个管道都有每月费用。在AWS CodeBuild中，运行构建的基础设施的成本取决于规模和地区。使用AWS CodeDeploy将您的代码部署到本地服务器是有成本的(部署到AWS服务器是免费的)，如果您使用存储等其他管道功能，可能会有额外的成本。</p>
<p>AWS CodePipeline和Google Cloud Build提供的基于使用的定价模式对您的组织来说可能更便宜。然而，鉴于开发团队规模和管道数量的不可预测性，Azure Pipelines、CircleCI和Travis CI使用的按用户定价模型允许更可预测的支出。</p>
<p>Azure Pipelines有一点优势，因为它可以灵活地上下扩展管道并发性，从而控制成本。您可以减少并发管道的数量来节省一些资金，代价是在使用高峰期可能会降低团队的速度。</p>
<h4>内部或区域要求</h4>
<p>您的组织可能对国际或本地CI/CD服务器有法规要求或其他需求。除了Google Cloud Build，几乎所有的工具都提供了内部解决方案。</p>
<p>CircleCI Cloud和Travis CI不允许您控制您的构建在哪个区域运行，但是CircleCI Server和Travis CI Enterprise自托管选项可以在您选择的任何地方运行。</p>
<p>Azure Pipelines和AWS CodePipeline允许您选择构建服务器在世界各地的位置，本地构建服务器可以位于您选择的任何位置。Google Cloud Build不允许您选择您的云构建器在哪个区域运行。</p>
<p>除了Google Cloud Build之外，我们审查的所有工具都应该能够满足您组织的内部和/或区域要求。</p>
<h3>该工具的灵活性和可扩展性如何？</h3>
<p>随着时间的推移，您的应用程序及其CI/CD管道将会发展并变得更加复杂——例如，您可能需要在管道中引入新的定制步骤。无论如何，您都希望您的CI/CD工具允许您以适合您的操作的方式设置管道。让我们仔细看看这些工具有多灵活和可扩展。</p>
<p>这五个工具都包含某种形式的REST API，您可以用它来以编程方式访问您的管道。CircleCI API仅允许您读取项目信息，而其他四个工具具有允许您以编程方式读取、交互以及在某些情况下修改管道部分的API。</p>
<p>所有五个工具都包括一个命令行界面(CLI ),用于与工具进行远程交互。CircleCI、Google Cloud Build和AWS的CLIs允许您在本地测试您的构建，而不是在云中，在云中您可能会使用付费资源。您将不得不在本地安装Travis CI或Azure构建代理来为这些工具做同样的事情。</p>
<p>根据管道的复杂程度，管道YAML文件可能会增长得非常快。能够将您的YAML文件分解成多个文件，或者甚至跨管道重用公共步骤，可能有助于您设计更易于维护的管道。</p>
<p>Travis CI允许您将复杂的脚本移动到存储在同一个代码存储库中的独立脚本中。CircleCI允许您创建自己的自定义orb，它可以包含一组步骤，甚至是一个可重用格式的整个作业。Azure Pipelines允许你将你的YAML文件分解成单独的文件，甚至跨多个管道共享公共部分。Google Cloud Build和AWS CodePipeline不允许你拆分你的YAML文件。</p>
<p>每天都有新的云托管服务出现，这五种工具都提供了一些可扩展的部署到远程主机的方法。CircleCI有一个托管和开源orb集合，可以部署到各种目标。Travis-CI有一个超过40个内置部署目标的列表，涵盖了一些主要的可用服务，如果您的服务不在该列表中，您仍然可以为您的部署编写一个定制脚本。</p>
<p>Google Cloud Build完全依赖于与各种第三方工具的集成来实现持续部署。AWS CodePipeline集成了大量CD工具。Azure Pipelines允许从市场安装扩展，您可以使用它直接从您的管道部署到许多不同的目标。</p>
<p>Azure Pipelines因其扩展市场、跨管道的配置拆分和共享以及健壮的REST API赢得了灵活性和可扩展性奖。</p>
<h3>您应该担心供应商锁定吗？</h3>
<p>考虑到专有的YAML语法和并非所有工具都具备的独特功能，使用任何CI/CD工具时，您总会感到有点受束缚。也就是说，这些工具中的一些肯定会让你感觉不那么受束缚。</p>
<p>如果您正在使用CircleCI或Travis CI，但还希望利用其中一个CSP平台的功能，您可以随时迁移到其中一个自托管版本，直接在您的CSP基础架构上托管它，并完全控制您的管道。Azure和AWS使得托管CircleCI Server或Travis CI Enterprise的实例变得特别容易。</p>
<p>鉴于CSP的CI/CD工具与他们的其他云工具和服务的集成程度，CSP工具肯定会让你觉得更局限于他们的云平台。在这三个人中，Azure感觉你是最不受束缚的。Azure Pipelines产品是一个相当独立的工具，有大量关于如何与其他Azure服务一起使用的文档，还有一个市场，可以让你找到与许多第三方工具集成的扩展。</p>
<p>Google Cloud Build的CI部分感觉受到了限制，尽管有一个开源社区创建了cloud builders来与其他第三方工具集成。另一方面，Google Cloud Build的CD部分对第三方工具完全开放。</p>
<p>AWS CodePipeline给人最大的感觉就是厂商锁定。在设置管道时，您将需要集成其他几个单独管理的AWS服务。假设您以前没有使用过AWS，您甚至可能会学到比您想知道的更多的关于AWS计算基础设施和定价模型的知识。</p>
<p>如果CircleCI或Travis CI能够提供您的组织所需的功能和规模，那么从他们开始可能会更安全。如果您的组织已经在使用Azure、AWS或Google Cloud，那么利用它们各自的CI/CD工具可能更有意义，因为它们紧密集成，并且提供了大量的文档和支持——当然，这样做有进一步被锁定的风险。</p>
<h3>为什么您可能想要使用CSP工具而不是目的驱动的工具？</h3>
<p>我已经探讨了您可能希望使用云服务提供商工具而不是目的驱动工具的一些原因，但是让我们总结其中的一些原因:</p>
<ul>
<li>如果您已经将您的应用程序部署到同一个提供商的云上，那么您将很难获得与CSP一起建立CI/CD管道所带来的文档和支持水平相匹敌的水平</li>
<li>如果您的组织不想管理自己的CI/CD基础设施，但您也需要运行您的构建并在特定区域存储您的代码，那么Azure Pipelines和AWS CodePipeline是最佳选择</li>
<li>如果您需要细粒度的访问控制、高级用户和组管理功能，以及与内部用户目录的集成，那么Azure管道和AWS代码管道是最佳选择</li>
</ul>
<h2>最后的想法</h2>
<p>CircleCI和Travis CI拥有功能强大、易于使用的托管和自托管工具，非常适合个人用户、小型到大型组织以及开源社区。很明显，大型云服务提供商凭借其雄厚的资金、庞大的基础设施和庞大的客户群，开始生产有吸引力的CI/CD工具，这些工具肯定能够窃取一部分市场份额。</p>
<p>在所有这些工具中，我将最密切地关注Azure Pipelines(和Azure DevOps)。Azure Pipelines已经拥有了一套良好的基础能力，并准备快速增长，扩展其与第三方工具的集成。持续集成和持续部署的未来令人激动！</p>
<div class="inline-plug cro20">
<h2>在网络应用中发布新功能？确保新功能能够实际工作。</h2>
<p>使用CI工具发布新代码让生活变得更加轻松。让生活变得更艰难的是，当你将某样东西投入生产，却在几小时或几天后发现它已经坏了。为了抢先监控生产web应用中的新特性，<a href="https://logrocket.com/signup/">试试LogRocket </a>。<a class="signup" href="https://logrocket.com/signup/" target="_blank" rel="noopener noreferrer"><img data-attachment-id="46" data-permalink="https://blog.logrocket.com/vuex-showdown-mutations-vs-actions/1d0cd-1s_rmyo6nbrasp-xtvbaxfg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" data-orig-size="730,412" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="LogRocket dashboard free trial banner" data-image-description="&lt;p&gt;LogRocket is working on the perfect frontend bug report. Try it free today.&lt;/p&gt;&#10;" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" decoding="async" class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="46" data-permalink="https://blog.logrocket.com/vuex-showdown-mutations-vs-actions/1d0cd-1s_rmyo6nbrasp-xtvbaxfg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" data-orig-size="730,412" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="LogRocket dashboard free trial banner" data-image-description="&lt;p&gt;LogRocket is working on the perfect frontend bug report. Try it free today.&lt;/p&gt;&#10;" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg-e1565635879164.png" decoding="async" loading="lazy" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><a href="https://logrocket.com/signup/" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a></p>
<p>LogRocket 就像是网络应用的DVR，记录下你网站上发生的每一件事。您可以汇总并报告性能问题以快速了解根本原因，而不是猜测问题发生的原因。</p>
<p>LogRocket让你的应用程序记录带有标题+正文的请求/响应，以及关于用户的上下文信息，以全面了解问题。它还记录页面上的HTML和CSS，甚至可以重建最复杂的单页面应用程序的像素级完美视频。</p>
<p>优先考虑性能–<a class="signup" href="https://logrocket.com/signup/" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>