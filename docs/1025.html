<html>
<head>
<title>Using NativeBase with React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用NativeBase和React Native - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/using-nativebase-with-react-native/#0001-01-01">https://blog.logrocket.com/using-nativebase-with-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>React Native是一个使用JavaScript和React构建跨平台原生应用的框架。React Native使用JSX和基于组件的UI系统，就像React一样，但是React Native使用本地组件来创建本地UI元素，而不是DOM组件。React Native有一个非常低级的API和原子组件，迫使你为每个新项目重复重写许多基本组件。</p>
<p>在开发用户界面时，每个组件都需要大量的基本样式。造型可能很乏味，你可能不想为你开发的每个应用程序创建一个新的设计系统。理想情况下，您应该有一个包含组件基本样式的样式库。</p>
<p>这就是NativeBase的用武之地。在本指南中，我们将向您展示如何在React本机应用程序中使用和定制NativeBase组件。</p>
<h2 id="nativebase">什么是NativeBase？</h2>
<p>NativeBase是一个开源的UI库，它可以帮助您使用按钮、卡片、输入字段等用户界面组件。</p>
<p>可以把它想象成一个用React Native构建移动应用的CSS框架。你可以立即找到合适的款式。您所要做的就是从NativeBase库中获取并调用该组件。</p>
<h2 id="nativebaseinstallation">安装NativeBase</h2>
<p>使用<code>react-native init</code>命令创建一个新的React本地项目，然后将<code>cd</code>放入项目目录。</p>
<pre>react-native init NativeBaseIntroApp
cd NativeBaseIntroApp
</pre>
<p>通过运行以下命令安装NativeBase。</p>
<pre>npm i native-base
react-native link
</pre>
<h2 id="basicnativebasecomponents">基本NativeBase组件</h2>

<p><code>Header</code>组件为应用程序呈现标题。它期望它的子组件是<code>Left</code>、<code>Body</code>和<code>Right</code>组件。</p>
<p><code>Left</code>组件将需要呈现的组件包装在头部的左侧。例如，它可能是一个抽屉导航图标。类似地，<code>Right</code>组件是需要显示在标题右侧的组件的包装器。</p>
<p><code>Body</code>组件充当在<code>Header</code>中心呈现的组件的包装器。<code>Title</code>和<code>Subtitle</code>组件通常由<code>Body</code>组件包装，分别用于显示标题和副标题。</p>
<pre>import React, { Component } from "react";
import {
  Container,
  Header,
  Left,
  Body,
  Right,
  Title,
  Subtitle,
} from "native-base";
export default class App extends Component {
  render() {
    return (
      &lt;Container&gt;
        &lt;Header&gt;
          &lt;Left /&gt;
          &lt;Body&gt;
            &lt;Title&gt;Header&lt;/Title&gt;
            &lt;Subtitle&gt;Example subtitle&lt;/Subtitle&gt;
          &lt;/Body&gt;
          &lt;Right /&gt;
        &lt;/Header&gt;
      &lt;/Container&gt;
    );
  }
}
</pre>
<h3 id="button"><code>Button</code></h3>
<p>组件是任何应用程序的基本UI元素。按钮用于指示屏幕上的交互操作，如提交表单。</p>
<p>要在屏幕上呈现一个按钮，使用<code>Button</code>组件。为了呈现按钮内部的文本，添加来自<code>native-base</code>的<code>Text</code>组件作为子组件。</p>
<pre>import React, { Component } from "react";
import { Container, Header, Content, Button, Text } from "native-base";
class App extends Component {
  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;Button&gt;
            &lt;Text&gt;Example Button&lt;/Text&gt;
          &lt;/Button&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}

export default App;
</pre>
<p>您可以向<code>onPress</code>道具添加一个功能来触发所需的功能。还有各种按钮主题道具，包括<code>primary</code>、<code>success</code>、<code>info</code>、<code>warning</code>、<code>danger</code>、<code>light</code>、<code>dark</code>。</p>
<pre>import React, { Component } from "react";
import { Alert } from "react-native";
import { Container, Header, Content, Button, Text } from "native-base";
class App extends Component {
  showAlert = () =&gt; Alert.alert("Message", "Button Clicked!!");

  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;Button onPress={this.showAlert} primary&gt;
            &lt;Text&gt;Interactive Button&lt;/Text&gt;
          &lt;/Button&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}

export default App;
</pre>
<p>您可以使用<code>transparent</code>属性使按钮透明，并使用<code>disabled</code>属性确定按钮是否被禁用。同样，要创建一个全宽按钮，你可以使用<code>fullwidth</code>道具。</p>
<p>NativeBase的<code>Button</code>组件的子组件中也可以有一个<code>Icon</code>，以及<code>Text</code>组件。</p>
<pre>import React, { Component } from "react";
import { Alert } from "react-native";
import { Container, Header, Content, Button, Text, Icon } from "native-base";
class App extends Component {
  showAlert = () =&gt; Alert.alert("Message", "Button Clicked!!");

  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;Button onPress={this.showAlert} primary fullwidth iconLeft&gt;
            &lt;Icon name="cog"&gt;
            &lt;Text&gt;Settings&lt;/Text&gt;
          &lt;/Button&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}

export default App;
</pre>
<h3 id="card"><code>Card</code></h3>
<p>卡片是一个容器组件，用于在屏幕上向用户显示信息。它可以包含页眉、页脚、上下文背景颜色、不同类型的内容等等。</p>
<p>默认情况下,<code>Card</code>组件添加一个方框阴影，并提供卡片之间的间距和对齐。<code>CardItem</code>组件是<code>Card</code>的子组件，可以接受<code>Text</code>、<code>Button</code>、<code>Image</code>等输入。一个<code>Card</code>组件可以有任意数量的<code>CardItem</code>组件作为其子组件。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<pre>import React, { Component } from "react";
import {
  Container,
  Header,
  Content,
  Card,
  CardItem,
  Body,
  Text,
} from "native-base";
class App extends Component {
  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;Card&gt;
            &lt;CardItem&gt;
              &lt;Body&gt;
                &lt;Text&gt;
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin
                  nulla velit, imperdiet sit amet posuere ut, luctus et quam.
                  Nam molestie pretium mauris, vitae rutrum ipsum vulputate ac.
                &lt;/Text&gt;
              &lt;/Body&gt;
            &lt;/CardItem&gt;
          &lt;/Card&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}

export default App;
</pre>
<p>要在卡片中添加页眉和页脚，请对第一个<code>CardItem</code>组件实例使用<code>header</code>属性，对最后一个<code>CardItem</code>组件实例使用<code>footer</code>。</p>
<pre>// ...
&lt;Card&gt;
  &lt;CardItem header&gt;
    &lt;Text&gt;Example Card Header&lt;/Text&gt;
  &lt;/CardItem&gt;
  &lt;CardItem&gt;
    &lt;Body&gt;
      &lt;Text&gt;
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nulla
        velit, imperdiet sit amet posuere ut, luctus et quam. Nam molestie
        pretium mauris, vitae rutrum ipsum vulputate ac.
      &lt;/Text&gt;
    &lt;/Body&gt;
  &lt;/CardItem&gt;
  &lt;CardItem footer&gt;
    &lt;Text&gt;Example Card Footer&lt;/Text&gt;
  &lt;/CardItem&gt;
&lt;/Card&gt;
// ...
</pre>
<p>您还可以通过使用<code>CardItem</code>组件上的<code>button</code>属性来创建一个可触摸的购物车条目。当你想向用户显示更多内容时，最好是在新的屏幕上，这个<code>button</code>道具很有用。</p>
<pre>// ...
&lt;Card&gt;
  &lt;CardItem
    header
    button
    onPress={() =&gt; Alert.alert("Message", "Card Header Pressed")}
  &gt;
    &lt;Text&gt;Example Card Header&lt;/Text&gt;
  &lt;/CardItem&gt;
  &lt;CardItem&gt;
    &lt;Body&gt;
      &lt;Text&gt;The is dummy card text.&lt;/Text&gt;
    &lt;/Body&gt;
  &lt;/CardItem&gt;
  &lt;CardItem
    footer
    button
    onPress={() =&gt; Alert.alert("Message", "Card Footer Pressed")}
  &gt;
    &lt;Text&gt;Example Card Footer&lt;/Text&gt;
  &lt;/CardItem&gt;
&lt;/Card&gt;
// ...
</pre>
<h3 id="list"><code>List</code></h3>
<p><code>List</code>组件用于在屏幕上显示信息列表。<code>List</code>组件必须包含一个或多个<code>ListItem</code>组件。</p>
<p><code>ListItem</code>组件提供了造型道具，如<code>selected</code>、<code>icon</code>、<code>header</code>等。，使项目看起来更具交互性和动态性。你也可以使用<code>itemDivider</code>道具来分割列表项。</p>
<p>在引擎盖下，<code>List</code>组件建立在React Native的<code>FlatList</code>组件之上，所以任何<code>FlatList</code>道具都是有效的<code>List</code>组件道具。</p>
<pre>import React, { Component } from "react";
import { Container, Header, Content, List, ListItem, Text } from "native-base";
class App extends Component {
  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;List&gt;
            &lt;ListItem&gt;
              &lt;Text&gt;Victor Wayne&lt;/Text&gt;
            &lt;/ListItem&gt;
            &lt;ListItem&gt;
              &lt;Text&gt;John Doe&lt;/Text&gt;
            &lt;/ListItem&gt;
            &lt;ListItem&gt;
              &lt;Text&gt;Jane Doe&lt;/Text&gt;
            &lt;/ListItem&gt;
          &lt;/List&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}

export default App;
</pre>
<p>该列表也可以使用网络调用从外部API动态生成。在下面的例子中，用户列表是由组件状态组成的，组件状态是从外部JSON API获取的。</p>
<p>下面你可以看到<code>Thumbnail</code>组件是用来显示用户头像的。<code>Thumbnail</code>组件的工作方式与React Native的<code>Image</code>组件类似，只是它是圆形的，通常用于显示小图像，如头像。</p>
<pre>import React, { Component } from "react";
import {
  Container,
  Header,
  Content,
  List,
  ListItem,
  Text,
  Left,
  Body,
  Right,
  Thumbnail,
} from "native-base";

class App extends Component {
  constructor(props) {
    super(props);

    this.state = {
      users: [],
      page: 1,
    };
  }

  fetchUsers = async () =&gt; {
    try {
      const res = await fetch(`${JSON_API_URL}&amp;page=${this.state.page}`);
      const { results: users } = await res.json();
      if (this.state.page === 1) this.setState({ users });
      else this.setState({ users: [...this.state.users, ...users] });
    } catch (err) {
      console.log(err);
    }
  };

  componentDidMount() {
    this.fetchUsers();
  }

  render() {
    return (
      &lt;Container&gt;
        &lt;Header /&gt;
        &lt;Content&gt;
          &lt;List&gt;
            {this.state.users.map((user) =&gt; (
              &lt;ListItem avatar key={user.id}&gt;
                &lt;Left&gt;
                  &lt;Thumbnail source={{ uri: user.image_url }} /&gt;
                &lt;/Left&gt;
                &lt;Body&gt;
                  &lt;Text&gt;{user.name}&lt;/Text&gt;
                &lt;/Body&gt;
              &lt;/ListItem&gt;
            ))}
          &lt;/List&gt;
        &lt;/Content&gt;
      &lt;/Container&gt;
    );
  }
}
</pre>
<h2 id="conclusion">结论</h2>
<p>NativeBase是一个优秀的库，可以帮助您快速启动开发过程。使用NativeBase组件，您不必从头开始创建按钮、容器和列表等基本组件。</p>
<p>最终，NativeBase可以节省您大量的时间和精力，尤其是在处理更广泛的应用程序时，使您能够更有效地处理业务逻辑，而不必太担心UI设计。</p>
<p>要了解更多信息，请参见<a href="https://docs.nativebase.io/Components.html" target="_blank" rel="noopener noreferrer"> NativeBase文档</a>。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>