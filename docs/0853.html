<html>
<head>
<title>React Native Debugger: Tips for fast debugging - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React本机调试器:快速调试技巧</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/react-native-debugger-fast-debugging/#0001-01-01">https://blog.logrocket.com/react-native-debugger-fast-debugging/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>本帖于2021年10月更新，加入了Apollo客户端DevTools，并反映了React Native和React Native调试器的当前版本。</em></p>
<p>React的一个主要好处是可用于这个UI库的渲染器的数量。React Native、React Unity和React VR就是其中的几个渲染器。当你在不同的平台上开发时，分享相同的设计模式和相似的架构是很棒的。</p>
<p>在另一篇<a href="https://blog.logrocket.com/redux-devtools-tips-tricks-for-faster-debugging/" target="_blank" rel="noopener noreferrer">帖子</a>中，我们讨论了一些关于<a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" target="_blank" rel="noopener noreferrer"> Redux DevTool </a>的很酷的技巧，可以帮助你更快地调试你的React应用。React Native的调试体验不止于此。</p>
<p>在Redux DevTools之上，React Native Debugger附带了一组可以提高开发和调试速度的特性。下面是React本机调试的一些技巧。</p>
<h2>React本机调试器中的键盘和触摸条快捷键</h2>
<p>我们中的许多人都会同意，在专注于开发或调试时，我们喜欢避开鼠标/触控板。使用键盘快捷键是快速访问功能的一种方式。React本机调试器附带了许多快捷方式来提高我们的工作效率。Chrome DevTools中可用的大多数键盘快捷键在这里与<a href="https://github.com/jhen0409/react-native-debugger" target="_blank" rel="noopener noreferrer"> React原生调试器</a>一起工作。对于我们将在本帖中讨论的所有功能，为了方便起见，我们添加了相关的键盘快捷键。</p>
<p>除了键盘快捷键，它还有超级有用的功能，可以从Macbook的touch bar访问。我们可以从touch bar重新加载JavaScript、切换元素和网络检查器。此外，对于使用Redux的应用程序，<a href="https://github.com/reduxjs/redux-devtools" target="_blank" rel="noopener noreferrer"> Redux滑块</a>可用于在动作之间移动，也可从touch bar获得。</p>
<h2>并行开发工具</h2>
<p>RN Debugger是一款基于电子的app，将<a href="https://developers.google.com/web/tools/chrome-devtools" target="_blank" rel="noopener noreferrer"> Chrome DevTools </a>、<a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en" target="_blank" rel="noopener noreferrer"> Redux DevTool </a>、<a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en" target="_blank" rel="noopener noreferrer">React dev Tools</a>和<a href="https://chrome.google.com/webstore/detail/apollo-client-devtools/jdkknkkbebbapilgoeccciglkfbmbnfm?hl=en-US" target="_blank" rel="noopener"> Apollo Client DevTools </a>一起嵌入在一个地方。这是天作之合！在这里，您可以查看应用程序的各个方面。</p>
<p>这四个工具都提供了有用的特性，将它们结合在一起会使开发过程更加顺畅。老实说，在使用React web应用程序时，我非常想念这个功能。这在一个窗口中提供了应用程序状态、组件树、GraphQL查询检查和UI元素的深入视图。</p>
<p>它还允许开发者精确地分析应用的行为。React Developer Tools允许您检查特定组件的属性和状态，而Redux DevTool提供了我们商店的完整图片，最重要的是，我们的控制台日志可通过Chrome DevTools获得。Apollo Client DevTools帮助我们检查GraphQL查询、变异和缓存。</p>
<p>这里简要总结了我们可以利用这些工具的优势。</p>
<h2>使用Chrome DevTools和React Native</h2>
<p>默认情况下，React Native通过其远程调试能力支持<a href="https://reactnative.dev/docs/debugging#chrome-developer-tools" target="_blank" rel="noopener noreferrer"> Chrome DevTools </a>，这使得拥有我们最喜欢的调试技术<code>console.log</code>成为可能。Chrome DevTools允许我们用堆栈跟踪来查看JS警告和错误。RN调试器在默认支持的基础上增加了一些特性。我们将在后面的文章中详细讨论这些。</p>
<h3>切换Chrome开发工具的快捷键:</h3>
<ul>
<li>macOS: Command+Option+I</li>
<li>Windows/Linux: Ctrl+Alt+I</li>
</ul>
<h2>Redux开发工具</h2>
<p>今天，包括Twitter在内的大多数大型应用程序都在使用Redux来管理React应用程序中的全局状态。Redux的一个很大的优势是它是一个开发工具，可以很容易地跟踪应用程序的状态何时、何地、为何以及如何改变。我们已经介绍了使用DevTools 更快调试Redux应用程序的<a href="https://blog.logrocket.com/redux-devtools-tips-tricks-for-faster-debugging/" target="_blank" rel="noopener noreferrer">惊人技巧，使用RN调试器，您也可以在React原生应用程序中享受它。</a></p>
<p>将Redux DevTools与Chrome DevTools和React DevTool并列，可以更容易地看到商店对组件树的影响。</p>
<h3>切换Redux开发工具的快捷键:</h3>
<ul>
<li>macOS: Command+Option+j</li>
<li>Windows/Linux: Ctrl+Alt+J</li>
</ul>
<h2>React开发工具</h2>
<p>React核心团队在<a href="https://blog.logrocket.com/5-things-you-didnt-know-about-react-devtools-2c6e0ef22529/" target="_blank" rel="noopener noreferrer"> React DevTools </a>上投入了很多，并开发出了前端领域最好的工具之一。React DevTools允许您深入查看组件树。您可以选择和编辑组件的当前属性和状态。这与Redux DevTools一起，为您提供了组件状态的完整画面，无论它是来自Redux store还是作为本地状态处理。</p>
<h3>切换React DevTools的快捷键:</h3>
<ul>
<li>macOS: Command+Option+K</li>
<li>Windows/Linux: Ctrl+Alt+K</li>
</ul>
<h2>带有React Native的Apollo客户端开发工具</h2>
<p>Apollo是使用GraphQL的开发人员最喜欢的工具之一，它还构建了一个强大的生态系统来增强开发人员的能力。Apollo Client DevTool允许您通过Apollo客户端实例向服务器发送查询，或者可视化Apollo客户端缓存并通过字段名称和/或值进行搜索。它还有助于检查和重新运行突变，以调试应用程序中的更改。</p>
<p>大多数网络开发人员通过Firefox浏览器插件或Chrome网络商店的扩展来使用Apollo客户端开发工具。对于React本机调试器，可以通过开发人员工具中的<strong> Apollo </strong>选项卡获得。键盘快捷键和Chrome DevTools一样，可以导航到Apollo标签页。</p>
<h3>切换Apollo客户端开发工具的快捷键:</h3>
<ul>
<li>macOS: Command+Option+I</li>
<li>Windows/Linux: Ctrl+Alt+I</li>
</ul>
<h2>代码编辑器中的链接控制台日志</h2>
<p>如上所述，React原生调试器附带了嵌入式Chrome DevTools。由于Chrome DevTools提到了代码中任何日志记录的来源，RN Debugger允许我们在您的编辑器中导航到特定的日志记录代码。</p>
<p>此功能可从应用程序菜单中启用。为了让它工作，我们必须在RN调试器配置文件中定义编辑器。比如说。设置VS代码，我们必须在配置文件中定义<code>editor: code</code>。在这篇文章的后面，我们将研究配置文件的细节。</p>
<p>此功能需要从应用程序的菜单中启用。它的标题为“在控制台日志编辑器中启用打开”。</p>
<h2><img data-attachment-id="72667" data-permalink="https://blog.logrocket.com/react-native-debugger-fast-debugging/react-native-debugger-enable-open-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg" data-orig-size="512,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-debugger-enable-open-editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor-300x178.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg" decoding="async" class="aligncenter wp-image-72667 size-full jetpack-lazy-image" src="../Images/6c1bbb1207a900c0aad51050aa5b7550.png" alt="react native debugger enable open in editor" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg 512w, https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor-300x178.jpeg 300w" data-lazy-sizes="(max-width: 512px) 100vw, 512px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="72667" data-permalink="https://blog.logrocket.com/react-native-debugger-fast-debugging/react-native-debugger-enable-open-editor/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg" data-orig-size="512,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-debugger-enable-open-editor" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor-300x178.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-72667 size-full" src="../Images/6c1bbb1207a900c0aad51050aa5b7550.png" alt="react native debugger enable open in editor" srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg 512w, https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor-300x178.jpeg 300w" sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-enable-open-editor.jpeg"/> </noscript> <br/>网络巡查</h2>
<p>我们的应用程序严重依赖来自服务器的数据。在开发和调试期间，我们希望监控应用程序的所有或特定网络活动。利用Chrome DevTools的强大功能，RN Debugger将大部分fetch和XMLHTTPRequest记录在开发工具的network选项卡中。</p>
<p>虽然这有时可以通过使用直接与Chrome连接的官方远程调试器来实现，但RN Debugger没有多少优势使其网络检查更有价值:</p>
<ul>
<li>同时监控应用程序的不同方面——我们可以在单个窗口中监控Redux存储、React组件和网络活动</li>
<li>CORS！是的，RN调试器允许您放弃可能发生的CORS问题</li>
<li>它支持禁止的标题名，如origin和user-agent。这让我们对网络请求有了更多的控制</li>
</ul>
<h3>从配置启用:</h3>
<p>默认情况下，网络检查设置为<code>false</code>，但这种行为可以通过配置文件进行更改。我们可以将<code>defaultNetworkInspect</code>设置为<code>true</code>，默认启用。</p>
<h2>React Native中的异步存储管理</h2>
<p>AsyncStorage是React Native的异步、未加密、持久、键值存储系统。我们可以利用它在用户设备上永久存储应用程序的不敏感数据。它可以成为开发离线使用功能的有用工具。</p>
<p>为了监控和调试AsyncStorage，RN调试器允许您随时记录所有存储的内容。这可以从上下文菜单中完成，不幸的是，目前还没有任何快捷键。</p>
<p>除了记录异步存储，我们还可以使用上下文菜单中的其他选项清除它。这可以为开发人员节省大量宝贵的时间，因为从操作系统选项中清除应用程序的数据需要一些繁琐的工作。在使用诸如向新安装的用户显示onboarding滑块等功能时，这可能是一个非常有用的功能。</p>
<h2>重新加载JS</h2>
<p>React原生开发的主要优势之一是它能够加载更新的代码，而无需重新构建应用程序。在通常的RN应用中，我们可以从一个摇动手势后打开的开发者菜单中重新加载JS，或者我们使用iOS的Cmd+R或Android的Double R。使用RN Debugger，这对于两个平台以及模拟器和设备都是可行的。</p>
<h3>重新加载JS的快捷键:</h3>
<ul>
<li>macOS: Command+R</li>
<li>Windows/Linux: Ctrl+R</li>
</ul>
<h2>切换元素检查器</h2>
<p>元素检查已经成为UI开发的重要部分。这使得在画布上更容易看到元素的边界和位置。</p>
<p>React Native有一个元素检查器，它的工作方式类似于浏览器中的传统元素检查器。这个检查器可以通过React本机应用程序中的开发者菜单进行切换，但RN Debugger允许我们通过键盘快捷键和Macbook的touch bar进行切换。这将我们从模拟器和代码之间转移的麻烦中解救出来。</p>
<h3>用于在设备或模拟器上切换元素检查器的键盘快捷键:</h3>
<ul>
<li>macOS: Command+I</li>
<li>Windows/Linux: Ctrl+I</li>
</ul>
<h2>设置配置</h2>
<p>RN Debugger向我们的主目录<code>~/.rndebuggerrc</code>添加了一个文件，JSON5格式的文件允许我们根据自己的意愿调整配置。以下是我发现最有用的几个:</p>
<ul>
<li><code>fontFamily</code>:用于设置调试器字体系列</li>
<li><code>zoomLevel</code>:调试器窗口的缩放级别；cmd++ &amp; cmd+-用于放大和缩小</li>
<li><code>autoUpdate</code>:用于后台更新React原生调试器</li>
<li>启动编辑器的bash命令，这个属性已经在本文中讨论过了</li>
<li><code>defaultNetworkInspect</code>:使网络能够从调试会话开始就进行检查</li>
</ul>
<p>可以从应用程序菜单访问该配置文件。它的标题为“打开配置文件”:</p>
<p><img data-attachment-id="72669" data-permalink="https://blog.logrocket.com/react-native-debugger-fast-debugging/react-native-debugger-open-config-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg" data-orig-size="512,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-debugger-open-config-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file-300x178.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg" decoding="async" class="aligncenter wp-image-72669 size-full jetpack-lazy-image" src="../Images/c2597a3e9e328a6f3a3eb5bf61b63f48.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg 512w, https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file-300x178.jpeg 300w" data-lazy-sizes="(max-width: 512px) 100vw, 512px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="72669" data-permalink="https://blog.logrocket.com/react-native-debugger-fast-debugging/react-native-debugger-open-config-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg" data-orig-size="512,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-native-debugger-open-config-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file-300x178.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-72669 size-full" src="../Images/c2597a3e9e328a6f3a3eb5bf61b63f48.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg 512w, https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file-300x178.jpeg 300w" sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/05/react-native-debugger-open-config-file.jpeg"/></noscript>
<h2>结论</h2>
<p>React Native Debugger是不同DevTools的完美集成，可以提高开发人员的工作效率。充分利用它，一定会有更快更好的发展。RN调试器的哪些特性是你经常使用的，你希望在这个令人敬畏的工具中看到哪些其他特性？请在下面的评论区告诉我。</p>
<p>如果您使用的是React Native版本&lt; 0.61，请保持到v0.10，因为由于React DevTools的变化，以后的版本只支持React Native的更高版本。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>