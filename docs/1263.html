<html>
<head>
<title>How to use styled-components with React Native - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在React Native - LogRocket博客中使用样式化组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/#0001-01-01">https://blog.logrocket.com/how-to-use-styled-components-with-react-native/#0001-01-01</a></blockquote><div><article class="article-post">
<p>设计应用程序的样式是开发的一个重要方面。管理样式可以提高代码的可读性。在React Native apps中，组件的样式化是用默认的<code>StyleSheet</code> API方法来完成的。然而，使用<a href="https://styled-components.com/" target="_blank" rel="noopener noreferrer">样式组件</a>的CSS-in-JS方法是在React原生应用中创建和样式化UI组件的另一种方式。</p>
<p>在本教程中，让我们讨论像styled-components这样的库相对于React Native中的一般<code>StyleSheet</code>管理器有什么优势。</p>
<h2><code>StyleSheet</code>和样式组件库有什么区别？</h2>
<p>styled-components是一个CSS-in-JS库，它是开源的，允许您作为React本地开发人员在单个文件位置定义UI组件和样式。将样式与其合适的组件相结合变得很容易，这可能会在处理大型应用程序时带来优化的开发人员体验。</p>
<p>与React Native定义样式的默认方式相比，它的一个优势是它允许我们使用普通的CSS来定义使用JavaScript对象定义的样式。对于有网络背景经验的开发者来说更好。</p>
<p>例如，React Native在定义CSS属性名时遵循一种样式约定。它使用基于<code>camelCase</code>的属性名。React Native app中使用<code>StyleSheet</code> API的一个背景色属性写为:</p>
<pre>backgroundColor: 'tomato';</pre>
<p>使用样式组件库时，可以使用CSS命名约定。因此，<code>backgroundColor</code>被写成<code>background-color</code>，就像在普通CSS中一样。</p>
<p>React Native允许我们定义诸如边距、填充、阴影、字体大小等属性的值，而不用像<code>px</code> ( <em>像素</em>)这样的单元。例如，使用<code>StyleSheet</code> API时的字体大小定义为:</p>
<pre>fontSize: 20;</pre>
<p>由于特定屏幕的像素密度不同，这些无单位值在不同的屏幕尺寸上呈现不同的效果。然而，使用样式化组件，在定义像<code>font-size</code>这样的属性值时，必须使用后缀<code>px</code>。但这确实意味着有这个库造成的劣势。在幕后，styled-components使用一个名为<a href="https://github.com/styled-components/css-to-react-native" target="_blank" rel="noopener noreferrer"> css-to-react-native </a>的包将普通CSS属性转换为React Native样式表对象。</p>
<h2>安装样式组件</h2>
<p>首先创建一个新的React本地项目。对于快速开发过程，我将使用<a href="https://docs.expo.io/workflow/expo-cli/" target="_blank" rel="noopener noreferrer"> expo-cli </a>。创建项目目录后，确保安装样式组件库。打开终端窗口并执行以下命令:</p>
<pre>npx expo-cli init [Your Project Name]
# after the project is created
cd [Your Project Name]
# then install the library
yarn add <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cebdbab7a2abaae3ada1a3bea1a0aba0babd8efbe0fce0fe">[email protected]</a>
# also install the icons library
expo install @expo/vector-icons</pre>
<h2>使用样式组件</h2>
<p>在这一节中，让我们编写第一个样式化的组件，在<code>App.js</code>文件中显示应用程序的标题。要开始，请导入库:</p>
<pre>import styled from 'styled-components/native';</pre>
<p>要在React Native应用程序中使用<code>styled-components</code>库，您必须导入<code>/native</code>来访问原始组件，而不是直接从React Native导入它们。</p>
<p>然后，让我们替换<code>react-native</code>库中的<code>View</code>和<code>Text</code>组件。这些新组件将遵循来自<code>styled-components</code>的定制语义。</p>
<p>下面是一个使用样式化组件库中的<code>styled</code>对象对<code>View</code>和<code>Text</code>组件进行样式化的例子:</p>
<pre>const Container = styled.View`
  flex: 1;
  background-color: white;
  align-items: center;
  justify-content: center;
`;
const Text = styled.Text`
  font-size: 18px;
  color: blue;
  font-weight: 500;
`;</pre>
<p>这些自定义样式的组件使用与任何React本机应用程序相同的CSS逻辑来样式化组件。这里的区别在于，编写属性名和它们的值严格遵循普通的CSS约定，而不是本地反应。</p>
<p>修改后的<code>App</code>组件将是:</p>
<pre>export default function App() {
  return (
    &lt;Container&gt;
      &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;
    &lt;/Container&gt;
  );
}</pre>
<p>现在，返回到终端窗口，并查看运行中的代码，执行命令<code>yarn start</code>。你现在可以在任何iOS或Android模拟器或装有<a href="https://expo.io/tools#client" target="_blank" rel="noopener noreferrer"> Expo客户端应用</a>的真实设备中查看以下结果。</p>
<p><img data-attachment-id="27584" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/emulator-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emulator-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27584 jetpack-lazy-image" src="../Images/6de15387f59cb59ee08c09750e7c6333.png" alt="expo client app emulator " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn-162x300.png 162w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27584" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/emulator-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emulator-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27584" src="../Images/6de15387f59cb59ee08c09750e7c6333.png" alt="expo client app emulator " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn-162x300.png 162w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/emulator-nocdn.png"/></noscript>
<h2>在样式化组件中使用道具</h2>
<p>在任何React或React原生应用中创建定制组件都需要使用props。这样做的好处是应用程序的代码尽可能保持干燥。styled-components库确实允许在定制组件中使用属性(当使用样式表对象时，<em>React Native中没有这些属性)。</em></p>
<p>我们举一个微不足道的例子。在<code>components/</code>目录下创建一个名为<code>PressableButton.js</code>的新组件文件。这个组件将在后面的<code>App</code>组件中使用，以显示一个定制按钮组件。</p>
<p>在这个文件中，让我们使用<code>TouchableOpacity</code>和<code>Text</code>创建一个定制组件。这个自定义按钮组件将有一些属性，比如自定义按钮<code>title</code>和<code>bgColor</code>，用于将按钮组件的背景颜色设置为来自父组件的任何有效值:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
const ButtonContainer = styled.TouchableOpacity`
  margin-vertical: 40px;
  width: 120px;
  height: 40px;
  padding: 12px;
  border-radius: 10px;
  background-color: ${props =&gt; props.bgColor};
`;
const ButtonText = styled.Text`
  font-size: 16px;
  text-align: center;
`;
const PressableButton = ({ onPress, bgColor, title }) =&gt; (
  &lt;ButtonContainer onPress={onPress} bgColor={bgColor}&gt;
    &lt;ButtonText&gt;{title}&lt;/ButtonText&gt;
  &lt;/ButtonContainer&gt;
);
export default PressableButton;</pre>
<p>要动态设置这个定制组件的背景颜色，可以传递一个插值函数，比如<code>${props =&gt; props ...}</code>。</p>
<p>这个插值函数相当于下面的代码片段:</p>
<pre>background-color: ${(props) =&gt; {
  return (props.bgColor)
}}</pre>
<p>为了测试这一点，转到<code>App.js</code>组件文件，在其他语句之后导入<code>PressableButton</code>组件:</p>
<pre>import PressableButton from './components/PressableButton';</pre>
<p>然后，修改其内容:</p>
<pre>export default function App() {
  return (
    &lt;Container&gt;
      &lt;Text&gt;Open up App.js to start working on your app!&lt;/Text&gt;
      &lt;PressableButton
        onPress={() =&gt; true}
        title='First button'
        bgColor='papayawhip'
      /&gt;
    &lt;/Container&gt;
  );
}</pre>
<p>这是这个步骤之后你将要得到的输出:<br/> <img data-attachment-id="27588" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/firstbutton-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firstbutton-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27588 jetpack-lazy-image" src="../Images/dfbd1c43b6de313e9f1dfa92cdf3d219.png" alt="Open up App.js to start working on your app " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn-162x300.png 162w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27588" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/firstbutton-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firstbutton-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27588" src="../Images/dfbd1c43b6de313e9f1dfa92cdf3d219.png" alt="Open up App.js to start working on your app " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn-162x300.png 162w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/firstbutton-nocdn.png"/></noscript><br/>
Let’s add another button with a different background color:
<pre>&lt;PressableButton onPress={() =&gt; true} title='First button' bgColor='#4267B2' /&gt;</pre>
<p>显示在第一个按钮之后:<br/> <img data-attachment-id="27590" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/twofirstbuttons/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="twofirstbuttons" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png" decoding="async" class="aligncenter size-full wp-image-27590 jetpack-lazy-image" src="../Images/343988ce34335fbc3499277a2bcceac9.png" alt="one tan button with the words first button one blue button with the words first button" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons-162x300.png 162w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27590" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/twofirstbuttons/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="twofirstbuttons" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27590" src="../Images/343988ce34335fbc3499277a2bcceac9.png" alt="one tan button with the words first button one blue button with the words first button" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons-162x300.png 162w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/twofirstbuttons.png"/></noscript>
<p>样式组件库中的插值函数也可用于扩展特定属性的样式。比如第二个按钮上的文字颜色就不好看。为了改变这一点，我们希望有两个<code>PressableButton</code>组件的变体。</p>
<p>第一个是<code>primary</code>，文本的颜色是<code>white</code>。第二个变体将有一个文本颜色<code>black</code>，但将像默认的变体。这意味着不必明确定义第二种变体。</p>
<p>通过给<code>ButtonText</code>样式的对象添加一个<code>color</code>属性来修改<code>PressableButton.js</code>文件:</p>
<pre>const ButtonText = styled.Text`
  font-size: 16px;
  text-align: center;
  color: ${props =&gt; (props.primary ? 'white' : '#010101')};
`;</pre>
<p>然后将道具<code>primary</code>添加到<code>PressableButton</code>组件中:</p>
<pre>const PressableButton = ({ onPress, primary, bgColor, title }) =&gt; (
  &lt;ButtonContainer onPress={onPress} bgColor={bgColor}&gt;
    &lt;ButtonText primary={primary}&gt;{title}&lt;/ButtonText&gt;
  &lt;/ButtonContainer&gt;
);</pre>
<p>现在，回到<code>App.js</code>文件，将道具变量<code>primary</code>添加到第二个按钮:</p>
<pre>&lt;PressableButton
  onPress={() =&gt; true}
  title='First button'
  bgColor='#4267B2'
  primary
/&gt;</pre>
<p>这些变化在世博客户端app上即时体现:<br/> <img data-attachment-id="27593" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/openupappjs-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="openupappjs-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27593 jetpack-lazy-image" src="../Images/c963ac5df8d2dde5a93f1b090d4dd589.png" alt="open up app js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn-162x300.png 162w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27593" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/openupappjs-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png" data-orig-size="350,647" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="openupappjs-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn-162x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27593" src="../Images/c963ac5df8d2dde5a93f1b090d4dd589.png" alt="open up app js" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn-162x300.png 162w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/openupappjs-nocdn.png"/></noscript>
<h2>从头开始构建应用程序屏幕</h2>
<p>让我们构建一个应用程序屏幕，看看如何使用样式组件库中的<code>styled</code>对象定义不同的原始React本地组件。</p>
<p>为了让您大致了解我们将要构建的内容，下面是最终结果:</p>
<p><img data-attachment-id="27595" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/user1user2-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user1user2-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png" decoding="async" class="aligncenter wp-image-27595 size-full jetpack-lazy-image" src="../Images/fb9c519895fb64515c16c0d44a107123.png" alt="user 1 and user 2 on screen " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27595" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/user1user2-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user1user2-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png" decoding="async" loading="lazy" class="aligncenter wp-image-27595 size-full" src="../Images/fb9c519895fb64515c16c0d44a107123.png" alt="user 1 and user 2 on screen " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/user1user2-nocdn.png"/></noscript>
<p>如果您想跟进，请从<a href="https://github.com/amandeepmittal/react-native-examples/tree/master/rnStyledComponents/assets/images" target="_blank" rel="noopener noreferrer">这里</a>下载以下资产。</p>
<h2>添加一个<code>SafeAreaView</code>组件</h2>
<p>让我们从构建应用程序的标题部分开始。创建一个名为<code>components/Header.js</code>的新组件文件。该组件将显示应用程序<code>Title</code>以及一排两个图标。这两个图标可用于创建进一步的操作。为了显示图标，让我们使用<code>@expo/vector-icons</code>中的<code>MaterialCommunityIcons</code>。</p>
<p>这个<code>Header</code>组件将从父组件<code>App</code>接收道具<code>headerTitle</code>。<code>Title</code>是由<code>Text</code>定义的，每个图标都被一个叫做<code>IconButton</code>的<code>TouchableOpacity</code>按钮包裹着。</p>
<p>添加以下代码片段:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
import { MaterialCommunityIcons } from '@expo/vector-icons';
const Container = styled.View`
  width: 100%;
  height: 50px;
  padding-horizontal: 10px;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`;
const Title = styled.Text`
  font-size: 28px;
  font-weight: 700;
  letter-spacing: 0.25px;
  color: #4267b2;
`;
const IconButtonsRow = styled.View`
  flex-direction: row;
`;
const IconButton = styled.TouchableOpacity`
  width: 40px;
  height: 40px;
  border-radius: 20px;
  background: #e6e6e6;
  align-items: center;
  justify-content: center;
  margin-left: 12px;
`;
const Header = ({ headerTitle }) =&gt; {
  return (
    &lt;Container&gt;
      &lt;Title&gt;{headerTitle}&lt;/Title&gt;
      &lt;IconButtonsRow&gt;
        &lt;IconButton activeOpacity={0.7} onPress={() =&gt; true}&gt;
          &lt;MaterialCommunityIcons name='magnify' size={28} color='#010101' /&gt;
        &lt;/IconButton&gt;
        &lt;IconButton activeOpacity={0.7} onPress={() =&gt; true}&gt;
          &lt;MaterialCommunityIcons
            name='facebook-messenger'
            size={28}
            color='#010101'
          /&gt;
        &lt;/IconButton&gt;
      &lt;/IconButtonsRow&gt;
    &lt;/Container&gt;
  );
};
export default Header;</pre>
<p>注意，在上面的代码片段中，你可以像在一个<code>TouchableOpacity</code>组件上一样使用可用的道具，比如<code>activeOpacity</code>。styled-components仍然使用React本地组件上可用的属性。</p>
<p>接下来，将该组件导入到<code>App.js</code>文件中，并对其进行修改:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
import Header from './components/Header';
const Container = styled.View`
  flex: 1;
  background-color: white;
`;
export default function App() {
  return (
    &lt;Container&gt;
      &lt;Header headerTitle='social' /&gt;
    &lt;/Container&gt;
  );
}</pre>
<p>下面是您将在iOS模拟器上得到的输出:<br/> <img data-attachment-id="27600" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/iossimulator/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="iossimulator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png" decoding="async" class="aligncenter size-full wp-image-27600 jetpack-lazy-image" src="../Images/ee8818a1e38716c8c5a9fb591db058cd.png" alt="words 'social' on iOS emulator " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27600" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/iossimulator/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="iossimulator" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27600" src="../Images/ee8818a1e38716c8c5a9fb591db058cd.png" alt="words 'social' on iOS emulator " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/iossimulator.png"/></noscript>
<p><code>Header</code>组件占用了iOS设备安全区域边界后面的空间。幸运的是，为了解决这个问题，styled-components库提供了一个名为<code>SafeAreaView</code>的组件，它的工作方式与React Native的<a href="https://reactnative.dev/docs/safeareaview" target="_blank" rel="noopener noreferrer">safea review相同。</a></p>
<p>修改以下代码片段:</p>
<pre>const Container = styled.SafeAreaView;</pre>
<p>现在输出的是期望的结果:<br/> <img data-attachment-id="27602" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/social-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="social-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27602 jetpack-lazy-image" src="../Images/1152d0b351d4a64922f99b8f6d6f006b.png" alt="the words social displayed on blank screen on iOS simulator " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27602" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/social-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="social-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27602" src="../Images/1152d0b351d4a64922f99b8f6d6f006b.png" alt="the words social displayed on blank screen on iOS simulator " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/social-nocdn.png"/></noscript>
<h2>使用<code>Image</code>组件显示头像</h2>
<p>要显示头像图像，可以使用<code>Image</code>组件。创建一个名为<code>components/Avatar.js</code>的新组件文件。它将接收一个prop，这是要显示的图像的源。你可以使用<code>source</code>道具来参考图片。</p>
<p><code>Avatar</code>图像的样式从一个<code>width</code>和一个<code>64</code>像素的<code>height</code>开始。拥有一个恰好等于宽度和高度的一半的<code>border-radius</code>属性，使得图像是一个圆。<code>border-radius</code>属性用于创建圆角。</p>
<p>添加以下代码片段:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
const Container = styled.View`
  width: 64px;
  height: 64px;
`;
const Image = styled.Image`
  width: 64px;
  height: 64px;
  border-radius: 32px;
`;
const Avatar = ({ imageSource }) =&gt; {
  return (
    &lt;Container&gt;
      &lt;Image source={imageSource} /&gt;
    &lt;/Container&gt;
  );
};
export default Avatar;</pre>
<p>现在，打开<code>App.js</code>文件并导入<code>Avatar</code>组件。用另一个名为<code>RowContainer</code>的组件包装它，该组件具有以下样式:</p>
<pre>// after other import statements
import Avatar from './components/Avatar';
const RowContainer = styled.View`
  width: 100%;
  padding-horizontal: 10px;
  flex-direction: row;
`;</pre>
<p>修改由<code>App</code>组件渲染的JSX:</p>
<pre>&lt;Container&gt;
  &lt;Header headerTitle='social' /&gt;
  &lt;RowContainer&gt;
    &lt;Avatar imageSource={require('./assets/images/avatar1.png')} /&gt;
  &lt;/RowContainer&gt;
&lt;/Container&gt;</pre>
<p>头像形象长这样:<br/> <img data-attachment-id="27606" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/avatarimagedisplayed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="avatarimagedisplayed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png" decoding="async" class="aligncenter size-full wp-image-27606 jetpack-lazy-image" src="../Images/22361c15c9ad6aa14da93b9aa3320f8e.png" alt="avatarimagedisplayed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27606" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/avatarimagedisplayed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="avatarimagedisplayed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27606" src="../Images/22361c15c9ad6aa14da93b9aa3320f8e.png" alt="avatarimagedisplayed" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/avatarimagedisplayed.png"/></noscript>
<h2>使用<code>position: absolute</code>属性创建一个在线指示器</h2>
<p>CSS属性如<code>margin</code>和<code>padding</code>可以用来增加不同UI元素之间的间距。间距是相互关联的。有些情况下，这种关系与应用程序状态的设计并不完全一致。对于这些场景，我们经常使用<code>position: absolute</code>属性。</p>
<p>默认情况下，React Native依赖于<code>position: relative</code>属性。这就是为什么我们不必在每次设计UI组件时都明确定义它。<code>absolute</code>值仅用于适合精确设计模式的场景。它具有下列经常组合使用的属性:</p>

<p>让我们通过在头像图像的右上角显示一个在线状态指示器来增强<code>Avatar</code>组件。</p>
<p>定义一个名为<code>OnlineIndicator</code>的新定制组件。它将有一个固定的宽度和高度值以及一个<code>border</code>。使用样式化组件的好处是，你可以像在普通CSS中一样定义<code>border</code>属性的值。</p>
<p><code>position</code>被设置为<code>absolute</code>，这意味着<code>OnlineIndicator</code>组件将与其父组件相关。因为它必须显示在右上角，所以我们将这两个属性的值设置为<code>0</code>。</p>
<p>您可以通过增加或减少每个像素值来修改这些值，以满足您所遵循的设计模式:</p>
<pre>const OnlineIndicator = styled.View`
  background-color: green;
  position: absolute;
  width: 16px;
  height: 16px;
  border-radius: 8px;
  top: 0;
  right: 0;
  border: 2px solid white;
`;
const Avatar = ({ imageSource }) =&gt; {
  return (
    &lt;Container&gt;
      &lt;Image source={imageSource} /&gt;
      &lt;OnlineIndicator /&gt;
    &lt;/Container&gt;
  );
};</pre>
<p>下面是这个步骤之后的输出:<br/> <img data-attachment-id="27610" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/onlineindicator-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="onlineindicator-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27610 jetpack-lazy-image" src="../Images/fa0c973a3f934ec8cdf4953c78ff2e73.png" alt="online indicator on avatar " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27610" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/onlineindicator-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="onlineindicator-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27610" src="../Images/fa0c973a3f934ec8cdf4953c78ff2e73.png" alt="online indicator on avatar " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/onlineindicator-nocdn.png"/></noscript>
<h2>添加一个<code>TextInput</code></h2>
<p>为了添加文本输入组件，<code>styled</code>对象使用了<code>TextInput</code>。创建一个名为<code>components/InputContainer.js</code>的新文件，并添加以下代码片段:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
const Container = styled.View`
  width: 100%;
`;
const TextInput = styled.TextInput`
  width: 100%;
  height: 60px;
  font-size: 18px;
  flex: 1;
  color: #010101;
  margin-left: 10px;
`;
const InputContainer = () =&gt; {
  return (
    &lt;Container&gt;
      &lt;TextInput placeholder="What's on your mind?" /&gt;
    &lt;/Container&gt;
  );
};
export default InputContainer;</pre>
<p>因为我们想在头像旁边显示这个组件，所以让我们将它导入到<code>App.js</code>文件中:</p>
<pre>&lt;RowContainer&gt;
  &lt;Avatar imageSource={require('./assets/images/avatar1.png')} /&gt;
  &lt;InputContainer /&gt;
&lt;/RowContainer&gt;</pre>
<p>下面是输出:<br/> <img data-attachment-id="27613" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/status-ncdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="status-ncdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png" decoding="async" class="aligncenter size-full wp-image-27613 jetpack-lazy-image" src="../Images/3a7fa344986641c9c29683bd19397804.png" alt="&quot;whats on your mind&quot;" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27613" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/status-ncdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="status-ncdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27613" src="../Images/3a7fa344986641c9c29683bd19397804.png" alt="&quot;whats on your mind&quot;" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/status-ncdn.png"/></noscript>
<h2>使用<code>ScrollView</code>映射菜单项列表</h2>
<p>使用一个<code>ScrollView</code>组件，让我们显示一个帖子列表。每个帖子都将有一个用户的头像图像，用户名，帖子描述和帖子图像。为了显示数据，我将使用一个包含四个不同对象的模拟数组。将该数组添加到<code>App.js</code>文件中:</p>
<pre>const DATA = [
  {
    id: '1',
    userAvatar: require('./assets/images/avatar2.png'),
    userName: 'User 1',
    postText:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua',
    postImage: require('./assets/images/post1.png')
  },
  {
    id: '2',
    userAvatar: require('./assets/images/avatar4.png'),
    userName: 'User 2',
    postText:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua',
    postImage: require('./assets/images/post2.png')
  },
  {
    id: '3',
    userAvatar: require('./assets/images/avatar3.png'),
    userName: 'User 3',
    postText:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua',
    postImage: require('./assets/images/post3.png')
  },
  {
    id: '4',
    userAvatar: require('./assets/images/avatar4.png'),
    userName: 'User 4',
    postText:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua',
    postImage: require('./assets/images/post4.png')
  }
];</pre>
<p>接下来，创建一个名为<code>components/Card.js</code>的新组件文件。它将接受数组<code>data</code>作为唯一的道具。为了遍历<code>data</code>数组，使用了JavaScript的<code>map</code>函数。我们已经知道所表示的数据的结构。</p>
<p>从创建从<code>ScrollView</code>定义的<code>VerticalList</code>开始。然后创建一个空的<code>ListContainer</code>组件，它是一个<code>View</code>组件的代表。</p>
<p>为了显示用户名和头像，创建一个<code>Row</code>容器组件，它的<code>flex-direction</code>属性被设置为<code>row</code>的值。<code>SmallAvatar</code>将显示用户的头像，<code>UserName</code>用于显示用户名。类似地，<code>PostDescription</code>和<code>PostImage</code>用于显示帖子的内容。</p>
<p>添加以下代码片段:</p>
<pre>import React from 'react';
import styled from 'styled-components/native';
const VerticalList = styled.ScrollView`
  flex: 1;
`;
const ListContainer = styled.View``;
const Header = styled.View`
  height: 50px;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  margin-top: 6px;
  padding: 0 11px;
`;
const Row = styled.View`
  align-items: center;
  flex-direction: row;
`;
const SmallAvatar = styled.Image`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`;
const UserName = styled.Text`
  padding-left: 8px;
  font-size: 14px;
  font-weight: bold;
  color: #010101;
`;
const PostDescription = styled.Text`
  font-size: 14px;
  color: #222121;
  line-height: 16px;
  padding: 0 11px;
`;
const PostImage = styled.Image`
  margin-top: 9px;
  width: 100%;
  height: 300px;
`;
const Card = ({ data }) =&gt; {
  return (
    &lt;VerticalList showsVerticalScrollIndicator={false}&gt;
      {data.map(item =&gt; (
        &lt;ListContainer key={item.id}&gt;
          &lt;Header&gt;
            &lt;Row&gt;
              &lt;SmallAvatar source={item.userAvatar} /&gt;
              &lt;UserName&gt;{item.userName}&lt;/UserName&gt;
            &lt;/Row&gt;
          &lt;/Header&gt;
          &lt;PostDescription&gt;{item.postText}&lt;/PostDescription&gt;
          &lt;PostImage source={item.postImage} /&gt;
        &lt;/ListContainer&gt;
      ))}
    &lt;/VerticalList&gt;
  );
};
export default Card;</pre>
<p>React本地组件上的任何可用属性在使用<code>styled</code>对象创建的组件上都有效。例如，要隐藏垂直滚动指示器，将<code>showsVerticalScrollIndicator</code>的值设置为false，就像上面的代码片段一样。</p>
<p>要查看<code>ScrollView</code>的工作情况，在<code>App.js</code>文件中添加<code>Card</code>组件，如下所示:</p>
<pre>// import the Card component
import Card from './components/Card';
return (
  &lt;Container&gt;
    {/* rest remains same */}
    &lt;Card data={DATA} /&gt;
  &lt;/Container&gt;
);</pre>
<p>下面是输出:<br/> <img data-attachment-id="27618" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/scrollview-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scrollview-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27618 jetpack-lazy-image" src="../Images/86009e857fbabbb19e26c9e1afebcfcb.png" alt="feed and avatar with status and image cards " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn-163x300.png 163w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="27618" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/scrollview-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png" data-orig-size="350,646" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scrollview-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn-163x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27618" src="../Images/86009e857fbabbb19e26c9e1afebcfcb.png" alt="feed and avatar with status and image cards " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn-163x300.png 163w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/scrollview-nocdn.png"/></noscript><br/>
You can also extend the styled object with <code>ScrollView</code> by using a chainable method called <code>attrs</code>. It attaches the props to a styled component.
<p>我们创建的<code>VerticalList</code>组件不需要定制道具，但是通过使用可链接的方法，它可以将<code>ScrollView</code>的<code>contentContainerStyle</code>对象的样式应用到滚动视图内容容器。让我们添加一些<code>20</code>的垂直填充和一些背景色:</p>
<pre>const VerticalList = styled.ScrollView.attrs(props =&gt; ({
  contentContainerStyle: {
    backgroundColor: '#e7e7e7',
    paddingVertical: 20
  }
}))`
  flex: 1;
`;</pre>
<h2><img data-attachment-id="27620" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/completedui-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png" data-orig-size="350,676" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="completedui-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn-155x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png" decoding="async" class="aligncenter size-full wp-image-27620 jetpack-lazy-image" src="../Images/3cee14b0a82d94765049fd24129f343b.png" alt="completed ui with avatar, online indicator, card and status " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn-155x300.png 155w" data-lazy-sizes="(max-width: 350px) 100vw, 350px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="27620" data-permalink="https://blog.logrocket.com/how-to-use-styled-components-with-react-native/completedui-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png" data-orig-size="350,676" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="completedui-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn-155x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-27620" src="../Images/3cee14b0a82d94765049fd24129f343b.png" alt="completed ui with avatar, online indicator, card and status " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png 350w, https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn-155x300.png 155w" sizes="(max-width: 350px) 100vw, 350px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/completedui-nocdn.png"/> </noscript> <br/>结论</h2>
<p>我希望你在阅读本教程时感到愉快。正如我们在本文中所讨论的，在React Native中使用样式组件库确实有其优势。</p>
<p>你以前用过React Native的样式化组件吗？如果没有，你会在下一个项目中尝试吗？请在下面评论。</p>
<p>源代码可从本<a href="https://github.com/amandeepmittal/react-native-examples/tree/master/rnStyledComponents" target="_blank" rel="noopener noreferrer"> GitHub repo </a>获得。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>