<html>
<head>
<title>The MERN stack tutorial - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>MERN堆栈教程- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/mern-stack-tutorial/#0001-01-01">https://blog.logrocket.com/mern-stack-tutorial/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按</strong>:本MERN栈教程最后一次更新是在2022年12月2日，以扩展和更新教程的前端部分。此次更新包括新的Axios、React挂钩和授权部分。</em></p>
<p>本教程是所有关于MERN堆栈。我们将概述MERN堆栈的基础知识，并通过从头开始开发一个简单的CRUD应用程序来演示如何使用它。</p>
<p>为了展示MERN堆栈是如何工作的，我们将首先通过在后端将<a href="https://blog.logrocket.com/tag/node/"> Node.js和Express.js </a>连接到MongoDB来配置服务器端。然后，我们将创建一些API。之后，我们将带你构建前端，使用<a href="https://blog.logrocket.com/top-11-react-ui-libraries-kits/"> React </a>构建我们的用户界面。一旦两者都完成，我们将连接前端到后端。</p>
<p><em>向前跳转:</em></p>

<h2 id="what-mern-stack">什么是MERN堆栈？</h2>
<p>短语“MERN堆栈”包括以下允许更快应用程序开发的技术:</p>
<ul>
<li><strong> <a href="https://www.mongodb.com/"> MongoDB </a> </strong>:一个跨平台的面向文档的数据库程序</li>
<li><strong><a href="https://expressjs.com/">express . js</a></strong>:node . js的web应用框架</li>
<li><strong> <a href="https://reactjs.org/"> React </a> </strong>:用于构建用户界面的JavaScript库</li>
<li><strong> <a href="https://nodejs.org/en/"> Node.js </a> </strong>:在浏览器之外执行JavaScript代码的开源、跨平台的JavaScript运行时环境</li>
</ul>
<p>MongoDB、Express.js和Node.js帮助您构建应用程序的后端，而React支持前端。根据最近的<a href="https://survey.stackoverflow.co/2022/#most-popular-technologies-databasehttps://survey.stackoverflow.co/2022/#most-popular-technologies-database">栈溢出开发者调查</a>，Node.js 和<a href="https://logrocket.com/for/react"> React </a>被列为最流行的两种web框架和技术。MongoDB也是最受开发人员欢迎的数据库之一。关于<a href="https://trends.builtwith.com/websitelist/React/Historical"> 16，535，063 </a>网站使用React来驱动他们的前端。你可以很容易地假设这些技术是多么稳定和受欢迎。</p>
<p>学习MERN堆栈将有助于您成为全堆栈开发人员。对MERN堆栈开发人员的需求也很高。然而，成为一名优秀的MERN堆栈开发人员需要时间。因此，在学习React或Node.js等技术之前，确保您的基础知识非常重要。许多开发人员无法成为优秀的MERN堆栈开发人员，因为他们缺乏JavaScript的基础知识。</p>
<p>如果你是一个有时间的视觉学习者，看看这个全面的MERN堆栈视频教程:</p>
<p><span class="embed-youtube"> <iframe loading="lazy" class="youtube-player" src="https://www.youtube.com/embed/ktjafK4SgWM?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation">视频</iframe> </span></p>
<h2 id="server-setup-express-js-node-js">使用Express.js和Node.js设置服务器</h2>
<p>该演示旨在突出MERN设置。我们的目标是开发一个具有最佳结构的简单项目，这样您就可以将它用作样板文件，并提升您的MERN堆栈项目以满足行业标准。</p>
<p>为了开始我们的MERN堆栈教程，我们将向您展示如何使用Express.js和Node.js设置服务器</p>
<h3 id="npm-package-initialization">npm包初始化</h3>
<p>要创建项目文件夹，通过终端进入文件夹，然后运行<code>$ npm init</code>。然后，它会问你一些关于包名、版本、入口点等等的问题。</p>
<p>如果想保持默认，点击<strong> <code>Enter</code> </strong>。之后，你会得到这样的东西:</p>
<p><img data-attachment-id="150982" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-json-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png" data-orig-size="730,996" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack creating our package.json file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file-220x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png" decoding="async" class="aligncenter size-full wp-image-150982 jetpack-lazy-image" src="../Images/01195931304254a5aefa86a195a2a58b.png" alt="MERN Stack Creating Our package.json File" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file-220x300.png 220w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150982" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-json-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png" data-orig-size="730,996" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack creating our package.json file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file-220x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150982" src="../Images/01195931304254a5aefa86a195a2a58b.png" alt="MERN Stack Creating Our package.json File" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file-220x300.png 220w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-file.png"/></noscript>
<p>选择<strong> <code>yes</code> </strong>，一切准备就绪。这将创建一个名为<code>package.json</code>的文件。</p>
<h3 id="installing-dependencies">安装依赖项</h3>
<p>接下来，我们将添加一些与<code>$ npm i express mongoose body-parser config</code>的依赖关系。键入或复制上面的命令并点击<strong>回车</strong>按钮。您会看到类似这样的内容:</p>
<p><img data-attachment-id="150984" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-dependencies-install/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png" data-orig-size="730,191" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding project file dependencies MERN stack" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png" decoding="async" class="aligncenter size-full wp-image-150984 jetpack-lazy-image" src="../Images/b5243676221ef2d72a1c0702799de05f.png" alt="Adding Project File Dependencies MERN Stack" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install-300x78.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150984" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-dependencies-install/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png" data-orig-size="730,191" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Adding project file dependencies MERN stack" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150984" src="../Images/b5243676221ef2d72a1c0702799de05f.png" alt="Adding Project File Dependencies MERN Stack" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install-300x78.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-dependencies-install.png"/></noscript><br/>
Here’s what we get in the code above:
<ul>
<li><code>body-parser</code>:允许我们在整个请求过程中获取数据</li>
<li>是我们的主要框架</li>
<li><code>mongoose</code>:用于连接和交互MongoDB</li>
<li><code>config</code>:这允许您定义应用程序的默认参数</li>
</ul>
<p>现在，我们将添加<a href="https://nodemon.io/"> nodemon </a>作为<code>dev</code>依赖项。如果你不想添加它，你可以跳过它，它是可选的。用<code>$ npm i -D nodemon</code>安装。要使用nodemon，将<code>"app": "nodemon app.js"</code>添加到<code>package.json</code>文件下的<code>scripts</code>标签中。</p>
<p>Nodemon是一个实用程序，它将监视源代码中的任何变化，并自动重启服务器。<code>app.js</code>是应用程序的入口点。在这里用<code>"start": "node app.js"</code>定义一个<code>start</code>脚本也很重要。这将定义应用程序的启动脚本。</p>
<p>之后，你的<code>package.json</code>应该是这样的:</p>
<p><img data-attachment-id="150986" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-json-dependencies/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg" data-orig-size="730,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="MERN stack package.json file with dependencies" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies-300x148.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg" decoding="async" class="aligncenter size-full wp-image-150986 jetpack-lazy-image" src="../Images/391278328f62ec2144893c4316f7f984.png" alt="MERN Stack package.json File with Dependencies" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies-300x148.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150986" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-json-dependencies/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg" data-orig-size="730,359" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="MERN stack package.json file with dependencies" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies-300x148.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150986" src="../Images/391278328f62ec2144893c4316f7f984.png" alt="MERN Stack package.json File with Dependencies" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies-300x148.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-json-dependencies.jpeg"/></noscript>
<h3 id="setting-entry-point">设置入口点</h3>
<p>现在，为我们的入口点创建一个名为<code>app.js</code>的文件。您可以使用<code>$ touch app.js</code>命令从项目文件夹中创建它(在macOS上)。</p>
<p>然后，粘贴以下代码:</p>
<pre class="language-javascript hljs">// app.js

const express = require('express');

const app = express();

app.get('/', (req, res) =&gt; res.send('Hello world!'));

const port = process.env.PORT || 8082;

app.listen(port, () =&gt; console.log(`Server running on port ${port}`));
</pre>
<p>之后，运行<code>$ node app</code>命令。你会看到<code>Server running on port 8082</code>。你也可以通过打开浏览器并输入<code><a href="http://localhost:8082" rel="nofollow">http://localhost:8082</a></code>来查看。</p>
<p>在这一点上，如果我们改变了什么，我们将需要手动重启服务器。但是，如果我们设置了nodemon，那么我们就不必每次都重新启动它。Nodemon将观察是否有任何变化，并自动重启服务器。</p>
<p>因此，您需要做的是对我们的<code>package.json</code>文件中的脚本做一点修改。见下文:</p>
<pre class="language-json hljs">// package.json

{
  "name": "mern_a_to_z",
  "version": "1.0.0",
  "description": "",
  "main": "app.js",
  "scripts": {
    "start": "node app.js",
    "app": "nodemon app.js",
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/nurislam03/MERN_A_to_Z.git"
  },
  "author": "Nur Islam",
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/nurislam03/MERN_A_to_Z/issues"
  },
  "homepage": "https://github.com/nurislam03/MERN_A_to_Z#readme",
  "dependencies": {
    "body-parser": "^1.19.0",
    "express": "^4.17.1",
    "mongoose": "^5.5.15",
    "validation": "0.0.1"
  },
  "devDependencies": {
    "nodemon": "^1.19.1"
  }
}
</pre>
<p>现在，您可以使用<code>$ npm run app</code>命令运行您的项目。如果此时出现任何错误，请运行以下命令:</p>
<pre class="language-shell hljs">$ npm install
$ npm run app
</pre>
<p>如果一切正常，您将在终端中看到以下变化:</p>
<p><img data-attachment-id="150988" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png" data-orig-size="730,236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack running project successfully" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project-300x97.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png" decoding="async" class="aligncenter size-full wp-image-150988 jetpack-lazy-image" src="../Images/4c35b99f954d04626701cf599ed11a84.png" alt="MERN Stack Running Project Successfully" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project-300x97.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150988" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png" data-orig-size="730,236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack running project successfully" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project-300x97.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150988" src="../Images/4c35b99f954d04626701cf599ed11a84.png" alt="MERN Stack Running Project Successfully" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project-300x97.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-project.png"/></noscript>
<h2 id="mongo-db">使用MongoDB进行数据库管理</h2>
<p>现在，是时候用MongoDB 建立我们的<a href="https://www.mongodb.com/mern-stack"> MERN数据库了。为了简单起见，我们将使用MongoDB Atlas。首先，在这里</a>创建一个账户<a href="https://www.mongodb.com/atlas/database">。创建帐户后，您会看到如下内容:</a></p>
<p><img data-attachment-id="150990" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mongo-db/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png" data-orig-size="730,406" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MongoDB Atlas home screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png" decoding="async" class="aligncenter size-full wp-image-150990 jetpack-lazy-image" src="../Images/d0b79bc36fede7eb4b177a7b929dd825.png" alt="MongoDB Atlas Home Screen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db-300x167.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150990" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mongo-db/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png" data-orig-size="730,406" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MongoDB Atlas home screen" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150990" src="../Images/d0b79bc36fede7eb4b177a7b929dd825.png" alt="MongoDB Atlas Home Screen" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db-300x167.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mongo-db.png"/></noscript>
<p>单击<strong>项目0 </strong>部分(左上角)，您将看到一个用于创建新项目的按钮。创建一个项目并选择该项目。现在，从您创建的项目中点击<strong>构建集群</strong>按钮。它会显示所有的信息。</p>
<p>在底部，您将看到一个名为<strong>集群名称</strong>的部分，单击它并输入数据库的名称，然后点击<strong>创建集群</strong>按钮。两到三分钟后，如果一切顺利，你会发现这样的东西:</p>
<p><img data-attachment-id="150992" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/cluster-mongo-db/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png" data-orig-size="730,387" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a cluster in MongoDB Atlas" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db-300x159.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png" decoding="async" class="aligncenter size-full wp-image-150992 jetpack-lazy-image" src="../Images/ab23324ba46a1ed1c0f89da28db3d5a1.png" alt="Creating a Cluster in MongoDB Atlas" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db-300x159.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150992" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/cluster-mongo-db/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png" data-orig-size="730,387" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a cluster in MongoDB Atlas" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db-300x159.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150992" src="../Images/ab23324ba46a1ed1c0f89da28db3d5a1.png" alt="Creating a Cluster in MongoDB Atlas" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db-300x159.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/cluster-mongo-db.png"/></noscript>
<p>点击<strong>连接</strong>按钮，填写数据库的用户名和密码表单:</p>
<p><img data-attachment-id="150994" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/connection-mongodb/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png" data-orig-size="730,574" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Setting up our MongoDB connection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb-300x236.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png" decoding="async" class="aligncenter size-full wp-image-150994 jetpack-lazy-image" src="../Images/f20fe4a2e60746b9b9b427f64323e7b2.png" alt="Setting Up Our MongoDB Connection" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb-300x236.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150994" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/connection-mongodb/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png" data-orig-size="730,574" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Setting up our MongoDB connection" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb-300x236.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150994" src="../Images/f20fe4a2e60746b9b9b427f64323e7b2.png" alt="Setting Up Our MongoDB Connection" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb-300x236.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/connection-mongodb.png"/></noscript>
<p>现在，选择<strong>创建MongoDB用户</strong>按钮。您也可以选择您当前的IP地址或不同的IP地址；这取决于你。现在，如果您按下<strong>连接</strong>按钮或<strong>选择连接方法</strong>按钮，您将看到一些不同的方法。相应地选择:</p>
<p><img data-attachment-id="150996" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-a-z/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png" data-orig-size="730,645" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack A-Z" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-300x265.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png" decoding="async" class="aligncenter size-full wp-image-150996 jetpack-lazy-image" src="../Images/8b8e3aa797319e46af8a9d9cf29ebb53.png" alt="MERN Stack A-Z" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-300x265.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150996" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-a-z/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png" data-orig-size="730,645" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack A-Z" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-300x265.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150996" src="../Images/8b8e3aa797319e46af8a9d9cf29ebb53.png" alt="MERN Stack A-Z" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-300x265.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z.png"/></noscript>
<p>在这种情况下，选择<strong>连接您的应用程序</strong>部分。现在，您将获得数据库链接，我们将在下一步中使用它:</p>
<p><img data-attachment-id="150998" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-a-z-two/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png" data-orig-size="730,705" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack A-Z two" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two-300x290.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png" decoding="async" class="aligncenter size-full wp-image-150998 jetpack-lazy-image" src="../Images/4af2c20317ddc3fdb40270c4f2db1277.png" alt="MERN Stack A-Z Two" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two-300x290.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="150998" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-a-z-two/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png" data-orig-size="730,705" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack A-Z two" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two-300x290.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-150998" src="../Images/4af2c20317ddc3fdb40270c4f2db1277.png" alt="MERN Stack A-Z Two" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two-300x290.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-a-z-two.png"/></noscript>
<h3>将数据库添加到我们的项目</h3>
<p>我们的数据库已经准备好了，我们需要将它添加到我们的项目中。在<code>project</code>文件夹中，创建另一个名为<code>config</code>的文件夹，并创建两个名为<code>default.json</code>和<code>db.js</code>的文件。</p>
<p>添加以下代码:</p>
<pre class="language-json hljs">// default.json

{
  "mongoURI":
    "mongodb+srv://mern123:&lt;password&gt;@mernatoz-9kdpd.mongodb.net/test?retryWrites=true&amp;w=majority"
}
 /* Replace &lt;password&gt; with your database password */
// db.js

const mongoose = require('mongoose');
const config = require('config');
const db = config.get('mongoURI');

const connectDB = async () =&gt; {
  try {
    mongoose.set('strictQuery', true);
    await mongoose.connect(db, {
      useNewUrlParser: true,
    });

    console.log('MongoDB is Connected...');
  } catch (err) {
    console.error(err.message);
    process.exit(1);
  }
};

module.exports = connectDB;
</pre>
<p>我们需要对我们的<code>app.js</code>文件做一点修改来连接数据库。用这个更新您的<code>app.js</code>:</p>
<pre class="language-javascript hljs">// app.js

const express = require('express');
const connectDB = require('./config/db');

const app = express();

// Connect Database
connectDB();

app.get('/', (req, res) =&gt; res.send('Hello world!'));

const port = process.env.PORT || 8082;

app.listen(port, () =&gt; console.log(`Server running on port ${port}`));
</pre>
<p>现在，您可以使用<code>$ npm run app</code>命令运行项目。您应该看到以下内容:</p>
<p><img data-attachment-id="151000" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-server-connected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png" data-orig-size="730,257" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack successfully connected server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected-300x106.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png" decoding="async" class="aligncenter size-full wp-image-151000 jetpack-lazy-image" src="../Images/f91fbc0ac7f0d283afb7fb16ba008f2e.png" alt="MERN Stack Successfully Connected Server" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected-300x106.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151000" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-server-connected/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png" data-orig-size="730,257" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack successfully connected server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected-300x106.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151000" src="../Images/f91fbc0ac7f0d283afb7fb16ba008f2e.png" alt="MERN Stack Successfully Connected Server" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected-300x106.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-server-connected.png"/></noscript>
<p>太好了！到目前为止，我们是在正确的轨道上，我们的数据库成功连接。现在，是时候完成路由设置了，之后，我们将看到如何创建RESTful APIs。</p>
<h2 id="restful-api-mern-stack">用MERN堆栈构建RESTful APIs</h2>
<p>首先，创建一个名为<code>routes</code>的文件夹。在其中，创建另一个名为<code>api</code>的文件夹，它将保存我们所有的API。在<code>api</code>文件夹中，创建一个名为<code>books.js</code>的文件。我们将在这里创建一些API来展示它是如何工作的。</p>
<p>现在，用下面的代码更新您的<code>books.js</code>:</p>
<pre class="language-javascript hljs">// routes/api/books.js

const express = require('express');
const router = express.Router();

// Load Book model
const Book = require('../../models/Books');

// @route GET api/books/test
// @description tests books route
// @access Public
router.get('/test', (req, res) =&gt; res.send('book route testing!'));

// @route GET api/books
// @description Get all books
// @access Public
router.get('/', (req, res) =&gt; {
  Book.find()
    .then(books =&gt; res.json(books))
    .catch(err =&gt; res.status(404).json({ nobooksfound: 'No Books found' }));
});

// @route GET api/books/:id
// @description Get single book by id
// @access Public
router.get('/:id', (req, res) =&gt; {
  Book.findById(req.params.id)
    .then(book =&gt; res.json(book))
    .catch(err =&gt; res.status(404).json({ nobookfound: 'No Book found' }));
});

// @route GET api/books
// @description add/save book
// @access Public
router.post('/', (req, res) =&gt; {
  Book.create(req.body)
    .then(book =&gt; res.json({ msg: 'Book added successfully' }))
    .catch(err =&gt; res.status(400).json({ error: 'Unable to add this book' }));
});

// @route GET api/books/:id
// @description Update book
// @access Public
router.put('/:id', (req, res) =&gt; {
  Book.findByIdAndUpdate(req.params.id, req.body)
    .then(book =&gt; res.json({ msg: 'Updated successfully' }))
    .catch(err =&gt;
      res.status(400).json({ error: 'Unable to update the Database' })
    );
});

// @route GET api/books/:id
// @description Delete book by id
// @access Public
router.delete('/:id', (req, res) =&gt; {
  Book.findByIdAndRemove(req.params.id, req.body)
    .then(book =&gt; res.json({ mgs: 'Book entry deleted successfully' }))
    .catch(err =&gt; res.status(404).json({ error: 'No such a book' }));
});

module.exports = router;
</pre>
<h3 id="database">数据库模型</h3>
<p>为了与我们的数据库进行交互，我们需要为我们的每个资源创建一个模型。因此，在根目录下的<code>models</code>文件夹中创建一个名为<code>models</code>的文件夹，创建一个名为<code>Book.js</code>的文件，并用下面的代码更新它:</p>
<pre class="language-javascript hljs">// models/Book.js

const mongoose = require('mongoose');

const BookSchema = new mongoose.Schema({
  title: {
    type: String,
    required: true
  },
  isbn: {
    type: String,
    required: true
  },
  author: {
    type: String,
    required: true
  },
  description: {
    type: String
  },
  published_date: {
    type: Date
  },
  publisher: {
    type: String
  },
  updated_date: {
    type: Date,
    default: Date.now
  }
});

module.exports = Book = mongoose.model('book', BookSchema);
</pre>
<p>接下来运行项目，看看此时是否一切正常，可以通过<a href="https://blog.logrocket.com/how-automate-api-tests-postman/"> Postman </a>测试所有API。需要注意的是，在使用Postman测试API之前，您需要首先运行项目。</p>
<h3 id="authentication-authorization">认证和授权</h3>
<p><a href="https://blog.logrocket.com/adding-login-authentication-secure-react-apps/">认证和授权</a>是web应用的重要组成部分。认证是验证自称是谁的人的过程。授权是检查用户访问级别的方法。</p>
<p>当使用Node.js后端和React前端时，大多数时候，开发人员倾向于使用<a href="https://blog.logrocket.com/jwt-authentication-best-practices/"> JWT </a>作为认证方法。JWT代表JSON Web令牌。jwt是编码的URL安全字符串，可以保存无限量的数据。</p>
<p>在大多数情况下，React前端会向后端发送一个JWT。后端验证令牌，如果令牌有效，后端执行所需的操作。请观看下面的视频，了解有关在您的应用中实现身份验证的更多信息:</p>
<p><span class="embed-youtube"> <iframe loading="lazy" class="youtube-player" src="https://www.youtube.com/embed/R7ZkUWe52-c?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation">视频</iframe> </span></p>
<h2 id="building-frontend">构建前端</h2>
<p>到目前为止，一切顺利！既然我们已经设置了我们的后端，是时候过渡到这个MERN堆栈教程的前端部分了。在这一节中，我们将使用React来构建我们的用户界面。我们将使用<a href="https://blog.logrocket.com/getting-started-with-create-react-app-d93147444a27/"> Create React App </a>生成我们的初始文件设置。</p>
<p>我们还将使用<a href="https://blog.logrocket.com/snowpack-vs-webpack-build-tool-comparison/"> webpack </a>和<a href="https://blog.logrocket.com/babel-vs-typescript/"> Babel </a>来分别捆绑我们的模块和编译我们的JavaScript。如果你不太了解webpack或者Babel，没问题；你不需要安装或配置像webpack或Babel这样的工具。它们是预先配置和隐藏的，因此您可以专注于代码。</p>
<p>只要创建一个项目，你就可以开始了。您还需要在本地开发机器上安装高于8.10版的Node.js和高于5.6版的npm。</p>
<h3 id="create-react-app">设置创建React应用程序</h3>
<p>使用终端设置您想要保存该项目的所有文件的任何目录，并运行<code>$ npx create-react-app my-app</code>以获得初始设置文件。</p>
<p>您可以用您喜欢的项目名称来替换<code>my-app</code>。比如我的项目名是<code>mern_a_to_z_client</code>，我的命令是<code>$ npx create-react-app mern_a_to_z_client</code>。</p>
<blockquote><p>注意:项目名称必须是小写字母。如果一切正常，您将会看到类似下图的内容，在这里您会找到一些指令和命令:</p></blockquote>
<p><img data-attachment-id="151002" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-create-react-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png" data-orig-size="730,383" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack project successfully created in Create React App" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png" decoding="async" class="aligncenter size-full wp-image-151002 jetpack-lazy-image" src="../Images/6c8e66c0f630fedb785326d09860ec5b.png" alt="MERN Stack Project Successfully Created in Create React App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app-300x157.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151002" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-create-react-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png" data-orig-size="730,383" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack project successfully created in Create React App" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151002" src="../Images/6c8e66c0f630fedb785326d09860ec5b.png" alt="MERN Stack Project Successfully Created in Create React App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app-300x157.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-create-react-app.png"/></noscript>
<p>在使用任何内置命令之前，我们需要使用<code>$ cd mern_a_to_z_client</code>进入项目文件夹。</p>
<p>现在我们在项目目录中，我们可以使用这些可用的命令。如果你使用纱线，输入<code>$ yarn start</code>。如果您使用npm，请使用<code>$ npm start</code>。</p>
<p>要在开发模式下运行应用程序，您可以使用上述任何命令，您将在终端中看到以下消息:</p>
<p><img data-attachment-id="151004" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-running/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack running" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png" decoding="async" class="aligncenter size-full wp-image-151004 jetpack-lazy-image" src="../Images/1c3ed9c1e88e2e9b91ea1662ce2386b1.png" alt="MERN Stack Running" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running-300x140.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151004" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-running/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack running" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151004" src="../Images/1c3ed9c1e88e2e9b91ea1662ce2386b1.png" alt="MERN Stack Running" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running-300x140.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-running.png"/></noscript>
<p>现在，打开<code><a href="http://localhost:3000" rel="nofollow">http://localhost:3000</a></code>在浏览器中查看。如果您对代码进行了更改，此页面将自动重新加载:</p>
<p><img data-attachment-id="151006" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/react-app-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png" data-orig-size="730,470" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React app browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png" decoding="async" class="aligncenter size-full wp-image-151006 jetpack-lazy-image" src="../Images/26d328496f858a9958af6e89e18342c3.png" alt="React App Browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser-300x193.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151006" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/react-app-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png" data-orig-size="730,470" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React app browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151006" src="../Images/26d328496f858a9958af6e89e18342c3.png" alt="React App Browser" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser-300x193.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/react-app-browser.png"/></noscript>
<p>在项目目录中，我们的初始文件结构应该如下所示:</p>
<p><img data-attachment-id="151008" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png" data-orig-size="730,509" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder-300x209.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png" decoding="async" class="aligncenter size-full wp-image-151008 jetpack-lazy-image" src="../Images/df2be42e8433a7f6f6eccd5f5d9b5857.png" alt="MERN Stack Folder" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder-300x209.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151008" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-folder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png" data-orig-size="730,509" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack folder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder-300x209.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151008" src="../Images/df2be42e8433a7f6f6eccd5f5d9b5857.png" alt="MERN Stack Folder" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder-300x209.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-folder.png"/></noscript>
<h3 id="bootstrap-react-app">在React应用程序中添加引导程序和字体</h3>
<p>我们已经得到了前端部分的初始设置文件。现在，我们可以开始集成我们的后端和前端。在此之前，我想在我们的项目中加入<a href="https://blog.logrocket.com/comparing-tailwind-css-bootstrap-time-ditch-ui-kits/"> Bootstrap </a>和<a href="https://cdn.fontawesome.com/"> Font Awesome的CDN </a>。</p>
<p>打开名为<code>index.html</code>的文件，该文件位于公共文件夹<code>mern_a_to_z_client/public/index.html</code>中，并用以下代码替换所有内容:</p>
<pre class="language-html hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
    &lt;meta name="theme-color" content="#000000" /&gt;
    &lt;!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    --&gt;
    &lt;link rel="manifest" href="%PUBLIC_URL%/manifest.json" /&gt;
    &lt;!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    --&gt;

    &lt;!-- bootstrap css cdn --&gt;
    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"&gt;

    &lt;!-- fontawesome cdn --&gt;
    &lt;link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous"&gt;

    &lt;title&gt;MERN A to Z&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the &lt;body&gt; tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    --&gt;

    &lt;!-- bootstrap JS cdn --&gt;
    &lt;script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"&gt;&lt;/script&gt;
    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"&gt;&lt;/script&gt;
    &lt;script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"&gt;&lt;/script&gt;

  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>我们的前端将具有以下特点:</p>
<ol>
<li>添加、创建或保存新书</li>
<li>显示我们存储在数据库中的所有书籍</li>
<li>显示单本书</li>
<li>更新书籍</li>
<li>删除一本书</li>
</ol>
<p>现在，使用以下命令添加一些必要的依赖项:</p>
<pre class="language-shell hljs">$ npm install --save react-router-dom
$ npm install --save axios
</pre>
<h2 id="why-axios">为什么选择Axios？</h2>
<p><a href="https://blog.logrocket.com/how-to-make-http-requests-like-a-pro-with-axios/"> Axios </a>是Node.js和浏览器的轻量级HTTP客户端，<a href="https://blog.logrocket.com/axios-vs-fetch-best-http-requests/">类似于Fetch API </a>。Axios是一个基于promise的异步/等待库，用于可读的异步代码。我们可以很容易地将它与React集成，并且在任何前端框架中使用它都毫不费力。我们将通过Axios调用我们的API。</p>
<p>Axios被广泛使用有多重原因。Axios最大的好处之一就是向后兼容。IE11之类的老浏览器也可以轻松运行Axios，因为软件包在引擎盖下发布了<code>XMLHttpRequest</code>。</p>
<p>当<a href="https://blog.logrocket.com/understanding-axios-post-requests/">发送一个请求</a>时，Axios也会自动将有效负载字符串化。但是，当您使用Fetch API时，将有效负载转换为JSON是很重要的。</p>
<h2 id="package-json"><code>Package.json</code>文件</h2>
<p>此时，我们的<code>package.json</code>文件应该与下面的代码类似(但可以不同):</p>
<pre class="language-javascript hljs">// MERN_A_to_Z_Client - package.json

{
  "name": "mern_a_to_z_client",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^13.5.0",
    "axios": "^1.2.1",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.4.5",
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      "&gt;0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
</pre>
<h3 id="component-file">创建组件文件</h3>
<p>在<code>src</code>文件夹(<code>mern_a_to_z_client/src/</code>)中，创建另一个名为<code>components</code>的文件夹，并在其中创建五个不同的文件:</p>
<ol>
<li><code>CreateBook.js</code></li>
<li><code>ShowBookList.js</code></li>
<li><code>BookCard.js</code></li>
<li><code>ShowBookDetails.js</code></li>
<li><code>UpdateBookInfo.js</code></li>
</ol>
<p>稍后我们将处理这五个文件。</p>
<h2 id="functional-components-react-hook">功能组件和反应挂钩</h2>
<p>React功能组件是框架中相对较新的组件。以前，我们只有基于类的组件。React中的一个功能组件本质上是一个JavaScript函数，它返回React元素或JSX。可以使用传统的关键字或箭头函数来编写功能组件。道具是基于函数参数的。功能组件只有在导出后才能用于其他文件:</p>
<pre class="language-javascript hljs">function Hello(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}

export default Welcome;
</pre>
<p>上面显示的函数是一个有效的React功能组件。在本教程中，我们将使用React功能组件。要更深入地了解React功能组件，请查看这篇文章以了解更多信息。</p>
<p>在<a href="https://blog.logrocket.com/migrating-react-router-v6-guide/"> React v16.8之前，</a>开发者只被允许管理状态，以及基于类的组件中的其他React特性。在React v16.8中，React团队引入了<a href="https://blog.logrocket.com/create-your-own-custom-react-hooks/">钩子</a>。钩子允许开发人员管理功能组件内部的代码和其他React特性。</p>
<p>查看我们的<a href="https://blog.logrocket.com/react-hooks-cheat-sheet-unlock-solutions-to-common-problems-af4caf699e70/">备忘单</a>获取更多关于React钩子的信息。</p>
<h2 id="routes">设置路线</h2>
<p>打开<code>src</code>文件夹(<code>mern_a_to_z_client/src/App.js</code>)内的<code>App.js</code>文件夹，替换为以下代码:</p>
<pre class="language-javascript hljs">import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';
import './App.css';

import CreateBook from './components/CreateBook';
import ShowBookList from './components/ShowBookList';
import ShowBookDetails from './components/ShowBookDetails';
import UpdateBookInfo from './components/UpdateBookInfo';

const App = () =&gt; {
  return (
    &lt;Router&gt;
      &lt;div&gt;
        &lt;Routes&gt;
          &lt;Route exact path='/' element={&lt;ShowBookList /&gt;} /&gt;
          &lt;Route path='/create-book' element={&lt;CreateBook /&gt;} /&gt;
          &lt;Route path='/edit-book/:id' element={&lt;UpdateBookInfo /&gt;} /&gt;
          &lt;Route path='/show-book/:id' element={&lt;ShowBookDetails /&gt;} /&gt;
        &lt;/Routes&gt;
      &lt;/div&gt;
    &lt;/Router&gt;
  );
};

export default App;
</pre>
<p>在这里，我们定义所有的<code>routes</code>。对于特定的路径定义，将呈现其对应的组件。我们还没有实现这些文件和组件——我们刚刚完成路径设置。</p>
<h3 id="css-file">更新CSS文件</h3>
<p>接下来，用以下代码更新<code>src</code>文件夹中名为<code>App.css</code>的CSS文件:</p>
<pre class="language-css hljs">.App {
  text-align: center;
}

.App-logo {
  animation: App-logo-spin infinite 20s linear;
  height: 40vmin;
  pointer-events: none;
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.CreateBook {
  background-color: #2c3e50;
  min-height: 100vh;
  color: white;
}

.ShowBookDetails {
  background-color: #2c3e50;
  min-height: 100vh;
  color: white;
}

.UpdateBookInfo {
  background-color: #2c3e50;
  min-height: 100vh;
  color: white;
}

.ShowBookList {
  background-color: #2c3e50;
  height: 100%;
  width: 100%;
  min-height: 100vh;
  min-width: 100px;
  color: white;
}

/* BookList Styles */
.list {
  display: grid;
  margin: 20px 0 50px 0;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 1fr;
  grid-gap: 2em;
}

.card-container {
  width: 250px;
  border: 1px solid rgba(0,0,.125);
  margin: 0 auto;
  border-radius: 5px;
  overflow: hidden;
}

.desc {
  height: 130px;
  padding: 10px;
}

.desc h2 {
  font-size: 1em;
  font-weight: 400;
}

.desc h3, p {
  font-weight: 300;
}

.desc h3 {
  color: #6c757d;
  font-size: 1em;
  padding: 10px 0 10px 0;
}
</pre>
<h2 id="feature-components">添加我们的功能组件</h2>
<p>现在，是时候将特性组件添加到我们的MERN堆栈项目中了。我们的<code>CreateBook.js</code>文件负责添加、创建或保存一本新书或一本书的信息。</p>
<h3><code>CreateBook.js</code></h3>
<p>因此，用下面的代码更新<code>CreateBook.js</code>:</p>
<pre class="language-javascript hljs">import React, { useState } from 'react';
import { Link } from 'react-router-dom';
import axios from 'axios';

import { useNavigate } from 'react-router-dom';

const CreateBook = (props) =&gt; {
  // Define the state with useState hook
  const navigate = useNavigate();
  const [book, setBook] = useState({
    title: '',
    isbn: '',
    author: '',
    description: '',
    published_date: '',
    publisher: '',
  });

  const onChange = (e) =&gt; {
    setBook({ ...book, [e.target.name]: e.target.value });
  };

  const onSubmit = (e) =&gt; {
    e.preventDefault();

    axios
      .post('http://localhost:8082/api/books', book)
      .then((res) =&gt; {
        setBook({
          title: '',
          isbn: '',
          author: '',
          description: '',
          published_date: '',
          publisher: '',
        });

        // Push to /
        navigate('/');
      })
      .catch((err) =&gt; {
        console.log('Error in CreateBook!');
      });
  };

  return (
    &lt;div className='CreateBook'&gt;
      &lt;div className='container'&gt;
        &lt;div className='row'&gt;
          &lt;div className='col-md-8 m-auto'&gt;
            &lt;br /&gt;
            &lt;Link to='/' className='btn btn-outline-warning float-left'&gt;
              Show BooK List
            &lt;/Link&gt;
          &lt;/div&gt;
          &lt;div className='col-md-8 m-auto'&gt;
            &lt;h1 className='display-4 text-center'&gt;Add Book&lt;/h1&gt;
            &lt;p className='lead text-center'&gt;Create new book&lt;/p&gt;

            &lt;form noValidate onSubmit={onSubmit}&gt;
              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Title of the Book'
                  name='title'
                  className='form-control'
                  value={book.title}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;
              &lt;br /&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='ISBN'
                  name='isbn'
                  className='form-control'
                  value={book.isbn}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Author'
                  name='author'
                  className='form-control'
                  value={book.author}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Describe this book'
                  name='description'
                  className='form-control'
                  value={book.description}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='date'
                  placeholder='published_date'
                  name='published_date'
                  className='form-control'
                  value={book.published_date}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;
              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Publisher of this Book'
                  name='publisher'
                  className='form-control'
                  value={book.publisher}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;input
                type='submit'
                className='btn btn-outline-warning btn-block mt-4'
              /&gt;
            &lt;/form&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};

export default CreateBook;
</pre>
<h3><code>ShowBookList.js</code></h3>
<p>组件将负责显示我们已经存储在数据库中的所有书籍。用此代码更新<code>ShowBookList.js</code>:</p>
<pre class="language-javascript hljs">import React, { useState, useEffect } from 'react';
import '../App.css';
import axios from 'axios';
import { Link } from 'react-router-dom';
import BookCard from './BookCard';

function ShowBookList() {
  const [books, setBooks] = useState([]);

  useEffect(() =&gt; {
    axios
      .get('http://localhost:8082/api/books')
      .then((res) =&gt; {
        setBooks(res.data);
      })
      .catch((err) =&gt; {
        console.log('Error from ShowBookList');
      });
  }, []);

  const bookList =
    books.length === 0
      ? 'there is no book record!'
      : books.map((book, k) =&gt; &lt;BookCard book={book} key={k} /&gt;);

  return (
    &lt;div className='ShowBookList'&gt;
      &lt;div className='container'&gt;
        &lt;div className='row'&gt;
          &lt;div className='col-md-12'&gt;
            &lt;br /&gt;
            &lt;h2 className='display-4 text-center'&gt;Books List&lt;/h2&gt;
          &lt;/div&gt;

          &lt;div className='col-md-11'&gt;
            &lt;Link
              to='/create-book'
              className='btn btn-outline-warning float-right'
            &gt;
              + Add New Book
            &lt;/Link&gt;
            &lt;br /&gt;
            &lt;br /&gt;
            &lt;hr /&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className='list'&gt;{bookList}&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default ShowBookList;
</pre>
<h3><code>BookCard.js</code></h3>
<p>这里，我们使用一个名为<code>BookCard.js</code>的功能组件，它从<code>ShowBookList.js</code>获取一本书的信息，并为每本书制作一张卡片。编写以下代码来更新您的<code>BookCard.js</code>文件:</p>
<pre class="language-javascript hljs">import React from 'react';
import { Link } from 'react-router-dom';
import '../App.css';

const BookCard = (props) =&gt; {
  const book = props.book;

  return (
    &lt;div className='card-container'&gt;
      &lt;img
        src='https://images.unsplash.com/photo-1495446815901-a7297e633e8d'
        alt='Books'
        height={200}
      /&gt;
      &lt;div className='desc'&gt;
        &lt;h2&gt;
          &lt;Link to={`/show-book/${book._id}`}&gt;{book.title}&lt;/Link&gt;
        &lt;/h2&gt;
        &lt;h3&gt;{book.author}&lt;/h3&gt;
        &lt;p&gt;{book.description}&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};

export default BookCard;
</pre>
<blockquote><p>注意:在这里，我对每本书都使用了相同的<code>img src</code>，因为每本书各自的图像可能并不总是可用的。改变图像来源，你也可以为每本书使用不同的图像。</p></blockquote>
<p>组件只有一个任务:显示我们拥有的任何一本书的所有信息。我们在这里有<code>delete</code>和<code>edit</code>按钮来访问:</p>
<pre class="language-javascript hljs">import React, { useState, useEffect } from 'react';
import { Link, useParams, useNavigate } from 'react-router-dom';
import '../App.css';
import axios from 'axios';

function ShowBookDetails(props) {
  const [book, setBook] = useState({});

  const { id } = useParams();
  const navigate = useNavigate();

  useEffect(() =&gt; {
    axios
      .get(`http://localhost:8082/api/books/${id}`)
      .then((res) =&gt; {
        setBook(res.data);
      })
      .catch((err) =&gt; {
        console.log('Error from ShowBookDetails');
      });
  }, [id]);

  const onDeleteClick = (id) =&gt; {
    axios
      .delete(`http://localhost:8082/api/books/${id}`)
      .then((res) =&gt; {
        navigate('/');
      })
      .catch((err) =&gt; {
        console.log('Error form ShowBookDetails_deleteClick');
      });
  };

  const BookItem = (
    &lt;div&gt;
      &lt;table className='table table-hover table-dark'&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;1&lt;/th&gt;
            &lt;td&gt;Title&lt;/td&gt;
            &lt;td&gt;{book.title}&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;2&lt;/th&gt;
            &lt;td&gt;Author&lt;/td&gt;
            &lt;td&gt;{book.author}&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;3&lt;/th&gt;
            &lt;td&gt;ISBN&lt;/td&gt;
            &lt;td&gt;{book.isbn}&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;4&lt;/th&gt;
            &lt;td&gt;Publisher&lt;/td&gt;
            &lt;td&gt;{book.publisher}&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;5&lt;/th&gt;
            &lt;td&gt;Published Date&lt;/td&gt;
            &lt;td&gt;{book.published_date}&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;th scope='row'&gt;6&lt;/th&gt;
            &lt;td&gt;Description&lt;/td&gt;
            &lt;td&gt;{book.description}&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  );

  return (
    &lt;div className='ShowBookDetails'&gt;
      &lt;div className='container'&gt;
        &lt;div className='row'&gt;
          &lt;div className='col-md-10 m-auto'&gt;
            &lt;br /&gt; &lt;br /&gt;
            &lt;Link to='/' className='btn btn-outline-warning float-left'&gt;
              Show Book List
            &lt;/Link&gt;
          &lt;/div&gt;
          &lt;br /&gt;
          &lt;div className='col-md-8 m-auto'&gt;
            &lt;h1 className='display-4 text-center'&gt;Book's Record&lt;/h1&gt;
            &lt;p className='lead text-center'&gt;View Book's Info&lt;/p&gt;
            &lt;hr /&gt; &lt;br /&gt;
          &lt;/div&gt;
          &lt;div className='col-md-10 m-auto'&gt;{BookItem}&lt;/div&gt;
          &lt;div className='col-md-6 m-auto'&gt;
            &lt;button
              type='button'
              className='btn btn-outline-danger btn-lg btn-block'
              onClick={() =&gt; {
                onDeleteClick(book._id);
              }}
            &gt;
              Delete Book
            &lt;/button&gt;
          &lt;/div&gt;
          &lt;div className='col-md-6 m-auto'&gt;
            &lt;Link
              to={`/edit-book/${book._id}`}
              className='btn btn-outline-info btn-lg btn-block'
            &gt;
              Edit Book
            &lt;/Link&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default ShowBookDetails;
</pre>
<h3><code>UpdateBookInfo.js</code></h3>
<p><code>UpdateBookInfo.js</code>顾名思义，负责更新一本书的信息。一个<strong>编辑书</strong>按钮将触发这个组件执行。点击<strong>编辑书籍</strong>后，我们会看到一个包含旧信息的表单，我们可以编辑或替换它:</p>
<pre class="language-javascript hljs">import React, { useState, useEffect } from 'react';
import { Link, useParams, useNavigate } from 'react-router-dom';
import axios from 'axios';
import '../App.css';

function UpdateBookInfo(props) {
  const [book, setBook] = useState({
    title: '',
    isbn: '',
    author: '',
    description: '',
    published_date: '',
    publisher: '',
  });

  const { id } = useParams();
  const navigate = useNavigate();

  useEffect(() =&gt; {
    axios
      .get(`http://localhost:8082/api/books/${id}`)
      .then((res) =&gt; {
        setBook({
          title: res.data.title,
          isbn: res.data.isbn,
          author: res.data.author,
          description: res.data.description,
          published_date: res.data.published_date,
          publisher: res.data.publisher,
        });
      })
      .catch((err) =&gt; {
        console.log('Error from UpdateBookInfo');
      });
  }, [id]);

  const onChange = (e) =&gt; {
    setBook({ ...book, [e.target.name]: e.target.value });
  };

  const onSubmit = (e) =&gt; {
    e.preventDefault();

    const data = {
      title: book.title,
      isbn: book.isbn,
      author: book.author,
      description: book.description,
      published_date: book.published_date,
      publisher: book.publisher,
    };

    axios
      .put(`http://localhost:8082/api/books/${id}`, data)
      .then((res) =&gt; {
        navigate(`/show-book/${id}`);
      })
      .catch((err) =&gt; {
        console.log('Error in UpdateBookInfo!');
      });
  };

  return (
    &lt;div className='UpdateBookInfo'&gt;
      &lt;div className='container'&gt;
        &lt;div className='row'&gt;
          &lt;div className='col-md-8 m-auto'&gt;
            &lt;br /&gt;
            &lt;Link to='/' className='btn btn-outline-warning float-left'&gt;
              Show BooK List
            &lt;/Link&gt;
          &lt;/div&gt;
          &lt;div className='col-md-8 m-auto'&gt;
            &lt;h1 className='display-4 text-center'&gt;Edit Book&lt;/h1&gt;
            &lt;p className='lead text-center'&gt;Update Book's Info&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className='col-md-8 m-auto'&gt;
          &lt;form noValidate onSubmit={onSubmit}&gt;
            &lt;div className='form-group'&gt;
              &lt;label htmlFor='title'&gt;Title&lt;/label&gt;
              &lt;input
                type='text'
                placeholder='Title of the Book'
                name='title'
                className='form-control'
                value={book.title}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;div className='form-group'&gt;
              &lt;label htmlFor='isbn'&gt;ISBN&lt;/label&gt;
              &lt;input
                type='text'
                placeholder='ISBN'
                name='isbn'
                className='form-control'
                value={book.isbn}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;div className='form-group'&gt;
              &lt;label htmlFor='author'&gt;Author&lt;/label&gt;
              &lt;input
                type='text'
                placeholder='Author'
                name='author'
                className='form-control'
                value={book.author}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;div className='form-group'&gt;
              &lt;label htmlFor='description'&gt;Description&lt;/label&gt;
              &lt;textarea
                type='text'
                placeholder='Description of the Book'
                name='description'
                className='form-control'
                value={book.description}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;div className='form-group'&gt;
              &lt;label htmlFor='published_date'&gt;Published Date&lt;/label&gt;
              &lt;input
                type='text'
                placeholder='Published Date'
                name='published_date'
                className='form-control'
                value={book.published_date}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;div className='form-group'&gt;
              &lt;label htmlFor='publisher'&gt;Publisher&lt;/label&gt;
              &lt;input
                type='text'
                placeholder='Publisher of the Book'
                name='publisher'
                className='form-control'
                value={book.publisher}
                onChange={onChange}
              /&gt;
            &lt;/div&gt;
            &lt;br /&gt;

            &lt;button
              type='submit'
              className='btn btn-outline-info btn-lg btn-block'
            &gt;
              Update Book
            &lt;/button&gt;
          &lt;/form&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default UpdateBookInfo;
</pre>
<h2 id="frontend-backend">将前端连接并运行到后端</h2>
<p>我们刚刚实现了所有的组件！现在，我们需要对我们的服务器端后端项目做一点改变。</p>
<p>如果我们试图从前端部分调用我们的后端API，它会得到一个错误:</p>
<pre class="prettyprint">"Access to XMLHttpRequest at 'http://localhost:8082/api/books' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource."
</pre>
<p>为了解决这个问题，我们需要在我们的后端服务器端项目中安装<code>cors</code>。转到项目文件夹并运行<code>$ npm install cors</code>。</p>
<p>现在，用下面的代码更新后端的入口点<code>app.js</code>:</p>
<pre class="language-javascript hljs">// app.js

const express = require('express');
const connectDB = require('./config/db');
const cors = require('cors');

// routes
const books = require('./routes/api/books');

const app = express();

// Connect Database
connectDB();

// cors
app.use(cors({ origin: true, credentials: true }));

// Init Middleware
app.use(express.json({ extended: false }));

app.get('/', (req, res) =&gt; res.send('Hello world!'));

// use Routes
app.use('/api/books', books);

const port = process.env.PORT || 8082;

app.listen(port, () =&gt; console.log(`Server running on port ${port}`));
</pre>
<p>添加这一行也很重要，<code>app.use(express.json({ extended: false }));</code>。<code>express.json</code>方法允许Express读取使用<code>POST</code>或<code>PUT</code>请求发送的数据。它用于将传入的对象识别为JSON对象。</p>
<h3>运行前端和后端</h3>
<p>按照下面的步骤运行我们的MERN堆栈示例的前端和后端。</p>
<p>首先，运行服务器(在项目文件夹中):</p>
<pre class="language-shell hljs">$ npm run app
</pre>
<p>如果出现任何错误，请遵循以下命令(在项目文件夹中):</p>
<pre class="language-shell hljs">$ npm install
$ npm run app
</pre>
<p>要运行客户端，请从前端项目目录运行以下命令:</p>
<pre class="language-shell hljs">$ npm start
</pre>
<p>如果再次出现错误，请遵循以下相同的命令:</p>
<pre class="language-shell hljs">$ npm install
$ npm start
</pre>
<h2 id="testing-mern-stack-browser">在浏览器中测试我们的MERN堆栈应用</h2>
<p>让我们在浏览器中检查所有内容。在浏览器中打开<a href="http://localhost:3000/"> http://localhost:3000 </a>。现在，您可以添加图书、删除图书、显示图书列表以及编辑图书。下列路线应相应执行:</p>
<p><strong>添加新书:</strong></p>
<p><a href="http://localhost:3000/create-book">http://localhost:3000/create-book</a></p>
<p><img data-attachment-id="151012" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-add-book/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png" data-orig-size="730,649" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books one" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book-300x267.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png" decoding="async" class="aligncenter size-full wp-image-151012 jetpack-lazy-image" src="../Images/b0e14c989e70382548df474912874966.png" alt="MERN Stack Books One" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book-300x267.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151012" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-add-book/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png" data-orig-size="730,649" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books one" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book-300x267.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151012" src="../Images/b0e14c989e70382548df474912874966.png" alt="MERN Stack Books One" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book-300x267.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-add-book.png"/></noscript>
<p><strong>显示图书列表:</strong></p>
<p><a href="http://localhost:3000/"> http://localhost:3000/ </a></p>
<p><img data-attachment-id="151014" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg" data-orig-size="730,547" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="MERN stack books two" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list-300x225.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg" decoding="async" class="aligncenter size-full wp-image-151014 jetpack-lazy-image" src="../Images/d0e80a61280107e2178dc2e9cf3a5e53.png" alt="MERN Stack Books Two" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list-300x225.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151014" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-list/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg" data-orig-size="730,547" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="MERN stack books two" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list-300x225.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151014" src="../Images/d0e80a61280107e2178dc2e9cf3a5e53.png" alt="MERN Stack Books Two" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list-300x225.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-list.jpeg"/></noscript>
<p><strong>显示任意一本书的信息:</strong></p>
<p><a href="http://localhost:3000/show-book/:id">http://localhost:3000/show-book/:id</a></p>
<p><img data-attachment-id="151016" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-info/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png" data-orig-size="730,685" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books three" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info-300x282.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png" decoding="async" class="aligncenter size-full wp-image-151016 jetpack-lazy-image" src="../Images/5dd5186355e5342fdeae3c4b2d1cf926.png" alt="MERN Stack Books Three" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info-300x282.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151016" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-info/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png" data-orig-size="730,685" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books three" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info-300x282.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151016" src="../Images/5dd5186355e5342fdeae3c4b2d1cf926.png" alt="MERN Stack Books Three" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info-300x282.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-info.png"/></noscript>
<p><strong>更新图书信息:</strong></p>
<p><a href="http://localhost:3000/edit-book/:id">http://localhost:3000/edit-book/:id</a></p>
<p><img data-attachment-id="151018" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-edit/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png" data-orig-size="730,781" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books four" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png" decoding="async" class="aligncenter size-full wp-image-151018 jetpack-lazy-image" src="../Images/7b46a144cca4ef71bb26d0d2472f7902.png" alt="MERN Stack Books Four" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit-280x300.png 280w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="151018" data-permalink="https://blog.logrocket.com/mern-stack-tutorial/attachment/mern-stack-book-edit/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png" data-orig-size="730,781" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MERN stack books four" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit-280x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-151018" src="../Images/7b46a144cca4ef71bb26d0d2472f7902.png" alt="MERN Stack Books Four" srcset="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit-280x300.png 280w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/02/mern-stack-book-edit.png"/></noscript>
<h2>结论</h2>
<p>恭喜你！您已经成功完成了本MERN堆栈教程。你可以访问我的GitHub来查看这个MERN堆栈教程的<a href="https://github.com/nemo0/mern_a_to_z/tree/main/mern_a_to_z_server">服务器端</a>和<a href="https://github.com/nemo0/mern_a_to_z/tree/main/mern_a_to_z_client">客户端</a>部分。你也可以在这里找到我们的MERN堆栈示例应用<a href="https://github.com/nemo0/mern_a_to_z">的完整回购。</a></p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>