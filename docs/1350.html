<html>
<head>
<title>Creating a Google Keep clone with React and Firebase - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用React和Firebase - LogRocket博客创建Google Keep克隆</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/#0001-01-01">https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在本文中，我们将使用React、React Hooks、样式化组件和Firebase创建一个Google Keep的克隆。Google Keep是一款笔记应用，我们将复制的一些功能包括创建笔记并将其存储在Firebase中。</p>
<p>这是我们将要实现的目标:<a href="https://keep-react-clone.netlify.app/" target="_blank" rel="noopener noreferrer">keep-react-clone . net lify . app</a>。</p>
<h2>先决条件</h2>
<p>你需要React(功能组件)、React钩子和JavaScript的基础知识。</p>
<p>另外，确保你的机器上安装了<a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">节点&gt; = 8.10和npm &gt; = 5.6 </a>。你可以在这里安装<a href="https://nodejs.org/" target="_blank" rel="noopener noreferrer"> Node.js。</a></p>
<h2>我们开始吧</h2>
<p>首先，让我们创建一个React应用程序:</p>
<pre>npx create-react-app google-keep-clone
cd google-keep-clone</pre>
<p>现在我们将安装Firebase:</p>
<pre>npm install --save firebase</pre>
<p>还安装样式组件:</p>
<pre>npm install --save styled-components</pre>
<p>要创建Firebase项目，请打开<a href="https://console.firebase.google.com/" target="_blank" rel="noopener noreferrer"> firebase控制台</a>，登录并点击“添加项目”创建一个项目</p>
<p><img data-attachment-id="29724" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/create-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="create-Project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png" decoding="async" class="aligncenter wp-image-29724 jetpack-lazy-image" src="../Images/23a4b96d9db19068134ba2d0930df818.png" alt="The page to create a project in Firebase." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png 730w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29724" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/create-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="create-Project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png" decoding="async" loading="lazy" class="aligncenter wp-image-29724" src="../Images/23a4b96d9db19068134ba2d0930df818.png" alt="The page to create a project in Firebase." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project.png 730w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/create-Project-300x135.png"/></noscript>
<p>然后填写您的项目名称:</p>
<p><img data-attachment-id="29725" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/naming-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png" data-orig-size="730,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Naming-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png" decoding="async" class="aligncenter wp-image-29725 jetpack-lazy-image" src="../Images/61ffda2c61c59d033151d727eaeeefaa.png" alt="Name-your-project.png" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png 730w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29725" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/naming-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png" data-orig-size="730,331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Naming-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png" decoding="async" loading="lazy" class="aligncenter wp-image-29725" src="../Images/61ffda2c61c59d033151d727eaeeefaa.png" alt="Name-your-project.png" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project.png 730w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Naming-project-300x136.png"/></noscript>
<p>在下一页，您可以决定启用Google Analytics:</p>
<p><img data-attachment-id="29726" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/google-firebsae/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google-firebsae" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png" decoding="async" class="aligncenter wp-image-29726 jetpack-lazy-image" src="../Images/45909e77c6f0e224f2a9426ee42532e8.png" alt="Google Firebase." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png 730w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29726" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/google-firebsae/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png" data-orig-size="730,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Google-firebsae" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png" decoding="async" loading="lazy" class="aligncenter wp-image-29726" src="../Images/45909e77c6f0e224f2a9426ee42532e8.png" alt="Google Firebase." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae.png 730w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/Google-firebsae-300x135.png"/></noscript>
<p>最后，创建项目。</p>
<p>完成后，它会将您带到Firebase控制台:</p>
<p><img data-attachment-id="29727" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/configure-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png" data-orig-size="730,327" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="configure-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png" decoding="async" class="aligncenter wp-image-29727 jetpack-lazy-image" src="../Images/504bb24add6835c655f25e3d56fa54dc.png" alt="Configure analytics." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png 730w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29727" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/configure-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png" data-orig-size="730,327" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="configure-project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png" decoding="async" loading="lazy" class="aligncenter wp-image-29727" src="../Images/504bb24add6835c655f25e3d56fa54dc.png" alt="Configure analytics." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project.png 730w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/configure-project-300x134.png"/></noscript>
<p>在Firebase控制台上，单击项目概述旁边的设置图标，并导航到项目设置。</p>
<p>向下滚动到您的应用程序，然后单击web应用程序按钮:</p>
<p><img data-attachment-id="29728" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/there-are-no-apps-yet/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet.png" data-orig-size="1600,689" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="there-are-no-apps-yet" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1024x441.png" decoding="async" class="aligncenter wp-image-29728 jetpack-lazy-image" src="../Images/9ed98496bc70e48ae97816052b5855be.png" alt="Page in Firebase where you create and store your app." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1024x441.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-768x331.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1536x661.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet.png 1600w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29728" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/there-are-no-apps-yet/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet.png" data-orig-size="1600,689" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="there-are-no-apps-yet" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1024x441.png" decoding="async" loading="lazy" class="aligncenter wp-image-29728" src="../Images/9ed98496bc70e48ae97816052b5855be.png" alt="Page in Firebase where you create and store your app." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1024x441.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-768x331.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-1536x661.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet.png 1600w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/there-are-no-apps-yet-300x129.png"/></noscript>
<p>现在，您应该有一个打开的界面来注册web应用程序。填写昵称并点击按钮:</p>
<p><img data-attachment-id="29729" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/register-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png" data-orig-size="730,278" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png" decoding="async" class="aligncenter wp-image-29729 jetpack-lazy-image" src="../Images/4e0a33899854fefa6303172eb89978f6.png" alt="Register your app in Firebase. " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png 730w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29729" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/register-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png" data-orig-size="730,278" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="register-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png" decoding="async" loading="lazy" class="aligncenter wp-image-29729" src="../Images/4e0a33899854fefa6303172eb89978f6.png" alt="Register your app in Firebase. " srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/register-app.png 730w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/register-app-300x114.png"/></noscript>
<p>现在，它应该显示您的Firebase配置详细信息，复制脚本标记中的所有内容。</p>
<p>回到我们的代码，在您的src文件夹中创建一个Firebase.js文件，导入我们安装的Firebase，并将您从配置细节中获得的所有内容粘贴到脚本标记中。</p>
<p>不要忘记导出Firebase，因为这是您将要导入到React组件中的文件。</p>
<p>你应该有这样的东西:</p>
<pre>import firebase from 'firebase';
  const firebaseConfig = {
    apiKey: "xxxxxxxxxx",
    authDomain: "keep-react-clone.firebaseapp.com",
    databaseURL: "https://keep-react-clone.firebaseio.com",
    projectId: "keep-react-clone",
    storageBucket: "keep-react-clone.appspot.com",
    messagingSenderId: "xxxxxxxx",
    appId: "xxxxxxxxxx",
    measurementId: "xxxxxxx"
  };
 
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
  export default firebase</pre>
<p>注意:“xxxxxxxx”只是一个占位符，您的占位符将是实际的字符。</p>
<p>清除App.js中的默认设置，这样就只剩下React和CSS导入以及App组件了。</p>
<p>现在将Firebase文件导入其中:</p>
<pre>import firebase from ./firebase</pre>
<h2>构建布局</h2>
<p>让我们创建我们的标题。</p>
<p>这是我们想要实现的目标。这应该不会太难:</p>
<p><img data-attachment-id="29730" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/hello-world-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1.png" data-orig-size="1600,700" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello-world" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1024x448.png" decoding="async" class="aligncenter wp-image-29730 jetpack-lazy-image" src="../Images/ce04c9f40ee1466f88cea3b04fffdebd.png" alt="Our web page." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1024x448.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-768x336.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1536x672.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1.png 1600w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29730" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/hello-world-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1.png" data-orig-size="1600,700" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hello-world" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1024x448.png" decoding="async" loading="lazy" class="aligncenter wp-image-29730" src="../Images/ce04c9f40ee1466f88cea3b04fffdebd.png" alt="Our web page." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1024x448.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-768x336.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-1536x672.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1.png 1600w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/hello-world-1-300x131.png"/></noscript>
<p>让我们在components文件夹中创建一个Header.js文件(如果默认情况下没有看到components文件夹，请在src文件夹中创建它)。</p>
<p>我们将导入React和样式组件:</p>
<pre>import React from "react";
import styled from "styled-components";</pre>
<p>此外，导入您的徽标图像:</p>
<pre>import keepLogo from '../assets/keep-logo.png'
import reactLogo from '../logo.svg'
import firebaseLogo from '../assets/firebase-logo.png'</pre>
<p>之后，我们创建功能组件并将其导出:</p>
<pre>const Header = () =&gt; {
   return ();
  };
 
 export default Header;</pre>
<h2>使用样式化组件创建元素</h2>
<p>样式化组件帮助你在JavaScript中编写CSS。通过这种方式，您可以创建具有预定义样式的可重用元素。</p>
<p>要创建一个导航，用一些样式来包装我们的标题，我们只需创建一个变量。然后，我们在我们的CSS样式中以前面加有<code>styled.(name of element)</code>的<code>backtick:</code>来调用它的值。</p>
<p>它看起来会像这样:</p>
<pre>const Nav = styled.nav`
  display: flex;
  justify-content: space-between;
  align-items:center;
  padding: 4px 25px;
  border-bottom: 1px solid rgba(60, 64, 67, 0.2);
  `;</pre>
<p>对右端的徽标包装进行同样的操作:</p>
<pre>const ImgWrap = styled.div`
display: flex;
align-items:center;
`;</pre>
<p>我们的图像元素:</p>
<pre>const Img = styled.img`
width:40px;
height:40px;
`;</pre>
<p>有了这些，我们可以更新我们的头函数，如下所示:</p>
<pre>const Header = () =&gt; {
    return (
      &lt;Nav&gt;
        &lt;p&gt;Keep clone&lt;/p&gt;
        &lt;ImgWrap&gt;
          &lt;Img src={keepLogo} alt="Google keep logo" /&gt;
          &lt;p&gt;+&lt;/p&gt;
          &lt;Img src={reactLogo} alt="React logo"/&gt;
          &lt;p&gt;+&lt;/p&gt;
          &lt;Img src={firebaseLogo} alt="firebase logo"/&gt;
        &lt;/ImgWrap&gt;
      &lt;/Nav&gt;
    );
  };</pre>
<p>移动到应用程序的主体，让我们创建一个Main.js文件，并像上面那样导入React和styled组件。</p>
<p>然后，我们创建一个名为main的功能组件，在这里我们返回主HTML元素。</p>
<pre>const Main = () =&gt;{ 
   return(
      &lt;main&gt;
      &lt;/main&gt;
    )
  }
  export default Main</pre>
<p>接下来，我们创建一个表单，其中包含注释标题的输入和注释正文的文本区域。对于我们样式化的组件，我们将其命名为<code>NoteInput</code>。</p>
<pre>const NoteInput = styled.form`
  box-shadow: 0 1px 2px 0 rgba(60,64,67,.3),
    0 2px 6px 2px rgba(60,64,67,.15);
  width:600px;
  border-radius:8px;
  margin:20px auto;
  padding:20px;
  `</pre>
<p>然后是标题和文本区的样式。</p>
<pre>const Title = styled.input`
    border:none;
    color:#000;
    display:block;
    width:100%;
    font-size:18px;
    margin:10px 0;
    outline:none;
    &amp;::placeholder{
      color:#3c4043;
      opacity:1;
    }
  `</pre>
<pre>const TextArea = styled.textarea`
      border:none;
      color:#000;
      display:block;
      width:100%;
      font-family: 'Noto Sans', sans-serif;
      font-size:13px;
      font-weight:bold;
      outline:none;
      resize: none;
      overflow: hidden;
      min-height: 10px;
      &amp;::placeholder{
        color:#3c4043;
        opacity:1;
      }
  `</pre>
<blockquote><p>注意:我没有详细说明CSS样式，因为它们只是基本的样式，这篇文章的目的不是教CSS。</p></blockquote>
<p>让我们将我们的<code>NoteInput</code>、标题和文本区域添加到组件中:</p>
<pre>const Main = () =&gt;{ 
   return(
      &lt;main&gt;
       &lt;NoteInput action=""&gt;
         &lt;Title type="text" placeholder="Title"/&gt; 
         &lt;TextArea name="" id="" cols="30" rows="1" placeholder="Take a note..."/&gt;
        &lt;/NoteInput&gt;
      &lt;/main&gt;
    )
  }
  export default Main</pre>
<p>在我们的App.js文件中，我们必须导入Header和Main组件，以查看我们到目前为止所做的工作。我们还将导入<code>useState</code>和<code>UseEffect</code>，稍后我们会用到它们:</p>
<pre>import React, { useState, useEffect } from "react";
import Header from "./components/Header";
import Main from "./components/Main";</pre>
<p>您的浏览器中应该有这样的内容:</p>
<p><img data-attachment-id="29731" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/take-a-note/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note.png" data-orig-size="1600,378" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="take-a-note" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1024x242.png" decoding="async" class="aligncenter wp-image-29731 jetpack-lazy-image" src="../Images/ab9c546bb223832cbc63a67ceda9977f.png" alt="The Keep Google app." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1024x242.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-768x181.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1536x363.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note.png 1600w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29731" data-permalink="https://blog.logrocket.com/creating-a-google-keep-clone-with-react-and-firebase/take-a-note/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note.png" data-orig-size="1600,378" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="take-a-note" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1024x242.png" decoding="async" loading="lazy" class="aligncenter wp-image-29731" src="../Images/ab9c546bb223832cbc63a67ceda9977f.png" alt="The Keep Google app." srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1024x242.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-768x181.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-1536x363.png 1536w, https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note.png 1600w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/take-a-note-300x71.png"/></noscript>
<p>但是查看Google Keep应用程序，标题不会显示，直到你点击文本区域。为了实现这一点，我们将为<code>showInput</code>创建一个状态，并根据textarea是否被点击来切换它的值。</p>
<pre>const [showInput, setShowInput] = useState(false);</pre>
<p>让我们也为标题输入和文本区域创建状态:</p>
<pre>const [textValue, setTextValue] = useState('');
const [titleValue, setTitleValue] = useState('');</pre>
<p>然后，我们将把<code>showInput</code>、<code>textValue</code>、<code>titleValue</code>和它们的状态处理程序传递给主组件。</p>
<pre>&lt;Main
textValue = {textValue}
titleValue = {titleValue}
showInput={showInput}
onShowInput = {(state)=&gt;setShowInput(state)}
onTextChange = {(state)=&gt;setTextValue(state)}
onTitleChange = {state=&gt;setTitleValue(state)}
/&gt;</pre>
<p>在Main.js中，我们可以将道具传递到我们的功能组件中，并动态显示标题输入:</p>
<pre>{props.showInput ? &lt;Title type="text" name="" id="" 
 placeholder="Title" 
 value={props.titleValue}
 onFocus={()=&gt;props.onTitleFocus(true)}
 onBlur={()=&gt;props.onTitleFocus(false)}
 onChange={(e)=&gt;props.onTitleChange(e.target.value)}
 /&gt; : ''
 }</pre>
<p>我们还将为文本区域添加值和<code>onChange</code>事件，并将<code>showInput</code>设置为真<code>onFocus</code>。</p>
<pre>&lt;TextArea name="" id="" cols="30" rows="1" 
            placeholder="Take a note..." 
            value={props.textValue} 
            onFocus={()=&gt; {
              props.onShowInput(true);
            }}
            onChange={(e)=&gt;props.onTextChange(e.target.value)}
          /&gt;</pre>
<p>文本区域不会随着文本自动增长，所以为了确保这一点，我们创建了一个<code>autoGrow</code>函数</p>
<pre>const autoGrow = (elem) =&gt;{
      elem.current.style.height = "5px";
      elem.current.style.height = (10 + 
      elem.current.scrollHeight)+"px";
    }</pre>
<p>我们将使用<code>useRef</code>钩子将我们想要的元素传递给<code>autoGrow</code>函数。</p>
<p>要使用<code>useRef</code>，我们必须导入它，因此将您的导入更新为:</p>
<pre>import React, { useRef} from 'react'</pre>
<p>然后我们可以使用<code>useRef</code>钩子:</p>
<pre>const textAreaRef = useRef(null);</pre>
<p>我们将添加文本区域的ref值为<code>textAreaRef</code>:</p>
<pre>ref={textAreaRef}</pre>
<p>还要确保用<code>onFocus</code>，我们的ref被聚焦，用<code>onInput</code>，我们调用<code>autoGrow</code>函数。</p>
<p>这是我们现在更新的文本区:</p>
<pre>&lt;TextArea name="" id="" cols="30" rows="1" 
        placeholder="Take a note..." 
        value={props.textValue} onFocus={()=&gt; {
         props.onShowInput(true);
         textAreaRef.current.focus();
        }} onInput={()=&gt;autoGrow(textAreaRef)} ref={textAreaRef}  
        onChange={(e)=&gt;props.onTextChange(e.target.value)}
/&gt;</pre>
<p>Google Keep的工作方式是，当你点击文本框外部时，该注释会被添加到列表中。为了实现这一点，我们必须检查文本区域和标题输入是否被聚焦。</p>
<p>所以让我们回到App.js文件，创建两个新状态:<code>textFocused</code>和<code>titleFocused</code>。</p>
<pre>const [textFocused, setTextFocused] = useState(false);
const [titleFocused, setTitleFocused] = useState(false);</pre>
<p>像这样把它传递给你的主组件:</p>
<pre>onTextFocus={(state) =&gt; setTextFocused(state)}
onTitleFocus={(state)=&gt;setTitleFocused(state)}</pre>
<p>回到我们的Main.js来创建标题。它的<code>onFocus</code>事件将把<code>textFocused</code>设置为真，而<code>onBlur</code>将把<code>textFocused</code>设置为假。</p>
<pre>onFocus={()=&gt;props.onTitleFocus(true)}
onBlur={()=&gt;props.onTitleFocus(false)}</pre>
<p>这同样适用于TextArea:</p>
<pre>onFocus={()=&gt;props.onTitleFocus(true)}
onBlur={()=&gt;props.onTextFocus(false)}</pre>
<p>然后，我们将创建一个函数，当应用程序被单击时将调用该函数。该函数检查<code>textFocused</code>和<code>titleFocused</code>是否都为假，以及在添加新注释之前<code>textValue</code>或<code>titleValue</code>是否不为空。</p>
<pre>const blurOut = () =&gt; {
    if (!textFocused &amp;&amp; !titleFocused) {
      if(textValue !== '' || titleValue !== ''){
        setShowInput(false)
        let noteObj = {
          title:titleValue,
          text:textValue
        }
        setTextValue('');
        setTitleValue('')
      }
    }
  };</pre>
<p>您会注意到我们只创建了一个注释对象。让我们为我们的笔记创建一个状态:</p>
<pre>const [notes, setNotes] = useState([]);</pre>
<p>我们可以在函数<code>blurOut</code>中的<code>setTitleValue(‘ ‘))</code>后添加这个。</p>
<pre>setNotes([...notes, noteObj])</pre>
<p>如果你想知道为什么我们使用spread操作符，这基本上是将<code>noteObj</code>添加到已经存在的音符中。你可以阅读更多关于<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener noreferrer">传播运营商</a>。</p>
<p>为了显示我们的注释，让我们为注释组件创建一个Note.js文件。</p>
<p>除了基本的造型，这里没有什么，所以你可以复制这个:</p>
<pre>import React from 'react'
  import styled from "styled-components";
 
  const NoteDiv = styled.div`
  padding:20px;
  border:1px solid #e0e0e0;
  border-radius:8px;
  text-align:left;
  font-size:18px;
  margin:10px;
  min-width:300px;
  `
  const H = styled.h3`
  font-size:20px;
  font-weight:bold;`
  const Note = (props) =&gt;{
    return(
      &lt;NoteDiv&gt;
        &lt;H&gt;{props.note.title}&lt;/H&gt;
        &lt;p&gt;{props.note.text}&lt;/p&gt;
      &lt;/NoteDiv&gt;
    )
  }
  export default Note;</pre>
<p>现在，将Note.js导入到Main.js组件中。我们将首先为名为<code>NoteCon</code>的笔记创建一个包装器:</p>
<pre>const NoteCon = styled.div`
padding:20px;
display:flex;
flex-wrap:wrap;
justify-content:center;
`</pre>
<p>我们将在<code>NoteInput</code>之后添加包装器，并将从App.js获得的注释映射到注释组件。如果你不知道React中的列表渲染，看看<a href="https://reactjs.org/docs/lists-and-keys.html" target="_blank" rel="noopener noreferrer">这个</a> <span>。</span></p>
<pre>&lt;NoteCon&gt;
 {props.notes.map((note,index)=&gt;&lt;Note note={note} 
 key={index} /&gt;)}
&lt;/NoteCon&gt;</pre>
<p>回到App.js，将notes作为道具传递给Main组件。</p>
<pre>notes={notes}</pre>
<p>我们还将调用App组件的<code>blurOut</code>函数<code>onClick</code>。</p>
<h2>从Firebase存储和获取数据</h2>
<p>我们到目前为止所做的不会持续。一旦你刷新，它就清除了。我们需要将notes信息存储到Firebase，并在每次刷新时从那里获取它。</p>
<p>因为我们已经导入了Firebase，所以我们可以调用Firebase数据库中的数据引用，并使用Firebase内置的方法来存储数据。</p>
<pre>const db = firebase.database().ref('data');
db.push().set(noteObj)</pre>
<p>我们更新后的<code>blurOut</code>函数应该是这样的(我使用<code>try...catch</code>进行错误处理):</p>
<pre>const blurOut = () =&gt; {
    if (!textFocused &amp;&amp; !titleFocused) {
      if(textValue !== '' || titleValue !== ''){
        setShowInput(false)
        let noteObj = {
          title:titleValue,
          text:textValue
        }
        setTextValue('');
        setTitleValue('')
        try{
          setNotes([...notes, noteObj])
            const db = firebase.database().ref('data');
            db.push().set(noteObj)
        }
        catch(error){
          console.log(error);
        }
      }
    }
  };</pre>
<p>为了获取数据，让我们创建一个函数<code>getData</code>:</p>
<pre>const getData = ()=&gt;{}</pre>
<p>然后，我们为注释创建一个空数组，遍历数据库中的每个值，并推送到我们的数组。在更新状态之前，我们最后检查以确保数组不为空:</p>
<pre>const getData = ()=&gt;{
    let notesArr = [];
    try{  
      const db = firebase.database().ref('data');
      db.orderByValue().once("value", snapshot =&gt;{
        snapshot.forEach((note)=&gt;{
          // console.log(notes)
          // setNotes([...notes, note.val()])
          notesArr.push(note.val());
        })
 
        if(notesArr.length !== 0){
         setNotes(notesArr)
        }
      })
     }
    catch(error){
       console.log(error)
    }
  };</pre>
<p>记得我们导入了useEffect钩子。我们将在<code>useEffect</code>中调用我们的<code>getData</code>函数。</p>
<p>这个React钩子确保它的函数在页面呈现后立即被调用。</p>
<pre>useEffect(()=&gt;{
 getData();
}, [])</pre>
<p>末尾的空数组意味着这个useEffect应该只运行一次，在组件被挂载的初始时间，这正是我们想要的。<br/>作为参考，你可以查看这个<a href="https://github.com/Ajiva-D/google-keep-react-clone" target="_blank" rel="noopener noreferrer">回购</a>，看看我实际做了什么。</p>
<h2>结论</h2>
<p>这样，我们就创建了一个简单的Google Keep克隆。但是，仍然缺少一些功能，例如编辑笔记、删除、分成不同的类别，甚至为每个用户创建不同的数据库帐户。</p>
<p>你可以自己尝试添加这些功能和更多功能，我很高兴看到你做了什么。你可以在推特上找到我。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>