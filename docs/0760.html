<html>
<head>
<title>React Native Web vs. Flutter web - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React原生Web vs. Flutter web - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/react-native-web-vs-flutter-web/#0001-01-01">https://blog.logrocket.com/react-native-web-vs-flutter-web/#0001-01-01</a></blockquote><div><article class="article-post">
<p><strong> <em>编者按:</em> </strong> <em>这篇文章于2021年7月更新，提供了关于Flutter 2的web支持的信息，以及React Native和Flutter的最新比较。你可以<a href="https://blog.logrocket.com/whats-new-in-flutter-2-0/">在这里</a>了解更多关于Flutter 2.0的内容。</em></p>
<p>作为开发人员，我们总是在寻找能够让我们节省时间和精力的工具。我们希望能够编写代码并在任何地方运行。有了React Native和Flutter，这个梦想正在慢慢变成现实。因为现在，我们不仅可以在Android和iOS上运行应用程序，还可以在web甚至桌面上运行它们。</p>
<p>在本文中，我们将比较每个平台。然后，我们将放大他们的网络功能，看看他们是否足够好，可以用于生产。最后，我们将看看每个平台的优缺点。读完这篇文章后，你将能够决定在你的下一个项目中使用哪一个。</p>
<h2>React Native vs. Flutter:比较底层平台</h2>
<p>为了有效地判断React Native Web和Flutter for web，我们首先比较底层平台是很重要的。我们不仅要考虑网络功能，还要考虑整体平台体验。</p>
<p>我们将使用以下标准作为比较点:</p>

<h3 id="beginner-friendliness">初学者友好度</h3>
<p>一个初学者从零平台知识到一个全功能的应用程序需要多长时间？</p>
<p>在React Native中，这是一个多步骤的过程:</p>
<ol>
<li>安装Node.js</li>
<li aria-level="1"><span>安装Git </span></li>
<li aria-level="1"><span>安装Watchman(MAC OS用户)</span></li>
<li>安装<a href="https://expo.io/" target="_blank" rel="noopener noreferrer"> Expo </a> CLI</li>
<li>生成新项目</li>
<li>在您的移动设备上安装Expo客户端</li>
<li>运行项目</li>
</ol>
<p>在浏览器上运行它还需要一个额外的步骤，但这可以忽略不计，因为它只是一个安装web依赖项的命令。</p>
<p>上面提到的步骤来自快速入门指南。如果您走CLI路线，您将需要在设置您的机器时投入更多的时间，尽管初学者很少需要这样做，因为大多数本机API已经在Expo中实现了。</p>
<p>另一方面，Flutter的开发设置可以总结为以下步骤:</p>
<ol>
<li>下载Flutter SDK</li>
<li>安装必备的开发工具(例如curl、zip、git)</li>
<li>将Flutter SDK添加到您的系统路径中</li>
<li>安装Android Studio和Xcode</li>
<li><span>配置XCode命令行工具(用于MacOS) </span></li>
<li>生成新项目</li>
<li>运行项目</li>
</ol>
<p>对于网络设置，您需要完成<a href="https://flutter.dev/docs/get-started/web" target="_blank" rel="noopener noreferrer">几个额外的步骤</a>。</p>
<p>这看起来很简单，但是对于一个完全没有命令行经验的初学者来说，也不知道如何安装不同的工具，这可能会很困难。</p>

<p>社区是选择平台时要考虑的另一个重要因素。这个社区是库和插件、教程、论坛/堆栈溢出问题和GitHub问题的顶峰。</p>
<p>React Native领先了两年多，但这并不一定意味着它更受欢迎。<a href="https://github.com/flutter/flutter"> Flutter在GitHub </a>上有125000颗星星，而<a href="https://github.com/facebook/react-native"> React Native大约有97000颗</a>。看起来它们得到了相似的使用:两者都有大约10万个关于堆栈溢出的问题。</p>
<p>在实际使用方面，根据2021年的<a href="https://insights.stackoverflow.com/survey/2021">堆栈溢出开发者调查，大约15%的受访者使用React Native，而大约14%的人使用Flutter。</a></p>
<p>然而，React Native对于开始移动开发的web开发人员来说是更受欢迎的选择，因为它使用JavaScript和CSS的子集来设计应用程序。</p>
<h3 id="plugin-support">插件支持</h3>
<p>Web开发人员是一群被宠坏的人。几乎所有我们在构建现代web应用程序时需要的功能都已经有了相应的实现库。我们所要做的就是学习它的API，然后我们就可以开始了。</p>
<p>Flutter有一个相当不错的<a href="https://pub.dev/flutter/packages" target="_blank" rel="noopener noreferrer">插件系统</a>，实现了移动应用中常用的大部分功能(例如，社交登录、谷歌地图)。</p>
<p>React Native赢得了这一点，因为我们可以使用几乎任何npm模块(除了那些具有本机依赖性的节点模块)。</p>
<h3 id="developer-productivity">开发人员生产力</h3>
<p>决定使用哪种工具的另一个重要因素是开发人员的生产力。这可能意味着很多事情，因此我们将把它分解为以下内容:</p>
<ol>
<li>程序设计语言</li>
<li>证明文件</li>
<li>代码结构</li>
<li>开发者工具</li>
<li>UI组件</li>
<li>本机API访问</li>
</ol>
<h4>程序设计语言</h4>
<p>要构建React原生应用，你需要知道如何编写JavaScript代码。在Flutter中，你需要知道<a href="https://dart.dev/guides" target="_blank" rel="noopener noreferrer"> Dart </a>。</p>
<p>大多数来探索使用单一代码库构建跨平台应用程序的解决方案的人都是web开发人员。我们希望重新利用我们现有的网络生态系统知识来构建移动和桌面应用。这意味着React Native对我们来说是一个更可行的选择，因为我们实际上不必学习任何其他东西来使用React Native构建应用程序。</p>
<h4>证明文件</h4>
<p>能够在相对较短的时间内找到您正在寻找的东西并立即掌握信息是开发人员生产力的另一个决定因素。</p>
<p>Flutter的文档比React Native更有条理，也更详细。但是对于初学者来说，大量的链接会让你不知所措。我喜欢React Native文档的简单性。</p>
<p>也就是说，我们不会永远是初学者。一旦我们获得了更多的经验，并习惯了在哪里可以找到东西，那么事情就变得容易了。这是Flutter的文档超越本地反应的地方。此外，React Native依赖于许多社区编写的库，因此它的文档非常零散。与此同时，Flutter将所有东西都放在了一个地方。</p>
<h4>代码结构</h4>
<p>作为一名新的开发人员，了解现有项目的代码组织方式有多容易？</p>
<p>在React Native中，您几乎可以拥有任何想要的结构。通常，这取决于项目的规模以及您的团队所采用的各种工具和库。例如，使用Redux将迫使你进入一种特定的结构，因为你将有reducers、actions等。</p>
<p>颤振的情况也是如此；您可以按照自己的意愿组织代码。但是由于导航和状态管理已经融入到框架中，代码组织也会变得更加固执己见。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<h4>开发者工具</h4>
<p>如果一个平台不支持热重装，那么热重装就是其中之一。能够修改您的代码并在保存时即时看到更改是一个很大的生产力助推器(特别是在双显示器设置上)。</p>
<p>React Native和Flutter都支持这个特性，不过如果你和Expo比较的话，它在Flutter上要快一些。与React Native的CLI路径相比，只有一点点不同。</p>
<p>另一个需要考虑的重要事情是调试体验。在React Native中，错误消息可能很难理解。而在Flutter中，由于Dart是一种静态类型语言，它显示的错误消息往往更有意义。</p>
<h4>UI组件</h4>
<p>React原生组件转换为原生UI组件，因此它具有与原生app相同的外观和感觉。</p>
<p>另一方面，Flutter使用渲染引擎绘制UI元素。它负责创建每个小部件的所有基本功能。这意味着只要有相应平台的更新，Flutter的开发就会不断努力以匹配原生UI行为。</p>
<p>React Native只提供了几个基本组件。尽管有各种UI套件可用，但它仍然无法击败内置在Flutter中的widget集合。Flutter唯一的缺点是，与T2的iOS系统相比，它为安卓系统提供了更多的插件。</p>
<h4>本机API访问</h4>
<p>React Native和Flutter都支持常用功能的本机API，如图像拾取器和地理定位。如果你需要一个还没有的原生功能，你可以随时编写<a href="https://flutter.dev/docs/development/platform-integration/platform-channels" target="_blank" rel="noopener noreferrer">定制的特定平台代码</a>或者<a href="https://reactnative.dev/docs/native-modules-setup" target="_blank" rel="noopener noreferrer">创建你自己的原生模块</a>。</p>
<h3 id="app-performance">应用性能</h3>
<p>应用程序的性能很难判断，因为它完全取决于你要构建什么类型的应用程序。如果你的应用程序不需要复杂的布局、过渡，也不需要在本机端来回传递数据，那么你可以选择任何一个平台。</p>
<p>然而，当谈到纯代码性能时，Flutter是明显的赢家，因为您编写的代码被直接编译成本机代码。与React Native不同，Flutter没有在JavaScript端和本机端之间传递数据的“JavaScript桥”概念。React Native的“桥”本身可能很快就会被JSI取代。</p>
<h3 id="web-support">网络支持</h3>
<p>React Native和Flutter都有web支持，前者更多的是由社区领导的工作，而后者是由Flutter团队领导的。</p>
<p>对React Native的Web支持比在Flutter中更成熟。Web支持可以添加到现有的<a href="https://docs.expo.dev/guides/running-in-the-browser/#adding-web-support-to-expo-projects"> React Native项目</a>和<a href="https://flutter.dev/docs/get-started/web#add-web-support-to-an-existing-app"> Flutter项目</a>中，尽管它们实际上没有可比性。React Native Web编译成实际的HTML元素，而Flutter使用画布。</p>
<p>在本文的后面，我们将更深入地探讨每个平台的web支持。</p>
<h3 id="testing-deployment">测试和部署</h3>
<p>平台是否支持自动化测试和部署(供应、持续集成和部署)？这对于较小的项目是可选的，但对于较大的项目是至关重要的。它帮助我们防止应用程序中的错误，而不是陷入手动部署过程。</p>
<p>在撰写本文时，React Native还没有内置测试和部署工具。就像其他事情一样，它依赖于社区构建的工具。为了测试React Native，我们有React Native测试库、Jest和Detox。</p>
<p>说到供应和部署，有<a href="https://fastlane.tools/" target="_blank" rel="noopener noreferrer"> fastlane </a>、<a href="https://appcenter.ms/" target="_blank" rel="noopener noreferrer"> App Center </a>、<a href="https://codemagic.io/start/" target="_blank" rel="noopener noreferrer"> codemagic </a>、<a href="https://www.bitrise.io/" target="_blank" rel="noopener noreferrer"> Bitrise </a>和<a href="https://docs.expo.dev/build/introduction/"> Expo的EAS build </a>。</p>
<p>另一方面，Flutter有<a href="https://flutter.dev/docs/testing" target="_blank" rel="noopener noreferrer">内置的测试支持</a>(单元、小部件和集成)。对于部署，它可以与fastlane、Bitrise、<a href="https://cirrus-ci.org/" target="_blank" rel="noopener noreferrer"> Cirrus CI </a>、<a href="https://appcircle.io"> Appcircle </a>以及codemagic一起使用。</p>
<h2 id="flutter-web">颤振腹板概述</h2>
<p>Flutter web是Flutter的一个实现，它允许您将用于构建Flutter应用程序的Dart代码编译成HTML、CSS和JavaScript代码。</p>
<p>Flutter web通过使用web渲染器来工作。简单地说，它们用于在web上渲染一个Flutter应用程序。Flutter使用两个渲染器:HTML渲染器和CanvasKit渲染器。前者使用HTML、CSS和Canvas API来生成页面。后者基本上是使用WebAssembly和WebGL的web Skia。</p>
<p>HTML渲染器的主要优点是其紧凑的尺寸，尽管其缺点是其性能。</p>
<p>另一方面，CanvasKit提供了很好的性能，但是启动时间很短。这主要是因为与HTML渲染器相比，下载量增加了2Mb。</p>
<p>用户可以访问适用于移动设备的小部件。但是开发者必须考虑如何让他们的应用程序响应迅速。因此，他们必须使用LayoutBuilder或MediaQuery等小部件和类，以便他们的应用程序在用户使用的任何平台上都看起来很棒。</p>
<p>说到插件，并不是所有的插件都有web实现(例如ARCore，文件系统访问)。在pub.dev中，您可以过滤结果，只显示对web 可用的<a href="https://pub.dev/flutter/packages?platform=web" target="_blank" rel="noopener noreferrer">插件。</a></p>
<h3>为什么说Flutter web好？</h3>
<ul>
<li>它很稳定，可以投入生产</li>
<li>该特性集是完整的，使开发人员能够构建丰富的交互式web体验</li>
<li>访问可用于Flutter for mobile的相同小部件</li>
<li>完全访问运行在web上的所有现有的<a href="https://pub.dev/dart/packages?runtime=web" target="_blank" rel="noopener noreferrer"> Dart库</a></li>
<li>集成ide和文本编辑器(IntelliJ，VS代码)</li>
</ul>
<h3>为什么Flutter web不好？</h3>
<ul>
<li>如果使用CanvasKit作为渲染器，下载量会很大</li>
<li>并非所有的JavaScript库都受支持。它只支持<a href="https://dart.dev/web/libraries" target="_blank" rel="noopener noreferrer"> Dart的JS-interop包</a></li>
<li>不支持搜索引擎优化</li>
<li>目前更适合渐进式网络应用和游戏，而不是典型的网站</li>
</ul>
<h2 id="&quot;react-native-web">React Native for Web概述</h2>
<p><a href="https://github.com/necolas/react-native-web" target="_blank" rel="noopener noreferrer"> React Native for Web </a>是尼古拉斯·加拉格尔的一个开源项目。React Native for Web使得开发者在Web上使用React Native组件和API成为可能。这样做的明显优势是，它允许在多个平台之间共享代码，因此您只需编写大部分单一代码，就可以在任何地方运行它。</p>
<p>当你听到React Native for Web的时候，你想到的第一个问题可能是为什么不直接使用React？答案是代码共享。如果你使用React，你不能真正利用React Native提供的工具。您将会对相同的功能编写两次代码。</p>
<p>请注意，并不是所有的本地组件和API都可以在web上使用。这是因为它们并不都有相同的web API。React Native for Web所做的主要工作是为每个React Native组件和API绘制Web等效物。因此，<code>&lt;View&gt;</code>组件变成了<code>&lt;div&gt;</code>,<code>&lt;Image&gt;</code>组件变成了<code>&lt;img&gt;</code>，以此类推。</p>
<p>第二个可能想到的问题是React Native for Web和Expo Web有什么区别？我怎么知道用哪一个？嗯，就像React本地项目的标准CLI路线一样，也有快速启动路线，即<a href="https://expo.io/" target="_blank" rel="noopener noreferrer"> Expo </a>。</p>
<p>当你已经在用Expo构建你的项目时，Expo Web只是一个很好的附加物。因此，如果您已经有了一个现有的项目，主要的决定点是您是以标准CLI方式还是Expo方式构建您的项目。然而，如果你的项目是新的，它将完全取决于你的项目是什么。如果您认为您将需要大量具有本机依赖性的第三方库，那么您最好坚持使用标准的React本机CLI。否则，真的没有理由不使用博览会，因为它只是让事情对你来说容易得多。</p>
<p>计划使用React Native for Web的开发人员必须担心以下问题:</p>
<ol>
<li>就像Android和iOS之间如何存在平台差异一样，web也是如此。这意味着您现有的React本机代码不会通过使用React Native for web立即在Web上运行。您仍然需要进行大量的平台检测和代码修改。对于像文件系统这样的东西来说尤其如此。</li>
<li>并非React Native中可用的所有API在浏览器中都可用。这意味着，如果你有一个现有的React原生应用程序，你要么必须自己重新实现该功能，要么在web上根本不支持它。这个API问题的一个例子是<a href="https://github.com/react-native-community/react-native-image-editor/issues/47" target="_blank" rel="noopener noreferrer">图像编辑器</a>。</li>
<li>并不是所有内置于React Native或Expo的组件都可以在web上工作。这方面的一个例子是模态组件。有时会有另一个开发人员发布他们自己的可以在网络上运行的组件版本，但是如果没有的话，那么你必须构建自己的组件。图书馆也是如此；作者将不得不为web编写他们自己的实现。</li>
</ol>
<h3>为什么说React Native对Web有好处？</h3>
<ul>
<li>就像React Native一样，React Native for Web包含允许开发人员<a href="https://necolas.github.io/react-native-web/docs/accessibility/">构建可访问应用的工具。</a>这是通过<code>accessibilityLabel</code>和<code>accessibilityRole</code>等辅助工具提供的</li>
<li>允许通过<a href="https://necolas.github.io/react-native-web/docs/platform/">平台检测</a>执行特定于web的代码。我们不能期望所有的API都能工作，因此检测平台非常重要，这样您就只能执行适用于当前平台的代码</li>
<li><a href="https://necolas.github.io/react-native-web/docs/rendering/">支持服务器端渲染</a>。您可以使用<code>AppRegistry</code>来硬编码用于呈现应用程序的HTML文档字符串</li>
<li>Expo Web充当React Native Web的包装器，因此您可以启动一个可以在Android、iOS、Web甚至桌面(通过电子)上运行的Expo项目</li>
<li>世博网支持<a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" target="_blank" rel="noopener noreferrer">渐进式网络应用</a></li>
</ul>
<h3>为什么React Native for Web不好？</h3>
<ul>
<li>在撰写本文时，<a href="https://github.com/expo/expo/issues/6782"> React Native for Web仍未投入生产</a></li>
<li>带有本机依赖项的React本机包不能在web上运行。如果你依赖于具有本地依赖性的第三方包(Swift/Objective-C或Java/Kotlin代码)，那么这些包在web上是不能用的</li>
<li>没有本机依赖关系的React本机包也不能100%工作。如果涉及到动画、过渡、手势、键盘和列表，尤其如此</li>
</ul>
<h2>正反两面摇摆</h2>
<p>最后，让我们来看看是什么让每个平台变得伟大和不那么伟大。首先是颤振。请注意，我们不会讨论两个平台之间相似的优点和缺点。相反，在选择最适合您的平台时，这些要点可能会让您“赞成”或“反对”:</p>
<h3>为什么Flutter好？</h3>
<ul>
<li>性能非常接近本机，因为您的代码编译成本机代码</li>
<li>材料设计和Cupertino的许多内置部件</li>
<li>内置测试支持</li>
<li>详细且组织良好的文档</li>
<li>错误消息更有意义，因为Dart是强类型的</li>
</ul>
<h3>为什么Flutter不好？</h3>
<ul>
<li>略微陡峭的学习曲线</li>
</ul>
<h2>对本地的利弊做出反应</h2>
<p>现在让我们回顾一下React Native的优缺点:</p>
<h3>React为什么是Native good？</h3>
<ul>
<li>初学者友好的</li>
<li>通过npm模块访问JavaScript生态系统</li>
</ul>
<h3>为什么React Native不好？</h3>
<ul>
<li>与标准的React本地项目相比，Expo上的热重装速度较慢</li>
<li>文档很少，也不是很详细</li>
<li>有限的本机UI组件</li>
<li>它没有官方的测试工具</li>
</ul>
<h2>Flutter web和React Native for Web哪个好？</h2>
<p>就像每个关于什么是你下一个项目的最佳平台的争论一样，没有正确或错误的答案。它取决于各种因素，这些因素主要归结为您的项目的性能需求和您的团队的相关经验。你的项目需要流畅的用户界面交互和动画吗？你的团队有使用JavaScript的经验吗？你愿意探索和使用核心平台本身不提供的第三方解决方案吗？</p>
<p>说到web功能，我想说React Native for Web是生产就绪的，这取决于您的需求。它更忠实于让网络工作的技术，因为它只是简单地编译了老式的HTML、CSS和JavaScript。</p>
<p>另一方面，Flutter web也可以根据您的需求进行生产。它的主要问题是性能。他们已经使用CanvasKit解决了这个问题，但是用户将不得不等待更长时间来下载必要的脚本。</p>
<p>总的来说，对于开发者来说，这是一个激动人心的时刻，因为我们现在可以接触到比以往更多的平台。所有这些都离不开我们熟悉和喜爱的工具带来的舒适。</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>