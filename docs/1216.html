<html>
<head>
<title>5 Vue Storybook addons to help you build better components - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>5个Vue故事书插件帮助你构建更好的组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/5-vue-storybook-addons-to-help-you-build-better-components/#0001-01-01">https://blog.logrocket.com/5-vue-storybook-addons-to-help-you-build-better-components/#0001-01-01</a></blockquote><div><article class="article-post">
<p><a href="https://storybook.js.org/" target="_blank" rel="noopener noreferrer"> Storybook </a>是从你的应用程序中独立构建组件的最佳工具之一。它允许您孤立地处理一个组件，并模拟出每个组件的变体。故事书成为一个更加强大和有用的工具，增加了他们的插件。</p>
<p>当开始任何项目时，考虑可访问性、测试和边缘案例是很重要的，这样你就可以交付最好的产品。在这篇文章中，我将介绍一些我最喜欢的Vue Storybook插件，以帮助你构建高质量的组件并改进你的工作流程。</p>
<h2>a11y附加组件</h2>
<p>可访问性是目前web开发中的一个热门话题，在每个项目中构建可访问性是至关重要的。<a href="https://github.com/storybookjs/storybook/tree/master/addons/a11y" target="_blank" rel="noopener noreferrer"> a11y插件</a>应该是你安装到你的故事书项目中的第一件东西。它建立在德克系统公司的<a href="https://www.deque.com/axe/" target="_blank" rel="noopener noreferrer">斧头</a>规则之上。</p>
<p>不用一页一页地分析可访问性问题，您可以看到a11y插件的每个组件的可访问性问题。这个插件添加了一个可访问性标签，显示了另外三个标签，分别是违规、通过和未完成。每个规则将显示有关该问题的更多信息，并提供如何修复该问题的链接。单击每个违规右侧的“突出显示结果”复选框，将显示该违规在组件中发生的位置。</p>
<p>在开发的早期阶段使用这个插件将有助于确保可访问性不是开发过程中的事后想法。由于在组件构建完成后修复可访问性问题既费时又费钱，所以最好有一个在构建时实时验证的工具。记住这一点也很重要，虽然自动化测试在发现大多数可访问性问题方面很棒，但是手动可访问性测试同样重要，以确保您已经覆盖了所有可能的问题。</p>
<h2>珀西附加</h2>
<p>不断向项目中添加新代码的一个问题是，它可能会引入不必要的视觉错误。视觉回归测试对于任何项目来说都是一个重要的方面，它可以确保你在添加新代码时发现视觉错误。有助于解决这个问题的工具之一是<a href="https://percy.io/" target="_blank" rel="noopener noreferrer"> Percy </a>，这是一个可视化回归工具，它可以让你自动对你的UI进行可视化测试，也可以用于故事书。</p>
<p>Percy插件的设置比本文中提到的其他插件要复杂一些。你需要创建一个免费的Percy账户，然后创建一个新的组织和项目。在那里，您将获得一个用于身份验证的Percy token环境变量。<a href="https://percy.io/pricing" target="_blank" rel="noopener noreferrer">珀西的免费计划</a>提供每月5000张截图和无限用户。如果5000张截图还不够，可以升级为专业版或企业版计划。</p>
<p>Percy addon 可以作为CI的一部分运行，以查看每次提交到存储库的每个组件的变化。Percy完成运行后，它将提供一个URL，您可以在其中查看每个组件的上传快照。在Percy dashboard中，您可以批准、请求更改或对每个快照发表评论。Percy最棒的地方在于它可以在各种屏幕尺寸上为Chrome和Firefox生成快照。这意味着这些浏览器不太可能忽视视觉缺陷。</p>
<p>如果您构建整个页面作为故事书工作流的一部分，您还可以使用Percy来验证这些页面上的UI。在每个组件和页面上获得一致的反馈将节省您手动搜索每个页面以发现应用程序中意外的UI变化所花费的时间和金钱。</p>
<h2>控件加载项</h2>
<p>当开始开发组件时，不容易知道何时在页面上使用该组件的所有边缘情况。<a href="//github.com/storybookjs/storybook/tree/master/addons/controls" target="_blank" rel="noopener noreferrer">控件插件</a>可以很容易地找到这些可能在以后才会出现的边缘情况——比如当标题变得太长时，意识到组件的设计会中断。</p>
<p>这个插件可以让你在故事书用户界面的一个名为<em>控件的单独标签中编辑道具。</em>"你可以使用<em>控件</em>来控制动态文本区域、布尔值、数字、颜色、对象等等。控件还使您能够向每个控件添加带有说明和默认值的文档。所有这些特性就是为什么Controls是开始一个新的故事书项目必须使用的插件。</p>
<p>使用控件可以帮助您的团队快速熟悉组件的工作方式，从而提高QA和开发人员的体验。摆弄控件和测试不同的场景很容易暴露组件的任何意外行为。这种测试对应用程序的开发极其重要，团队中的任何人都可以完成。</p>
<h2>他是加时赛选手</h2>
<p>单元测试对于任何应用程序来说都是必不可少的，以确保你的代码按预期运行，并记录任何边缘情况。如果你正在开发一个Vue应用程序，你很可能遇到过带有<a href="https://jestjs.io/en/" target="_blank" rel="noopener noreferrer"> Jest </a>的单元测试。幸运的是，Jest有一个<a href="https://github.com/storybookjs/storybook/tree/next/addons/jest" target="_blank" rel="noopener noreferrer">故事书插件</a>，可以让你看到故事书构建中每个组件的测试输出。</p>
<p>在Storybook中，Jest插件将添加一个“测试”标签，显示哪些测试通过，失败，或者正在进行。您也可以决定逐个组件地添加测试结果。</p>
<p>让测试结果显示在Storybook中是开发人员获得每个组件的上下文的好方法。</p>
<p>使用这个插件，类似于控件插件，最有益的部分是，即使非开发人员也可以了解应用程序是如何工作的，并可以通过查看单元测试来验证组件的业务逻辑。这种类型的信息不容易让每个人看到。最重要的是，在开发过程中，你从Storybook中获得的持续的测试反馈是非常有用的。</p>
<h2>StoryShots附加组件</h2>
<p>重构时，您可能会对组件进行意想不到的结构更改。如果你已经在使用<a href="https://jestjs.io/en/" target="_blank" rel="noopener noreferrer"> Jest </a>，那么添加StoryShots是改善你的测试套件的一个很好的组合。<a href="https://github.com/storybookjs/storybook/tree/master/addons/storyshots/storyshots-core" target="_blank" rel="noopener noreferrer"> StoryShots插件</a>使用<a href="https://jestjs.io/docs/en/snapshot-testing" target="_blank" rel="noopener noreferrer"> Jest快照测试</a>来快速验证你的组件中的任何UI变化。</p>
<p>当您运行<code>npm test</code>时，它将创建一个快照文件，保存您的每个组件的渲染输出。然后，该文件应该与您的其余代码一起签入。当您对组件进行更改并再次运行测试时，它会将新的输出与以前的快照文件进行比较，对于任何已更新的组件都会失败。然后，您可以决定保留更改或修复组件中的更改，以确保不会出现任何问题。</p>
<p>在你的工作流程中使用StoryShots插件给了你另一种免费和快速的UI测试方式。当有一个测试失败时，这个插件使得使用命令行中显示的差异进行调试变得非常容易。总而言之，这个插件使用起来非常简单，并且给了你一个自动标记组件中HTML变化的方法。</p>
<h2>更多附加组件</h2>
<p>你可以在你的Vue Storybook项目中使用更多的插件，但是这五个已经被证明是我在Storybook中开始构建组件的无价之宝。令人欣慰的是，Storybook不断更新对他们每个核心插件的支持，现在他们中的许多已经完全支持Vue了。如果这些还不够，你甚至可以建立自己的插件，如果你需要更多的功能在你的故事书工作流程。</p>
<h2>结论</h2>
<p>总之，用这些Vue故事书插件构建组件可以极大地改进您的开发过程，并为您的团队创建一个更好的共享环境。这些插件中的每一个都将保证你彻底地测试你的组件，并给你一个持续的反馈循环。现在轮到你尝试这些插件，并进一步尝试其他插件，为你和你的团队创造最好的故事书体验！你可以在这里找到回购<a href="https://github.com/sparkbox/vue-storybook-starter" target="_blank" rel="noopener noreferrer">。</a></p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>像用户一样体验您的Vue应用</h2><p>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>