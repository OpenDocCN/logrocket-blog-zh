<html>
<head>
<title>Event-triggered GraphQL - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>事件触发的GraphQL - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/event-triggered-graphql/#0001-01-01">https://blog.logrocket.com/event-triggered-graphql/#0001-01-01</a></blockquote><div><article class="article-post">
<h3>动态的</h3>
<p>我看到了JAMStack SF的创始人之一Tanmai Gopal关于让静态的React站点动态化的精彩演讲。</p>
<p>“我也许可以做一个Vue替代品，”我想。</p>
<p>我的<a href="https://blog.malgamves.dev" target="_blank" rel="noopener noreferrer">博客</a>恰好是用Gridsome构建的，grid some是一个Vue驱动的静态站点生成器，用于构建高速静态网站。</p>
<p>我以前玩过Hasura:它是一个超快的GraphQL服务器，通过Postgres为你提供即时、实时的GraphQL APIs。所以我们要用Gridsome构建一些东西，部署它，然后用GraphQL和Netlify使它的一部分(有点)动态化。</p>
<p>我有一个在GraphQL API中读过的书籍列表，我想用它作为我们Gridsome站点内容的数据源。我们希望这个网站能够在我们向列表中添加或取出新书时进行动态更新。</p>
<p>我会告诉你怎么做。</p>
<p>TL；DR: Hasura事件触发<br/> <a href="https://codesandbox.io/s/gridsome-remote-graphql-source-dkhn1?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer">演示</a></p>
<p>为了本教程的缘故，我让我的GraphQL端点保持开放，但是对于生产环境来说这是不可取的。</p>
<p>看看<a href="https://dev.to/hasurahq/hasura-authentication-explained-2c95" target="_blank" rel="noopener noreferrer">这篇关于通过添加授权和管理用户来保护API的文章</a>。</p>
<p>我们将从使用<code>npm install --global @gridsome/cli</code>安装Gridsome CLI工具开始。</p>
<p>完成后，我们用<code>gridsome create &lt;project name&gt;</code>创建一个新的Gridsome项目。</p>
<p>之后，我们<code>cd &lt;project name&gt;</code>然后用<code>gridsome develop</code>在本地运行它。</p>
<p>你会看到一个非常简单的页面，就像这样。</p>
<p><img data-attachment-id="11149" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hello-world-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hello-world-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1024x576.png" decoding="async" class="aligncenter wp-image-11149 jetpack-lazy-image" src="../Images/85548b710ad7581e114800f5252b61d3.png" alt="Hello World" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1536x864.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="11149" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hello-world-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hello-world-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1024x576.png" decoding="async" loading="lazy" class="aligncenter wp-image-11149" src="../Images/85548b710ad7581e114800f5252b61d3.png" alt="Hello World" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn-1536x864.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hello-world-nocdn.png"/></noscript>
<p>现在转到<a href="https://docs.hasura.io/1.0/graphql/manual/getting-started/heroku-simple.html" target="_blank" rel="noopener noreferrer">这个页面</a>，点击部署到Heroku。您可能需要创建一个新的Heroku帐户。</p>
<p>完成排序后，系统会提示您创建一个应用程序名称。键入一个，然后单击部署。</p>
<p>一旦部署完毕，前往<code>&lt;your-app-name&gt;.herokuapp.com</code>访问您的Hasura API Explorer。</p>
<p>它应该是这样的:</p>
<p><img data-attachment-id="11153" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hasura-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hasura-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1024x576.png" decoding="async" class="aligncenter wp-image-11153 jetpack-lazy-image" src="../Images/269e634194c1812f3cb9730c4c211779.png" alt="Hasura" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1536x864.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="11153" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hasura-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hasura-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1024x576.png" decoding="async" loading="lazy" class="aligncenter wp-image-11153" src="../Images/269e634194c1812f3cb9730c4c211779.png" alt="Hasura" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn-1536x864.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-nocdn.png"/></noscript>
<p>在我们的API控制台上，我们将前往<strong>数据</strong>部分，并单击<strong>添加表</strong>。</p>
<p>然后，我们创建一个名为books的表，并继续创建以下列:</p>
<ul>
<li><code>id, Integer (AutoIncrement), Unique</code></li>
<li><code>name, text</code></li>
<li><code>author, text</code></li>
</ul>
<p>将<code>id</code>设为主键。然后，单击创建。</p>
<p>现在我们已经有了一个books表，我们必须向其中插入数据。</p>
<p>在数据部分，单击books表并选择插入数据选项卡。随意添加你喜欢的任何书籍和作者。我的看起来像这样:</p>
<p><img data-attachment-id="11155" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hasura-run-query-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hasura-run-query-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1024x576.png" decoding="async" class="aligncenter wp-image-11155 jetpack-lazy-image" src="../Images/96cd6c735492ce50b0c414d16e9e9ebe.png" alt="Hasura" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1536x864.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="11155" data-permalink="https://blog.logrocket.com/event-triggered-graphql/hasura-run-query-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hasura-run-query-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1024x576.png" decoding="async" loading="lazy" class="aligncenter wp-image-11155" src="../Images/96cd6c735492ce50b0c414d16e9e9ebe.png" alt="Hasura" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn-1536x864.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/Hasura-run-query-nocdn.png"/></noscript>
<p>我们现在已经完成了Hasura API控制台。</p>
<p>接下来，我们希望能够查询远程GraphQL源。</p>
<p>首先，我们需要安装Gridsome源代码插件。为此，我们将输入<code>npm install gridsome-source-graphql</code>。一旦完成，我们需要编辑我们的<code>gridsome.config.js</code>。</p>
<p>然后，我们粘贴以下代码:</p>
<pre>plugins: [
    {
      use: 'gridsome-source-graphql',
      options: {
        url: 'https://example.com/api',
        fieldName: 'puppies',
        typeName: 'puppyTypes',

      },
    },
  ]</pre>
<p>务必更改<code>url</code>、<code>fieldName</code>和<code>typeName</code>(尽管后者是可选的)。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>您可以从Hasura API控制台获取<code>url</code>，即您的应用名称&gt;herokuapp.com/v1alpha1/graphql的<br/><em>T4。</em></p>
<p>我将命名为<code>fieldType</code>书单，并将<code>typeName</code>留空。它们很重要，所以要记住它们。</p>
<p>现在让我们导航到<code>src &gt; pages &gt; About.vue&lt;</code>。这是我们想要显示数据的地方。</p>
<p>Gridsome使用GraphQL查询显示在页面上的数据。</p>
<p>关闭<code>&lt;template&gt;</code>后，我们粘贴如下页面查询:</p>
<pre>&lt;page-query&gt;  
query {
  books {
    author
    id
    name
  }
}
&lt;/page-query&gt;</pre>
<p>该查询从books表中获取作者、id和姓名。现在我们需要显示我们正在查询的数据。</p>
<p>为此，在唯一的<code>&lt;p&gt;</code>标签下添加以下代码:</p>
<pre>&lt;h1&gt;Books Read by Me&lt;/h1&gt;
&lt;div v-for="book in $page.books" v-bind:key="book.id"&gt;
   &lt;li&gt;{{ book.author }} - {{ book.name }}&lt;/li&gt;
&lt;/div&gt;</pre>
<p>我们使用<code>$page.books</code>来访问查询响应，并用v-for指令解析它，将每个值存储在book变量中。然后我们用它来显示书的作者和书名。</p>
<p>这也恰好是理解Gridsome如何显示数据的一种非常好的方式。当我们在本地运行并点击<code>about</code>时，我们可以看到显示的书籍及其作者。</p>
<p>如果您返回到Hasura API控制台，在books表中插入一行，您会注意到站点上的列表会更新。</p>
<p>这仅在本地发生，因为数据源会不断刷新。</p>
<p>当您部署应用程序时，只显示部署时可用的数据，这意味着当我们在API控制台中插入一行时，它不会显示，直到站点重新构建。</p>
<p>为了解决这个问题，我们将利用Hasura事件触发器来触发Netlify构建，然后更新数据库中的数据。</p>
<p>您需要将代码推送到GitHub或GitLab，并将您的存储库连接到Netlify。</p>
<p>Gridsome提供了一个很好的资源，如果你在这方面有任何困难，它可以帮助你。看看这里的。</p>
<p>一旦部署到Netlify，我们需要创建一个构建钩子。</p>
<p>我把我的叫做<strong> hasura-event-trigger </strong>。</p>
<p>当您创建一个时，您会得到一个触发构建的URL。</p>
<p>复制这个URL并返回到您的Hasura API控制台。</p>
<p>这一次，我们将前往活动部分。</p>
<p>Hasura事件触发器捕获指定表上的事件，并调用webhooks来执行任何定制逻辑。</p>
<p>事件可以是行上的插入、更新或删除。它们还为您提供了添加手动触发器的灵活性。</p>
<p>每当我们删除或添加一本书时，我们都希望触发重建。点击<code>create</code>后，我们将其命名为<code>author-update</code>，选择图书表，勾选<code>insert</code>，更新为触发操作。</p>
<p>然后我们被要求添加一个webhook URL。这是我们从Netlify复制的构建钩子URL。</p>
<p>粘贴后，点击<code>create</code>。</p>
<p>现在，每当我们插入或删除一行时(无论是在API控制台中手动插入还是使用另一个web应用程序进行修改)，事件都会被触发，新的构建将会开始。</p>
<p>这更新了侧边内容——有人会说是动态的。</p>
<p>添加或删除几行来触发构建，您的events选项卡将如下所示:</p>
<p><img data-attachment-id="11165" data-permalink="https://blog.logrocket.com/event-triggered-graphql/books-update-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="books-update-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1024x576.png" decoding="async" class="aligncenter wp-image-11165 jetpack-lazy-image" src="../Images/81b48308211b4a268dd4797796c71584.png" alt="books update" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1536x864.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="11165" data-permalink="https://blog.logrocket.com/event-triggered-graphql/books-update-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="books-update-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-300x169.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1024x576.png" decoding="async" loading="lazy" class="aligncenter wp-image-11165" src="../Images/81b48308211b4a268dd4797796c71584.png" alt="books update" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png 1920w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-300x169.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1024x576.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-768x432.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn-1536x864.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/books-update-nocdn.png"/></noscript>
<p>Netlify上的构建也显示了是什么触发了它们。</p>
<p><img data-attachment-id="11167" data-permalink="https://blog.logrocket.com/event-triggered-graphql/published-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png" data-orig-size="349,86" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="published-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png" decoding="async" class="aligncenter size-full wp-image-11167 jetpack-lazy-image" src="../Images/49f02606fbb37b85f559c99923b29105.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png 349w, https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn-300x74.png 300w" data-lazy-sizes="(max-width: 349px) 100vw, 349px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="11167" data-permalink="https://blog.logrocket.com/event-triggered-graphql/published-nocdn/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png" data-orig-size="349,86" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="published-nocdn" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-11167" src="../Images/49f02606fbb37b85f559c99923b29105.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png 349w, https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn-300x74.png 300w" sizes="(max-width: 349px) 100vw, 349px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/published-nocdn.png"/></noscript>
<h3>结论</h3>
<p>现在我们有了一种利用Hasura GraphQL事件触发器的动态静态站点。</p>
<p>在我的GitHub上查看<a href="https://github.com/malgamves/gridsome-remote-gql-source" target="_blank" rel="noopener noreferrer">完整回购</a>，并随时向<a href="https://github.com/malgamves" target="_blank" rel="noopener noreferrer">推特</a>我任何问题。</p><div class="code-block code-block-24">
<div class="blog-plug inline-plug graphql-plug"><h2>监控生产中失败和缓慢的GraphQL请求</h2><p>虽然GraphQL有一些调试请求和响应的特性，但确保GraphQL可靠地为您的生产应用程序提供资源是一件比较困难的事情。如果您对确保对后端或第三方服务的网络请求成功感兴趣，</p><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-lazy-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/><noscript><img data-lazy-fallback="1" src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/></noscript><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket 就像是网络和移动应用的DVR，记录下你网站上发生的每一件事。您可以汇总并报告有问题的GraphQL请求，以快速了解根本原因，而不是猜测问题发生的原因。此外，您可以跟踪Apollo客户机状态并检查GraphQL查询的键值对。</p><p>LogRocket检测您的应用程序以记录基线性能计时，如页面加载时间、到达第一个字节的时间、慢速网络请求，还记录Redux、NgRx和Vuex操作/状态。</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>