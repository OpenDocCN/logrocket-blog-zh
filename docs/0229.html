<html>
<head>
<title>CSS selectors level 4 - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CSS选择器级别4 - LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/css-selectors-level-4-b5da36bcd54c/#0001-01-01">https://blog.logrocket.com/css-selectors-level-4-b5da36bcd54c/#0001-01-01</a></blockquote><div><article class="article-post">
<p class="graf graf--p">选择器是CSS的核心部分。它们允许您选择某种类型的所有元素:</p>
<pre><code>div {
  /* some styles to apply to all div elements */
}</code></pre>
<p class="graf graf--p">或者，您可以选择作为其父元素的最后一个子元素的元素:</p>
<pre><code>ul li:last-child {
  /* some styles to apply to only the last child of a list */
}</code></pre>
<p class="graf graf--p">当然，它们也允许你做更复杂的事情，比如选择一个列表中除了最后一个子元素之外的所有子元素。</p>
<p class="graf graf--p">事实上，有不止一种方法可以做到这一点，有些方法比其他方法更复杂。</p>
<p class="graf graf--p">例如，比较一下这个:</p>
<pre><code>
ul li {
  /* Styles to apply to all children */
}
ul li:last-child {
  /* Styles to reset the previous styles because they don’t apply to the last child */
}</code></pre>
<p class="graf graf--p">对此:</p>
<pre><code>ul li:nth-last-child(n+2) { 
  /* Styles to apply to all children except the last one */
}</code></pre>
<p class="graf graf--p"><code>ul li</code>是一个1级选择器的例子。</p>
<p class="graf graf--p"><code>last-child</code>和<code>nth-last-child</code>是三级选择器的例子。</p>
<p class="graf graf--p">您可以将级别视为CSS选择器规范的<a class="markup--anchor markup--p-anchor" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors#Specifications" target="_blank" rel="noopener noreferrer" data-href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors#Specifications">版本</a>，其中每个级别都添加了更强大的选择器。</p>
<p class="graf graf--p">在这篇文章中，我将根据截至2019年1月的<a class="markup--anchor markup--p-anchor" href="https://drafts.csswg.org/selectors-4/" target="_blank" rel="noopener noreferrer" data-href="https://drafts.csswg.org/selectors-4/">编辑草案规范</a>在以下几个类别中为您概述最后一代选择器level 4:</p>
<ul class="postList">
<li class="graf graf--li">逻辑组合</li>
<li class="graf graf--li">属性选择器</li>
<li class="graf graf--li">语言伪类</li>
<li class="graf graf--li">位置伪类</li>
<li class="graf graf--li">用户操作伪类</li>
<li class="graf graf--li">输入伪类</li>
<li class="graf graf--li">树形结构伪类</li>
<li class="graf graf--li">网格结构选择器</li>
</ul>
<p class="graf graf--p">在撰写本文时，4级选择器的规范处于草案状态。在达到官方推荐状态之前可能会有变化，你会发现很多选择器要么是某些浏览器不支持，要么是需要加前缀(带<code>:-moz-</code>或者<code>:-webkit-</code>)。</p>
<p class="graf graf--p">对于每个选择器，我将给出一个到其<a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#home" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#home">我能使用</a>页面的链接，这样您就可以看到哪些浏览器支持它(如果可用的话)，一个简短的描述，一个例子，以及一个到Codepen的链接，这样您就可以尝试它(即使它现在不工作，因为它将来可能会改变)。</p>
<p class="graf graf--p">记住这一点，让我们从逻辑组合类别的选择器开始。</p>
<figure class="graf graf--figure graf--layoutOutsetCenter"><a class="graf-imageAnchor" href="https://logrocket.com/signup/" target="_blank" rel="noopener noreferrer" data-href="https://logrocket.com/signup/" data-action="image-link" data-action-observe-only="true"><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/94b3e0f84b30cb0d321f60471481ab64.png" data-image-id="1*GPjaPKNNUYHU8EsA3Z0JGA.png" data-width="3212" data-height="750" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*GPjaPKNNUYHU8EsA3Z0JGA.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*GPjaPKNNUYHU8EsA3Z0JGA.png"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/94b3e0f84b30cb0d321f60471481ab64.png" data-image-id="1*GPjaPKNNUYHU8EsA3Z0JGA.png" data-width="3212" data-height="750" data-original-src="https://storage.googleapis.com/blog-images-backup/1*GPjaPKNNUYHU8EsA3Z0JGA.png"/></noscript></a></figure>
<h3 class="graf graf--h3">逻辑组合</h3>
<p class="graf graf--p">这一类别包括通过组合其他选择器来工作的选择器。</p>
<h4 class="graf graf--h4">:非(选择器1、选择器2、…)</h4>
<p class="graf graf--p"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-not-sel-list" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-not-sel-list">浏览器支持</a></p>
<p class="graf graf--p">它选择不匹配列表中任何选择器的元素，并将其作为参数。例如:</p>
<pre><code>p:not(.beginning, .middle) {
  color: red;
}</code></pre>
<p class="graf graf--p">会给所有没有类<code>beginning</code>和<code>middle</code>的<code>p</code>元素一个红色。</p>
<p class="graf graf--p">该选择器的第3级版本只允许一个选择器，而不是两个或更多个选择器的列表。例如，上面的样式可以写成:</p>
<pre><code>p:not(.beginning):not(.middle) {
  color: red;
}</code></pre>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="xMGxvY" data-pen-title=":not pseudo-class">见笔<a href="https://codepen.io/eh3rrera/pen/xMGxvY/"> <br/>:非伪类</a>作者Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>上<a href="https://codepen.io"> CodePen </a>。</p>
<p>:是(选择器1，选择器2，…)</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-matches-pseudo" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-matches-pseudo">浏览器支持</a></h4>
<p class="graf graf--p">它选择与作为参数的列表中的任何选择器相匹配的元素。例如:</p>
<p class="graf graf--p">将赋予所有具有类<code>beginning</code>和<code>middle</code>的<code>p</code>元素蓝色。</p>
<pre><code>p:is(.beginning, .middle) {
  color: blue;
}</code></pre>
<p class="graf graf--p">自上一个工作草案版本以来，最重要的变化之一是:<a class="markup--anchor markup--p-anchor" href="https://github.com/w3c/csswg-drafts/issues/3258" target="_blank" rel="noopener noreferrer" data-href="https://github.com/w3c/csswg-drafts/issues/3258">: matches()选择器被重命名为:is()并弃用了Safari</a>(Safari是唯一完全支持该选择器的<a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-matches-pseudo" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-matches-pseudo">浏览器)，因此它与它的对立面<code>:not()</code>更好地配对。</a></p>
<p class="graf graf--p">如果需要向后兼容，可以将<code>:matches()</code>实现为<code>:is()</code>的别名。然而，<code>:matches()</code>以前叫做<code>:any()</code>，所以大多数浏览器都支持这个带前缀的伪类:</p>
<p class="graf graf--p">见笔<a href="https://codepen.io/eh3rrera/pen/daYRLJ/"> <br/>:是Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>在<a href="https://codepen.io"> CodePen </a>上的伪班</a>。</p>
<pre><code>p:-webkit-any(.beginning, .middle) {
  color: blue;
}

p:-moz-any(.beginning, .middle) {
  color: blue;
}</code></pre>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="daYRLJ" data-pen-title=":is pseudo-class">:其中(选择器1、选择器2、…)</p>
<h4 class="graf graf--h4">在撰写本文时，还没有任何浏览器支持这个选择器。</h4>
<p class="graf graf--p">它具有与<code>:is()</code>相同的语法和功能，但是选择器和它的任何参数都不会影响选择器的特异性，因为它总是为零。</p>
<p class="graf graf--p">特异性是应用于CSS规则的权重。如果两个选择器应用于同一个元素，那么具有更高特异性的一个会胜出。如果多个规则具有相同的特性，则CSS文档中找到的最后一个规则将应用于该元素。</p>
<p class="graf graf--p">该选择器可用于实现过滤器和覆盖与元素相关联的样式声明。</p>
<p class="graf graf--p">该规范给出了以下示例:</p>
<p class="graf graf--p">见笔<a href="https://codepen.io/eh3rrera/pen/daYzZg/"> <br/>:凡伪级</a>作者Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>上<a href="https://codepen.io"> CodePen </a>。</p>
<pre><code>a:not(:hover) {
  text-decoration: none;
}

nav a {
  /* Has no effect */
  text-decoration: underline;
}

/* With the new :where Level 4 selector */
a:where(:not(:hover)) {
  text-decoration: none;
}

nav a {
  /* Should work */
  text-decoration: underline;
}</code></pre>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="daYzZg" data-pen-title=":where pseudo-class">:has(相对选择器1，相对选择器2，…)</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-has" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-has">浏览器支持</a>(在撰写本文时，还没有任何浏览器支持这个选择器。)</h4>
<p class="graf graf--p">该选择器将一个<a class="markup--anchor markup--p-anchor" href="https://drafts.csswg.org/selectors-4/#relative-selector" target="_blank" rel="noopener noreferrer" data-href="https://drafts.csswg.org/selectors-4/#relative-selector">相对选择器</a>列表作为参数。如果任何相对选择器(当作为范围内的元素进行评估时)与元素匹配，则它选择该元素。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">会给所有包含<code>&lt;strong&gt;</code>或<code>&lt;em&gt;</code>标签的<code>p</code>元素一个红色。</p>
<pre><code>p:has(strong, em) {
  color: red;
}</code></pre>
<p class="graf graf--p">见笔<a href="https://codepen.io/eh3rrera/pen/QYjmYX/"> <br/>:在<a href="https://codepen.io"> CodePen </a>上有Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的伪班</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="QYjmYX" data-pen-title=":has pseudo-class">属性选择器</p>
<h3 class="graf graf--h3">这个类别包括处理元素属性的选择器。</h3>
<p class="graf graf--p">[foo = ' bar ' I]</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-case-insensitive" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-case-insensitive">浏览器支持</a></h4>
<p class="graf graf--p">它选择一个其<code>foo</code>属性值正好等于<code>bar</code>的元素，而不管其大小写。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将为所有<code>class</code>属性的值为<code>Text</code>、<code>TEXT</code>或<code>text</code>的<code>p</code>元素加上绿色。</p>
<pre><code>p[class="text" i] {
  color: green;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/pGjVEg/"> <br/>不区分大小写选择器</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="pGjVEg" data-pen-title="Case-insensitive selector">[foo="bar" s]</p>
<h4 class="graf graf--h4">在撰写本文时，还没有任何浏览器支持这个选择器。</h4>
<p class="graf graf--p">它选择一个元素，该元素的<code>foo</code>属性值恰好等于<code>bar</code>，并且区分大小写。</p>
<p class="graf graf--p">更多来自LogRocket的精彩文章:</p><div class="code-block code-block-54">
<hr/>
<h3>例如:</h3>

<hr/></div>
<p class="graf graf--p">将为所有<code>class</code>属性的值为<code>text</code>(例如，不是<code>Text</code>)的<code>p</code>元素赋予绿色。</p>
<pre><code>p[class="text" s] {
  color: green;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/yZYjbJ/"> <br/>区分大小写选择器</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="yZYjbJ" data-pen-title="Case-sensitive selector">语言伪类</p>
<h3 class="graf graf--h3">此类别包括使用语言相关设置的选择器。</h3>
<p class="graf graf--p">:目录(ltr)</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#search=dir" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#search=dir">浏览器支持</a></h4>
<p class="graf graf--p">它选择具有从左到右方向的元素，其中文档语言指定如何确定方向。另一方面，<code>:dir(rtl)</code>表示具有从右到左方向性的元素。其他值并非无效，但不匹配任何内容。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将所有方向为从左到右的<code>p</code>元素的背景色设置为红色。</p>
<pre><code>p:dir(ltr) {
  background-color: red;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen<a href="https://codepen.io/eh3rrera/pen/GzpdwV/">:dir(ltr)伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="GzpdwV" data-pen-title=":dir(ltr) pseudo-class">:郎(zh，" *-hant ")</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#search=%3Alang" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#search=%3Alang">浏览器支持</a>(在撰写本文时，任何浏览器都不支持该选择器的第4级版本)</h4>
<p class="graf graf--p">它选择标记为中文(或任何其他语言，只需用任何其他语言代码替换<code>zh</code>)或用繁体中文字符书写(或在任何其他字符系统中，只需用任何其他字符代码替换<code>*-hant</code>)的元素。</p>
<p class="graf graf--p">实际上，从CSS 2开始就可以使用这个选择器，但是，通配符语言匹配和逗号分隔列表是第4级选择器中的新功能。</p>
<p class="graf graf--p">它接受一个由一个或多个<a class="markup--anchor markup--p-anchor" href="https://drafts.csswg.org/selectors-4/#language-range" target="_blank" rel="noopener noreferrer" data-href="https://drafts.csswg.org/selectors-4/#language-range">语言范围</a>组成的逗号分隔列表作为它的参数。如果语言范围包含星号，它们必须被正确转义(<code>:lang(es-\*)</code>)或作为字符串引用(<code>:lang("es-*)</code>)。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将所有使用瑞士语言的<code>p</code>元素的背景颜色设置为红色(<code>CH</code>代表瑞士)。</p>
<pre><code>p:lang("*-CH") {
  background-color: red;
}</code></pre>
<p class="graf graf--p">见笔<a href="https://codepen.io/eh3rrera/pen/YByjzp/"> <br/>:郎伪级</a>作者Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>上<a href="https://codepen.io"> CodePen </a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="YByjzp" data-pen-title=":lang pseudo-class">位置伪类</p>
<h3 class="graf graf--h3">此类别包括与超链接相关的选择器。</h3>
<p class="graf graf--p">:任何链接</p>
<h4 class="graf graf--h4">没有<a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#home" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#home">我可以使用</a>页面，但是这个选择器被大多数主流浏览器支持。</h4>
<p class="graf graf--p">它选择所有具有<code>href</code>属性的元素(如<code>&lt;a&gt;</code>或<code>&lt;link&gt;</code>)。换句话说，匹配<code>:link</code>或<code>:visited</code>伪类的所有元素。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将为所有具有<code>href</code>属性的<code>a</code>元素赋予红色。</p>
<pre><code>a:any-link {
  color: red;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen<a href="https://codepen.io/eh3rrera/pen/vbNaeJ/">:any-link伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="vbNaeJ" data-pen-title=":any-link pseudo-class">:本地链接</p>
<h4 class="graf graf--h4">在撰写本文时，还没有任何浏览器支持这个选择器。</h4>
<p class="graf graf--p">它选择以当前URL为目标的元素。如果链接的目标包含一个片段URL，那么当前URL的片段URL也必须匹配；如果不匹配，则在比较中不考虑当前URL的片段URL部分。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将防止所有具有针对当前页面的<code>href</code>属性的<code>a</code>元素被加下划线(可能它们是导航菜单的一部分)。</p>
<pre><code>a:local-link {
  text-decoration: none;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen<a href="https://codepen.io/eh3rrera/pen/GzpBwG/">:local-link伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="GzpBwG" data-pen-title=":local-link pseudo-class">用户操作伪类</p>
<h3 class="graf graf--h3">这个类别包括用户正在操作的元素的选择器。</h3>
<p class="graf graf--p">:焦点在内</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-focus-within" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-focus-within">浏览器支持</a></h4>
<p class="graf graf--p">它选择匹配<code>:focus</code>伪类的元素(当元素有焦点时)或者有匹配<code>:focus</code>的子元素。</p>
<p class="graf graf--p">例如，假设以下形式:</p>
<p class="graf graf--p">当它获得焦点时，将在输入框周围添加边框。</p>
<pre class="graf graf--pre">&lt;form&gt;</pre>
<pre class="graf graf--pre">  &lt;input type="text" id="name" placeholder="Enter your name" /&gt;</pre>
<pre class="graf graf--pre">&lt;/form&gt;</pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的《笔<a href="https://codepen.io/eh3rrera/pen/BMoGWx/">:聚焦-内伪类</a>》。</p>
<pre><code>form:focus-within {
  border: 2px solid;
}</code></pre>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="BMoGWx" data-pen-title=":focus-within pseudo-class">:焦点可见</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-focus-visible" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-focus-visible">浏览器支持</a></h4>
<p class="graf graf--p">如果一个元素当前被聚焦(它与<code>:focus</code>伪类匹配),它就选择这个元素，浏览器决定焦点应该在这个元素上变得明显，通常用一个聚焦环。</p>
<p class="graf graf--p">与<code>:focus</code>的区别是微妙的。</p>
<p class="graf graf--p">如果<code>:focus-visible</code>匹配，<code>:focus</code>也将匹配，但反过来并不总是正确的，这取决于浏览器(如果它启用了聚焦环绘制)和元素是如何聚焦的(通过鼠标点击还是键盘跳转)。</p>
<p class="graf graf--p">Firefox将这个选择器实现为<code>:-moz-focusring</code>伪类。</p>
<p class="graf graf--p">例如，在某些情况下，以下样式:</p>
<p class="graf graf--p">仅当元素通过键盘跳转获得焦点时才应用。</p>
<pre><code>/* Standard Level 4 selector */
:focus-visible {
  background-color: lightgray;
}

/* Level 4 selector for Firefox*/
:-moz-focusring  {
  background-color: lightgray;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上的笔<a href="https://codepen.io/eh3rrera/pen/KJdbMp/"><br/>:Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的焦点可见伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="KJdbMp" data-pen-title=":focus-visible pseudo-class">输入伪类</p>
<h3 class="graf graf--h3">这个类别包括应用于接受用户输入的元素的选择器。</h3>
<p class="graf graf--p">:读写和:只读</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-read-only-write" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-read-only-write">浏览器支持</a></h4>
<p class="graf graf--p"><code>:read-write</code>选择值可变的元素(比如没有<code>readonly</code>属性的<code>&lt;input&gt;</code>元素)。</p>
<p class="graf graf--p"><code>:read-only</code>选择其值不可变的元素(如具有<code>readonly</code>属性的<code>&lt;input&gt;</code>元素)。</p>
<p class="graf graf--p">然而，这些选择器不仅仅选择<code>&lt;input&gt;</code>或<code>&lt;textarea&gt;</code>元素，它们还选择用户可以编辑的任何元素，比如属性<code>contenteditable</code>设置为<code>true</code>的<code>&lt;p&gt;</code>元素。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将页面中所有不可变元素的背景色设置为<code>lightyellow</code>和<code>lightgray</code>。</p>
<pre><code>:read-write {
  background-color: lightyellow;
}

:read-only {
  background-color: lightgray;
}

/* For Firefox */
:-moz-read-write {
  background-color: lightyellow;
}

:-moz-read-only {
  background-color: lightgray;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/JxGXWw/">:读写和:只读伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="JxGXWw" data-pen-title=":read-write and :read-only pseudo-classes">:占位符-显示</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-placeholder-shown" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-placeholder-shown">浏览器支持</a></h4>
<p class="graf graf--p">它选择当前显示占位符文本的输入元素。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将为<code>&lt;input&gt;</code>元素的占位符文本(仅占位符文本)赋予红色。</p>
<pre><code>input:placeholder-shown {
  color: red;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上的Pen <a href="https://codepen.io/eh3rrera/pen/jdWrbp/"> <br/>:占位符显示伪类</a>Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="jdWrbp" data-pen-title=":placeholder-shown pseudo-class">:默认</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-default-pseudo" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-default-pseudo">浏览器支持</a></h4>
<p class="graf graf--p">它选择一组相关元素中作为默认选项的元素。通常应用于按钮和选择列表/菜单。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">会给默认的<code>&lt;input&gt;</code>元素一个绿色的阴影和颜色。</p>
<pre><code>input:default {
  box-shadow: 0 0 2px 2px green;
}

input:default + label {
  color: green;
}</code></pre>
<p class="graf graf--p">见笔<a href="https://codepen.io/eh3rrera/pen/wNMWjx/"> <br/>:默认伪级</a>由Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>于<a href="https://codepen.io"> CodePen </a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="wNMWjx" data-pen-title=":default pseudo-class">:不确定</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-indeterminate-pseudo" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-indeterminate-pseudo">浏览器支持</a></h4>
<p class="graf graf--p">它选择值处于不确定状态的元素。例如，不包含选中元素的单选按钮和复选框组，或者完成百分比未知的进度条。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">如果组中没有选中的元素，将为组中的单选元素的标签提供红色。</p>
<pre><code>input[type="radio"]:indeterminate + label {
  color: red;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的笔<a href="https://codepen.io/eh3rrera/pen/yZeaBL/">:不定伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="yZeaBL" data-pen-title=":indeterminate pseudo-class">:有效和:无效</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=form-validation" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=form-validation">浏览器支持</a></h4>
<p class="graf graf--p">它们根据有效性语义分别选择其内容或值有效或无效的元素。如果语义没有定义(或者不能定义)，那么元素既不是<code>:valid</code>也不是<code>:invalid</code>。</p>
<p class="graf graf--p">例如，对于类型为<code>email</code>的输入元素:</p>
<p class="graf graf--p">将根据元素包含有效还是无效的电子邮件，为元素的文本赋予不同的颜色。</p>
<pre><code>input:invalid {
  color: red;
}

input:valid {
  color: green;
</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/xMZEjp/">:有效和:无效伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="xMZEjp" data-pen-title=":valid and :invalid pseudo-class">:在范围内和:超出范围</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-in-out-of-range" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-in-out-of-range">浏览器支持</a></h4>
<p class="graf graf--p">这些选择器仅适用于有范围限制的元素，例如，如果它可以有定义的最小值或最大值。如果没有这样的约束，元素既不是<code>:in-range</code>也不是<code>:out-of-range</code>。</p>
<p class="graf graf--p">例如，对于最小值为1、最大值为5的输入元素:</p>
<p class="graf graf--p">对于任何大于5的值，将为元素提供红色，对于1到5之间的值，将为元素提供绿色。</p>
<pre><code>input:out-of-range {
  color: red;
}

input:in-range {
  color: green;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的笔<a href="https://codepen.io/eh3rrera/pen/RvroLN/">:范围内和范围外伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="css,result" data-user="eh3rrera" data-slug-hash="RvroLN" data-pen-title=":in-range and :out-of-range pseudo-class">在某些情况下，这些选择器将具有与<code>:valid</code>和<code>:invalid</code>相同的效果。</p>
<p class="graf graf--p">:必需和:可选</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=form-validation" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=form-validation">浏览器支持:必需</a></h4>
<p class="graf graf--p"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-optional-pseudo" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-optional-pseudo">浏览器支持:选项a </a> l</p>
<p class="graf graf--p">在提交表单之前，这些选择器分别应用于必需或可选的表单元素。不是表单元素的元素既不是必需的，也不是可选的。</p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将为元素提供红色的必需元素和灰色的可选元素。</p>
<pre><code>
input:optional {
  color: gray;
}

input:required {
  color: red;
}</code></pre>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/QYyGRQ/">:必选和:可选伪类</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="QYyGRQ" data-pen-title=":required and :optional pseudo-class">树形结构伪类</p>
<h3 class="graf graf--h3">这个类别包括选择器，这些选择器允许基于文档树中的信息进行选择，但这些信息不能由其他选择器表示，例如元素相对于其父元素的位置。</h3>
<p class="graf graf--p">:n-child(n[选择器]？)和:n-last-child(n[选择器]？)</p>
<h4 class="graf graf--h4"><a class="markup--anchor markup--p-anchor" href="https://caniuse.com/#feat=css-nth-child-of" target="_blank" rel="noopener noreferrer" data-href="https://caniuse.com/#feat=css-nth-child-of">浏览器支持</a>(在撰写本文时，该选择器的4级版本还不被任何浏览器支持)。</h4>
<p class="graf graf--p"><code>:nth-child</code>选择器匹配其父元素的第n个子元素。<code>:nth-last-child</code>做同样的事情，但是从最后一个孩子开始计数。您可以使用<a class="markup--anchor markup--p-anchor" href="https://css-tricks.com/examples/nth-child-tester/" target="_blank" rel="noopener noreferrer" data-href="https://css-tricks.com/examples/nth-child-tester/">this:n tester</a>来了解区别，并了解更多关于<a class="markup--anchor markup--p-anchor" href="https://drafts.csswg.org/css-syntax-3/#anb-microsyntax" target="_blank" rel="noopener noreferrer" data-href="https://drafts.csswg.org/css-syntax-3/#anb-microsyntax"> An+B符号语法</a>的信息。</p>
<p class="graf graf--p">在这篇文章的开始，我给你看了一个<code>:nth.last-child</code>的例子，我说它是一个三级选择器。然而，对于第4级，这个选择器接受一个可选的<code>of</code>选择器子句，该子句只过滤那些与该选择器匹配的子元素。</p>
<p class="graf graf--p">除了功能更强大之外，有时，选择器声明的方式也会有所不同。例如:</p>
<p class="graf graf--p">选择前两个<code>&lt;li&gt;</code>元素，但前提是它们具有类<code>item</code>。</p>
<pre class="graf graf--pre">li.item:nth-child(-n+2)</pre>
<p class="graf graf--p">这和:</p>
<p class="graf graf--p">这将选择具有类<code>item</code>的前两个<code>&lt;li&gt;</code>元素，即使它们不是列表中的前两个子元素。</p>
<pre class="graf graf--pre">:nth-child(-n+2 of li.item)</pre>
<p class="graf graf--p">尝试一下(在支持此选择器的浏览器中，如Safari):</p>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的笔<a href="https://codepen.io/eh3rrera/pen/NoxgEE/">:n-child 1/2</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="NoxgEE" data-pen-title=":nth-child 1/2">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen<a href="https://codepen.io/eh3rrera/pen/pGgwpG/">:n-child 2/2</a>。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="pGgwpG" data-pen-title=":nth-child 2/2">网格结构选择器</p>
<h3 class="graf graf--h3">此类别包括处理表格列的选择器。</h3>
<p class="graf graf--p">F | | E</p>
<h4 class="graf graf--h4">在撰写本文时，还没有任何浏览器支持这个选择器。</h4>
<p class="graf graf--p">列组合选择器(<code>||</code>)选择类型为<code>E</code>的元素，该元素代表表格中的一个单元格，并且属于由类型为<code>F</code>的元素所代表的列。</p>
<p class="graf graf--p">例如，假设下表:</p>
<p class="graf graf--p">身份证明</p>
<pre><code/></pre>
<p>描述</p>
<table>
<colgroup>
<col span="2"/>
<col class="selected"/> </colgroup>
<tbody>
<tr>
<th>价格</th>
<th>一</th>
<th>计算机</th>
</tr>
<tr>
<td>$999</td>
<td>2</td>
<td>药片</td>
</tr>
<tr>
<td>$499</td>
<td>以下样式:</td>
<td>将赋予属于<code>selected</code>列(<em class="markup--em markup--p-em">价格</em>)的单元格(<code>&lt;td&gt;</code>元素)浅黄色的背景色。</td>
</tr>
</tbody>
</table>
<pre><code/></pre>
<p>参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen <a href="https://codepen.io/eh3rrera/pen/xMZLQY/"> <br/>列组合子选择器</a>。</p>
<pre><code/></pre>
<p class="graf graf--p">:第n列(An+B)和:第n列最后一列(An+B)</p>
<pre><code>col.selected || td {
 background-color: lightyellow;
}</code></pre>
<p class="graf graf--p">在撰写本文时，还没有任何浏览器支持这个选择器。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="xMZLQY" data-pen-title="Column combinator selector">你可以把这些选择器想象成<code>:nth-child</code>和<code>:nth-last-child</code>的列版本。</p>
<h4 class="graf graf--h4"><code>:nth-col(An+B)</code>选择网格或表格中的一个元素，该元素表示在之前有<code>An+B-1</code>列<em class="markup--em markup--p-em">的列的单元格，对于任意正整数或零值<code>n</code>。</em></h4>
<p class="graf graf--p"><code>:nth-last-col(An+B)</code>选择网格或表格中的一个元素，该元素代表在之后有<code>An+B-1</code>列<em class="markup--em markup--p-em">的列的一个单元格，对于任意正整数或零值<code>n</code>。</em></p>
<p class="graf graf--p">例如:</p>
<p class="graf graf--p">将为表格的第一列提供浅黄色背景色，而最后一列将提供浅绿色背景色。</p>
<p class="graf graf--p">参见<a href="https://codepen.io"> CodePen </a>上Esteban Herrera(<a href="https://codepen.io/eh3rrera">@ eh3rrera</a>)<br/>的Pen<a href="https://codepen.io/eh3rrera/pen/RvrLwm/">:n th-col()和:nth-last-col()伪类</a>。</p>
<p class="graf graf--p">结论</p>
<pre><code>col.nth-col(1) {
  background-color: lightyellow;
}

col.nth-last-col(1) {
  background-color: lightgreen;
}</code></pre>
<p class="graf graf--p">四级选择器允许你以一种简单的方式声明复杂的选择规则。</p>
<p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="eh3rrera" data-slug-hash="RvrLwm" data-pen-title=":nth-col() and :nth-last-col() pseudo-classes">我们已经涵盖了2019年1月的<a class="markup--anchor markup--p-anchor" href="https://drafts.csswg.org/selectors-4/" target="_blank" rel="noopener noreferrer" data-href="https://drafts.csswg.org/selectors-4/">编辑草案规范</a>中定义的大部分选择器，然而，我遗漏了一些选择器，它们有可能很快消失或改变，或者没有太多关于它们的信息(除了不被任何浏览器支持之外):</p>
<h3 class="graf graf--h3">但是一定要注意这些和其余的4级选择器。</h3>
<p class="graf graf--p">你的前端是否占用了用户的CPU？</p>
<p class="graf graf--p">随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用、内存使用等感兴趣，</p>

<p class="graf graf--p">.</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</h2><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">LogRocket</a> is like a DVR for web and mobile apps, recording everything that happens in your web app or site. Instead of guessing why problems happen, you can aggregate and report on key frontend performance metrics, replay user sessions along with application state, log network requests, and automatically surface all errors.</p><p>Modernize how you debug web and mobile apps — <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>