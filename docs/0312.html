<html>
<head>
<title>What’s new in Nuxt 2.7 - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Nuxt 2.7的新特性- LogRocket博客</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/whats-new-in-nuxt-2-7/#0001-01-01">https://blog.logrocket.com/whats-new-in-nuxt-2-7/#0001-01-01</a></blockquote><div><article class="article-post">
<p>NuxtJS是基于<a href="https://vuejs.org">Vu</a><a href="https://vuejs.org" target="_blank" rel="noreferrer noopener" aria-label="e.js (opens in a new tab)">e . js</a><a href="https://nodejs.org" target="_blank" rel="noreferrer noopener" aria-label="Node (opens in a new tab)">Node</a><a href="https://nodejs.org">的免费开源web应用框架。js </a>、<a href="https://expressjs.com" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)"> Express.js </a>、<a href="https://webpack.js.org" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)"> Webpack </a>和<a href="https://babeljs.io" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)"> Babel.js </a>。它是创建VueJS应用程序最流行的框架之一。使用NuxtJS，您可以在通用、静态生成或单页面应用程序之间进行选择。<br/>github上有超过20，000个⭐️，并且有许多专门的社区成员不断提供支持，构建具有SSRA和SPA特性的高性能、稳定和高效的VueJS应用从未如此简单。</p>
<p>自其最初发布以来，其维护者随后也发布了几个解决问题和添加特性的版本。最近，2.7版本发布了几个更新，解决了各种痛点，并对现有功能进行了改进。在本教程中，我们将回顾一些最近的变化，以及它们如何帮助我们使用NuxtJS开发更好的应用程序。</p>
<p>注意:本教程假设您对VueJS和NuxtJS有基本的了解。要了解更多信息，请访问链接<a href="https://vuejs.org" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">这里</a>和<a href="https://nuxtjs.org/" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">这里</a>。</p>
<h2>浏览器中的SSR(通用渲染)日志</h2>
<p>通常，在调试通用应用程序时(<strong>s<em>erver+</em><em><strong>c</strong></em>lient</strong>)，查看一段代码结果的常用方法是使用<code>console.log</code>来完成的。这是有效的(它完成了工作)，但是一个大的难点是它将日志的结果分割到<strong>终端</strong>(当记录特定于服务器的代码时)或者<strong>浏览器</strong>(当记录特定于客户端的代码时)，这可能是非常令人讨厌的，因为您必须从浏览器切换到客户端才能看到结果。</p>
<p>从NuxtJS v2.7开始，情况不再如此。所有SSR日志现在都报告到您的浏览器控制台。你不再需要切换屏幕，现在你可以在浏览器中看到所有日志的结果。</p>
<figure class="wp-block-image"><img decoding="async" src="../Images/dcc11f980cc215513263bb74ddcaac2c.png" alt="" data-lazy-src="https://user-images.githubusercontent.com/904724/57533442-12acec80-733e-11e9-92e9-950718b198ac.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://user-images.githubusercontent.com/904724/57533442-12acec80-733e-11e9-92e9-950718b198ac.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/dcc11f980cc215513263bb74ddcaac2c.png" alt="" data-original-src="https://user-images.githubusercontent.com/904724/57533442-12acec80-733e-11e9-92e9-950718b198ac.gif"/></noscript></figure>
<h2>存储目录创建的自动检测</h2>
<p>存储帮助管理大型应用程序中的状态。NuxtJS默认实现Vuex。以前，要激活商店，您需要创建一个商店目录，NuxtJS将:</p>
<ul><li>Import Vuex(导入Vuex)</li><li>向根Vue实例添加<code>store</code>选项。</li></ul>
<p>但是，要实现这一点，您必须重新启动它。在v2.7中，你不再需要这样做，因为NuxtJS现在可以检测到你何时创建了一个<code>store/</code>目录，并且会自动重新加载，所以你不再需要重新启动它。<br/><code>serverMiddleware</code>手表已经被改进，可以重启NuxtJS并清理它们的缓存。</p>
<figure class="wp-block-image"><img decoding="async" src="../Images/1532ade8cfdf6b35037b63ace0312576.png" alt="" data-lazy-src="https://user-images.githubusercontent.com/904724/57455462-70243900-726b-11e9-8b1b-675e31f17c44.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://user-images.githubusercontent.com/904724/57455462-70243900-726b-11e9-8b1b-675e31f17c44.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/1532ade8cfdf6b35037b63ace0312576.png" alt="" data-original-src="https://user-images.githubusercontent.com/904724/57455462-70243900-726b-11e9-8b1b-675e31f17c44.gif"/></noscript></figure>
<h2>扩展babel.presets和babel envName API</h2>
<p>预设可以作为一个巴别塔插件阵列或可共享的<a href="https://babeljs.io/docs/en/options" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">选项</a>配置。当你不想组装自己的一套插件时，<code>babel-preset-app</code>是Nuxt使用的默认预置，它主要是围绕<code>@babel/preset-env</code>预置的一个包装器。通常定制babel配置是通过一个<code>.babelrc</code>或配置文件来完成的。在NuxtJS v2.7中，默认情况下忽略<code>babel.rc</code>文件，而使用<code>build.extend</code> API。现在，向babel传递选项是使用这个新的API完成的，如下所示:</p>
<pre class="wp-block-code"><code>// nuxt.config.js&#13;
export default {&#13;
  build: {&#13;
    babel: {&#13;
      presets({ isServer }, [preset, options]) {&#13;
        // change options directly&#13;
        options.targets = ...&#13;
        options.corejs = ...&#13;
&#13;
        // or return whole preset list&#13;
      }&#13;
    }&#13;
  }&#13;
}</code></pre>
<p>还添加了一个用于<code>configFile</code>的<code>envName</code> API:</p>
<pre class="wp-block-code"><code>// nuxt.config.js&#13;
export default {&#13;
  build: {&#13;
    babel: {&#13;
      configFile: path.resolve(rootDir, 'babel.config.js')&#13;
    }&#13;
  }&#13;
}&#13;
&#13;
// babel.config.js&#13;
module.exports = function (api) {&#13;
  const env = api.env()&#13;
  api.cache.using(() =&gt; env)&#13;
&#13;
  const presets = []&#13;
  const plugins = []&#13;
&#13;
  if (env === 'server') {&#13;
    // set server presets/plugins&#13;
  } else if (env === 'client') {&#13;
    // set client presets/plugins&#13;
  } else if (env === 'modern') {&#13;
    // set modern presets/plugins&#13;
  }&#13;
&#13;
  return { presets, plugins }&#13;
}</code></pre>
<h2>可配置别名</h2>
<p>使用webpack时，在webpack配置中创建别名并不罕见。在v2.7之前，从配置文件配置别名是不可配置的。您必须在别名前面使用<code>@</code>符号。这意味着如果您的配置中已经有了类似的配置，就会出现冲突。</p>
<pre class="wp-block-code"><code>// packages/webpack/src/config/base.js&#13;
alias() {&#13;
    const { srcDir, rootDir, dir: { assets: assetsDir, static: staticDir } } = this.buildContext.options&#13;
&#13;
    return {&#13;
      '~': path.join(srcDir),&#13;
      '~~': path.join(rootDir),&#13;
      '@': path.join(srcDir),&#13;
      '@@': path.join(rootDir),&#13;
      [assetsDir]: path.join(srcDir, assetsDir),&#13;
      [staticDir]: path.join(srcDir, staticDir)&#13;
   }&#13;
}</code></pre>
<p>这个问题在2.7版中不再存在，因为它现在是可配置的。别名现在将在<code>options.js</code>文件的选项对象中定义，并在<code>base.js</code>文件中引用，从而消除潜在的冲突。</p>
<h2>忽略“未找到”警告</h2>
<p>使用TypeScript时<code>export ... was not found ...</code>是一个常见的错误。尽管它不会阻止你的应用程序运行，但看到它弹出来还是很烦人的。<br/>以前，这种错误可以通过给<code>nuxt.config.ts</code>添加一个自定义插件来抑制。然而，从NuxtJS v2.7开始，该特性已经被添加到NuxtJS核心中。</p>
<p>注意:关于所有变更的具体列表，请查看发布<a href="https://github.com/nuxt/nuxt.js/releases" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">页面</a></p>
<h2>贬值</h2>
<p>以下API在NuxtJS v2.7中已被弃用:</p>

<h2>未来使用警告</h2>
<ul><li>过渡属性在NuxtJS v3中将不再可用。</li></ul>
<p><strong>迁移提示:</strong>对于任何效果，您都不需要更改项目中的任何一行代码。一旦升级到NuxtJS v2.7，一切都会自动迁移。</p>
<h2>结论</h2>
<p>在本教程中，我们探索了NuxtJS v2.7中的一些新特性和改进。我们还研究了一些不推荐使用的特性和未来警告。要查看所有变更的具体列表并了解更多关于新版本的信息，请务必查看版本<a href="https://github.com/nuxt/nuxt.js/releases" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">页面</a>。请关注我们关于NuxtJS v2.8的下一篇文章。祝编码愉快！</p><p>像用户一样体验您的Vue应用</p><div class="code-block code-block-20">
<div class="blog-plug inline-plug vue-inline"><h2>调试Vue.js应用程序可能会很困难，尤其是当用户会话期间有几十个(如果不是几百个)突变时。如果您对监视和跟踪生产中所有用户的Vue突变感兴趣，</h2><p>. </p><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank">try LogRocket</a><p>LogRocket 就像是网络和移动应用程序的DVR，记录你的Vue应用程序中发生的一切，包括网络请求、JavaScript错误、性能问题等等。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。</p><a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/0d269845910c723dd7df26adab9289cb.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://files.readme.io/00591d0-687474703a2f2f692e696d6775722e636f6d2f6a3049327856572e706e67.png"/></noscript></a><a href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket Vuex插件将Vuex突变记录到LogRocket控制台，为您提供导致错误的环境，以及出现问题时应用程序的状态。</p><p>现代化您调试Vue应用的方式- <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><p>Modernize how you debug your Vue apps - <a class="signup" href="https://lp.logrocket.com/blg/vue-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>