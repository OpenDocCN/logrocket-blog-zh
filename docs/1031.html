<html>
<head>
<title>8 awesome features of styled-components - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>风格化组件的8个令人敬畏的特性</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/8-awesome-features-of-styled-components/#0001-01-01">https://blog.logrocket.com/8-awesome-features-of-styled-components/#0001-01-01</a></blockquote><div><article class="article-post">
<p>styled-components是全世界CSS-in-JS库中的领先框架。它提供了一种简单而优雅的方式来实现React项目中的内联样式组件。</p>
<p>styled-components有一些很多开发者不知道的很酷的特性。在本指南中，我们将描述其中的一些功能，并向您展示如何使用它们来美化您的下一个项目。</p>
<h2 id="styleinheritance">1.风格传承</h2>
<p>我们可以通过简单地将样式组件传递给<code>styled</code>函数来继承它的样式。</p>
<pre>import styled from "styled-components"

const Div = styled.div`
    padding: 10px;
    color: palevioletred;
`
</pre>
<p>这里我们有一个<code>Div</code>样式的组件。让我们创建另一个div元素来继承这个组件的样式。</p>
<pre>const InheritedDiv = styled(Div)`
    border: 1px solid palevioletred;
`
</pre>
<p>这个<code>InheritedDiv</code>将具有<code>Div</code>组件的样式以及它自己的样式。</p>
<pre>padding: 10px;
color: palevioletred;
border: 1px solid palevioletred;
</pre>
<h2 id="passingprops">2.传递道具</h2>
<p>可以将Props传递给样式化的组件，就像它们传递给常规的React组件(类或函数)一样。这是可能的，因为样式化组件实际上是React组件。</p>
<pre>const Button = styled.button`
    padding: 2px 5px;
    color: white;
    border-radius: 3px;
`

const Div = styled.div`
    padding: 10px;
    color: palevioletred;
    border: 1px solid palevioletred;
`
</pre>
<p>styled-components创建一个React组件，该组件呈现与styled对象中的属性相对应的HTML标记。</p>
<p><code>Button</code>将创建并呈现一个按钮HTML标签，而<code>Div</code>将创建并呈现一个div标签。它们是组件，所以我们可以向它们传递道具。</p>
<pre>&lt;Button color="black"&gt;Click Me&lt;/Button&gt;
&lt;Div borderColor="green"&gt;&lt;/Div&gt;
</pre>
<p>这将使样式化组件将包含颜色的道具传递给<code>Button</code>组件，将包含<code>borderColor</code>的道具传递给<code>Div</code>组件。然后，我们可以通过使用一个函数来获取带标签的模板文本中的属性。</p>
<pre>const Button = styled.button`
    padding: 2px 5px;
    color: ${props =&gt; props.color ? props.color : "white"};
    border-radius: 3px;
`

const Div = styled.div`
    padding: 10px;
    color: palevioletred;
    border: 1px solid ${props =&gt; props.borderColor ? props.borderColor : "palevioletred"};
`
</pre>
<p>标记模板文字中的函数将接收一个<code>props</code> args，它是传递给组件的<code>props</code>。这使我们能够引用传递给<code>Button</code>和<code>Div</code>组件的<code>color</code>和<code>borderColor</code>，这使得样式化组件的样式是动态的。</p>
<h2 id="theming">3.主题</h2>
<p>styled-components提供了主题化功能，使您能够支持多种外观和感觉。</p>
<p>为此，我们将使用<code>ThemeProvider</code>组件。</p>
<pre>import { ThemeProvider } from "styled-components"
</pre>
<p>让我们设置一个主题对象来保存我们想要应用于样式化组件的CSS样式。</p>
<pre>const theme = {
    boderColor: "green",
    color: "green",
    bgColor: "green"
}
</pre>
<p>主题对象保存了<code>border-color</code>、<code>color</code>和<code>bgColor</code>的颜色。</p>
<p>现在，我们有两个组件:<code>Button</code>和<code>Div</code>。让我们把主题用在他们身上。</p>
<pre>const Button = styled.button`
    padding: 2px 5px;
    color: ${props =&gt; props.theme.color};
    border-radius: 3px;
`

const Div = styled.div`
    padding: 10px;
    color: ${props =&gt; props.theme.color};
    border: 1px solid ${props =&gt; props.theme.borderColor};
`
</pre>
<p>如您所见，他们正在访问道具中的主题属性。<code>ThemeProvider</code>将主题对象作为道具传递给组件。</p>
<p>最后，我们将渲染<code>ThemeProvider</code>标签之间的<code>Div</code>和<code>Button</code>组件，并将主题对象传递给<code>ThemeProvider</code>中的<code>theme</code>道具。</p>
<pre>&lt;ThemeProvider theme={theme}&gt;
    &lt;Div&gt;
        &lt;Button&gt;Click Me&lt;/Button&gt;
    &lt;/Div&gt;
&lt;/ThemeProvider&gt;
</pre>
<p>主题对象将在他们的道具中提供给<code>ThemeProvider</code>的孩子。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>所以现在，如果我们改变主题对象中的任何属性值，<code>ThemeProvider</code>将把改变传递给子对象，<code>Div</code>和<code>Button</code>将相应地改变它们的样式。</p>
<h2 id="globalstyling">4.全局样式</h2>
<p>到目前为止，我们所做的大多数样式都是特定于组件的。styled-components框架还使您能够创建应用于所有样式化组件的全局样式。</p>
<p>首先，导入<code>createGlobalStyle</code>。</p>
<pre>import { createGlobalStyle } from "styled-components/macro"
</pre>
<p>创建一个<code>globalStyles.js</code>文件。</p>
<pre>// globalStyles.js

export default createGlobalStyle`
    html {
        margin: 0;
    }

    body {
        margin: 0;
    }
`
</pre>
<p>接下来，将其导入到<code>App</code>组件中。</p>
<pre>import GlobalStyle from "./globalStyles"

function App() {
    return (
        &lt;GlobalStyle /&gt;
        &lt;AppTree /&gt;
    )
}
</pre>
<p><code>GlobalStyle</code>在应用程序树的其余部分之前首先呈现。这将把全局样式应用到应用程序树中的所有组件。</p>
<h2 id="switchingcomponenttypes">5.切换组件类型</h2>
<p>样式组件本质上是动态的。他们可以从创建和呈现一个HTML元素变成另一个。</p>
<pre>const Button = styled.button`
    padding: 2px 5px;
    color: ${props =&gt; props.theme.color};
    border-radius: 3px;
`
</pre>
<p>组件将创建并呈现一个按钮元素。在呈现<code>Button</code>组件时，我们可以通过将<code>as</code>属性传递给它，并使用我们希望它更改的HTML标签名称来更改这一点。</p>
<pre>&lt;Button as="a"&gt;Click Me&lt;/Button&gt;
</pre>
<p>这将创建并呈现一个锚元素。<code>as="a"</code>将它从呈现按钮元素改为呈现锚元素。</p>
<p>这也可以使用<code>withComponent</code>方法来完成。</p>
<pre>const Button = styled.button`
    padding: 2px 5px;
    color: palevioletred;
    border-radius: 3px;
`

const Link = Button.withComponent("a")
</pre>
<p><code>Link</code>是一个样式化的组件，它将呈现应用了<code>Button</code>CSS样式的<code>a</code>锚元素。</p>
<h2 id="styleregularcomponents">6.设计常规组件的样式</h2>
<p>通过用组件调用<code>styled()</code>函数，然后用包含样式代码的模板文字，可以将常规组件转换成样式组件。</p>
<pre>function Button(props) {
    return (
        &lt;button className={props.className}&gt;
            {props.children}
        &lt;/button&gt;
    )
}
</pre>
<p>这里我们有一个呈现按钮元素的<code>Button</code>组件。请注意，我们为按钮元素设置了一个<code>className</code>属性，并将其值指定为来自<code>props.className</code>。这是为了将继承的样式应用于按钮元素。</p>
<p>要将该组件转换成样式化的组件，请将其传递给<code>styled()</code>函数。</p>
<pre>Button = styled(Button)`
    padding: 2px 5px;
    border-radius: 3px;
    border: 1px solid palevioletred;
`
</pre>
<p>这将使用模板文本中的CSS样式来样式化<code>Button</code>组件中的按钮元素。将使用下面的CSS代码呈现一个按钮元素。</p>
<pre>padding: 2px 5px;
border-radius: 3px;
border: 1px solid palevioletred;
</pre>
<h2 id="specifyattributes">7.指定属性</h2>
<p>您可以向由样式化组件呈现的HTML元素添加属性。</p>
<p>例如，您可以像这样创建一个<code>Input</code>组件:</p>
<pre>const Input = styled.input`
    font-size: 14px;
    padding: 2px 5px;
    border: 1px solid green;
`
</pre>
<p><code>Input</code>将元素渲染并输入。输入元素有不同的类型，包括:</p>
<ul>
<li><code>text</code></li>
<li><code>number</code></li>
<li><code>password</code></li>
<li><code>email</code></li>
</ul>
<p>这些是通过使用<code>type</code>属性在输入元素中指定的。要告诉样式化组件您想要的输入元素的类型，使用<code>attrs</code>方法。</p>
<pre>const Input = styled.input.attrs({
    type: "text"
})`
    font-size: 14px;
    padding: 2px 5px;
    border: 1px solid green;
`
</pre>
<p>这将创建一个类型为<code>text</code>的输入元素。我们还可以向样式化组件添加其他属性。</p>
<pre>const Input = styled.input.attrs({
    type: "text",
    placeholder: "Type anything here..."
})`
    font-size: 14px;
    padding: 2px 5px;
    border: 1px solid green;
`

const PasswordInput = styled.input.attrs({
    type: "password",
    placeholder: "Type your password here..."
})`
    font-size: 14px;
    padding: 2px 5px;
    border: 1px solid green;
`
</pre>
<h2 id="usewithothercssframeworks">8.与其他CSS框架一起使用</h2>
<p>最后，您可以在任何CSS框架中使用样式化组件。</p>
<p>例如，让我们用引导样式创建一个<code>Button</code>组件。</p>
<pre>const PrimaryButton = styled.button.attrs({
    className: "btn btn-prmiary"
})`
    outline: none;
`
</pre>
<p>我们使用了<code>attrs</code>方法向带有<code>btn btn-primary</code>值的组件添加一个<code>className</code>属性。这将使Bootstrap将其样式应用于组件。</p>
<p>其他CSS框架也是如此。</p>
<pre>const MatButton = styled.button.attrs({
    className: "mat-button"
})`
    outline: none;
`
</pre>
<p>以上示例是一个材质设计样式的组件。</p>
<h2 id="conclusion">结论</h2>
<p>除了我们在这里讨论的，还有许多特性被嵌入到样式组件中，但是这八个技巧和窍门将会帮助你从这个动态库中获得最大的收益。</p>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>