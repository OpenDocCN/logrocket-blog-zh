<html>
<head>
<title>A guide to CSS at-rules - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>CSS at-rules - LogRocket博客指南</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/a-guide-to-css-at-rules/#0001-01-01">https://blog.logrocket.com/a-guide-to-css-at-rules/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule" target="_blank" rel="noopener noreferrer"> CSS at-rules </a>在告诉CSS如何行为方面非常实用。有几个这样的规则，比如<code>@media</code>、<code>@import</code>、<code>@font-face</code>等等。唯一标识符是这些规则之前的<code>@</code>标记。</p>
<p>为了简单起见，这些规则可以分为两组，一般规则和嵌套规则。在本帖中，我们将通过代码示例介绍每组中最实用和有用的规则。</p>
<h2>通则</h2>
<p>首先，我们将讨论一般的CSS at-rules。这些规则需要放在样式表的顶部，在所有其他CSS属性之前，因为它们定义了CSS规则的一般设置，不会被其他规则覆盖。</p>
<h2>@charset</h2>
<p>这是需要在样式表中声明的第一个CSS at-rule，用于定义字符编码，在它之前不应该有其他规则。还有其他处理charset的方法，比如把它放在HTTP头上，但是在CSS中声明它有一些特定的用例。例如，当我们对<code><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/content" target="_blank" rel="noopener noreferrer">content</a></code>属性使用<a href="https://terpconnect.umd.edu/~zben/Web/CharSet/htmlchars.html" target="_blank" rel="noopener noreferrer">非ASCII字符</a>时，浏览器有不同的方式来计算字符编码。</p>
<p>在调用HTML文件中设置它:</p>
<pre>&lt;meta charset="UTF-8" /&gt;</pre>
<p>服务器可能会在响应头中设置具有特定字符编码的内容类型:</p>
<pre>Content-Type: text/css; charset=utf-8</pre>
<p>所以在大多数情况下，这是被管理的，但是如果调用或返回的HTML的编码不同于某个样式表，那么<code>@charset</code>需要在CSS文件中声明。</p>
<p>下面是一个<code>@charset</code>用法的例子:</p>
<p/>
<p>除了早期版本的Safari之外，支持多种浏览器。</p>
<figure id="attachment_21479" aria-describedby="caption-attachment-21479" class="wp-caption aligncenter"><img data-attachment-id="21479" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/s_a45444422ca52d1ac5fd4d4c1b1174f046af3d66aa618b1f6303ab498dc2a27e_1590351268767_screenshot2020-05-24at22-13-22/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png" data-orig-size="730,187" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot+2020-05-24+at+22.13.22" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40charset&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png" decoding="async" class="size-full wp-image-21479 jetpack-lazy-image" src="../Images/0a0ff1505be58fd44005ece9b0f8c1e6.png" alt="caniuse for charset" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22-300x77.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21479" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/s_a45444422ca52d1ac5fd4d4c1b1174f046af3d66aa618b1f6303ab498dc2a27e_1590351268767_screenshot2020-05-24at22-13-22/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png" data-orig-size="730,187" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot+2020-05-24+at+22.13.22" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40charset&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png" decoding="async" loading="lazy" class="size-full wp-image-21479" src="../Images/0a0ff1505be58fd44005ece9b0f8c1e6.png" alt="caniuse for charset" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22-300x77.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590351268767_Screenshot2020-05-24at22.13.22.png"/></noscript><figcaption id="caption-attachment-21479" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=%40charset" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=%40charset</a></figcaption></figure>
<h2>@导入</h2>
<p>我们使用<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import" target="_blank" rel="noopener noreferrer">这个规则</a>将来自另一个源的CSS包含在当前的CSS文件中。因此，当解析CSS文件并遇到一个<code>@import</code>规则时，浏览器发出一个HTTP请求来获取外部样式表，并在声明<code>@import</code>规则的地方包含它的CSS属性。因此，需要注意的是，该规则必须在除<code>@charset</code>之外的所有其他规则之前声明。让我们探索一些关于CSS规则的事实。</p>
<h3>@import不能在条件组at-rules中使用</h3>
<p>因为这个规则是为了帮助开发人员包含来自其他来源的样式表而构建的，所以不可能将它包含在任何条件组at规则中，如<code>@media</code>、<code>@page</code>和<code>@document</code>:</p>
<pre>// THIS IS WRONG

/* iPhone in Portrait and Landscape */
@media only screen
  @import 'custom.css';
}</pre>
<p>然而，我们可以指定依赖于媒体的<code>@import</code>规则，以避免为不支持的媒体类型获取资源。这里有一个例子:</p>
<pre>@import 'custom.css' screen and (orientation:landscape);
</pre>
<h3>良好的浏览器支持</h3>
<p>这个规则有很好的浏览器支持，几乎所有的传统浏览器都支持它。</p>
<figure id="attachment_21488" aria-describedby="caption-attachment-21488" class="wp-caption aligncenter"><img data-attachment-id="21488" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniuseimport/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png" data-orig-size="730,181" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniuseimport" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40import&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png" decoding="async" class="size-full wp-image-21488 jetpack-lazy-image" src="../Images/48ea6baf8febc429acfd394663a95319.png" alt="caniuse import" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport-300x74.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21488" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniuseimport/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png" data-orig-size="730,181" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniuseimport" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40import&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport-300x74.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png" decoding="async" loading="lazy" class="size-full wp-image-21488" src="../Images/48ea6baf8febc429acfd394663a95319.png" alt="caniuse import" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport-300x74.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseimport.png"/></noscript><figcaption id="caption-attachment-21488" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=%40import" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=%40import</a></figcaption></figure>
<h3>SASS支持</h3>
<p>由于CSS预处理程序如<a href="https://sass-lang.com/" target="_blank" rel="noopener noreferrer"> SASS </a>的流行，将SASS中使用的<code>@import</code>属性与原生CSS属性相混淆是不可避免的。虽然他们很相似，但也有不同之处。</p>
<p>SASS <code>@import</code>是对原生CSS的扩展，允许导入<code>.scss</code>和<code>.css</code>文件。在导入<code>.scss</code>文件的情况下，样式表中使用的所有混合、变量和函数将在<code>@import</code>定义行中可用。然而，两者之间最大的区别在于，在CSS中声明<code>@import</code>会产生多个HTTP请求来获取样式表并呈现页面，而SASS导入完全在编译时处理，这样性能更高。</p>
<p>这里有一个<code>@import</code>的例子:</p>
<p>@命名空间</p>
<h2>这条规则旨在帮助<a href="https://developer.mozilla.org/en-US/docs/Archive/Mozilla/XUL/Namespaces" target="_blank" rel="noopener noreferrer">基于XML的名称空间</a>防止重复样式相互干扰。即使有更复杂的概念，如<a href="http://smacss.com/" target="_blank" rel="noopener noreferrer"> SMACSS </a>，在我们的CSS中也可能有这个规则的潜在用例。</h2>
<p>简而言之，<code>@namespace</code>规则有助于为混合不同XML名称空间样式的CSS应用范围。XML名称空间的例子有<a href="https://www.w3.org/TR/2011/WD-html5-20110525/namespaces.html" target="_blank" rel="noopener noreferrer"> HTML、SVG、MathML、XLink等</a>。这样，来自不同名称空间的元素之间就不会发生样式冲突:</p>
<p>In a nutshell, the <code>@namespace</code> rule helps apply scoping for CSS that mix styles from different XML namespaces. Examples of XML namespaces are <a href="https://www.w3.org/TR/2011/WD-html5-20110525/namespaces.html" target="_blank" rel="noopener noreferrer">HTML, SVG, MathML, XLink, etc</a>. This way, there will be no styling collisions between elements from different namespaces:</p>
<p>在浏览器支持方面，<code>@namespace</code>覆盖了大部分浏览器的良好范围，除了IE 6-8。</p>
<p>嵌套规则</p>
<figure id="attachment_21496" aria-describedby="caption-attachment-21496" class="wp-caption aligncenter"><img data-attachment-id="21496" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusenamespace/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png" data-orig-size="730,233" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusenamespace" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40namespace&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace-300x96.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png" decoding="async" class="size-full wp-image-21496 jetpack-lazy-image" src="../Images/d30a406364d661e88e1095fe85ecc4ab.png" alt="caniuse namespace" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace-300x96.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21496" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusenamespace/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png" data-orig-size="730,233" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusenamespace" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40namespace&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace-300x96.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png" decoding="async" loading="lazy" class="size-full wp-image-21496" src="../Images/d30a406364d661e88e1095fe85ecc4ab.png" alt="caniuse namespace" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace-300x96.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusenamespace.png"/></noscript><figcaption id="caption-attachment-21496" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=%40namespace" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=%40namespace</a></figcaption></figure>
<h2>CSS at-rules有一个子集，其中存储了语句的子集。他们通常遵循我们上面讨论的一般规则。</h2>
<p>@文档</p>
<h2>这是一个独特的规则，允许您为某个页面指定样式，而不会影响其他页面的样式。这种基于页面的样式定制有不同的形式:</h2>
<p>您可以为特定的URL指定规则:</p>
<ul>
<li>您可以为URL以其开头的页面指定规则:</li>
</ul>
<pre>@document url(https://example.com/),</pre>
<ul>
<li>您可以在域级别上为与其相关的所有页面指定规则:</li>
</ul>
<pre>@document  url-prefix(https://example.com/index),</pre>
<ul>
<li>您还可以为预定义的正则表达式模式指定规则，以便进行更多的控制:</li>
</ul>
<pre>@document domain(example.com),</pre>
<ul>
<li>记住<code>@document</code>规则目前对浏览器的支持是有限的。</li>
</ul>
<pre>@document regexp("https:.*"),</pre>
<p>@font-face</p>
<figure id="attachment_21501" aria-describedby="caption-attachment-21501" class="wp-caption aligncenter"><img data-attachment-id="21501" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusedocument/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png" data-orig-size="730,212" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusedocument" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40document&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png" decoding="async" class="size-full wp-image-21501 jetpack-lazy-image" src="../Images/31a6c62d882e79321d4fec2deb3784a5.png" alt="the @document rule has limited support" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument-300x87.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21501" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusedocument/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png" data-orig-size="730,212" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusedocument" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=%40document&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png" decoding="async" loading="lazy" class="size-full wp-image-21501" src="../Images/31a6c62d882e79321d4fec2deb3784a5.png" alt="the @document rule has limited support" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument-300x87.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusedocument.png"/></noscript><figcaption id="caption-attachment-21501" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=%40document" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=%40document</a></figcaption></figure>
<h2>曾经有一段时间，开发人员和设计人员只能使用有限的字体来设计网页。事实上，你可以看到最常见和最著名的websafe CSS字体的<a href="https://www.cssfontstack.com/" target="_blank" rel="noopener noreferrer">列表，许多人依赖它来设计他们的页面，因为它们是预先安装在用户系统上的。</a></h2>
<p>然后<code>@font-face</code> CSS规则被引入<a href="https://www.webfx.com/blog/web-design/font-face-guide/" target="_blank" rel="noopener noreferrer">作为在网络上使用自定义字体的途径之一</a>，为网页带来更时尚的排版。此外，随着网络字体现代化的进展和<a href="https://en.wikipedia.org/wiki/Web_Open_Font_Format" target="_blank" rel="noopener noreferrer">网络开放字体格式(WOFF2沃夫2) </a>的使用，网络排版的未来看起来非常令人兴奋。</p>
<p><code>@font-face</code>是一个嵌套的规则，使用它，你可以得到不同的属性来定义字体，但是其中两个主要的是<code>src</code>和<code>font-family</code>。</p>
<p>使用<code>font-family</code>，您可以在下载并可以使用时访问自定义字体的标识符名称。例如:</p>
<p>使用<code>src</code>，定义字体数据的来源。字体数据可以来自使用<code>url()</code>的外部来源或使用<code>local()</code>的本地来源。这样，如果该字体在站点目录或用户系统中本地不可用，它将从外部源下载。</p>
<pre>@font-face {
  font-family: "CustomFont";
}

// Possible usage
p {
  font-family: 'CustomFont';
}</pre>
<p>此外，您可以传递一个<code>format</code>参数，以提示所定义字体的格式:</p>
<p>现在，当谈到浏览器对<code>@font-face</code>的支持时，大多数浏览器都支持在CSS中定义自定义字体的功能，但不同的是可以在其中使用的字体类型。</p>
<pre>@font-face {
  font-family: 'Helvetica';
  src:  url('Helvetica') format('woff'),
        local('Helvetica.woff') format('woff');
}</pre>
<p>正如我们所知，<a href="https://www.w3.org/TR/WOFF2/" target="_blank" rel="noopener noreferrer"> WOFF2 </a>是下一代网络字体，具有更好的压缩性，并将成为未来的标准，但在此之前<a href="https://css-tricks.com/snippets/css/using-font-face/" target="_blank" rel="noopener noreferrer">我们也需要支持旧的浏览器</a>。</p>
<figure id="attachment_21507" aria-describedby="caption-attachment-21507" class="wp-caption aligncenter"><img data-attachment-id="21507" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusefontface-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png" data-orig-size="730,228" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusefontface" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=fontface&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1-300x94.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png" decoding="async" class="size-full wp-image-21507 jetpack-lazy-image" src="../Images/928e426cacefc4f4b7dd244116fe72b3.png" alt="caniuse font-face" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1-300x94.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21507" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniusefontface-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png" data-orig-size="730,228" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniusefontface" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=fontface&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1-300x94.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png" decoding="async" loading="lazy" class="size-full wp-image-21507" src="../Images/928e426cacefc4f4b7dd244116fe72b3.png" alt="caniuse font-face" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1-300x94.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniusefontface-1.png"/></noscript><figcaption id="caption-attachment-21507" class="wp-caption-text">Source: <a href="https://caniuse.com/#feat=fontface" target="_blank" rel="noopener noreferrer">https://caniuse.com/#feat=fontface</a></figcaption></figure>
<p>为了支持旧的IE浏览器(6-9)，你可以使用下面的方法。<code>.eot</code>是微软开发的网络字体，只能通过IE浏览器使用:</p>
<p>对于支持<code>.woff</code>的现代浏览器，你可以使用下面的方法:</p>
<pre>@font-face {
  font-family: 'CustomFont';
  src: url('customfont.eot'), /* IE9 */
       url('customfont.eot?#iefix') format('embedded-opentype'); /* IE6-IE8 */
}</pre>
<p>对于更现代的支持<code>woff2</code>的浏览器，你可以使用下面的规则:<br/> <img data-attachment-id="21551" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/woff2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="woff2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png" decoding="async" class="aligncenter size-full wp-image-21551 jetpack-lazy-image" src="../Images/421be8f66b790bdae2246e2de0f0b2b2.png" alt="woff2" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/woff2-300x87.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png"/></p>
<figure id="attachment_21517" aria-describedby="caption-attachment-21517" class="wp-caption aligncenter"><img data-attachment-id="21517" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/woff/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="woff" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=mdn-css_at-rules_font-face_woff&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png" decoding="async" class="size-full wp-image-21517 jetpack-lazy-image" src="../Images/634c7a4ddf0327e61384b23b2dbf4e67.png" alt="caniusewoff" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/woff-300x78.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21517" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/woff/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="woff" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=mdn-css_at-rules_font-face_woff&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png" decoding="async" loading="lazy" class="size-full wp-image-21517" src="../Images/634c7a4ddf0327e61384b23b2dbf4e67.png" alt="caniusewoff" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/woff-300x78.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff.png"/></noscript><figcaption id="caption-attachment-21517" class="wp-caption-text">Source: <a href="https://caniuse.com/#feat=mdn-css_at-rules_font-face_woff" target="_blank" rel="noopener noreferrer">https://caniuse.com/#feat=mdn-css_at-rules_font-face_woff</a></figcaption></figure>
<pre>@font-face {
  font-family: 'CustomFont';
  url('webfont.woff') format('woff');
}</pre>
<p>一些Android或iOS设备依赖于<code>.ttf</code>，它被称为<a href="https://en.wikipedia.org/wiki/TrueType" target="_blank" rel="noopener noreferrer"> TrueType字体</a>。这就是<code>.woff</code>和<code>.woff2</code>的由来。这种字体的问题在于，它可以在没有字体创建者同意的情况下被轻易地复制。您可以将此字体用作上述某些设备的传统支持:</p><noscript><img data-lazy-fallback="1" data-attachment-id="21551" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/woff2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="woff2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-21551" src="../Images/421be8f66b790bdae2246e2de0f0b2b2.png" alt="woff2" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/woff2-300x87.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/woff2.png"/></noscript>
<pre>@font-face {
  font-family: 'CustomFont';
  url('webfont.woff2') format('woff2');
}</pre>
<p>最后，一些传统的iOS浏览器支持<code>.svg</code>字体。因为SVG的尺寸更小，所以它是旧浏览器的理想用例，尤其是对于iOS。但是新版本都不支持这种类型。因此，如果您需要支持旧版本的iOS Safari浏览器，请确保在您的<code>@font-face</code>规则中添加这一选项作为后备选项:</p>
<figure id="attachment_21521" aria-describedby="caption-attachment-21521" class="wp-caption aligncenter"><img data-attachment-id="21521" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/s_a45444422ca52d1ac5fd4d4c1b1174f046af3d66aa618b1f6303ab498dc2a27e_1590426671021_screenshot2020-05-25at19-07-48/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png" data-orig-size="730,222" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot+2020-05-25+at+19.07.48" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=ttf&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png" decoding="async" class="size-full wp-image-21521 jetpack-lazy-image" src="../Images/b5c75d219ad2e36781bf205303045817.png" alt="caniuse ttf" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48-300x91.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21521" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/s_a45444422ca52d1ac5fd4d4c1b1174f046af3d66aa618b1f6303ab498dc2a27e_1590426671021_screenshot2020-05-25at19-07-48/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png" data-orig-size="730,222" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot+2020-05-25+at+19.07.48" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#search=ttf&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png" decoding="async" loading="lazy" class="size-full wp-image-21521" src="../Images/b5c75d219ad2e36781bf205303045817.png" alt="caniuse ttf" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48-300x91.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/s_A45444422CA52D1AC5FD4D4C1B1174F046AF3D66AA618B1F6303AB498DC2A27E_1590426671021_Screenshot2020-05-25at19.07.48.png"/></noscript><figcaption id="caption-attachment-21521" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=ttf" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=ttf</a></figcaption></figure>
<pre>@font-face {
  font-family: 'CustomFont';
  url('customfont.ttf')  format('truetype');
}</pre>
<p>关键帧@</p>
<figure id="attachment_21524" aria-describedby="caption-attachment-21524" class="wp-caption aligncenter"><img data-attachment-id="21524" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/svgfonts/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png" data-orig-size="730,210" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="svgfonts" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=mdn-css_at-rules_font-face_svg_fonts&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts-300x86.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png" decoding="async" class="size-full wp-image-21524 jetpack-lazy-image" src="../Images/290487e8b59b97b6d52189eb111ea9d2.png" alt="caniuse svgfonts" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts-300x86.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21524" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/svgfonts/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png" data-orig-size="730,210" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="svgfonts" data-image-description="" data-image-caption="&lt;p&gt;Source: https://caniuse.com/#feat=mdn-css_at-rules_font-face_svg_fonts&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts-300x86.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png" decoding="async" loading="lazy" class="size-full wp-image-21524" src="../Images/290487e8b59b97b6d52189eb111ea9d2.png" alt="caniuse svgfonts" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts-300x86.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/svgfonts.png"/></noscript><figcaption id="caption-attachment-21524" class="wp-caption-text">Source: <a href="https://caniuse.com/#feat=mdn-css_at-rules_font-face_svg_fonts" target="_blank" rel="noopener noreferrer">https://caniuse.com/#feat=mdn-css_at-rules_font-face_svg_fonts</a></figcaption></figure>
<pre>@font-face {
  font-family: 'CustomFont';
  url('customfont.svg#svgFontName') format('svg');
}</pre>
<h2>这是定义CSS动画规则的一个非常方便的规则。因此，通过在<code>@keyframes</code>规则中应用CSS规则，我们定义了当附加到<code>@keyframe</code>规则的CSS动画名称应用到元素时需要应用的CSS规则。让我们看看这是如何实现的:</h2>
<p>通过这种方法，我们定义了动画的生命周期和CSS规则，这些规则需要应用于生命周期的不同部分。这是一个简单的例子，仅用两步(0%和100%)设置动画:</p>
<pre>// CSS

@keyframes ANIMATION-NAME {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}

// OR
@keyframes ANIMATION-NAME {
  from { opacity: 0; }
  to { opacity: 1; }
}</pre>
<p>With this approach, we are defining the lifecycle of the animation and CSS rules that needs to be applied for different parts of this lifecycle. This is a simple example that sets the animation with just two steps (0% and 100%):</p>
<p>在用<code>@keyframe</code>定义CSS动画时，我们可以变得更有创造性。例如，这里我们定义了一个应用于圆形的弹跳动画:</p>
<p>We can get much more creative when it comes to defining CSS animations with <code>@keyframe</code>. For example, here we are defining a bouncing animation that is applied to the circle:</p>
<p>在现代浏览器中，浏览器对该规则的支持非常好。但是不支持老版本的IE (6-9)、Firefox(v4以下)、Opera(12以下)。</p>
<p><img data-attachment-id="21556" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/keyframes-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png" data-orig-size="730,231" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="keyframes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1-300x95.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png" decoding="async" class="aligncenter size-full wp-image-21556 jetpack-lazy-image" src="../Images/aabee5d84e96dae1e3a9553a227fe26d.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1-300x95.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png"/></p>
<p>@媒体</p><noscript><img data-lazy-fallback="1" data-attachment-id="21556" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/keyframes-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png" data-orig-size="730,231" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="keyframes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1-300x95.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-21556" src="../Images/aabee5d84e96dae1e3a9553a227fe26d.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1-300x95.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/keyframes-1.png"/></noscript>
<h2>这是最常见的CSS at规则之一，用于设置将应用于不同屏幕和窗口大小的元素的CSS样式。这主要用于响应式设计，因此开发人员可以设计不同窗口大小的元素，这些元素往往类似于常见的移动设备、平板电脑和桌面设备。让我们来看一个实际例子:</h2>
<p>根据上面的CSS规则，当浏览器窗口大小为600像素或更小时，我们希望将box元素的颜色改为黄色。否则，我们将600像素以上的窗口颜色设置为绿色:</p>
<pre>#box {
  background-color: green;
}

@media only screen and (max-width: 600px) {
  #box {
    background-color: yellow;
  }
}</pre>
<p>@属性</p>
<p>这个<a href="https://drafts.css-houdini.org/css-properties-values-api-1/#at-property-rule" target="_blank" rel="noopener noreferrer">实验特性</a>仍然没有在任何现代浏览器中实现，围绕其规范的对话<a href="https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/3ygpsew53a0/T7acB6sRBQAJ" target="_blank" rel="noopener noreferrer">仍在进行</a>。然而，它背后的想法是有希望的，它似乎可以修复一些以前的CSS问题，如在悬停或聚焦时将渐变淡化为新的颜色。</p>
<h2><a href="https://css-tricks.com/property/" target="_blank" rel="noopener noreferrer">@属性</a>不过是<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty" target="_blank" rel="noopener noreferrer">CSS.registerProperty()</a></code>的简化版。利用这些特性，您可以定义自定义CSS属性的语法。然后，您可以在其他选择器下使用这些属性。例如，使用@property和<code>CSS.registerProperty()</code>定义一个名为<code>my-color</code>的自定义CSS属性，如下所示:</h2>
<p>然后，您可以在其他选择器下使用该自定义属性:</p>
<p>检查后发现，按钮的渐变将从定义的自定义属性<code>--mycolor</code>变为红色的<code>'#FF0000'</code>。与使用伪元素处理此类场景的其他方式相比，这是一种更简单的处理方式。</p>
<pre>@property --my-color {
  syntax: "&lt;color&gt;";
  inherits: false;
  initial-value: '#9400D3';
}

/
window.CSS.registerProperty({
  name: '--my-color',
  syntax: '&lt;color&gt;',
  inherits: false,
  initialValue: '#9400D3',
});</pre>
<p>然而，在我们得到更广泛的浏览器对这一特性的支持之前，这是一个关于这一特性最终功能的各种猜测的问题。在此之前，请随意将它作为一个实验性特性进行测试，并关注它在浏览器中的广泛支持。</p>
<pre>// CSS
.mycolor {
  --my-color: '#FFFFFF';
  background: linear-gradient(var(--my-color), black);
  transition: --my-color 1s;
}

..mycolor:hover {
  --my-color: '#FF0000';
}

// HTML
&lt;button class="mycolor"&gt;@property&lt;/button&gt;</pre>
<p>结论</p>
<p>我们一起回顾了一些最实用的CSS规则。几乎任何需要CSS的项目都可以从这些规则中受益，但是要确保你完全理解它们背后的概念。此外，请确保检查浏览器对您要使用的规则的支持，这样，如果应用的规则在特定浏览器中不起作用，您就不会感到惊讶。</p>
<figure id="attachment_21537" aria-describedby="caption-attachment-21537" class="wp-caption aligncenter"><img data-attachment-id="21537" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniuseatproperty/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png" data-orig-size="730,171" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniuseatproperty" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png" decoding="async" class="wp-image-21537 size-full jetpack-lazy-image" src="../Images/ab45e124ecc79fb7f824cf5b95f83402.png" alt="caniuse property " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty-300x70.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="21537" data-permalink="https://blog.logrocket.com/a-guide-to-css-at-rules/caniuseatproperty/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png" data-orig-size="730,171" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="caniuseatproperty" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty-300x70.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png" decoding="async" loading="lazy" class="wp-image-21537 size-full" src="../Images/ab45e124ecc79fb7f824cf5b95f83402.png" alt="caniuse property " srcset="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty-300x70.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/07/caniuseatproperty.png"/></noscript><figcaption id="caption-attachment-21537" class="wp-caption-text">Source: <a href="https://caniuse.com/#search=%40property" target="_blank" rel="noopener noreferrer">https://caniuse.com/#search=%40property</a></figcaption></figure>
<h2>对于CSS的新版本，一些规则仍在开发中，您可能需要在使用它们之前使用供应商前缀。点击查看当前CSS at-rules <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule" target="_blank" rel="noopener noreferrer">列表。</a></h2>
<p>资源</p>
<p><a href="https://meiert.com/en/blog/css-at-rules/" target="_blank" rel="noopener noreferrer">https://meiert.com/en/blog/css-at-rules/</a></p>
<h2><a href="https://css-tricks.com/the-at-rules-of-css/" target="_blank" rel="noopener noreferrer">https://css-tricks.com/the-at-rules-of-css/</a></h2>
<p><a href="https://css-tricks.com/snippets/css/using-font-face/" target="_blank" rel="noopener noreferrer">https://css-tricks.com/snippets/css/using-font-face/</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule</a></p>
<p>你的前端是否占用了用户的CPU？</p>
<p>随着web前端变得越来越复杂，资源贪婪的特性对浏览器的要求越来越高。如果您对监控和跟踪生产环境中所有用户的客户端CPU使用情况、内存使用情况等感兴趣，</p><div class="code-block code-block-25">
<div class="blog-plug inline-plug css-plug"><h2>.</h2><p>LogRocket 就像是网络和移动应用的DVR，记录你的网络应用或网站上发生的一切。您可以汇总和报告关键的前端性能指标，重放用户会话和应用程序状态，记录网络请求，并自动显示所有错误，而不是猜测问题发生的原因。</p><a target="_blank" href="https://lp.logrocket.com/blg/css-signup">try LogRocket</a><p>现代化您调试web和移动应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">LogRocket</a> is like a DVR for web and mobile apps, recording everything that happens in your web app or site. Instead of guessing why problems happen, you can aggregate and report on key frontend performance metrics, replay user sessions along with application state, log network requests, and automatically surface all errors.</p><p>Modernize how you debug web and mobile apps — <a class="signup" href="https://lp.logrocket.com/blg/css-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>