<html>
<head>
<title>Formatting form inputs with Cleave.js and React - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用Cleave.js和React - LogRocket Blog格式化表单输入</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/#0001-01-01">https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在网上进行有意义的对话需要多种形式。</p>
<p>虽然大部分的注意力已经合理地放在了某些方面，比如验证，但是改进最接近用户的表单——它的设计——还是相对容易的。</p>
<p>这样做不仅会让我们(作为开发人员)的生活更轻松，也会让我们的用户更轻松。这是双赢。实现这一点的一种方法是实时格式化表单输入，以模拟其现实生活中的等价形式。使我们能够做到这一点的一个工具是Cleave.js。</p>
<h2>什么是Cleave.js？</h2>
<p>套用一句话，<a href="https://nosir.github.io/cleave.js/" target="_blank" rel="noopener noreferrer"> Cleave.js </a>帮助你在键入时格式化你的<code>&lt;input/&gt;</code>值。就是这样。</p>
<blockquote><p>本教程是关于如何使用React的Cleave.js库。你也可以查看<a href="https://github.com/nosir/cleave.js" target="_blank" rel="noopener noreferrer"> GitHub页面</a>，看看如何在其他方面使用它。</p></blockquote>
<h3>你能格式化什么？</h3>
<p>Cleave.js允许你做6种类型的格式化:</p>
<ul>
<li>信用卡号码</li>
<li>电话号码</li>
<li>日期格式</li>
<li>时间格式</li>
<li>数字格式</li>
<li>自定义格式(前缀、块、分隔符等)</li>
</ul>
<h2>使用带react的切割刀</h2>
<p>我没有向您展示所有格式类型如何独立工作，而是构建了一个简单的临时捐赠表单:</p>
<p><img data-attachment-id="17072" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/cleave-js-formatting-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png" data-orig-size="1088,1068" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cleave-js-formatting-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-300x294.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-1024x1005.png" decoding="async" class="aligncenter wp-image-17072 jetpack-lazy-image" src="../Images/8c07154de0ef03d4b3b851f58b3f723d.png" alt="Annotation of Cleave.js formatted inputs" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png 1088w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-300x294.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-1024x1005.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-768x754.png 768w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17072" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/cleave-js-formatting-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png" data-orig-size="1088,1068" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cleave-js-formatting-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-300x294.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-1024x1005.png" decoding="async" loading="lazy" class="aligncenter wp-image-17072" src="../Images/8c07154de0ef03d4b3b851f58b3f723d.png" alt="Annotation of Cleave.js formatted inputs" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png 1088w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-300x294.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-1024x1005.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example-768x754.png 768w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cleave-js-formatting-example.png"/></noscript>
<p>如前所述，我们将涉及:<br/> <span> 1 →信用卡号码/类型格式<br/> </span> <span> 2 →日期格式<br/> </span> <span> 3 →数字格式<br/> </span> <span> 4 →数字格式<br/> </span> <span> 5 →电话号码格式<br/> </span> <span> 6 →自定义格式(带有前缀、块和分隔符)。</span></p>
<p>首先，我创建了一个CodeSandbox并安装了Cleave.js包。</p>
<p>第一步是导入Cleave.js:</p>
<pre>import Cleave from "cleave.js/react";</pre>
<p>然后，我们用它来代替<code>&lt;input/&gt;</code>:</p>
<pre>&lt;Cleave placeholder="Enter credit card number" className="form-field" /&gt;</pre>
<p><code>&lt;Cleave/&gt;</code>组件返回一个具有适当类型的<code>&lt;input/&gt;</code>表单元素(我们不需要指定或担心它返回什么类型)。对于它的配置，它需要一个<code>options</code>道具，这是一个可以完成不同类型格式化的配置。</p>
<h3>信用卡格式</h3>
<pre>const [creditCardNo, setCreditCardNo] = useState("");

function onCreditCardChange(e) {
  setCreditCardNo(e.target.rawValue);
}

&lt;Cleave
  placeholder="Enter credit card number"
  options={{
    creditCard: true,
  }}
  onChange={e =&gt; onCreditCardChange(e)}
  className="form-field"
/&gt;</pre>
<p>用<code>creditCard</code>属性给<code>true</code>和一个<code>onChange</code>事件处理程序。通过使用<code>e.target.rawValue</code>访问格式化的输入值来更新<code>creditCardNo</code>状态。</p>
<p>仅这一点就可以在用户键入时格式化输入。</p>
<p>然而，有趣的是积极主动地向他们展示这些数字所对应的信用卡提供商的类型。</p>
<p>为此，我们将<code>onCreditCardTypeChanged</code>事件处理程序传递给<code>options</code>属性。</p>
<pre>const [creditCardNo, setCreditCardNo] = useState("");
const [creditCardType, setCreditCardType] = useState("");

function onCreditCardTypeChanged(type) {
   setCreditCardType(type);
}

function onCreditCardChange(e) {
  setCreditCardNo(e.target.rawValue);
}

&lt;Cleave
  placeholder="Enter credit card number"
  options={{
    creditCard: true,
    onCreditCardTypeChanged
  }}
  onChange={e =&gt; onCreditCardChange(e)}
  className="form-field"
/&gt;</pre>
<blockquote><p>与<code>&lt;Cleave/&gt;</code>组件上的<code>onChange</code>属性不同，<code>onCreditCardTypeChanged</code>事件处理程序是作为<code>options</code>的属性添加的，通过<code>type</code>来访问(<code>type</code>只是一个名称，你可以随意命名)。</p></blockquote>
<h3>日期格式</h3>
<pre>const [creditCardExpiryDate, setCreditCardExpiryDate] = useState("");

function onCreditCardExpiryChange(e) {
  setCreditCardExpiryDate(e.target.rawValue);
}

&lt;Cleave
  placeholder="MM/YY"
  options={{ date: true, datePattern: ["m", "d"] }}
  onChange={onCreditCardExpiryChange}
  className="form-field"
/&gt;</pre>
<p>我们已经切换了<code>options</code>属性，将<code>date</code>的类型设置为true，并且我们正在用类似于信用卡的<code>datePattern</code>进行格式化，只显示月和日。</p>
<h3>块格式</h3>
<p>虽然有其他方法来强制cvv的三位数上限，但cleave也提供了一种间接的方法来实现这一点。使用块，您可以预定义输入的最大长度，以及有多少个块。这在数组中表示。</p>
<p>例如，<code>[2]</code>块将确保用户只能键入两个字符。利用这一知识，我们可以将CVV输入分解为:</p>
<pre>const [cvv, setCVV] = useState("");

function onCVVChange(e) {
  setCVV(e.target.rawValue);
}

&lt;Cleave
  placeholder="CVV"
  options={{
    blocks: [3],
    numericOnly: true
  }}
  onChange={onCVVChange}
  className="form-field"
/&gt;</pre>
<p>这允许单个字符块最多有三个数字，我们通过将<code>numericOnly</code>设置为<code>true</code>来实现这一点。</p>
<p>我们的信用卡详细信息格式应该给出这样的结果:</p>
<p><img data-attachment-id="17071" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/card-details-42/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png" data-orig-size="1050,318" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="card-details-42" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-1024x310.png" decoding="async" class="aligncenter wp-image-17071 jetpack-lazy-image" src="../Images/b57b395d820c27d8b762f0483df00d77.png" alt="card details formatted with Cleave.js." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png 1050w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-300x91.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-1024x310.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-768x233.png 768w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17071" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/card-details-42/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png" data-orig-size="1050,318" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="card-details-42" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-1024x310.png" decoding="async" loading="lazy" class="aligncenter wp-image-17071" src="../Images/b57b395d820c27d8b762f0483df00d77.png" alt="card details formatted with Cleave.js." srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png 1050w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-300x91.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-1024x310.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42-768x233.png 768w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-42.png"/></noscript>
<h3>数字格式</h3>
<pre>const [donationAmount, setDonationAmount] = useState("");

function onDonationAmountChange(e) {
  setDonationAmount(e.target.rawValue);
}

&lt;Cleave
  placeholder="0.00"
  options={{
    numeral: true,
    numeralThousandsGroupStyle: "thousand"
  }}
  onChange={onDonationAmountChange}
  className="form-field"
/&gt;</pre>
<p>为了格式化我们的捐赠金额，我们将<code>numeral</code>属性设置为<code>true</code>，并且用<code>numeralThousandsGroupStyle:</code> <code>"thousand"</code>将数字格式设置为千。</p>
<blockquote><p>请记住，这是格式化“货币”的一种间接方式，因为格式化<a href="https://en.wikipedia.org/wiki/Template:Currency" target="_blank" rel="noopener noreferrer">货币依赖于区域设置</a>。Cleave格式化数字而不是货币。</p></blockquote>
<p><img data-attachment-id="17067" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/how-much-are-you-donating/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png" data-orig-size="1074,196" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="how-much-are-you-donating" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-1024x187.png" decoding="async" class="aligncenter wp-image-17067 size-full jetpack-lazy-image" src="../Images/220352791168bed2e764162910a391a8.png" alt="Donation amount formatted with Cleave.js." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png 1074w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-300x55.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-1024x187.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-768x140.png 768w" data-lazy-sizes="(max-width: 1074px) 100vw, 1074px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17067" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/how-much-are-you-donating/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png" data-orig-size="1074,196" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="how-much-are-you-donating" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-300x55.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-1024x187.png" decoding="async" loading="lazy" class="aligncenter wp-image-17067 size-full" src="../Images/220352791168bed2e764162910a391a8.png" alt="Donation amount formatted with Cleave.js." srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png 1074w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-300x55.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-1024x187.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating-768x140.png 768w" sizes="(max-width: 1074px) 100vw, 1074px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/how-much-are-you-donating.png"/></noscript><br/>
<span>Phone number Formatting</span>
<p>这个和其他的有点不同。首先，在使用它之前，您需要导入地区/国家，在本例中是尼日利亚。</p>
<pre>import "cleave.js/dist/addons/cleave-phone.ng";

const [phoneNumber, setPhoneNumber] = useState("");

function onPhoneChange(e) {
  setPhoneRawValue(e.target.rawValue);
}

&lt;Cleave
  placeholder="0908 765 4321"
  options={{ phone: true, phoneRegionCode: "NG" }}
  onChange={onPhoneChange}
  className="form-field"
/&gt;</pre>
<p>这里，<code>phone</code>属性设置为true，<code>phoneRegionCode</code>设置为“NG”。</p>
<blockquote><p>如果你发现电话号码的格式与你想要的有一点不同，Cleave还提供了一个自定义格式——检查下一个格式。</p></blockquote>
<p><img data-attachment-id="17066" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/phone-number/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png" data-orig-size="1052,182" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="phone-number" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-300x52.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-1024x177.png" decoding="async" class="aligncenter wp-image-17066 size-full jetpack-lazy-image" src="../Images/3793da7c03e691c06aa56556fdb53534.png" alt="Nigerian phone number format with Cleave.js." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png 1052w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-300x52.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-1024x177.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-768x133.png 768w" data-lazy-sizes="(max-width: 1052px) 100vw, 1052px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17066" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/phone-number/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png" data-orig-size="1052,182" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="phone-number" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-300x52.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-1024x177.png" decoding="async" loading="lazy" class="aligncenter wp-image-17066 size-full" src="../Images/3793da7c03e691c06aa56556fdb53534.png" alt="Nigerian phone number format with Cleave.js." srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png 1052w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-300x52.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-1024x177.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number-768x133.png 768w" sizes="(max-width: 1052px) 100vw, 1052px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/phone-number.png"/></noscript>
<h3>自定义格式</h3>
<p>假设您要求您的用户输入加密的2FA密码。Cleave可以帮助定制格式:</p>
<pre>const [customValue, setCustomValue] = useState("");

function onCustomValueChange(e) {
  setCustomRawValue(e.target.rawValue);
}

&lt;Cleave
  placeholder="KEY-2DJDH2-3I37X-2MXHGX"
  options={{
    prefix: "KEY",
    blocks: [3, 6, 5, 6],
    delimiter: "—",
    numericOnly: false
  }}
  onChange={onCustomValueChange}
  className="form-field"
/&gt;</pre>
<p>您可以在这里传递的一些选项有<code>prefix</code>、<code>blocks</code>、<code>delimiter</code>(对于积木)、<code>numericOnly</code>等。</p>
<p>这将确保格式为3、6、5和6位数，用分隔符值分隔，第一个块项目将用于前缀:</p>
<p><img data-attachment-id="17065" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/paraphrase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png" data-orig-size="1026,170" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="paraphrase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-300x50.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-1024x170.png" decoding="async" class="aligncenter wp-image-17065 jetpack-lazy-image" src="../Images/fe72768113c9e66715b8b2db9b591d90.png" alt="paraphrase" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png 1026w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-300x50.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-1024x170.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-768x127.png 768w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17065" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/paraphrase/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png" data-orig-size="1026,170" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="paraphrase" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-300x50.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-1024x170.png" decoding="async" loading="lazy" class="aligncenter wp-image-17065" src="../Images/fe72768113c9e66715b8b2db9b591d90.png" alt="paraphrase" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png 1026w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-300x50.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-1024x170.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase-768x127.png 768w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/paraphrase.png"/></noscript>
<h3>表单提交</h3>
<p>务必记住Cleave.js是用于格式化而不是验证的，所以它定制而不是强制输入值。提交之前，请确保验证您的表单。</p>
<p>当您尝试提交表单时，您不需要担心<code>state</code>中的内容或值是如何转换的，因为Cleave.js去掉了所有格式，并给出了原始值。如果我尝试提交此表单:</p>
<p><img data-attachment-id="17064" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/card-details/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png" data-orig-size="1064,1002" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="card-details" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-300x283.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-1024x964.png" decoding="async" class="aligncenter wp-image-17064 jetpack-lazy-image" src="../Images/f3edaed71867a6e163611eb45274eb0f.png" alt="credit card formatting." data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png 1064w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-300x283.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-1024x964.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-768x723.png 768w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="17064" data-permalink="https://blog.logrocket.com/formatting-form-inputs-with-cleave-js-and-react/card-details/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png" data-orig-size="1064,1002" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="card-details" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-300x283.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-1024x964.png" decoding="async" loading="lazy" class="aligncenter wp-image-17064" src="../Images/f3edaed71867a6e163611eb45274eb0f.png" alt="credit card formatting." srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png 1064w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-300x283.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-1024x964.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/04/card-details-768x723.png 768w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/card-details.png"/></noscript>
<p>我得到了我的<code>state</code>中的值:</p>
<pre>creditCardNo: "4242424242424242"
phoneRawValue: "09087363636"
dateRawValue: "1222"
donationAmount: "450000"
customRawValue: "KEY27272bbc6262gbxy2"
cvv: "222"</pre>
<h2>结论</h2>
<p>让用户以这种方式填写表单无疑是一种有趣且可信的方式，会让我们领先一步。</p>
<p>查看以下链接了解更多信息。<br/> 1。<a href="https://codesandbox.io/s/cleavejs-demo-c3j27" target="_blank" rel="noopener noreferrer"> Codesandbox链接到完整示例</a> <br/> 2。<a href="https://nosir.github.io/cleave.js/" target="_blank" rel="noopener noreferrer"> CleaveJS官网</a> <br/> 3。<a href="https://github.com/nosir/cleave.js" target="_blank" rel="noopener noreferrer"> CleaveJS GitHub项目</a></p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>