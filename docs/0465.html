<html>
<head>
<title>Animations using React Hooks and GreenSock - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用React钩子和GreenSock的动画</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/animations-react-hooks-greensock/#0001-01-01">https://blog.logrocket.com/animations-react-hooks-greensock/#0001-01-01</a></blockquote><div><article class="article-post">
<p>编者按:这篇文章于2021年10月13日更新，删除了已被弃用的TweenMax动画制作方法，并进一步更新了教程。我们还改变了一些语言，以反映当前的方式提到GSAP。</p>
<p>钻研网络上的动画世界可能是一次伟大的旅程，也可能是一次令人厌倦的旅程。我的目标是让它成为一个伟大的旅程，同时也使用React Hooks的力量来进一步吸引您的学习体验。</p>
<h2>我需要知道什么？</h2>
<p>本文不应被视为JavaScript或React的初级读本。我将解释我们使用的每一个概念，但是你至少应该对这两个概念有一点了解。如果您需要开始，可以<a href="https://reactjs.org/docs/getting-started.html" target="_blank" rel="noopener">查看React文档</a>。</p>
<h2>我们将创造什么？</h2>
<p>我们将创建两个难度逐渐增加的独立动画。我们的第一个动画将是一个简单的加载器，类似于谷歌的:</p>
<p><img data-attachment-id="81818" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/finished-sample-animated-loader/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finished-sample-animated-loader" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader-300x77.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif" decoding="async" class="aligncenter size-full wp-image-81818 jetpack-lazy-image" src="../Images/a070474066c72d59a7482f4eb5ea7baa.png" alt="Our finished sample animated loader " data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81818" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/finished-sample-animated-loader/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finished-sample-animated-loader" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader-300x77.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81818" src="../Images/a070474066c72d59a7482f4eb5ea7baa.png" alt="Our finished sample animated loader " data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/finished-sample-animated-loader.gif"/></noscript>
<p>我们的第二个将是使LogRocket标志更好的动画！</p>
<p><img data-attachment-id="81822" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-logo-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-logo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png" decoding="async" class="aligncenter size-full wp-image-81822 jetpack-lazy-image" src="../Images/58ba198a30022508a949c69652412d01.png" alt="The LogRocket logo, pre-animation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1-300x78.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81822" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-logo-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png" data-orig-size="730,189" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-logo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1-300x78.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81822" src="../Images/58ba198a30022508a949c69652412d01.png" alt="The LogRocket logo, pre-animation" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1-300x78.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-logo-1.png"/></noscript>
<h2>什么是GreenSock动画平台？</h2>
<p>GreenSock动画平台(GSAP) 是一个JavaScript库，允许我们在网络上创建高质量、高性能的动画。它包含一个工具集，开发人员可以使用它来快速创建出色的动画。</p>
<p>我们可以使用GSAP来创建SVG和CSS动画，也可以使用它来创建身临其境的WebGL动画。我们也可以使用绿宝石创建画布动画。大多数流行的动画库，如Three.js，都使用GreenSock来制作对象的动画。此外，GSAP可以用于其他动画软件，如Adobe Animate和Easel JS。</p>
<h2 id="">制作谷歌风格加载器的动画</h2>
<p>设置简单快捷:我已经<a href="https://codesandbox.io/s/greensock-set-up-forked-zp5de" target="_blank" rel="noopener">创建了一个CodeSandbox </a>，它有GreenSock npm模块和React，所以你可以派生它并跟随它。</p>
<p>现在，让我们开始创建我们的<code>Loader</code>组件。</p>
<h3>渲染加载程序图形</h3>
<p>我们的加载器首先需要的是我们的图形，我已经在上面创建了。SVG是一个带有少量标记的基本SVG。</p>
<pre class="language-html hljs">&lt;svg viewBox="0 0 150 33.2" width="180" height="150"&gt;
  &lt;circle ref={circle} cx="16.1" cy="16.6" r="16.1" fill="#527abd" /&gt;
  &lt;circle ref={circle} cx="55.2" cy="16.6" r="16.1" fill="#de4431" /&gt;
  &lt;circle ref={circle} cx="94.3" cy="16.6" r="16.1" fill="#f4b61a" /&gt;
  &lt;circle ref={circle} cx="133.4" cy="16.6" r="16.1" fill="#009e52" /&gt;
&lt;/svg&gt;
</pre>
<p>然后，在我们的源代码中，我们可以创建一个<code>Loader</code>组件，这就是神奇的地方。在<code>Loader</code>组件中，我们想要呈现我们的图形。</p>
<pre class="language-javascript hljs">import React from "react";
const Loader = () =&gt; {
  return (
    &lt;svg viewBox="0 0 150 33.2" width="180" height="150"&gt;
      &lt;circle cx="16.1" cy="16.6" r="16.1" fill="#527abd" /&gt;
      &lt;circle cx="55.2" cy="16.6" r="16.1" fill="#de4431" /&gt;
      &lt;circle cx="94.3" cy="16.6" r="16.1" fill="#f4b61a" /&gt;
      &lt;circle cx="133.4" cy="16.6" r="16.1" fill="#009e52" /&gt;
    &lt;/svg&gt;
  );
};
export default Loader;
</pre>
<p>您现在应该会看到:</p>
<p><img data-attachment-id="81826" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/static-loader-svg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="static-loader-svg" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png" decoding="async" class="aligncenter size-full wp-image-81826 jetpack-lazy-image" src="../Images/6e8310714fb91e995002b7347b785a26.png" alt="Our loader, static, in SVG form" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg-300x102.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81826" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/static-loader-svg/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="static-loader-svg" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81826" src="../Images/6e8310714fb91e995002b7347b785a26.png" alt="Our loader, static, in SVG form" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg-300x102.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/static-loader-svg.png"/></noscript>
<p>太棒了。我们现在已经有了我们的图形，所以让我们去动画它。</p>
<h2>引用动画元素</h2>
<p>当制作动画时，你需要的第一件事是引用你计划制作动画的元素。为了获得对我们元素的引用，我们可以使用<code>useRef</code>钩子。<code>useRef</code>返回一个具有<code>current</code>属性的引用对象，这是我们动画的目标。</p>
<p>创建一个<code>useRef</code>非常简单:</p>
<pre class="language-javascript hljs">const myElement = useRef(null) 
</pre>
<p>因此，对于我们的情况，我们有四个需要瞄准的元素。我们将创建四个引用，如下所示:</p>
<pre class="language-javascript hljs">const blue = useRef(null);
const red = useRef(null);
const yellow = useRef(null);
const green = useRef(null);
</pre>
<p>然后，我们可以将这些引用添加到我们的SVG中:</p>
<pre class="language-html hljs">&lt;svg viewBox="0 0 150 33.2" width="180" height="150"&gt;
  &lt;circle ref={blue} cx="16.1" cy="16.6" r="16.1" fill="#527abd" /&gt;
  &lt;circle ref={red} cx="55.2" cy="16.6" r="16.1" fill="#de4431" /&gt;
  &lt;circle ref={yellow} cx="94.3" cy="16.6" r="16.1" fill="#f4b61a" /&gt;
  &lt;circle ref={green} cx="133.4" cy="16.6" r="16.1" fill="#009e52" /&gt;
&lt;/svg&gt;</pre>
<p>我们的组件现在看起来像这样:</p>
<pre class="language-javascript hljs">// src/loader.jsx
import React, { useRef } from "react";

const Loader = () =&gt; {
  const blue = useRef(null);
  const red = useRef(null);
  const yellow = useRef(null);
  const green = useRef(null);

  return (
    &lt;svg viewBox="0 0 150 33.2" width="180" height="150"&gt;
      &lt;circle ref={blue} cx="16.1" cy="16.6" r="16.1" fill="#527abd" /&gt;
      &lt;circle ref={red} cx="55.2" cy="16.6" r="16.1" fill="#de4431" /&gt;
      &lt;circle ref={yellow} cx="94.3" cy="16.6" r="16.1" fill="#f4b61a" /&gt;
      &lt;circle ref={green} cx="133.4" cy="16.6" r="16.1" fill="#009e52" /&gt;
    &lt;/svg&gt;
  );
};

export default Loader;
</pre>
<p>一切就绪后，我们就可以开始使用绿麻袋了。</p>
<h2>用GreenSock反弹动画:谷歌风格的加载器</h2>
<p>首先，我们导入<code>gsap</code>。</p>
<pre class="language-javascript hljs">import { gsap } from "gsap";
</pre>
<p>是GreenSock的一个全功能模块，它将帮助我们创建动画。它有许多方法，我们将利用几个！格林斯托克还为我们提供了<a href="https://greensock.com/tweenlite/" target="_blank" rel="noopener"> TweenLite </a>，这是一个功能较少但更轻量级的模块。</p>
<p>对于我们的动画，我们希望它发生在组件挂载的时候。在传统的基于类的组件中，我们将使用<code>componentDidMount</code>，但是对于钩子，我们将使用<code>useEffect</code>，除了一些小的不同，它的行为是相同的。要真正深入了解钩子，你应该看看这篇<a href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" target="_blank" rel="noopener">的好文章</a>。</p>
<p>所以当我们的组件挂载时，我们将使用<code>gsap</code>的<code>fromTo</code>方法来激活我们的圆圈。<code>fromTo</code>方法是通过了四个论证:</p>
<pre class="language-javascript hljs">fromTo(element(s), duration, start, end)
</pre>
<p>让我们专注于让<code>blue</code>圆圈上下移动。为了做到这一点，我们将目标锁定在动画的<code>y</code>属性上。</p>
<p>所以我们的代码如下:</p>
<pre class="language-javascript hljs">gsap.fromTo(blue.current, 5, { y: 18 }, { y: -18 });
</pre>
<p>我们首先定位我们的元素，然后我们设置一个持续时间<code>5s</code>。我们从<code>y</code>位置<code>18</code>出发，在<code>-18</code>结束。这看起来像下面这样:</p>
<p><img data-attachment-id="81831" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/blue-circle-animation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blue-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif" decoding="async" class="aligncenter size-full wp-image-81831 jetpack-lazy-image" src="../Images/ae80198e0542c99ce00cd48e2199418b.png" alt="Our blue circle animation" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81831" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/blue-circle-animation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blue-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81831" src="../Images/ae80198e0542c99ce00cd48e2199418b.png" alt="Our blue circle animation" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-circle-animation-1.gif"/></noscript>
<p>好了，我们已经取得了一点进展，但它仍然有一些问题——它太慢了，我们还需要动画是无限的。</p>
<p>为了实现这一点，我们需要做的就是将<code>yoyo</code>和<code>repeat</code>属性添加到我们的<code>to</code>对象中。</p>
<pre class="language-javascript hljs">gsap.fromTo(blue.current, 0.5, { y: 18 }, { y: -18, yoyo: true, repeat: -1 });
</pre>
<p><code>yoyo</code>意味着我们的动画将在开始和结束位置之间来回移动。设置<code>repeat</code>为<code>-1</code>会让我们的动画无限。我们还将持续时间设置为半秒，这样会快很多。</p>
<p>现在，随着我们新资产的到位，我们有:</p>
<p><img data-attachment-id="81833" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/sped-up-blue-circle-animation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sped-up-blue-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif" decoding="async" class="aligncenter size-full wp-image-81833 jetpack-lazy-image" src="../Images/986957cad7b0a6c22c0e4714495446bd.png" alt="Our blue circle animation, sped up" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81833" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/sped-up-blue-circle-animation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sped-up-blue-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81833" src="../Images/986957cad7b0a6c22c0e4714495446bd.png" alt="Our blue circle animation, sped up" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/sped-up-blue-circle-animation.gif"/></noscript>
<p>从本文顶部完成的动画中可以看出，黄色圆圈的行为与蓝色圆圈相同。记住这一点，我们可以将一个元素数组(我们的<code>blue</code>和<code>yellow</code>引用)传递给我们的<code>fromTo</code>方法。</p>
<pre class="language-javascript hljs">gsap.fromTo(
  [blue.current, yellow.current],
  0.5,
  { y: 18 },
  { y: -18, yoyo: true, repeat: -1 }
);
</pre>
<p>所以现在我们有:</p>
<p><img data-attachment-id="81835" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/blue-yellow-circle-animation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blue-yellow-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif" decoding="async" class="aligncenter size-full wp-image-81835 jetpack-lazy-image" src="../Images/83e85609d1d206e9f89720cba3500d5e.png" alt="Coordinating the yellow and blue circle animations" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81835" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/blue-yellow-circle-animation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif" data-orig-size="730,304" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blue-yellow-circle-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation-300x125.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81835" src="../Images/83e85609d1d206e9f89720cba3500d5e.png" alt="Coordinating the yellow and blue circle animations" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/blue-yellow-circle-animation.gif"/></noscript>
<p>成功！我想你现在可以开始看到格林斯托克有多强大了。为了完成我们的动画，我们只需要以相反的方式制作红色和绿色的球，就像这样:</p>
<pre class="language-javascript hljs">gsap.fromTo(
  [red.current, green.current],
  0.5,
  { y: -18 },
  { y: 18, repeat: -1, yoyo: true }
);
</pre>
<p>这段代码与上面的代码几乎完全相同，只是这次我们从<code>y:-18</code>开始，到<code>y:18</code>结束。</p>
<p>我们的最终动画现在完成了，它应该是这样的:</p>
<p><img data-attachment-id="81837" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/animated-loader-completed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="animated-loader-completed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed-300x77.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif" decoding="async" class="aligncenter size-full wp-image-81837 jetpack-lazy-image" src="../Images/4bc2499311d1b446d5902f8739b065dd.png" alt="Our completed animated loader" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81837" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/animated-loader-completed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif" data-orig-size="730,188" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="animated-loader-completed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed-300x77.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81837" src="../Images/4bc2499311d1b446d5902f8739b065dd.png" alt="Our completed animated loader" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-loader-completed.gif"/></noscript>
<p>你可以在这里找到完整的代码。</p>
<h2>绿色填充动画:LogRocket标志</h2>
<p>一个动画结束，还有一个！</p>
<p>我为LogRocket图标创建了一个<code>SVG</code>，它很大，所以我将它包含在starter CodeSandbox中，你可以在这里<a href="https://codesandbox.io/s/starter-logrocket-animation-forked-pvuhs?file=/src/index.js" target="_blank" rel="noopener">查看。</a></p>
<p>最终的动画将是这样的:</p>
<p><img data-attachment-id="81839" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-animation-goal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" data-orig-size="730,209" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-animation-goal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal-300x86.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" decoding="async" class="aligncenter size-full wp-image-81839 jetpack-lazy-image" src="../Images/31f81a3f7511e8ceb8c6148631750c70.png" alt="The goal animation for our LogRocket logo example" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81839" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-animation-goal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" data-orig-size="730,209" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-animation-goal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal-300x86.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81839" src="../Images/31f81a3f7511e8ceb8c6148631750c70.png" alt="The goal animation for our LogRocket logo example" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif"/></noscript>
<p>正如你从上面看到的，这比我们的第一部动画要复杂得多，所以让我们开始吧！</p>
<p>我们要关注的第一部分是火箭，它从底部向上运动。我们有一个带有<code>rocket</code>的<code>id</code>的<code>g</code>元素。这是我们要用绿色岩石瞄准的元素。</p>
<h3>带<code>TimelineMax</code>的连续动画</h3>
<p>以前，我们会使用<code>gsap</code>来做这件事，但是现在我们将使用<code>TimelineMax</code>,因为我们希望我们的每个元素按顺序动画，而不是一次全部。</p>
<p>我们这样导入<code>TimelineMax</code>:</p>
<pre class="language-javascript hljs">import { TimelineMax } from "gsap";
</pre>
<p>我们首先需要创建一个<code>Timeline</code>，我们通过创建一个<code>TimelineMax</code>类的实例来做到这一点:</p>
<pre class="language-javascript hljs">const tl = new TimelineMax();
</pre>
<p>与<code>TweenMax</code>类似，我们的实例(<code>tl</code>)也有一个我们将使用的<code>fromTo</code>方法:</p>
<pre class="language-javascript hljs">tl.fromTo("#rocket", 2, { y: 50 }, { y: 0 });
</pre>
<p>这与我们的第一个动画非常相似，除了这里没有使用<code>ref</code>，我们只是传递ID——两种方式都可以。</p>
<p>现在我们的火箭应该像这样从底部升起:</p>
<p><img data-attachment-id="81842" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/rocket-animation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1.gif" data-orig-size="730,1078" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rocket-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1-203x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1-693x1024.gif" decoding="async" class="aligncenter size-full wp-image-81842 jetpack-lazy-image" src="../Images/cb91f48be02d6dda7d261a1ab8a4b0a7.png" alt="Isolated rocket animation" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81842" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/rocket-animation-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1.gif" data-orig-size="730,1078" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="rocket-animation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1-203x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1-693x1024.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81842" src="../Images/cb91f48be02d6dda7d261a1ab8a4b0a7.png" alt="Isolated rocket animation" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/rocket-animation-1.gif"/></noscript>
<p>下一部分是给我们写信。我们所有的字母<code>path</code>都被包裹在带有<code>id</code> <code>letters</code>的<code>g</code>标签中，所以它们很容易成为我们的目标。</p>
<p>为了获得绘图效果，我们需要使用几个<code>attributes</code>，它们是<code>stroke-dasharray</code>和<code>stroke-dashoffset</code>。这些相当复杂，要阅读更详细的内容，我推荐<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset" target="_blank" rel="noopener">到这里</a>。</p>
<h3>什么是<code>stroke-dasharray</code></h3>
<p>是一个SVG和CSS属性，用来用虚线绘制线条。它用于指定线中虚线和间隙的长度。<code>stroke-dasharray</code>用于SVG元素，如<code>circle</code>和<code>line</code>。</p>
<p>示例:</p>
<pre class="language-html hljs">&lt;circle
  cx="50"
  cy="50"
  r="40"
  stroke="black"
  stroke-width="3"
  fill="transparent"
  stroke-dasharray="1, 3"
/&gt;
</pre>
<p>这将用虚线画出圆形。第一个数字是破折号的长度，第二个数字是缺口的长度。</p>
<h3>什么是<code>stroke-dashoffset</code>？</h3>
<p><code>stroke-dashoffset</code>用于指定进入破折号模式开始破折号的距离。它与<code>stroke-dasharray</code>结合使用，创建一条虚线。</p>
<p>示例:</p>
<pre class="language-html hljs">&lt;circle
  cx="50"
  cy="50"
  r="40"
  stroke="black"
  stroke-width="3"
  fill="transparent"
  stroke-dasharray="1, 3"
  stroke-dashoffset="1"
/&gt;
</pre>
<p>这将使笔画模式的长度为<code>1</code>。</p>
<p>在我们的例子中，我们使用这些属性将路径分成小块，这样我们就可以将它们动画化，这就是我们的绘图效果。我的经验是将这两个属性的值设置为相同，一旦我们的文本消失，我们就可以开始了。<code>100</code>是我们将采用的值。</p>
<p>在我们的<code>styles.css</code>文件中，我们将在路径上设置这两个属性。顺便提一下，<code>stroke</code>必须出现在<code>path</code>上才能工作(这包括从父节点继承<code>stroke</code>的<code>path</code>)。</p>
<pre class="language-css hljs">svg #letters path {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
}
</pre>
<p>因此，现在您会看到以下内容:</p>
<p><img data-attachment-id="81845" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-wordmark-no-stroke/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png" data-orig-size="730,194" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-wordmark-no-stroke" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke-300x80.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png" decoding="async" class="aligncenter size-full wp-image-81845 jetpack-lazy-image" src="../Images/84b238d158ecd97c26aecc5efdead481.png" alt="The LogRocket wordmark without the stroke" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke-300x80.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81845" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-wordmark-no-stroke/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png" data-orig-size="730,194" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-wordmark-no-stroke" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke-300x80.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81845" src="../Images/84b238d158ecd97c26aecc5efdead481.png" alt="The LogRocket wordmark without the stroke" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke-300x80.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-wordmark-no-stroke.png"/></noscript>
<p>这与我们之前的一样，但字母没有那么粗——这是因为我们去掉了<code>stroke</code>，但它仍然有一个<code>fill</code>。下一步是将<code>fill-opacity</code>设置为<code>0</code>。</p>
<pre class="language-css hljs">svg #letters path {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  fill-opacity: 0;
}
</pre>
<p>有了这个，我们的信就不见了，所以现在我们集中精力把它们找回来。<br/>我们所要做的就是将我们的<code>strokeDashoffset</code>动画回<code>0</code>。我们将使用我们的<code>tl</code>实例和<code>to</code>方法。</p>
<pre class="language-javascript hljs">tl.to("#letters path", 3, {
  strokeDashoffset: 0
});
</pre>
<p>正如您所看到的，我们使用我们的<code>letters</code>选择器，然后将该组中的每个<code>path</code>作为目标。有了这些，我们的字母现在应该开始绘制了:</p>
<p><img data-attachment-id="81847" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/animated-logrocket-logo-letter-paths/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif" data-orig-size="730,259" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="animated-logrocket-logo-letter-paths" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths-300x106.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif" decoding="async" class="aligncenter size-full wp-image-81847 jetpack-lazy-image" src="../Images/ec18f8c4c72c832796f8e3bb15a16ede.png" alt="The LogRocket logo's letter paths are drawn" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81847" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/animated-logrocket-logo-letter-paths/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif" data-orig-size="730,259" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="animated-logrocket-logo-letter-paths" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths-300x106.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81847" src="../Images/ec18f8c4c72c832796f8e3bb15a16ede.png" alt="The LogRocket logo's letter paths are drawn" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/animated-logrocket-logo-letter-paths.gif"/></noscript>
<p>拼图的最后一块是将我们的<code>fill-opacity</code>制作成<code>1</code>的动画。我们再次使用我们的<code>tl</code>实例和<code>to</code>方法。</p>
<pre class="language-javascript hljs">tl.to("#letters path", 3, { "fill-opacity": 1 });
</pre>
<p>就这样吧！我们的LogRocket动画现在完成了——不算太坏，是吧？</p>
<p><img data-attachment-id="81839" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-animation-goal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" data-orig-size="730,209" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-animation-goal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal-300x86.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" decoding="async" class="aligncenter size-full wp-image-81839 jetpack-lazy-image" src="../Images/31f81a3f7511e8ceb8c6148631750c70.png" alt="The goal animation for our LogRocket logo example" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="81839" data-permalink="https://blog.logrocket.com/animations-react-hooks-greensock/logrocket-animation-goal/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" data-orig-size="730,209" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logrocket-animation-goal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal-300x86.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-81839" src="../Images/31f81a3f7511e8ceb8c6148631750c70.png" alt="The goal animation for our LogRocket logo example" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/logrocket-animation-goal.gif"/></noscript>
<p>在这里可以看到<code>TimelineMax</code>的威力。通常，要连续运行动画，你必须使用延迟，但是<code>TimelineMax</code>会为我们处理这个问题。</p>
<p>完整的CodeSandbox 可以在下面找到。</p>
<p>结论</p>
<h2>就这些了，伙计们。这绝对是对GreenSock的介绍，而不是对React Hooks的介绍，但我希望你对这两者都有所了解。GreenSock的家伙们已经为他们的库投入了大量的工作，所以一定要更进一步，创造出伟大的动画。</h2>
<p>使用LogRocket消除传统反应错误报告的噪音</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p><p vwo-el-id="28675661060">Focus on the React bugs that matter —
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">try LogRocket today</a>.
</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>