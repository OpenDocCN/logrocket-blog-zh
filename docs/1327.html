<html>
<head>
<title>What’s new in Next.js 10 - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Next.js 10 - LogRocket博客中的新内容</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/whats-new-in-next-js-10/#0001-01-01">https://blog.logrocket.com/whats-new-in-next-js-10/#0001-01-01</a></blockquote><div><article class="article-post">
 <h2>介绍</h2>
<p><a href="http://www.nextjs.org" target="_blank" rel="noopener noreferrer"> Next.js </a>最近发布了其期待已久的主要版本之一(版本10)，作为那个<a href="https://nextjs.org/blog/next-10" target="_blank" rel="noopener noreferrer">版本</a>的一部分，已经推出了许多令人兴奋的功能。在本文中，我们将逐个分析这些因素，并理解它们将如何影响开发体验和用户体验。您可以通过遵循这个<a href="https://github.com/kokanek/nextjs-10" target="_blank" rel="noopener noreferrer"> GitHub </a>资源库中提到的代码来测试下面提到的大多数功能(确保运行<code>npm install</code>来安装所有依赖项，然后运行<code>npm run dev</code>来运行在<a href="http://localhost:3001" target="_blank" rel="noopener noreferrer"> localhost:3001 </a>部署我们的网站的dev服务器)。</p>
<h2>全新的<code>Image</code>组件</h2>
<p><img data-attachment-id="29140" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/image_component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png" data-orig-size="730,324" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image_component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component-300x133.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png" decoding="async" class="aligncenter size-full wp-image-29140 jetpack-lazy-image" src="../Images/d56ea2b5ba38cbb6c995eea0de9b5974.png" alt="Next.js image component " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/image_component-300x133.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29140" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/image_component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png" data-orig-size="730,324" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image_component" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component-300x133.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29140" src="../Images/d56ea2b5ba38cbb6c995eea0de9b5974.png" alt="Next.js image component " srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/image_component-300x133.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/image_component.png"/></noscript><br/>
Over the years, the Next.js team has tried to improve the speed of sites built using their platform. Using optimizing strategies like static generation, server-side rendering, and also making the JavaScript bundle size being loaded by the browser more compressed. While that has helped optimize the markup and the JavaScript being delivered to the sites, the images being served as a part of those sites (which form almost 50% of the website size) still remain unoptimized.
<p>正确管理图像对网站性能有着至关重要的影响。这主要是因为:</p>
<ul>
<li>图像没有经过最佳压缩，最终每个图像的大小都超过了1兆字节</li>
<li>该网站加载图像的原始大小(2000×2000像素)，而在移动设备上，该图像的一个非常小的版本最终被显示出来</li>
<li>这些图像中的大多数最初都在视口之外，浏览器根本不需要加载它们，直到用户滚动到它们</li>
</ul>
<p>这就是Next.js image组件可以提供帮助的地方。这是由Next.js团队提供的一个新组件，它将与图像相关的大部分繁重工作从开发人员手中拿走。开发者唯一的任务就是用来自<code>next/image</code>的<code>Image</code>标签替换<code>img</code> HTML标签。这里有一个例子:</p>
<p>HTML代码:</p>
<pre>&lt;img src="/profile-picture.jpg" width="400" height="400" alt="Profile Picture"&gt;
</pre>
<p>Next.js等效项:</p>
<pre>import Image from 'next/image';

&lt;Image src="/profile-picture.jpg" width="400" height="400" alt="Profile Picture"&gt;</pre>
<p>根据发布文档，Next.js团队与Google Chrome团队合作优化了<code>Image</code> React组件，使其支持:</p>
<ul>
<li>开箱<a href="https://web.dev/browser-level-image-lazy-loading/" target="_blank" rel="noopener noreferrer">懒装</a>和<a href="https://web.dev/preload-responsive-images/" target="_blank" rel="noopener noreferrer">预压</a></li>
<li>预先渲染图像尺寸可以防止图像加载后布局发生变化</li>
</ul>
<p>除此之外，通过生成更小的尺寸以及转换为现代图像格式(如<a href="https://developers.google.com/speed/webp" target="_blank" rel="noopener noreferrer"> WebP </a>)来进一步优化图像。此外，所有这些都是按需发生的，只要图像即将进入视口，而不是在构建时发生，因此构建站点的时间不会受到影响。总的来说，它使处理图像变得更加容易和高效。</p>
<h2>真实世界的用例</h2>
<p>让我们在代码中使用一个真实的例子来测试这一点。测试<code>Image</code>组件的代码可以在<code>pages/test-image.js</code>找到。这张来自<a href="https://unsplash.com/photos/jiSz18z9Mjo" target="_blank" rel="noopener noreferrer"> Unsplash </a>的图片已经被下载到公共文件夹并嵌入到页面的较低位置(这样它就在初始视窗之外)。在代码库中可以注意到，该图像最初是3648×3951像素的. jpeg图像，大小大约为1 MB。当页面的路由被加载时，我们可以在network选项卡中验证图像最初没有被加载，只有当我们向底部滚动并且将要到达图像时才开始加载。这一点在下面的gif中可以看得很清楚。</p>
<p><img data-attachment-id="29142" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/scroll2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scroll2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2-300x159.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif" decoding="async" class="aligncenter size-full wp-image-29142 jetpack-lazy-image" src="../Images/18b20d3643e22b9826b0dd207d55a8cb.png" alt="image loads upon scroll " data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29142" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/scroll2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="scroll2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2-300x159.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29142" src="../Images/18b20d3643e22b9826b0dd207d55a8cb.png" alt="image loads upon scroll " data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/scroll2.gif"/></noscript>
<p>此外，我们可以看到，即使图像没有完全加载，渲染布局也没有改变。接下来预先计算要呈现的图像尺寸，并在DOM中为图像维护一个占位符，这样图像下面的元素就不会出现布局变化(这在gif中也很明显)。</p>
<p>另一件要注意的事情是，图像本身被进一步优化，我们可以从网络选项卡中验证这一点。</p>
<p><img data-attachment-id="29143" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/img/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png" data-orig-size="730,649" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img-300x267.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png" decoding="async" class="aligncenter size-full wp-image-29143 jetpack-lazy-image" src="../Images/62cc3304d40e8f52eba3c74244c184cd.png" alt="unsplash image of phone and laptop " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/img-300x267.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29143" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/img/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png" data-orig-size="730,649" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img-300x267.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29143" src="../Images/62cc3304d40e8f52eba3c74244c184cd.png" alt="unsplash image of phone and laptop " srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/img-300x267.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/img.png"/></noscript>
<p>图像格式已更改为优化的<code>webp</code>格式，尺寸已从原始图像修改(1080 x 1170像素)(同时保留宽高比)。由于这些优化，大小已经从原来的只有37 kB。这有助于在所有设备上处理图像时获得更好的整体性能。</p>
<h2>国际化支持</h2>
<p><img data-attachment-id="29144" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/internationalization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png" data-orig-size="730,401" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="internationalization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization-300x165.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png" decoding="async" class="aligncenter size-full wp-image-29144 jetpack-lazy-image" src="../Images/06a0f5646827b87cbea909332cda1d8a.png" alt="subpath routing and domain routing" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization-300x165.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29144" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/internationalization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png" data-orig-size="730,401" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="internationalization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization-300x165.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29144" src="../Images/06a0f5646827b87cbea909332cda1d8a.png" alt="subpath routing and domain routing" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization-300x165.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/internationalization.png"/></noscript>
<p>根据Next.js官方页面:</p>
<blockquote><p>72%的消费者更有可能停留在翻译过的网站上，55%的消费者说他们只从母语的电子商务网站上购买。</p></blockquote>
<p>因此，支持构成网站消费者基础的大多数公共区域是必要的。在Next.js的这个版本中已经考虑到了这一点。</p>
<p>Next.js现在支持两种最常见的路由策略，即子路径路由(其中语言环境是URL的一部分，所有语言都在单个域中受支持)和域路由(其中语言环境被映射到顶级域)。</p>
<p>为了开始国际化，我们需要将这些行添加到next.config.js中:</p>
<pre>module.exports = {
  i18n: {
    locales: ['en', 'nl'],
    defaultLocale: 'en'
  }
}</pre>
<p>让我们通过在根目录中创建一个<code>next.config.js</code>文件来将这个国际化配置添加到我们的示例项目中。为了更具体地支持区域设置，还可以将区域设置定义为en-US或nl-NL。一旦完成并重启dev服务器，我们可以看到我们之前创建的页面也可以在route<a href="http://localhost:3001/fr/test-image" target="_blank" rel="noopener noreferrer">localhost:3001/fr/test-image</a>(页面的法语版本)中访问。这个页面将提供给浏览器中默认区域设置为<code>fr</code>的用户。我们可以在Google Chrome中进行同样的测试，方法是从设置页面将默认区域设置改为法语。</p>
<p><img data-attachment-id="29146" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/localechange/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png" data-orig-size="1442,788" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="localeChange" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-1024x560.png" decoding="async" class="aligncenter size-full wp-image-29146 jetpack-lazy-image" src="../Images/abde57f291514f621c08f76f8ac02d61.png" alt="default local changed to french" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png 1442w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-300x164.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-1024x560.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-768x420.png 768w" data-lazy-sizes="(max-width: 1442px) 100vw, 1442px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29146" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/localechange/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png" data-orig-size="1442,788" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="localeChange" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-300x164.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-1024x560.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29146" src="../Images/abde57f291514f621c08f76f8ac02d61.png" alt="default local changed to french" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png 1442w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-300x164.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-1024x560.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange-768x420.png 768w" sizes="(max-width: 1442px) 100vw, 1442px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/localeChange.png"/></noscript>Once that change is saved, visiting the home route redirects to the <code>/fr</code> version of the site when refreshed, which means that Next.js automatically detects the default locale on the <code>/</code> route.
<p><img data-attachment-id="29148" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/french-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="french" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1-300x210.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif" decoding="async" class="aligncenter size-full wp-image-29148 jetpack-lazy-image" src="../Images/711ea0e6ff20884f981dc7416b397779.png" alt="local change " data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29148" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/french-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="french" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1-300x210.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29148" src="../Images/711ea0e6ff20884f981dc7416b397779.png" alt="local change " data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/french-1.gif"/></noscript><br/>
And the reason for that to work so seamlessly is the <code>accept-language</code> header that Chrome sends in the initial request to fetch the page (where french is at the front of the list).
<p><img data-attachment-id="29149" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/acceptlanguage2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png" data-orig-size="1152,916" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="acceptLanguage2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-1024x814.png" decoding="async" class="aligncenter size-full wp-image-29149 jetpack-lazy-image" src="../Images/563c969abb034f2b4a1759d377cd3c0c.png" alt="Accept-Language (french is at the front of the list)" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png 1152w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-300x239.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-1024x814.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-768x611.png 768w" data-lazy-sizes="(max-width: 1152px) 100vw, 1152px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29149" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/acceptlanguage2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png" data-orig-size="1152,916" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="acceptLanguage2" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-300x239.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-1024x814.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29149" src="../Images/563c969abb034f2b4a1759d377cd3c0c.png" alt="Accept-Language (french is at the front of the list)" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png 1152w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-300x239.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-1024x814.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2-768x611.png 768w" sizes="(max-width: 1152px) 100vw, 1152px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/acceptLanguage2.png"/></noscript><br/>
Domain routing, unlike subpath routing, requires some additional configuration like:
<pre>module.exports = {
  i18n: {
    locales: ['en', 'fr'],
    domains: [
      {
        domain: 'example.com',
        defaultLocale: 'en'
      },
      {
        domain: 'example.fr',
        defaultLocale: 'fr'
      }
    ]
  }
}
</pre>
<p>这将特定的域映射到各自的语言环境。因此，每当请求到达本地路由<code>/</code>时，就会发生重定向，重定向到与该地区对应的指定域。</p>
<p>但是，如果我们需要检测当前使用的语言环境并基于它做出特定的决定，该怎么办呢？这可以通过<code>next/router</code>利用<code>useRouter</code>钩来实现。在下面的代码中，我们首先从<code>useRouter</code>读取区域设置，然后使用<code>Link</code>组件重定向到该区域设置(它接受一个区域设置属性):</p>
<pre>const router = useRouter();
// store the current locale
const currentLocale = router.locale;

// somewhere in the JSX, pass currentLocale to Link:
&lt;Link
  href="/test-image" 
  locale={currentLocale}
&gt;
...
&lt;/Link&gt;
</pre>
<p>通过这样做，我们看到当链接在主页上被点击时，我们被重定向到<code>localhost:3001/fr/test-image</code>，而不是像以前一样被重定向到默认页面。在测试图像路径上，可以以类似的方式访问场所，并且可以在屏幕上呈现特定于法语的工件。</p>
<p>在使用<code>getStaticProps</code>或<code>getServerSideProps</code>时，可以使用Next.js文档中所述的上下文对象完成类似的事情:</p>
<blockquote><p>当使用getStaticProps或getServerSideProps预呈现页面时，区域设置信息在提供给该函数的上下文中提供。</p></blockquote>
<p>这是Next.js 10中引入的端到端地区支持的总结。</p>
<h2>Next.js商务</h2>
<p><img data-attachment-id="29151" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/ecom/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png" data-orig-size="730,464" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ecom" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom-300x191.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png" decoding="async" class="aligncenter size-full wp-image-29151 jetpack-lazy-image" src="../Images/c0ed33f621eb33be808af45a634087bd.png" alt="ecommerce site showing jacket, shirt, and hat" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/ecom-300x191.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29151" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/ecom/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png" data-orig-size="730,464" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="ecom" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom-300x191.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29151" src="../Images/c0ed33f621eb33be808af45a634087bd.png" alt="ecommerce site showing jacket, shirt, and hat" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/ecom-300x191.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/ecom.png"/></noscript>
<p>Next.js 10与BigCommerce合作发布了<a href="https://nextjs.org/commerce" target="_blank" rel="noopener noreferrer"> Next.js Commerce </a>，这是一个多合一的工具包，只需点击几下就可以开始部署电子商务网站。最好的部分是，当我们使用Next.js Commerce部署一个电子商务网站时，我们将Next.js的所有优秀部分开箱即用。其中一些是:</p>
<ul>
<li>基于文件系统的路由</li>
<li>代码拆分和捆绑</li>
<li>使用<a href="https://vercel.com/blog/nextjs-server-side-rendering-vs-static-generation" target="_blank" rel="noopener noreferrer"> SSR和SSG </a>的混合渲染</li>
<li>快速刷新</li>
</ul>
<p>部署Next.js商务网站的唯一先决条件是我们需要配置一个BigCommerce商店。但是如果你还没有这样做，并且仍然想尝试一下，你可以前往Next.js commerce <a href="https://nextjs.org/commerce" target="_blank" rel="noopener noreferrer">主页</a>并点击<em>克隆&amp;部署</em>，这将让你部署你自己的站点实例。涉及的步骤如下:</p>
<ul>
<li>在BigCommerce上注册。如果您还没有虚拟商店，请建立一个虚拟商店(在BigCommerce上注册时会提供此选项)</li>
<li>创建一个GitHub repo，Next.js将在其中放置与站点相关的代码。推送此回购将重新部署网站</li>
<li>用Next.js部署站点</li>
</ul>
<p>就是这样！在不超过5-7分钟，我们可以得到一个功能齐全，Next.js兼容，电子商务网站部署的演示显示这个安装完成屏幕。</p>
<p><img data-attachment-id="29153" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/deployed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png" data-orig-size="730,367" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="deployed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed-300x151.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png" decoding="async" class="aligncenter size-full wp-image-29153 jetpack-lazy-image" src="../Images/fa322d2bafcdf5ef775e9e55fa54f7f4.png" alt="Project successfully deployed" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/deployed-300x151.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="29153" data-permalink="https://blog.logrocket.com/whats-new-in-next-js-10/attachment/deployed/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png" data-orig-size="730,367" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="deployed" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed-300x151.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-29153" src="../Images/fa322d2bafcdf5ef775e9e55fa54f7f4.png" alt="Project successfully deployed" srcset="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/11/deployed-300x151.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/11/deployed.png"/></noscript>
<p>从这里点击<em>访问</em>会将你带到刚刚部署的全新电子商务网站，点击<em>打开仪表板</em>会打开Vercel上的部署管理页面。</p>
<h2>其他显著特征</h2>
<h3>React 17支持</h3>
<p>Next.js现在支持React 17，这意味着只需将React升级到最新版本，就可以使用最新的React功能，如<a href="https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html" target="_blank" rel="noopener noreferrer"> JSX变换</a>。在React的早期版本中，在编译步骤中，JSX代码被编译成等价的<code>React.createElement()</code>代码，因此，需要<code>React</code>在范围内才能工作。但是从React 17开始，JSX转换器将由编译器自动导入。除了不需要显式地将<code>React</code>导入到。jsx文件移动到最新版本后，开发人员不需要做任何其他事情。要将任何旧项目升级到Next.js的最新版本，需要运行以下命令:</p>
<pre>npm install <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3d535845497d515c49584e49">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a5d7c0c4c6d1e5c9c4d1c0d6d1">[email protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c5b7a0a4a6b1e8a1aaa885a9a4b1a0b6b1">[email protected]</a></pre>
<h3>快速刷新</h3>
<p>对<code>getStaticProps</code>和<code>getServerSideProps</code>函数所做的任何更改都将自动重新运行它们，而无需刷新页面。用<a href="https://github.com/vercel/next.js/tree/canary/packages/next-mdx" target="_blank" rel="noopener noreferrer"> next/mdx </a>创建的所有降价页面也将支持快速刷新。</p>
<h3>第三方CSS</h3>
<p>有了这个特性，现在可以对单个组件的CSS进行代码拆分，而不需要在<code>_app.js</code>中导入CSS。这些类型的CSS导入的用例是那些仅作用于单个组件的样式，并且不需要在代码库中的任何其他地方使用(这是在_app文件中导入样式的一个强用例)。</p>
<h3>href上的自动解析</h3>
<p>当使用<code>next/link</code>动态路由时，我们只需要提供<code>href</code>属性，而不是像以前那样同时提供<code>href</code>和<code>as</code>属性:</p>
<pre>&lt;Link href="/books/[bookId]" as={`/books/${bookId}`}&gt;
  Harry Potter
&lt;/Link&gt;</pre>
<p>在早期的场景中，href是一个静态字符串，在运行时不会改变，它为路由提供了一种格式。另一方面，<code>as</code> prop是执行实际链接的动态计算的路由。从Next.js 10开始，代码将如下所示:</p>
<pre>&lt;Link href={`/book/${bookId}`}&gt;
  Harry Potter
&lt;/Link&gt;</pre>
<p>其中<code>href</code>是唯一的强制参数，而<code>as</code>仍然是本说明的可选参数:</p>
<blockquote><p>将在浏览器URL栏中显示的路径的可选装饰。在Next.js 9.5.3之前，这用于动态路由…</p></blockquote>
<h3>codedom cli</h3>
<p>为了使升级到新功能和弃用旧功能变得容易，Next.js现在提供了<code>@next/codemod</code> CLI，它可以通过一个命令帮助更新整个应用程序并使其兼容(通过删除弃用的代码并用最新的更改替换它):</p>
<pre>npx @next/codemod &lt;transform&gt; &lt;path&gt;</pre>
<h3>阻止<code>getStaticPaths</code>的回退</h3>
<p>在返回<code>getStaticPaths</code>的同时设置<code>fallback: 'blocking'</code>标志，当没有静态回退被发送到浏览器并且初始请求等待预渲染时，启用阻塞行为。在初始呈现之后，页面将被后续请求重用。</p>
<h3><code>Redirect</code>支持</h3>
<p>在使用<code>getStaticProps</code>和<code>getServerSideProps</code>时，我们现在可以返回一个名为redirect的新字段，如下所示:</p>
<pre>export function getStaticProps() {
  return {
    // returns a redirect to an internal page `/another-page`
    redirect: {
      destination: '/another-page',
      permanent: false
    }
  }
}

export function getServerSideProps() {
  return {
    // returns a redirect to an external domain `example.com`
    redirect: {
      destination: 'https://example.com',
      permanent: false
    }
  }
}
</pre>
<p>重定向配置中指定的目标将用于重定向请求。我们可以通过访问<a href="http://localhost:3001/test-redirect" target="_blank" rel="noopener noreferrer"> localhost/test-redirect </a>路由来检查这一点，并看到它将我们带到/fast-refresh页面，因为那里使用了重定向配置。</p>
<h3><code>notFound</code>支持</h3>
<p>类似于<code>redirect</code>配置，当响应中的<code>notFound</code>标志返回为真时，默认的<code>404</code>页面将返回给用户，状态为404，无需开发人员手动参与。当在<code>getStaticProps</code>函数中运行一些业务逻辑时，这通常会很方便，很明显我们不支持这种方式。然后，不用在自定义UI中显示该信息或在页面上编写一些重定向逻辑，我们只需从<code>getStaticProps</code>返回一个负责重定向的标志，如代码库中的<code>not-found.js</code>组件所示:</p>
<pre>export async function getStaticProps() {
  let notFound = false;

  // perform some business logic here.
  // Got to know that the page need not show up
  notFound = true;

  return {
    notFound: notFound
  }
}</pre>
<h2>结论</h2>
<p>总而言之，这个版本在开发者和用户体验方面都有大量的改进。所有这些主要的增强，以及它是一个不间断的主要版本的事实，使得Next.js 10成为一个必须尝试的版本。因此，如果您仍然在使用Next.js的早期版本，现在可能是升级的好时机！</p><div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产Next.js应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的DVR，记录下你的Next.js应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用程序的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p><p>让您调试Next.js应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>