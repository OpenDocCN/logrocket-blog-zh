<html>
<head>
<title>Next.js vs. Gatsby: Comparing React frameworks - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Next.js vs. Gatsby:比较React框架</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/next-js-vs-gatsby-comparing-react-frameworks/#0001-01-01">https://blog.logrocket.com/next-js-vs-gatsby-comparing-react-frameworks/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>介绍</h2>
<p>Next.js vs. Gatsby是一场历史性的对决……至少对React web框架来说是这样。</p>
<p>自诞生以来，React已经发展到不再仅仅用于前端web开发的地步。它现在被用来开发:</p>
<ul>
<li>桌面应用以及电子</li>
<li>基于浏览器的简单游戏</li>
<li>使用React 360的VR应用</li>
<li>使用React Native的移动应用程序</li>
</ul>
<p>React在网络之外的广度和深度都有所增长。React上创建了无数的框架/库来增强开发人员的体验和开发速度。</p>
<p>现在，围绕React的整个社区和项目被亲切地称为React生态系统。今天，我们将考察两个最著名的React框架:Gatsby和Next.js。</p>
<h2>盖茨比是什么？</h2>
<p>Gatsby 是一个现代网络框架<a href="https://blog.logrocket.com/how-graphql-boosts-performance-in-gatsby/">，建立在React和GraphQL </a>之上。该框架的主要焦点是内置性能:默认情况下，它创建的网站速度极快。它创建了一个静态构建来使网站更快。这就是Gatsby作为另一个静态站点生成器经常被忽视的原因之一。</p>
<p>尽管Gatsby是建立在React之上的，但它有自己的生态系统，包括插件、主题和启动器。默认情况下，它是可扩展的。它在构建时作为静态站点构建，并作为简单的HTML页面托管。</p>
<p>盖茨比的<a href="https://www.gatsbyjs.org/tutorial/">快速</a><a href="https://www.gatsbyjs.org/tutorial/">–</a><a href="https://www.gatsbyjs.org/tutorial/">入门教程</a> <a href="https://www.gatsbyjs.org/tutorial/"> s </a>是一个绝佳的入门地方。</p>
<h2>Next.js是什么？</h2>
<p><a href="https://nextjs.org/"> Next.js </a>是另一个流行的React框架。Next.js的想法是创建服务器渲染的React应用程序，几乎不需要配置。性能不是Next.js的主要吸引力；更确切地说，这是<a href="https://blog.logrocket.com/whats-new-in-next-js-10/">改善了开发者体验</a>并减少了创建成熟的、SSR友好的web应用程序的麻烦。</p>
<p>Next.js也支持静态构建，但这不是主要重点。当我们浏览用例时，我们将讨论这些限制。<a href="https://nextjs.org/learn/basics/getting-started">下一个</a> <a href="https://nextjs.org/learn/basics/getting-started">。js入门指南</a>是开始学习Next.js的好地方。</p>
<h2>了解SSR和静态站点</h2>
<p>默认情况下，服务器端呈现的应用程序是SEO友好的。服务器端呈现(SSR)速度更快，因为它不等待浏览器加载JS来显示内容。SSR每次都需要合适的服务器来发送响应。在我们的例子中，Next.js使用基于节点的服务器提供服务。</p>
<p>另一方面，静态站点更快，因为它们从服务器提供静态HTML和CSS，在运行时没有任何处理。静态网站将通过CDN缓存，并比动态网站提供更快的服务。如果站点只有静态内容，静态站点也是SEO友好的。</p>
<h2>Next.js vs. Gatsby:相似之处</h2>
<p>尽管它们解决的问题不同，但Gatsby和Next.js有很多相似之处。</p>
<p>如果您已经知道如何构建基于React的站点，那么这两种框架的学习曲线都不会很陡，而且开发人员的体验对这两种框架来说都是第一位的。我们可以非常快速地设置和运行，并且在简单的应用程序上添加更多功能也很容易，因为两个框架都提供了全面的文档。两者都支持热重装，以获得更快的开发体验。</p>
<p>缓存和性能是内置的。我们不需要担心代码拆分和优化代码；这是可行的，默认情况下，它们根据每个页面路径进行代码分割。两个框架都有内置的路由来创建新页面。</p>
<p>当您滚动页面时，它们通过异步预取后续页面的链接来执行智能页面加载。灯塔对精心打造的Gatsby和Next.js网站的评分将非常突出。</p>
<p>是Gatsby还是Next.js创建更快的web应用取决于用例。我们将采用一种不同的方法，根据手头的问题来决定哪个框架是更好的选择，而不是讨论理论上的利弊，这在网络上很容易找到。</p>
<h2>用例</h2>
<p>我相信赛马的价值。因此，对于这些用例，我们将在Gatsby和Next.js之间选择最佳选项:</p>
<ul>
<li>简单静态网站</li>
<li>大型多用户网站，如<a href="https://dev.to"> dev.to </a>(实时发布)</li>
<li>客户端呈现的应用程序(SPA/MPA)</li>
<li>混合web应用程序(SPA和SSR在一个应用程序中)</li>
</ul>
<h3>简单静态网站Next.js vs. Gatsby</h3>
<h4>要求:</h4>
<ul>
<li>一个有几十个静态网页的静态网站</li>
<li>有些页面经常更新；大部分都没有定期更新</li>
<li>它应该支持搜索引擎优化</li>
<li>任何访问该网站的人都会看到相同的内容</li>
<li>更新不需要反映实时，因为它是由内部团队更新的，而不是由访问用户更新的。</li>
</ul>
<h4>示例:</h4>
<ul>
<li>任何静态网站(公司、服务网站、信息网站)</li>
<li>任何产品网站的公共页面</li>
<li>个人博客网站</li>
<li>由可预测数量的私人用户管理的小型博客网站(例如公司成员)</li>
</ul>
<p>在这里，页面的数量是可预测的，不需要一直通过服务器呈现，因为内容将是静态的，对所有用户都是相同的。盖茨比就是为这类网站量身定做的。你可以通过Next.js创建这样的静态网站，也可以使用它新引入的静态导出功能。</p>
<p>尽管如此，Gatsby将会在这方面大获全胜，因为它提供了对插件的支持，可以从几乎所有的CMS、数据库、REST APIs和GraphQL中获取内容。它还有支持不同数据格式的插件，比如JSON、Markdown和MDX(JSX的Markdown)。它有很容易的选项来建立和托管网站的任何地方。</p>
<p>它隔离了数据和网站，因此即使非程序员也可以在其他地方编辑内容，并且在构建时它仍将被编译为站点。</p>
<p>Next.js不会处理任何与你的数据相关的东西。您需要构建自己的方式来获取数据，并将其显示为网站。您可以构建一个静态站点，但是团队中的非程序员需要您的帮助来更改或更新内容。这是任何CMS都要解决的大问题，Gatsby充分利用了这一点，通过插件轻松连接到任何CMS。</p>
<h4>判决:盖茨比</h4>
<p>Gatsby是我们构建更快、性能更好的静态网站的赢家。开发人员的体验是得出这一结论的关键:</p>
<ul>
<li>开发者可以专注于网站的布局和风格</li>
<li>Gatsby将数据分开，并允许非开发人员编辑内容</li>
<li>Gatsby还通过广泛的Gatsby插件、启动器和主题缩短了开发周期</li>
</ul>
<h3>Next.js与Gatsby争夺大型多用户网站</h3>
<h4>要求:</h4>
<ul>
<li>由认证用户添加内容的大型网站</li>
<li>该网站的内容是公开的，只有某些功能是私人的</li>
<li>内容将根据登录用户及其兴趣显示</li>
</ul>
<h4>示例:</h4>
<ul>
<li>dev.to，一个由开发者开发的多用户博客网站</li>
<li>任何在线论坛</li>
</ul>
<p>对于这种需求，Next.js是理想的选择，因为您需要向唯一的登录用户显示动态内容。我们不能用Gatsby为每个用户编译静态HTML(尽管有一个变通办法，我们将在后面的混合网站用例中看到)。SSR将有助于呈现基于认证的网站。</p>
<p>由于内容是由大量用户创建的，并且随着新用户的加入而增加，所以在构建时将内容编译成静态站点实际上是不可能的。在运行时显示相关内容要容易得多。</p>
<p>对Gatsby来说，创建这样的网站的主要缺点是它的构建过程和构建过程所花费的时间。用户通常希望实时看到他们的内容，而不是在构建过程的几分钟后。如果用户数量很高，可能不是几分钟；可能需要几个小时。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<p>Gatsby正在对此进行优化，<a href="https://www.gatsbyjs.org/blog/2019-11-14-announcing-gatsby-cloud/">已经在其名为Gatsby Cloud的商业解决方案中发布了对更快构建的初始支持。但仍然——我们可能需要一段时间才能获得完整的实时增量构建功能，我们也不知道Gatsby是否会选择在短期内将该功能作为其开源产品的一部分发布。</a></p>
<h4>判决:Next.js</h4>
<p>对于有多个用户访问和编辑内容的网站，最好使用Next.js来构建。</p>
<ul>
<li>公共内容需要SSR</li>
<li>内容需要基于用户的动态</li>
<li>即使是静态的博客内容也需要实时发布，并可供用户编辑</li>
</ul>
<p>在这种情况下，构建基于时间的框架不会很好。</p>
<h3>Next.js与Gatsby在客户端渲染应用方面的对比(SPA/MPA)</h3>
<h4>要求:</h4>
<ul>
<li>为您的产品构建一个web应用程序，无论是SPA还是多页面客户端应用程序</li>
<li>只有通过身份验证后，应用程序才可见</li>
<li>SEO不是必须的；整个应用程序是动态的</li>
</ul>
<h4>示例:</h4>
<ul>
<li>特雷罗</li>
<li>阿萨纳</li>
<li>谷歌邮箱</li>
<li>和许多其他网络产品</li>
</ul>
<p>在这里，SEO不是关键，但速度和用户的快速响应时间是关键。对于这样的网站，盖茨比和Next Js之间没有明确的赢家。我们将在下面的细节中看到两者在开发这样的web应用程序时是如何发挥作用的。</p>
<h4>动态web应用的Gatsby</h4>
<p>到目前为止，我们已经说过Gatsby在构建时构建并服务于静态站点。这真的只对了一半。为什么？</p>
<p>尽管Gatsby服务于静态站点，但它也在客户端的页面上重新融合了React。所以你可以使用Gatsby创建任何客户端应用程序，就像create-react-app (CRA)一样。那么为什么选择盖茨比而不是CRA呢？</p>
<p>Gatsby默认支持代码拆分。对于CRA，你需要自己动手。CRA也没有内置的机制来支持多页面网络应用。这是可能的，但我们需要手动操作。另一方面，Gatsby支持多页面应用程序。</p>
<p>现在，考虑一个例子，其中有三组不同的用户，这些用户有三种不同的UX设计。</p>
<p>Gatsby的多页面性质很容易帮助你隔离那些用户，并在auth之后将他们发送到相关页面。在CRA，你需要通过你的路由器来处理。Gatsby内置了对客户端路由的路由支持。CRA没有自带路由器实现，但是添加一个并不困难。</p>
<p>在Gatsby中，预取后续链接和资产很容易，并使页面加载更快。这样高水平的优化是很难在CRA独自实现的。</p>
<p>因此，总而言之，使用Gatsby构建客户端呈现的应用程序是完全可能的。所以永远不要把Gatsby仅仅看作一个静态的站点生成器——它的作用不止于此。它是构建现代web应用程序的完整框架。</p>
<h4>动态web应用程序的Next.js</h4>
<p>现在让我们看看Next.js如何帮助构建现代的动态web应用程序。到目前为止，我们知道Next.js能够进行SSR，这是事实，但这并不是它的全部功能。它还在客户端重新水合React，因此您可以在Next.js的基础上构建一个完整的客户端React应用程序。</p>
<p>大部分的好处和Gatsby一样，但是使用它的SSR有几个更多的好处。例如，你可以渲染一个静态网站，在客户端完成所有的逻辑，就像盖茨比应用程序或CRA一样。所以技术上，你不需要使用Next.js的SSR能力；您可以使用Next.js构建一个完整的、客户端呈现的SPA或多页面应用程序。</p>
<p>Next.js最大的优势是它提供了两个世界的精华。它具有SSR功能以及客户端应用程序功能。它支持基于页面的代码分割，还允许动态导入，根据需要将代码分割成块。</p>
<p>客户端应用程序的UI的第一次绘制通常很慢，然后浏览器会更快地处理路由。但有了SSR，我们可以比任何客户端框架更快地加载以绘制UI，然后后续页面将通过客户端路径加载。</p>
<p>这样，我们可以在Next.js中获得两个世界的好处(即SSR和CSR)。</p>
<h4>判决:平局</h4>
<p>所以对于动态web应用，Gatsby和Next.js都是同样有能力的。Next.js在UI的第一幅画中有点边缘。</p>
<blockquote><p>我和盖茨比的第一手经历棒极了。在我的日常工作中，我们在我们的产品中使用了Gatsby，这个产品相当复杂，有三组不同的用户。到目前为止，我们非常高兴，与一个八人开发团队一起构建平台的开发人员体验绝对令人敬畏。他们的文档是获得web开发知识的极好来源。</p>
<p>我们还将Next.js用于简单的动态网站(与Gatsby应用程序的规模不同)。它同样不错，但在配置上做高级事情有自己的学习曲线。幸运的是，他们的贡献者和医生都非常友好。</p></blockquote>
<h3>Next.js与Gatsby争夺混合网络应用</h3>
<h4>示例:</h4>
<ul>
<li>推特</li>
<li>Reddit</li>
<li>堆栈溢出</li>
</ul>
<p>混合web应用程序是我们例子中的最后一种类型。我们已经简要介绍过，Next.js提供了两个世界的精华，它使用SSR呈现页面UI，然后将数据责任交给客户端React应用程序。但是什么时候我们需要这两种功能呢？</p>
<p>如果你在没有登录的情况下查看你的Twitter页面，它会通过SSR加载最初的推文。如果你向下滚动，它会通过客户端加载下一组推文。但如果你登录，它只是加载应用程序外壳，然后客户端JavaScript加载推文内容。</p>
<p>所以在单个应用程序中，它既支持访问者的SSR，也支持登录用户的CSR。对于大多数大型社交网络和基于社区的网站来说也是如此。</p>
<h4>判决:Next.js</h4>
<p>对于不需要SEO的混合型web apps，Gatsby和Next.js都是有能力的。但是对于需要对可公开访问的动态内容进行SEO的应用程序，Next.js是最好的选择。</p>
<p>现在，让我们来看看一个混合web应用程序和网站在单个代码库中的不同用例。</p>
<p>你有一个公司网站和一个网络应用产品。你希望用单一的代码库来构建它，而不是作为两个独立的站点。在这种情况下，使用Next.js和Gatsby也更容易处理。我们可以为公司网站渲染静态页面，为web应用程序产品渲染CSR。同样，我们可以将SSR用于网站，将SSR和CSR结合起来用于web应用程序。</p>
<h2>结论</h2>
<p>Gatsby和Next.js都是很棒的框架。我会说两者都是赢家，但这取决于你的项目要求；选择最适合需要的一个。最大的赢家是开发商。他们使用这两种框架的体验是绝对的幸福。</p>
<p>我鼓励你查看他们的文档以获取更多信息。希望你喜欢阅读这篇文章，让我知道你对这两个框架的看法以及你对它们的第一手经验。🤗</p><div class="code-block code-block-30">
<div class="blog-plug inline-plug next-plug"><h2><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank"> LogRocket </a>:全面了解生产Next.js应用</h2><p>调试下一个应用程序可能会很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪状态、自动显示JavaScript错误、跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-lazy-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/></noscript></a><a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><p>LogRocket 就像是网络和移动应用的DVR，记录下你的Next.js应用上发生的一切。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用程序的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p><p>让您调试Next.js应用的方式现代化— <a class="signup" href="https://lp.logrocket.com/blg/nextjs-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>