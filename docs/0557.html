<html>
<head>
<title>Building reusable UI components with React Hooks - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用React钩子构建可重用的UI组件</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/#0001-01-01">https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在React中，可重用组件是一个UI，可以在应用程序的不同部分使用，以构建多个UI实例。例如，我们可以在应用程序的几个部分用不同的颜色显示一个按钮组件。尽管当我们为它提供一个数据集(例如颜色或函数)时，它是同一个按钮组件，但它会修改自身并输出该元素的UI实例。</p>
<p>这种创建React组件的模式是伸缩所必需的。它通过确保编写更少的代码、更快的开发、更简单的代码库以及无压力的维护来帮助节省时间。</p>
<p>在本教程中，我们将构建可重用的React组件，这些组件可以在整个项目中使用，以保持逻辑和表示的一致性。我们将使用钩子来管理和操作状态数据。</p>
<blockquote><p>本文假设您对React有基本的了解。如果你没有任何使用React的经验，可以参考文档<a href="https://reactjs.org/docs/getting-started.html" target="_blank" rel="noopener noreferrer">这里</a>开始使用。在这个项目中使用的所有例子都可以在<a href="https://codesandbox.io/s/reusable-components-with-hooks-7seuf" target="_blank" rel="noopener noreferrer">这个沙盒。</a></p></blockquote>
<h2>入门指南</h2>
<p>在教程的这一部分，我们将创建各种HTML元素作为可重用的组件。我们将使用CodeSandbox。你可以在这里创建一个新的沙箱<a href="https://codesandbox.io/s/new" target="_blank" rel="noopener noreferrer">来开始。</a></p>
<h2>输入组件</h2>
<p>创建可重用输入组件的一个优点是，您可以在应用程序的各个部分保持输入的外观。您还可以通过向输入组件传递一个属性来确定应该呈现什么类型的输入组件(文本、电子邮件等)。虽然我们不会在本教程中深入探讨样式，但是您可以定制您的组件以满足您的视觉需求。</p>
<p>在新创建的沙盒项目中，创建一个带有<code>FormInput.js</code>文件的组件文件夹，并向其中添加以下代码:</p>
<pre>// ./components/FormInput.js
import React, {useState} from "react";

function FormInput(props) {
  const [inputType] = useState(props.type)
  const [inputValue, setInputValue] = useState('')

  function handleChange(event){
    setInputValue(event.target.value);
    if(props.onChange) props.onChange(inputValue)
  }
  return (
    &lt;&gt;
      &lt;input type={inputType} value={inputValue} name="input-form" onChange={handleChange} class="inputclass"/&gt;
    &lt;/&gt;
  );
}
export default TextInput;</pre>
<p>对于可重用的组件，它必须接收数据或数据集(通过props)并返回输出(通常通过props传递的函数)。建议将可变状态保存在组件的state属性中，以确保它们正常工作。</p>
<p>上面的<code>FormInput()</code>组件接收一个输入类型，以确定呈现什么类型的输入元素(电子邮件、文本等)。它还采用了一个方法<code>onChange()</code>来接收从输入端发回的值。</p>
<p>该组件在本地管理其值，并且只将更新后的状态值返回给调用它的组件。</p>
<p>为了实现这一点，我们创建了一个本地函数<code>handleChange()</code>。该函数检查通过props接收状态数据的方法是否可用，然后将当前状态数据发送给它进行进一步处理。</p>
<p><img data-attachment-id="10585" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/forminput/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png" data-orig-size="730,491" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="forminput" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput-300x202.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png" decoding="async" class="aligncenter wp-image-10585 size-full jetpack-lazy-image" src="../Images/83b113607fcb63e90a8dbf63ae884e20.png" alt="handleChange" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/forminput-300x202.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10585" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/forminput/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png" data-orig-size="730,491" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="forminput" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput-300x202.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png" decoding="async" loading="lazy" class="aligncenter wp-image-10585 size-full" src="../Images/83b113607fcb63e90a8dbf63ae884e20.png" alt="handleChange" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/forminput-300x202.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/forminput.png"/></noscript>
<h2>自定义选择组件</h2>
<p>在components文件夹中，创建一个<code>CustomSelect.js</code>文件，并向其中添加以下代码:</p>
<pre>// ./components/CustomSelect.js
import React, { useState } from "react";
function CustomSelect(props) {
  const [data] = useState(props.data);
  const [selectedData, updateSelectedData] = useState("");
  function handleChange(event) {
    updateSelectedData(event.target.value);
    if (props.onSelectChange) props.onSelectChange(selectedData);
  }
  let options = data.map(data =&gt; (
    &lt;option key={data.id} value={data.id}&gt;
      {data.name}
    &lt;/option&gt;
  ));
  return (
    &lt;select
      name="customSearch"
      className="custom-search-select"
      onChange={handleChange}
    &gt;
      &lt;option&gt;Select Item&lt;/option&gt;
      {options}
    &lt;/select&gt;
  );
}
export default CustomSelect;</pre>
<p>上面，我们通过props接收了select元素中options标签所需的数据集。为了构建选项标记，我们通过props遍历数据集，在将它作为select标记的一部分呈现之前构建它。</p>
<p>标签的状态(当前选择的选项)存储在本地，当它通过我们的本地函数<code>handleChange()</code>改变时，更新并作为输出发送回来。</p>
<p><img data-attachment-id="10587" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/stateoftag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateoftag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png" decoding="async" class="aligncenter wp-image-10587 size-full jetpack-lazy-image" src="../Images/1a81264dfe0cb0fe6535403ea70be39d.png" alt="the state of the tag" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag-300x195.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10587" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/stateoftag/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png" data-orig-size="730,475" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="stateoftag" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag-300x195.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png" decoding="async" loading="lazy" class="aligncenter wp-image-10587 size-full" src="../Images/1a81264dfe0cb0fe6535403ea70be39d.png" alt="the state of the tag" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag-300x195.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/stateoftag.png"/></noscript>
<h2>按钮组件</h2>
<p>一个可重用的按钮可以用来显示不同的颜色变量或大小，只要它在你的应用程序中使用。在components文件夹中，创建一个<code>Button.js</code>文件，并向其中添加以下代码:</p>
<pre>// ./components/Button.js
import React, { useState } from "react";
function Button(props) {
  const [size] = useState(props.size);
  const [variant] = useState(props.variant);
  return (
    &lt;button className={`btn-${variant} btn-${size}`}&gt;{props.children}&lt;/button&gt;
  );
}
export default Button;</pre>
<p>我们的按钮通过props接收三个属性。variant(用于确定按钮颜色)，size (lg，xs，sm)确定按钮的大小。我们使用React的内置子属性(props.children)动态显示按钮内容。</p>
<p><img data-attachment-id="10590" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/exportdefaultbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png" data-orig-size="730,481" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="exportdefaultbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png" decoding="async" class="aligncenter wp-image-10590 size-full jetpack-lazy-image" src="../Images/24c748c20aaa48b69a69478147843a1e.png" alt="defaultbutton" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton-300x198.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10590" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/exportdefaultbutton/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png" data-orig-size="730,481" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="exportdefaultbutton" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton-300x198.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png" decoding="async" loading="lazy" class="aligncenter wp-image-10590 size-full" src="../Images/24c748c20aaa48b69a69478147843a1e.png" alt="defaultbutton" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton-300x198.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/exportdefaultbutton.png"/></noscript>
<h2>模态分量</h2>
<p>模式组件适合在应用程序中发送警报。在components文件夹中，创建一个<code>Modal.js</code>文件，并向其中添加以下代码:</p>
<pre>// ./components/Modal.js
import React, { useState, useEffect } from "react";
function Modal(props) {
  const [message] = useState(props.message);
  const [show, setShow] = useState(props.show);
  useEffect(() =&gt; {
    setTimeout(() =&gt; {
      setShow(false);
    }, 3000);
  });
  return (
    &lt;div className={show ? "modal display-block" : "modal display-none"}&gt;
      &lt;section className="modal-main"&gt;{message}&lt;/section&gt;
    &lt;/div&gt;
  );
}
export default Modal;</pre>
<p>我们的模态组件做两件事:</p>
<ul>
<li>它接收一个布尔值来决定它是否弹出</li>
<li>它还接收弹出时要显示的消息</li>
</ul>
<p>要关闭模态，我们需要将显示状态设置为false。我们可以在几秒钟后调用<code><a href="https://reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener noreferrer">useEffect()</a></code>钩子中的<code>setTimeout()</code>函数来实现。</p>
<p><img data-attachment-id="10593" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/modaljs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png" data-orig-size="730,484" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="modaljs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs-300x199.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png" decoding="async" class="aligncenter wp-image-10593 size-full jetpack-lazy-image" src="../Images/69db158f7e28e7c761c5a74927eb6b9e.png" alt="modal.js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs-300x199.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10593" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/modaljs/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png" data-orig-size="730,484" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="modaljs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs-300x199.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png" decoding="async" loading="lazy" class="aligncenter wp-image-10593 size-full" src="../Images/69db158f7e28e7c761c5a74927eb6b9e.png" alt="modal.js" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs-300x199.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/modaljs.png"/></noscript>
<h2>切换组件</h2>
<p>toggle组件用于需要正确或错误答案的情况。它是一个基本的表单组件。</p>
<p>在components文件夹中，创建一个<code>ToggleSwitch.js</code>文件，并向其中添加以下代码:</p>
<pre>// ./components/ToggleSwitch.js
import React, { useState } from "react";
function ToggleSwitch(props) {
  const [checked, setChecked] = useState(props.defaultChecked);
  const [Text] = useState(props.Text);
  function onChange(e) {
    setChecked(e.target.value);
    if (props.onToggleChange) props.onToggleChange(checked);
  }
  return (
    &lt;div className={"toggle toggle-switch"}&gt;
      &lt;input
        type="checkbox"
        name={props.Name}
        className="toggle-switch-checkbox"
        id={props.id}
        defaultChecked={checked}
        onChange={onChange}
      /&gt;
      {props.id ? (
        &lt;label className="toggle-switch-label" htmlFor={props.id}&gt;
          &lt;span
            className={
              props.disabled
                ? "toggle-switch-inner toggle-switch-disabled"
                : "toggle-switch-inner"
            }
            data-yes={Text[0]}
            data-no={Text[1]}
          /&gt;
          &lt;span
            className={
              props.disabled
                ? "toggle-switch-switch toggle-switch-disabled"
                : "toggle-switch-switch"
            }
          /&gt;
        &lt;/label&gt;
      ) : null}
    &lt;/div&gt;
  );
}
export default ToggleSwitch;</pre>
<p>我们的toggle组件接收以下道具:</p>
<ul>
<li><strong> ID(必选)</strong>:这是将要传递给复选框输入控件的ID。没有这个，组件不会渲染</li>
<li><strong> Text(必选)</strong>:切换开关包含两个值的数组，表示真和假的文本</li>
<li><strong> Name(可选)</strong>:这将是复选框输入的标签文本</li>
<li><strong> onChange(可选)</strong>:用于接收组件返回的数据</li>
<li><strong> Checked(可选)</strong>:这将直接传递给元素以获取其当前状态</li>
<li><strong>禁用(可选)</strong>:用于设置按钮的状态</li>
</ul>
<p>当它改变时，我们更新状态，并通过props将值从父组件发送到事件监听器。</p>
<p><img data-attachment-id="10597" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/toggleswitch/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png" data-orig-size="730,490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="toggleswitch" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png" decoding="async" class="aligncenter wp-image-10597 size-full jetpack-lazy-image" src="../Images/a8276bf5c0dc47671d477035e2a72988.png" alt="toggle switch js" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch-300x201.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="10597" data-permalink="https://blog.logrocket.com/building-reusable-ui-components-with-react-hooks/toggleswitch/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png" data-orig-size="730,490" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="toggleswitch" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch-300x201.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png" decoding="async" loading="lazy" class="aligncenter wp-image-10597 size-full" src="../Images/a8276bf5c0dc47671d477035e2a72988.png" alt="toggle switch js" srcset="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch-300x201.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/toggleswitch.png"/></noscript>
<h2>使用组件</h2>
<p>要使用我们刚刚创建的组件，我们需要从父组件中呈现它们，并将相关数据传递给它们。将以下内容添加到您的<code>index.js</code>:</p>
<pre>// ./index.js
import React, { useState } from "react";
import ReactDOM from "react-dom";
import FormInput from "../components/FormInput.js";
import CustomSelect from "../components/CustomSelect.js";
import ToggleSwitch from "../components/ToggleSwitch.js";
import Button from "../components/Button.js";
import Modal from "../components/Modal.js";
import "./styles.css";
function App() {
  const data = [
    {
      id: "1",
      name: "One"
    },
    {
      id: "2",
      name: "Two"
    },
    {
      id: "3",
      name: "Three"
    },
    {
      id: "4",
      name: "Four"
    }
  ];
  function handleChange(event) {
    console.log(event.target.value);
  }
  function onSelectChange(event) {
    console.log(event.target.value);
  }
  function onToggleChange(event) {
    console.log(event.target.checked);
  }
  return (
    &lt;div className="App"&gt;
      &lt;form&gt;
        &lt;Modal show={true} message={"Hello"}&gt;
          &lt;p&gt;THIS IS A MODAL&lt;/p&gt;
        &lt;/Modal&gt;
        &lt;FormInput type={"text"} onChange={handleChange} /&gt;
        &lt;FormInput type={"email"} onChange={handleChange} /&gt;
        &lt;div&gt;
          &lt;CustomSelect data={data} onSelectChange={onSelectChange} /&gt;
        &lt;/div&gt;
        &lt;div&gt;
          &lt;ToggleSwitch
            id="id"
            defaultChecked={false}
            disabled={false}
            Text={["Yes", "No"]}
            onToggleChange={onToggleChange}
          /&gt;
        &lt;/div&gt;
        &lt;Button variant="danger" size={"sm"} &gt;Small Button&lt;/Button&gt;
        &lt;Button variant="primary" size={"lg"} &gt;Smaller Button&lt;/Button&gt;
        &lt;Button variant="warning" size={"xs"} &gt;Big Button&lt;/Button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}
const rootElement = document.getElementById("root");
ReactDOM.render(&lt;App /&gt;, rootElement);</pre>
<h3>您应该会看到以下内容:</h3>
<h2>结论</h2>
<h2>在本教程中，我们学习了如何创建可重用的React组件。这些知识可以用来创建高度可伸缩和一致的React应用程序。我们还使用钩子来管理和操作状态数据。你可以在this <a href="https://codesandbox.io/s/reusable-components-with-hooks-7seuf" target="_blank" rel="noopener noreferrer"> CodeSandbox项目</a>中找到本文中使用的所有代码示例。</h2>
<p>要阅读更多关于钩子和React组件的内容，请查看这里的文档。</p>
<p>使用LogRocket消除传统反应错误报告的噪音</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p><p vwo-el-id="28675661060">Focus on the React bugs that matter —
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">try LogRocket today</a>.
</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>