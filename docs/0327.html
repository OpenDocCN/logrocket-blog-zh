<html>
<head>
<title>Getting started with React Select - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Select - LogRocket博客入门</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-react-select/#0001-01-01">https://blog.logrocket.com/getting-started-react-select/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按</strong>:本文最后一次更新于2022年12月15日，以反映React Select v5中所做的更改。</em></p>
<p>三、四年前从事web项目时，选择元素曾经是最容易构建的东西之一。然而，现在，更多的东西被用于构建选择元素，尤其是当UI和UX是一个高优先级的时候。</p>
<p>例如，必须考虑聚焦、从远程数据源获取数据、样式化选择元素等特性。在从事React项目时，您可能希望在多元宇宙的某个地方存在一个可重用的组件。</p>
<p>幸运的是，<a href="https://github.com/JedWatson">杰德·沃森</a>开始了他的公司<a href="https://www.thinkmill.com.au/"> Thinkmill </a>和<a href="https://atlaskit.atlassian.com/">Atlassian</a>React Select资助的开源项目。在本文中，我们将探索React Select v5中包含的一些令人惊叹的特性，然后通过一个简单的示例了解如何开始使用React Select。您也可以<a href="https://www.youtube.com/watch?v=n02t9wvd6hs">查看我们关于React Select </a>的视频教程。我们开始吧！</p>

<h2 id="prerequisites">先决条件</h2>
<p>要跟随本教程，您需要以下内容:</p>
<ul>
<li>机器上安装的纱线或npm</li>
<li><a href="https://create-react-app.dev/docs/getting-started">创建React应用程序</a>安装CLI工具</li>
<li>对HTML、JavaScript ES6和CSS有基本的了解</li>
<li>对React框架的基本理解</li>
<li>对命令行终端的基本了解</li>
</ul>
<h2 id="installing-react-select">安装React Select</h2>
<p>有了这些需求，我们首先将React Select包添加到我们现有的React应用程序中。在本教程中，我们将使用Create React App CLI工具。</p>
<p>如果您还没有现有的项目，可以使用以下代码创建一个项目:</p>
<pre>npx create-react-app my-app
# OR
yarn create react-app my-app
</pre>
<p>完成后，我们可以使用以下命令安装React Select包:</p>
<pre>npm install react-select
# OR
yarn add react-select
</pre>
<p>现在，我们将看看如何在React应用程序中导入和使用React Select包。</p>
<h2 id="basic-usage-react-select">反应选择的基本用法</h2>
<p>要开始使用React Select，我们只需要导入它的<code>Select</code>组件，并添加一个包含选项及其相应标签的对象数组:</p>
<pre>// App.js

import Select from "react-select";

const App = () =&gt; {
  const options = [
    { value: "blues", label: "Blues" },
    { value: "rock", label: "Rock" },
    { value: "jazz", label: "Jazz" },
    { value: "orchestra", label: "Orchestra" },
  ];

  return (
    &lt;div&gt;
      &lt;Select options={options} /&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>在上面的代码片段中，我们将选择的选项作为音乐流派，并将其作为道具传递给<code>select</code>组件。当我们运行这个应用程序时，我们应该会看到一个<code>select</code>元素从屏幕的一端跨越到另一端:</p>
<p><img data-attachment-id="152793" data-permalink="https://blog.logrocket.com/react-select-element-music-genre-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select-element-music-genre-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif" decoding="async" class="alignnone wp-image-152793 size-full jetpack-lazy-image" src="../Images/34ef22453adaeb481dd1c0e05bbd0750.png" alt="React Select Element Music Genre Example" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152793" data-permalink="https://blog.logrocket.com/react-select-element-music-genre-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select-element-music-genre-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif" decoding="async" loading="lazy" class="alignnone wp-image-152793 size-full" src="../Images/34ef22453adaeb481dd1c0e05bbd0750.png" alt="React Select Element Music Genre Example" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-element-music-genre-example.gif"/></noscript>
<p>在接下来的几节中，我们将看到如何设计<code>select</code>组件的样式来扩展它的功能并使它在视觉上更具吸引力。但是首先，我们将把Bootstrap添加到我们的应用程序中，以帮助构建和防止我们的<code>select</code>组件占据整个网页宽度。</p>
<h2 id="add-bootstrap">添加引导</h2>
<p>我们可以在项目中安装Bootstrap，如下所示:</p>
<pre>npm install bootstrap
# OR
yarn add boostrap
</pre>
<p>安装了<a href="https://blog.logrocket.com/using-bootstrap-with-react-tutorial-with-examples/"> Bootstrap之后，我们将利用它的实用程序类</a>来重构我们的应用程序:</p>
<pre>//App.js
import Select from "react-select";

// Import Bootstarp CSS
import "bootstrap/dist/css/bootstrap.css";

const App = () =&gt; {
  const options = [
    { value: "blues", label: "Blues" },
    { value: "rock", label: "Rock" },
    { value: "jazz", label: "Jazz" },
    { value: "orchestra", label: "Orchestra" },
  ];
  return (
    &lt;div className="container"&gt;
      &lt;div className="mt-5 m-auto w-50"&gt;
        &lt;Select options={options} /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>上面的代码将给我们一个类似下图的<code>select</code>元素:</p>
<p><img data-attachment-id="152795" data-permalink="https://blog.logrocket.com/export-select-component-bootstrap-styling/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="export-select-component-bootstrap-styling" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif" decoding="async" class="aligncenter wp-image-152795 size-full jetpack-lazy-image" src="../Images/93ee005a7b3fb5dd0346eb091bacc80e.png" alt="Export Select Component Bootstrap Styling" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152795" data-permalink="https://blog.logrocket.com/export-select-component-bootstrap-styling/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="export-select-component-bootstrap-styling" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif" decoding="async" loading="lazy" class="aligncenter wp-image-152795 size-full" src="../Images/93ee005a7b3fb5dd0346eb091bacc80e.png" alt="Export Select Component Bootstrap Styling" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/export-select-component-bootstrap-styling.gif"/></noscript>
<h2 id="using-onchange-autofocus-props">使用<code>onChange</code>和<code>autofocus</code>道具</h2>
<p>从React Select组件获取值类似于我们用传统的HTML输入获取值；我们可以通过利用它的<code>onChange</code>事件以及React <code>useState</code>钩子来实现这一点，如下所示:</p>
<pre>import { useState } from "react";
import Select from "react-select";
import "bootstrap/dist/css/bootstrap.css";

const App = () =&gt; {
  const options = [
    { value: "blues", label: "Blues" },
    { value: "rock", label: "Rock" },
    { value: "jazz", label: "Jazz" },
    { value: "orchestra", label: "Orchestra" },
  ];

  const [selected, setSelected] = useState(null);

  const handleChange = (selectedOption) =&gt; {
    setSelected(selectedOption);
    console.log(`Option selected:`, selectedOption);
  };

  return (
    &lt;div className="container"&gt;
      &lt;div className="mt-5 m-auto w-50"&gt;
        &lt;Select options={options} onChange={handleChange} autoFocus={true} /&gt;

        &lt;div className="mt-4"&gt;
          {selected &amp;&amp; &lt;&gt;You've selected {selected.value}&lt;/&gt;}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>在上面的代码中，我们向<code>onChange</code>事件添加了一个<code>handleChange</code>函数，这样每当用户在<code>select</code>组件中更改他们的选项时，我们的状态就会更新为包含所选选项值和标签的对象。</p>
<p>因此，如果我们选择<code>rock</code>作为选项，我们的控制台将显示如下内容:</p>
<pre>Option selected: {value:"rock", label: "Rock"}
</pre>
<p>当我们想要操作从React Select组件获得的数据时，这很有用。我们还有<code>autoFocus</code>属性，它接受一个<code>boolean</code>值，用于在页面加载时将<code>autoFocus</code>添加到<code>select</code>组件中。要了解更多可用的道具，你可以查看React Select的道具<a href="https://react-select.com/props">文档</a>。</p>
<h2 id="adding-custom-styles-react-select-components">添加自定义样式以反应选择的组件</h2>
<p>React Select是完全可定制的，允许我们设计每个单元的样式，比如<code>control</code>、<code>options</code>、<code>placeholder</code>以及更多的<code>select</code>组件。我们可以通过传递一个额外的<code>styles</code>道具来完成这个任务，这个道具包含每个单元的新的首选样式:</p>
<p><img data-attachment-id="152797" data-permalink="https://blog.logrocket.com/add-custom-styles-react-select/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-custom-styles-react-select" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png" decoding="async" class="aligncenter wp-image-152797 size-full jetpack-lazy-image" src="../Images/dccb302927bc8344aece2563109716e5.png" alt="Add Custom Styles React Select" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select-300x83.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152797" data-permalink="https://blog.logrocket.com/add-custom-styles-react-select/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png" data-orig-size="730,203" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-custom-styles-react-select" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png" decoding="async" loading="lazy" class="aligncenter wp-image-152797 size-full" src="../Images/dccb302927bc8344aece2563109716e5.png" alt="Add Custom Styles React Select" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select-300x83.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/add-custom-styles-react-select.png"/></noscript>
<p>在此过程中，我们还可以访问并选择为每个单元添加默认样式。我们还可以按需添加样式，这意味着我们指定如果一个选项被选中或聚焦，它应该具有什么样式，等等。</p>
<p>要尝试所有这些，将以下代码粘贴到<code>App.js</code>文件中:</p>
<pre>import Select from "react-select";
import "bootstrap/dist/css/bootstrap.css";

const App = () =&gt; {
  const options = [
    { value: "blues", label: "Blues" },
    { value: "rock", label: "Rock" },
    { value: "jazz", label: "Jazz" },
    { value: "orchestra", label: "Orchestra" },
  ];
  const customStyles = {
    option: (defaultStyles, state) =&gt; ({
      ...defaultStyles,
      color: state.isSelected ? "#212529" : "#fff",
      backgroundColor: state.isSelected ? "#a0a0a0" : "#212529",
    }),

    control: (defaultStyles) =&gt; ({
      ...defaultStyles,
      backgroundColor: "#212529",
      padding: "10px",
      border: "none",
      boxShadow: "none",
    }),
    singleValue: (defaultStyles) =&gt; ({ ...defaultStyles, color: "#fff" }),
  };

  return (
    &lt;div className="container"&gt;
      &lt;div className="mt-5 m-auto w-50 text-light"&gt;
        &lt;Select options={options} styles={customStyles} /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};

export default App;
</pre>
<p>在上面的代码中，我们修改了<code>select</code>组件，为选择的<code>control</code>、通过<code>option</code>选择的选项以及通过<code>singleValue</code>选择的当前选项添加了自定义样式。我们做了一些改变，给我们的<code>select</code>组件一个黑暗模式的外观。当您运行您的应用程序时，您应该有类似于下面的输出:</p>
<p><img data-attachment-id="152799" data-permalink="https://blog.logrocket.com/select-component-dark-mode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png" data-orig-size="730,273" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-component-dark-mode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode-300x112.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png" decoding="async" class="aligncenter wp-image-152799 size-full jetpack-lazy-image" src="../Images/6ecc6a76ec4434cde4cd8f5a9d5b8079.png" alt="Select Component Dark Mode" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode-300x112.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152799" data-permalink="https://blog.logrocket.com/select-component-dark-mode/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png" data-orig-size="730,273" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="select-component-dark-mode" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode-300x112.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png" decoding="async" loading="lazy" class="aligncenter wp-image-152799 size-full" src="../Images/6ecc6a76ec4434cde4cd8f5a9d5b8079.png" alt="Select Component Dark Mode" srcset="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode-300x112.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/select-component-dark-mode.png"/></noscript>
<h2 id="custom-components">定制组件</h2>
<p>在样式和状态下，我们讨论了两个定制组件，<code>option</code>和<code>control</code>，我们用它们来扩展<code>select</code>样式。在这一节中，我们将看看另一个名为<code>Custom SingleValue</code>的定制组件。</p>
<p>这个定制组件做我们常规的<code>select</code>组件所做的，但是我们将增加一些技巧。在我们的<code>App.js</code>文件中，我们将用下面的代码从React和React Select导入<code>React</code>和<code>Select</code>包:</p>
<pre>import Select, { components } from 'react-select';
. . .
</pre>
<p>当我们完成后，我们将有一个完成的下拉列表，看起来像下面这样:</p>
<p><img data-attachment-id="152801" data-permalink="https://blog.logrocket.com/custom-single-value-component-react-select/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="custom-single-value-component-react-select" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif" decoding="async" class="aligncenter wp-image-152801 size-full jetpack-lazy-image" src="../Images/28d03da45f210f6d60d8768c88d10b04.png" alt="Custom Single Value Component React Select" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152801" data-permalink="https://blog.logrocket.com/custom-single-value-component-react-select/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="custom-single-value-component-react-select" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif" decoding="async" loading="lazy" class="aligncenter wp-image-152801 size-full" src="../Images/28d03da45f210f6d60d8768c88d10b04.png" alt="Custom Single Value Component React Select" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/custom-single-value-component-react-select.gif"/></noscript>
<p>在下面的代码块中，我们将自定义的<code>SingleValue</code>组件定义为扩展React Select包中基本组件的方法。在我们的<code>App</code>类中，我们有几个支持上图所示功能的道具和函数:</p>
<pre>import { useState } from "react";
import "bootstrap/dist/css/bootstrap.css";
import Select, { components } from "react-select";

const Control = ({ children, ...props }) =&gt; (
  &lt;components.Control {...props}&gt;
    Click to Select → {children}
  &lt;/components.Control&gt;
);

const App = () =&gt; {
  const options = [
    { value: "blue", label: "Blue" },
    { value: "green", label: "Green" },
    { value: "orange", label: "Orange" },
    { value: "purple", label: "Purple" },
  ];

  const customStyles = {
    singleValue: (base) =&gt; ({
      ...base,
      padding: "5px 10px",
      borderRadius: 5,
      background: selected,
      color: "white",
      display: "flex",
      width: "fit-content",
    }),
  };

  const [selected, setSelected] = useState("");
  var handleChange = (selected) =&gt; {
    setSelected(selected.value);
  };

  return (
    &lt;div className="container"&gt;
      &lt;div className="mt-5 m-auto w-50"&gt;
        &lt;Select
          onChange={handleChange}
          styles={customStyles}
          components={{ Control }}
          options={options}
        /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};
export default App;
</pre>
<h2 id="multi-select">多重选择</h2>
<p>我们可以配置React Select来允许在单个<code>select</code>组件中选择多个选项。这是通过在我们的<code>select</code>组件中包含<code>isMulti</code>属性来实现的:</p>
<pre>import { useState } from "react";
import "bootstrap/dist/css/bootstrap.css";
import Select from "react-select";

function App() {
  const options = [
    { value: "blue", label: "Blue" },
    { value: "green", label: "Green" },
    { value: "orange", label: "Orange" },
    { value: "purple", label: "Purple" },
  ];

  const [selectedOption, setSelectedOption] = useState("");

  var handleChange = (selectedOption) =&gt; {
    console.log(selectedOption);
    setSelectedOption(selectedOption.value);
  };

  return (
    &lt;div className="container"&gt;
      &lt;div className="mt-5 m-auto w-50"&gt;
        &lt;Select isMulti onChange={handleChange} options={options} /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
export default App;
</pre>
<p>当我们运行代码时，我们将得到以下输出:</p>
<p><img data-attachment-id="152803" data-permalink="https://blog.logrocket.com/react-select-multi-option/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select-multi-option" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif" decoding="async" class="aligncenter wp-image-152803 size-full jetpack-lazy-image" src="../Images/27e1bb1c87195f6640bce1744219a89c.png" alt="React Select Multi Option" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="152803" data-permalink="https://blog.logrocket.com/react-select-multi-option/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif" data-orig-size="730,134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-select-multi-option" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option-300x55.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif" decoding="async" loading="lazy" class="aligncenter wp-image-152803 size-full" src="../Images/27e1bb1c87195f6640bce1744219a89c.png" alt="React Select Multi Option" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/12/react-select-multi-option.gif"/></noscript>
<h2 id="using-react-select-ssr">对SSR使用React Select</h2>
<p>当您尝试将React Select组件与Next.js等服务器端呈现(SSR)框架一起使用时，您可能会得到如下所示的引用错误:</p>
<pre>ReferenceError: window is not defined
</pre>
<p>在组件完全挂载之前，浏览器的窗口对象在SSR中不可用。然而，React Select依赖于浏览器<code>window</code>对象来起作用。因为我们是在组件挂载之前导入React Select库，所以我们会得到<code>reference is not defined</code>错误。</p>
<p>我们可以在Next.js中通过禁用<code>ssr</code>选项使用动态导入函数来修复这个错误，如下所示:</p>
<pre>import dynamic from 'next/dynamic'
const Select = dynamic(() =&gt; import("react-select"), {
  ssr: false,
})
</pre>
<p>您也可以使用流行的包，比如在其他框架中实现的<a href="https://www.npmjs.com/package/react-no-ssr"> react-no-ssr </a>包。</p>
<h2 id="async-fixed-options">异步和固定选项</h2>
<p>关于使用React Select组件，还有一些其他的概念需要了解，其中之一是<a href="https://react-select.com/async">异步组件</a>。当从API或数据库查询中请求您的<code>select</code>值或选项时，这个组件很方便。异步组件包括提供有用的道具，如:</p>
<ul>
<li><code>cacheOptions</code>:缓存提取的选项</li>
<li><code>defaultOptions</code>:加载远程选项前设置默认选项</li>
</ul>
<p>另一个可能派上用场的组件是<a href="https://react-select.com/home#fixed-options">固定选项</a>组件，它使得拥有固定选项成为可能。</p>
<h2 id="conclusion">结论</h2>
<p>在本文中，我们探索了React Select组件的一些常见用例。我们还学习了如何开始使用React Select并扩展它的一些预定义组件来满足我们的需求。</p>
<p>React Select包中内置了大量的功能，其中一些功能将满足您的需求，而另一些功能您需要进行定制以适应您的使用情况。</p>
<p>为了让你的手变脏，我建议查看一下官方文档。如果您有问题或遇到困难，请随时发表评论。编码快乐！</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:全面了解您的生产React应用</h2><p>调试React应用程序可能很困难，尤其是当用户遇到难以重现的问题时。如果您对监视和跟踪Redux状态、自动显示JavaScript错误以及跟踪缓慢的网络请求和组件加载时间感兴趣，</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket 结合了会话回放、产品分析和错误跟踪，使软件团队能够创建理想的web和移动产品体验。这对你来说意味着什么？</p>
<p>LogRocket不是猜测错误发生的原因，也不是要求用户提供截图和日志转储，而是让您回放问题，就像它们发生在您自己的浏览器中一样，以快速了解哪里出错了。</p>
<p>不再有嘈杂的警报。智能错误跟踪允许您对问题进行分类，然后从中学习。获得有影响的用户问题的通知，而不是误报。警报越少，有用的信号越多。</p>
<p vwo-el-id="28675660750">LogRocket Redux中间件包为您的用户会话增加了一层额外的可见性。LogRocket记录Redux存储中的所有操作和状态。</p>
<p vwo-el-id="28675661060">现代化您调试React应用的方式— <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">开始免费监控</a>。</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>