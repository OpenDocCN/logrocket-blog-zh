# 用超现实的 DB 改进数据库管理

> 原文：<https://blog.logrocket.com/improve-database-management-surrealdb/>

数据库在 web 开发中至关重要，它以有组织的格式存储不同形式和形状(结构化和非结构化)的数据。他们的最终目标是使存储的数据易于检索、更新、查询，并且通常易于通过 GUI 应用程序、仪表板甚至命令行界面进行管理。

由于这些用例，数据库管理系统和平台在过去几年里已经有了很大的发展。今天，我们有各种数据库即服务(DBaaS)平台，也称为托管数据库服务。它们基本上提供了管理数据库的方法，并将配置、维护和管理这些数据库的工作卸载给各种云数据库服务和存储提供商。

所有这些都与云时代的发展不谋而合。使用 DBaaS 软件意味着用户无需在内部部署数据库管理系统(DBMS ),因为它们现在可以作为托管服务提供。DBaaS 利用云计算的所有优势，确保用户在基础架构上的初始支出很少或不存在。

在本帖中，我们将讨论数据库管理系统，以及超现实数据库如何融入更大的生态系统。

*向前跳转:*

## 数据库管理系统分类

对 DBMS 进行分组或分类的一种方式是通过它们的[数据模型](https://en.wikipedia.org/wiki/Data_modeling%C2%A8)，即支持的数据结构的种类和建立数据库模式的方式。

正如我们可能已经知道的那样，关系数据库以行和列或者类似表格的格式存储数据。通常，这些类型的数据库使用 SQL 与存储在其中的数据进行交互。另一方面，非关系数据库通常是基于文档的，并提供不同的数据查询方法。

对数据库系统进行分类的另一种方式是基于数据存储的位置和方式。小型数据库可以存储在一个[文件系统](https://en.wikipedia.org/wiki/File_system)上，就像操作系统使用的一样，而大型数据库通常托管在计算机集群或云中。

借助 DBaaS 平台，我们可以访问云数据库系统，而无需购买硬件、安装额外的软件，甚至无需管理数据库。所有这些活动都由 DBaaS 提供商完成，包括定期升级、确保数据库始终可用，以及确保停机时间减少到最低水平。因此，DBaaS 允许客户专注于核心业务运营和决策。

对数据库进行分类时要考虑的其他重要因素包括:

*   要存储的数据种类
*   敏感数据所需的安全和隐私需求

## 什么是超现实 DB？

超现实数据库是一个 DBaaS 平台，它为存储数据提供了一个关系模型。在这篇文章中，我们将看看它的特性、重要性、理想的使用情形、如何设置以及 CLI。最后，我们将探索超现实数据库的特性如何与同类的其他 DBaaS 平台进行比较，如 PostgreSQL、ScyllaDB 和 [CockroachDB](https://www.g2.com/products/cockroachdb/reviews) 。

根据[文档](https://surrealdb.com/)，超现实数据库声称是所有不同类型应用程序的终极云数据库。这是一个端到端的云原生数据库，适用于大多数传统应用，包括 web 和移动应用。它还可以用于无服务器、Jamstack 和其他基于后端的应用程序。

超现实数据库的一个好处是它既能充当数据库，又能充当实时协作 API 后端层。这意味着它可以作为一个单一的、即插即用的数据库服务器运行。它是高度可用、高度可伸缩和分布式的，支持:

*   来自客户端设备的 SQL 查询
*   GraphQL
*   酸性交易
*   WebSocket 连接
*   结构化和非结构化数据
*   图形查询
*   全文索引
*   地理空间查询
*   基于行权限的访问

超现实数据库附带了一种现成的 SQL 风格的查询语言，称为超现实 SQL。超现实 SQL 在支持实时查询、更快和高性能的查询处理、高级权限和多租户应用程序的访问控制方面非常丰富。超现实数据库还声称是无服务器应用的下一代数据库。

超现实数据库本质上是 NoSQL，它消除了使用其他类型的数据库系统时通常需要的大多数服务器端组件和层。它功能多样，可以轻松融入任何类型的技术体系。此外，您可以通过一个简单的命令，甚至通过直接连接到客户端应用程序来轻松启动它。

它还适用于在服务器上进行大量查询或分析的情况。在下一节中，我们将探索这个令人敬畏的云数据库的一些更独特的特性。

## 超现实数据库的特征

您的工程团队可以很快熟悉超现实数据库，因为它非常容易设置和使用。没有必要花时间学习新的查询语言或语法，因为在以前的数据库中查询数据的方式马上就可以工作。这是一个快速、高性能的数据库，可根据您的需求进行扩展。其特点包括:

*   **分布式 ACID 事务:**在可伸缩性方面，超现实 DB 在幕后处理，给开发者很少的操作和管理任务。这是因为手动创建和分配额外的数据库或服务器资源是默认处理的，这使得超现实数据库具有高可用性、分布性和 ACID 兼容性
*   **没有复杂的后端服务器** **或者****API**:有了超现实数据库，我们可以在一个地方指定数据库和 API 模式。一旦定义了模式，数据库访问就自动授予相关方，从而消除了定制代码或集成的需要
*   **支持多租户**:通过超现实数据库，我们可以直接连接到不同的终端用户设备，并从网络浏览器运行超现实数据库查询。这意味着用户只能查看或编辑他们有权查看的数据
*   **内置的访问和权限**:通过其直接的客户端连接，超现实数据库提供了内置的权限，加快了开发过程
*   **支持** **用于** **GraphQL 和 REST API:**我们可以用任何我们想要的工具查询数据库，尽管我们支持超现实 SQL、GraphQL(虽然这还没有实现，但是已经在路线图上了)、REST 和 JSON-RPC over WebSockets
*   **线上线下数据同步:**超现实数据库还支持实时查询。它确保客户端设备与客户端应用程序、最终用户设备和服务器端组件实时同步
*   **本质上高度可伸缩和分布式**:超现实数据库可以以独立模式、在内存中或作为分布式集群的一部分运行。超现实数据库被设计成具有高度可伸缩性和可用性，这符合它的分布式本质，并且以这样一种方式实现，即它可以容易地处理多表事务，以及处理文档和记录 id 而不锁定表
*   **用 Rust 重写**:超现实 DB 完全是用 Rust 构建的。众所周知，Rust 提供了低内存占用和低 CPU 需求。因此，超现实数据库具有先进的查询能力，可以作为数据库服务器，然后可以托管在分布式集群中
*   **架构**:超现实数据库有一个独特的架构，支持或者可以配置为单节点(内存中)和磁盘上的分布式键值存储，也可以配置为分布式(多节点)集群
*   **支持多个不同的客户端和库**:有了超现实数据库，我们可以利用最流行的语言，包括 JavaScript、TypeScript、Rust、Go 等等。使用二进制标准通过 WebSockets 连接客户端库，从而[确保低延迟、极快的查询性能](https://surrealdb.com/docs/integration/libraries/javascript)
*   **超现实 SQL**:超现实数据库还附带了[超现实 SQL](https://surrealdb.com/%5Bobject%20HTMLElement%5D)，这是一种内置的类似 SQL 的查询语言，在数据操作方面略有不同和改进。使用超现实 SQL 的数据查询是通过使用`SELECT`、`UPDATE`、`CREATE`和`DELETE`方法或语句来完成的，类似于常规 SQL

注意:要了解更多关于不同类型的语句、语法定义和超现实数据库中可用的示例查询的信息，请查看文档中的[语句页面。](https://surrealdb.com/docs/surrealql/statements)

### 其他功能包括

*   SQL 风格的查询
*   无连接深度提取
*   多行、多表事务
*   多列和全文索引
*   超现实数据库附带了一组强类型的数据类型，可以很容易地从一种形式转换成另一种形式
*   默认情况下，超现实数据库带有内置的方法，用于处理或管理多种类型的数据类型和结构
*   将报表分组在一起的交易

## 超现实数据库的安装和使用

在安装方面，有两种方法可以运行超现实数据库:要么从 Docker 运行，要么通过安装二进制映像来运行，后者适用于流行的操作系统。

### 从 Docker 安装

要安装并运行 Docker，请确保 [Docker Hub](https://hub.docker.com/) 正在您的机器上运行，并从 Docker Hub 中获取最新的超现实数据库图像。为此，请运行以下命令:

```
docker run --rm -p 8000:8000 surrealdb/surrealdb:latest start
```

在这里可以找到超现实数据库映像[和](https://hub.docker.com/r/surrealdb/surrealdb)，它包含了从正在运行的服务器导入和导出数据，或者运行超现实数据库服务器本身所需的所有命令行工具。

为了在 macOS 上安装超现实数据库，因为在这篇文章中我们使用了这个操作系统，我们可以使用 home brew 包管理器。请参见下面的命令:

```
brew install surrealdb/tap/surreal
```

对于其他操作系统，比如 Windows 和 Linux Mints，我们可以查看[文档](https://surrealdb.com/install)中的安装页面。安装完成后，备份、交互和运行超现实数据库实例是否容易。

### 使用超现实数据库执行查询

可以通过不同的方法集成到超现实数据库来执行查询。许多用户通过一个受支持的、积极维护的客户端库进行连接，这些客户端库适用于许多流行的编程语言。目前，在服务器端，超现实数据库支持:

在客户端，它支持 WASM、JavaScript 和 Ember.js。关于使用这个库的更多细节，请查看[文档](https://surrealdb.com/docs/integration/libraries)。

为了执行超现实数据库查询，支持 REST 或 HTTP 方法。默认情况下，所有查询都是通过支持 SQL 的 HTTP API 调用来执行的。如果需要，使用它的 HTTP 端点可以很容易地修改单个表记录，甚至所有表记录。此外，我们可以利用通常的 HTTP 端点，在超现实 SQL 的帮助下查询表记录。更多细节可以在文档中的[这里](https://surrealdb.com/docs/integration/http)找到。

最后，正如我们前面强调的，WebSockets API 支持 JSON-RPC 查询，支持持久连接、会话认证、实时查询和通知。

## 使用超现实数据库 CLI

超现实数据库 CLI 可用于从本地或远程超现实数据库实例导入或导出数据。它可以用于管理单个超现实数据库节点或分布式节点集群。

`start`命令在内存、磁盘或分布式环境中启动一个超现实数据库服务器。确保在继续之前安装超现实数据库。

`import`命令将一个超现实 SQL 脚本文件导入本地或远程超现实数据库服务器。与往常一样，`version`命令显示了已安装的 CLI 的当前版本和机器架构。其他可用命令可在[文档](https://surrealdb.com/docs/cli)中找到。

## 用超现实数据库改进数据库管理系统

与只支持单一类型的数据模型的其他类型的数据库相比，超现实数据库通过改进的数据建模方法支持结构化和非结构化数据。它支持简单文档、具有嵌入字段的文档以及记录之间的图形连接。此外，它不强制使用特定类型的数据模型，支持 schemaful 或 schemaless 表，允许您灵活地存储您需要的任何内容。

说到数据查询，超现实数据库附带了一组强大的查询功能。如前所述，它提供了一种独特的查询语言，超现实 SQL，这是传统 SQL 的一个类似但经过修改的版本。有了超现实 SQL，文档可以被高效地遍历和查询，同时仍然使用一种所有人都能理解的语言。我们可以编写简单的类似 SQL 的查询。

超现实数据库支持多列索引，随着应用程序的发展，可以很容易地对其进行修改，从而实现一致的高性能读写操作。预先计算的表视图允许对已知查询进行高效的数据聚合。

它还提供了更快的应用程序开发时间，其内置的权限和访问控制。例如，指定权限并确保只有那些拥有适当权限或访问权限的人才被授予这些权限。支持选择和执行所有 CRUD 操作的权限，确保细粒度控制。

超现实数据库支持 SSL/TLS、单点登录、外部第三方认证、基于 JWT 令牌的认证和定制业务认证逻辑。它提供了强大的安全性，以及适合任何应用程序或业务领域的定制身份验证方法的灵活性。

使用超现实数据库，所有连接都是通过 WebSockets 进行的，有助于双向数据交换和传输。根据数据访问权限，无论何时对数据进行更改，都会实时触发基于客户端的文档订阅。

## 超现实数据库 vs. PostgreSQL

PostgreSQL 和超现实数据库在本质上非常相似，但是它们提供了值得研究的独特特性集。虽然 PostgreSQL 和超现实数据库都是免费和开源的关系数据库管理系统，但是 PostgreSQL 可以用于商业和非商业项目。

* * *

### 更多来自 LogRocket 的精彩文章:

* * *

PostgreSQL 也可用于所有主要的操作系统，包括 macOS、Linux、Windows、BSD 和 Solaris，并且已经积极开发了 30 多年。它为我们日常使用的许多应用提供动力。它也更加稳定，并且经过了多年的实战考验，因此具有弹性和高可用性，可支持各种任务关键型工作负载。

尽管 PostgreSQL 存在与表和索引膨胀相关的问题，但它可以与许多其他工具和平台集成。它还支持分布式 ACID 事务(即，在多个碎片中修改多行的事务)、结构化和非结构化数据，以及在线/离线数据同步。

### 超现实数据库的好处和优势

与其他数据库平台不同，超现实数据库将数据库层、查询层、API 和认证层结合到一个平台中。使用超现实数据库，一个非常独特的优势是不需要复杂的数据库和后端设置。

超现实数据库还代表您处理大多数安全规则。它提供了基于表和行的高级、可定制的访问权限，允许不同类型的用户使用细粒度的数据访问模式。

其他优势包括:

*   **结构化和非结构化数据**:如前所述，它是一种多模型类型的数据库，允许开发人员使用多种技术来存储和建模数据，而不必事先选择一种方法。尽管它像其他关系数据库一样使用表，但它具有高级嵌套字段和数组的附加功能和灵活性
*   **避免了 N+1 查询问题**:使用超现实数据库，我们可以在不使用连接的情况下在文档之间建立链接，就像在其他与 SQL 相关的查询客户端中一样，从而消除了常见且可怕的 N+1 查询性能问题
*   **文档** **和** **图形数据库:**超现实数据库自带完整的图形数据库功能，支持更高级的查询和分析。
*   **记录，也称为顶点，** **可以通过边相互连接**:通过对传统的类似 SQL 的查询的简单扩展，我们可以高效地运行针对多个表或文档的查询，而不需要表连接或其他方法

有了超现实数据库，我们也可以轻松地用 JavaScript 和 Wasm 函数扩展我们的数据库。这允许将计算逻辑移至数据层的高级自定义功能。这消除了将数据移动到客户端设备以执行常规计算工作负载的需要。因此，只有必要的数据被传送到上游。

## 结论

有了数据库管理系统，我们可以通过图形用户界面执行数据库所需的所有操作。有了这些图形用户界面，我们可以鸟瞰数据库中的所有数据，以便于分析模式或数据类型，通常也是管理这些数据库的一种简单方法。

超现实数据库减少了现代应用程序的开发时间，因为它有助于简化整个数据库和 API 栈，消除了对大多数服务器端组件的需求。通过这种方式，您可以轻松、快速、廉价地构建安全、高性能的应用程序。凭借其设计，它还可以在所有类型的环境中运行，设计为嵌入或在云中以分布式方式运行。

有了超现实数据库，常见的传统数据库问题，如供应、扩展、分片、复制和正确性都得到了解决。此外，因为它是一个云托管的数据库，当涉及到托管或部署时，它变得很容易，因为超现实数据库可以部署在任何地方，甚至在超现实数据库云本身。一般来说，它可以在云中、内部、嵌入式和边缘计算环境中托管。

对于数据库管理，包括一般管理和用户管理、实施数据安全和控制、性能监控、维护数据完整性、处理并发事务以及在发生意外系统故障等事件时恢复信息，超现实数据库是解决方案。

## 使用 [LogRocket](https://lp.logrocket.com/blg/signup) 消除传统错误报告的干扰

[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/signup)

[LogRocket](https://lp.logrocket.com/blg/signup) 是一个数字体验分析解决方案，它可以保护您免受数百个假阳性错误警报的影响，只针对几个真正重要的项目。LogRocket 会告诉您应用程序中实际影响用户的最具影响力的 bug 和 UX 问题。

然后，使用具有深层技术遥测的会话重放来确切地查看用户看到了什么以及是什么导致了问题，就像你在他们身后看一样。

LogRocket 自动聚合客户端错误、JS 异常、前端性能指标和用户交互。然后 LogRocket 使用机器学习来告诉你哪些问题正在影响大多数用户，并提供你需要修复它的上下文。

关注重要的 bug—[今天就试试 LogRocket】。](https://lp.logrocket.com/blg/signup-issue-free)