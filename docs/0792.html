<html>
<head>
<title>Getting started with Alpine - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Alpine - LogRocket博客入门</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-alpine/#0001-01-01">https://blog.logrocket.com/getting-started-alpine/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按</strong>:这篇文章更新于2022年3月31日，包含了Alpine最新发布的信息。</em></p>
<p>Alpine是一个坚固的、最小的前端开发框架，用于向HTML标记添加JavaScript行为。它使您能够以更低的成本利用流行的前端库和框架的反应性和声明性，如<a href="https://blog.logrocket.com/tag/angular/" target="_blank" rel="noopener"> Angular </a>、<a href="https://blog.logrocket.com/tag/react/" target="_blank" rel="noopener"> React </a>和<a href="https://blog.logrocket.com/tag/vue/" target="_blank" rel="noopener"> Vue </a>。</p>
<p>没有构建步骤，库文件大小约为4KB。Alpine并不是要取代Vue和React等框架；如果你有一个高度互动的单页应用程序，最好坚持使用更强大的工具。当您的项目只需要最少的JavaScript时，最好使用它，比如当您只需要一两个组件，比如下拉菜单、侧栏、标签和图像选择。</p>
<p>Alpine也非常适合服务器端渲染的应用，比如Laravel、<a href="https://blog.logrocket.com/how-to-use-react-ruby-on-rails/" target="_blank" rel="noopener"> Rails </a>和AdonisJS，这些应用需要你切换一些JavaScript组件。由于它没有虚拟DOM，所以更容易设置。</p>
<p>本质上，Alpine就像JavaScript的<a href="https://blog.logrocket.com/whats-new-tailwind-css-v3-0/" target="_blank" rel="noopener"> Tailwind </a>。DOM和behavior没有分开；你可以保留你的DOM，并在你认为合适的时候加入一些行为。您可以轻松地编写声明性代码，而不是过程性代码。最后，Alpine在您的应用程序中占用的空间非常小。</p>
<p>现在，让我们继续安装步骤，用Alpine弄脏我们的手。</p>
<h3>内容</h3>

<h2 id="installation-basic-use">安装和基本使用</h2>
<p>将Alpine添加到项目中很容易。您可以通过CDN从一个<code>script</code>标签中包含它，或者将其作为一个模块导入。</p>
<h3 id="from-script-tag">来自<code>script</code>标签</h3>
<p>使用一个<code>script</code>标签是将Alpine添加到您的项目中最简单直接的方法。您只需要将下面的代码片段添加到HTML文件的<code>&lt;head&gt;</code>部分的末尾:</p>
<pre class="language-html hljs">&lt;script defer src="https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b7a776b72757e71685b2835633563">[email protected]</a>/dist/cdn.min.js"&gt;&lt;/script&gt;
</pre>
<blockquote><p>在CDN中指定版本为<code>@3.x.x</code>会拉最新版本的Alpine v3。但是，在生产中，建议在CDN链接中硬编码最新版本。</p></blockquote>
<h3 id="as-module">作为一个模块</h3>
<p>使用这种方法，您首先需要通过npm安装Alpine:</p>
<pre class="language-shell hljs">npm install alpinejs
</pre>
<p>然后，将Alpine导入到您的包中并初始化它:</p>
<pre class="language-shell hljs">import Alpine from 'alpinejs'

// optional
window.Alpine = Alpine

// initialize Alpine
Alpine.start()
</pre>
<h3 id="basic-component-alpine">阿尔卑斯山的基本成分</h3>
<pre class="language-html hljs">&lt;html&gt;
  &lt;head&gt;
    &lt;script defer src="https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6d7dac6dfd8d3dcc5f68598ce98ce">[email protected]</a>/dist/cdn.min.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div x-data="{ isOpen: true }"&gt;
      &lt;button x-on:click=" isOpen = !isOpen"&gt;Toggle&lt;/button&gt;
      &lt;h1 x-show="isOpen"&gt;Alpinjs&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>使用Alpine的第一步是定义一个州。状态会出现在任何需要的地方，并且与您放入的HTML选择器具有相同的范围。</p>
<p>在上面的代码中，我们通过传入一个对象作为状态值，使用<code>x-data</code>指令定义了一个范围。<code>x-on</code>指令监听事件。对于<code>button</code>元素，我们正在监听点击事件，该事件将<code>isOpen</code>的值更改为<code>true</code>或<code>false</code>。<code>x-show</code>指令根据状态对象的<code>isOpen</code>属性值显示或隐藏DOM中的元素。</p>
<h2 id="alpine-directives">阿尔卑斯山指令</h2>
<p>Alpine框架的核心是指令，它们通过添加和删除DOM元素来改变DOM布局，并改变DOM中元素的行为和外观。Alpine指令以<code>x-</code>开头，后跟指令名。</p>
<p>让我们快速浏览一些指令，看看如何使用它们。</p>
<h3 id="x-data"><code>x-data</code></h3>
<p>用HTML元素中的对象初始化一个新的组件范围。所有子HTML元素都可以访问其父元素中的数据对象:</p>
<pre class="language-html hljs">&lt;div x-data="{ isOpen: false }"&gt;...&lt;/div&gt;
</pre>
<h3 id="x-init"><code>x-init</code></h3>
<p><code>x-init</code>用于在组件初始化时运行一个表达式，并可用于设置组件状态的初始值:</p>
<pre class="language-html hljs">&lt;div x-data="{ title: 'foo' }" x-init="title = 'bar'"&gt;&lt;/div&gt;
</pre>
<p>此外，<code>x-init</code>可用于在组件初始化后通过传递回调函数来运行代码:</p>
<pre class="language-html hljs">&lt;div x-data="{ images: [] }"
  x-init="$nextTick(() =&gt; {
    fetch('https://pixabay.com/api/?key=15819227-ef2d84d1681b9442aaa9755b8&amp;q=yellow+flowers&amp;image_type=photo')
      .then(response =&gt; response.json())
      .then(response =&gt; { images = response.hits })
  })"
&gt;&lt;/div&gt;
</pre>
<h3 id="x-bind"><code>x-bind</code></h3>
<p>Alpine提供了<code>x-bind</code>作为绑定值、布尔和类属性的机制。</p>
<p>值属性绑定:</p>
<pre class="language-html hljs">&lt;img x-bind:src="imgSrc"&gt;
</pre>
<p>这将属性的值设置为表达式的结果。</p>
<p>类属性绑定:</p>
<pre class="language-html hljs">&lt;div x-bind:class="{ 'hidden': isClosed }"&gt;&lt;/div&gt;
</pre>
<p>对于类绑定，传递一个对象表达式。对象键是类名，值是布尔表达式。如果布尔表达式的计算结果为<code>true</code>，类名将被应用于该元素。</p>
<p>布尔属性绑定:</p>
<pre class="language-html hljs">&lt;input type="text" x-bind:hidden="true"&gt;
</pre>
<p>布尔绑定的工作方式与属性绑定相同，但是传递的表达式必须计算为<code>true</code>或<code>false</code>。</p>
<h3 id="x-on"><code>x-on</code></h3>
<p>将事件监听器添加到声明它的元素中。当元素发出该事件(例如，点击或输入事件)时，将执行一个表达式(或函数):</p>
<pre class="language-html hljs">&lt;button x-on:click="foo = 'bar'"&gt;Click me&lt;/button&gt;
</pre>
<h3 id="x-show"><code>x-show</code></h3>
<p><code>x-show</code>根据表达式的计算结果是<code>true</code>还是<code>false</code>来改变元素的CSS显示属性。如果表达式的计算结果为<code>false</code>，则元素的显示属性被设置为<code>none</code>。如果解析为<code>true</code>，则显示属性设置为<code>block</code>:</p>
<pre class="language-html hljs">&lt;div x-show="isOpen"&gt;&lt;/div&gt;
</pre>
<h3 id="x-if"><code>x-if</code></h3>
<p>虽然<code>x-show</code>可以用来切换元素的显示属性，但元素实际上并没有从DOM中移除。<code>x-if</code>指令不隐藏CSS中的元素；它完全从DOM中添加和删除它们。</p>
<p><code>x-if</code>的值是一个布尔表达式，可以计算为<code>true</code>或<code>false</code>。如果表达式的计算结果为<code>false</code>，<code>x-if</code>从DOM中删除它的宿主元素。<code>x-if</code>只在<code>template</code>元素中起作用，并且在<code>template</code>标签中必须有一个元素根:</p>
<pre class="language-html hljs">&lt;template x-if="true"&gt;
  &lt;div&gt;...&lt;/div&gt;
&lt;/template&gt;
</pre>
<h3 id="x-for"><code>x-for</code></h3>
<p>当您想要为集合中的每个项目创建新的DOM节点时,<code>x-for</code>会有所帮助。就像<code>x-if</code>指令一样，<code>x-for</code>指令需要存在于<code>template</code>标签上，而不是常规的DOM元素上:</p>
<pre class="language-html hljs">&lt;template x-for="item in items" :key="item"&gt;
    &lt;div x-text="item"&gt;&lt;/div&gt;
&lt;/template&gt;
</pre>
<h3 id="x-model"><code>x-model</code></h3>
<p><code>x-model</code>为元素增加双向数据绑定能力，同步输入元素的值和组件数据。它足够智能，可以检测文本输入、复选框、单选按钮、文本区域和多项选择的变化，并将它们的值绑定到组件数据:</p>
<pre class="language-html hljs">&lt;input type="search" x-model="search"&gt;
</pre>
<h3 id="x-text"><code>x-text</code></h3>
<p><code>x-bind</code>用于属性绑定，<code>x-text</code>用于设置元素的<code>innerText</code>的值:</p>
<pre class="language-html hljs">&lt;span x-text="title"&gt;&lt;/span&gt;
</pre>
<h3 id="x-html"><code>x-html</code></h3>
<p><code>x-html</code>的工作方式与<code>x-text</code>类似，但是它不是设置<code>innerText</code>，而是设置一个元素的<code>innerHTML</code>的值:</p>
<pre class="language-html hljs">&lt;span x-html="title"&gt;&lt;/span&gt;
</pre>
<p>要了解有关Alpine指令的更多信息，请务必查看<a href="https://alpinejs.dev/directives/data" target="_blank" rel="noopener">文档</a>。</p>
<h2 id="building-image-gallery-alpine">用Alpine建立一个图库</h2>
<p>为了演示如何一起使用这些指令，让我们构建一个简单的图片库:</p>
<pre class="language-html hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;!-- Required meta tags --&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    /&gt;
    &lt;!-- Bootstrap CSS --&gt;
    &lt;link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    /&gt;
    &lt;!-- Custom CSS --&gt;
    &lt;link rel="stylesheet" href="css/custom.css" /&gt;
    &lt;!-- Fonts --&gt;
    &lt;link
      href="https://fonts.googleapis.com/css?family=Lora:400,700|Nunito:400,700"
      rel="stylesheet"
    /&gt;
    &lt;script defer src="https://unpkg.com/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8dece1fde4e3e8e7fecdbea3f5a3f5">[email protected]</a>/dist/cdn.min.js"&gt;&lt;/script&gt;
    &lt;script
      defer
      src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"
    &gt;&lt;/script&gt;
    &lt;link
      href="images/favicon_32.ico"
      rel="shortcut icon"
      type="image/x-icon"
    /&gt;
    &lt;link href="images/favicon_256.ico" rel="apple-touch-icon" /&gt;
  &lt;/head&gt;
  &lt;body
    x-data="images()"
    x-init="fetch('https://pixabay.com/api/?key=15819227-ef2d84d1681b9442aaa9755b8&amp;q=yellow+flowers&amp;image_type=photo')
.then(response =&gt; response.json())
.then(response =&gt; { images = response.hits })"
  &gt;
    &lt;!-- Header section --&gt;
    &lt;header class="navigation"&gt;
      &lt;div class="container navigation-content"&gt;
        &lt;nav class="navbar navbar-expand-lg navbar-light"&gt;
          &lt;a class="navbar-brand" href="index.html"
            &gt;&lt;img
              src="https://godwinekuma.github.io/we-connect/images/logo-white.svg"
              alt="weconnect logo"
              height="50"
              class="navbar-brand-image"
            /&gt;
            PictureGram&lt;/a
          &gt;
          &lt;button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          &gt;
            &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
          &lt;/button&gt;
        &lt;/nav&gt;
      &lt;/div&gt;
    &lt;/header&gt;
    &lt;!-- Header section /--&gt;
    &lt;!-- Hero Section --&gt;
    &lt;div&gt;
      &lt;section class="hero"&gt;
        &lt;div class="container"&gt;
          &lt;div class="d-flex flex-column align-items-center"&gt;
            &lt;h1 class="display-4" style="text-align:center"&gt;
              Search for images.
            &lt;/h1&gt;
            &lt;h2 class="" style="text-align:center"&gt;
              Pixel perfect images can be found here.
            &lt;/h2&gt;
            &lt;div class="input-group"&gt;
              &lt;input
                type="text"
                class="form-control"
                placeholder="search images"
                x-model="q"
                aria-label="Text input with segmented dropdown button"
              /&gt;
              &lt;select class="custom-select" x-model="image_type"&gt;
                &lt;option selected&gt;choose image type&lt;/option&gt;
                &lt;option value="all"&gt;All&lt;/option&gt;
                &lt;option value="photo"&gt;Photo&lt;/option&gt;
                &lt;option value="illustration"&gt;Illustration&lt;/option&gt;
                &lt;option value="vector"&gt;Vector&lt;/option&gt;
              &lt;/select&gt;
              &lt;div class="input-group-append"&gt;
                &lt;button
                  class="btn btn-primary"
                  type="button"
                  x-on:click="getImages()"
                &gt;
                  Search
                &lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/section&gt;
      &lt;section id="photos" class="my-5"&gt;
        &lt;template x-for="image in images" :key="image.id"&gt;
          &lt;img x-bind:src="image.webformatURL" alt="image.tags[0]" /&gt;
        &lt;/template&gt;
      &lt;/section&gt;
    &lt;/div&gt;
    &lt;script&gt;
      function images() {
        return {
          images: [],
          q: "",
          image_type: "",
          getImages: async function() {
            console.log("params", this.q, this.image_type);
            const response = await fetch(
              `https://pixabay.com/api/?key=15819227-ef2d84d1681b9442aaa9755b8&amp;q=${
                this.q
              }&amp;image_type=${this.image_type}`
            );
            const data = await response.json();
            this.images = data.hits;
          }
        };
      }
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;  
</pre>
<p>我们的gallery应用程序从Pixabay获取图像列表并显示它们。应用程序状态由<code>x-data</code>指令使用一个名为<code>images</code>的函数在<code>body</code>标签上设置。该函数返回一个包含<code>image</code>、<code>q</code>、<code>image-type</code>和<code>getImages</code>的对象。</p>
<p>使用<code>x-init</code>指令设置图像的初始值。<code>x-init</code>从Pixabay获取图像列表，并将其设置为<code>images</code>字段的值。<code>q</code>捕获<code>&lt;input&gt;</code>的值，并使用<code>x-model</code>指令进行设置。另一方面，<code>image_type</code>捕获<code>&lt;select&gt;&lt;/select&gt;</code>的值，也使用<code>x-model</code>指令进行设置。</p>
<p>我们在<code>&lt;button&gt;</code>上附加了一个点击事件监听器。点击按钮时，调用状态下的<code>getImages()</code>方法。<code>getImages()</code>方法根据<code>q</code>和<code>image_type</code>的值获取新图像。</p>
<blockquote class="embedly-card" data-card-controls="1" data-card-align="center" data-card-theme="light">

<p>{框大小:边框-框；}正文{ margin:0；填充:0；} h1、h2、h3、h4、h5、h6 { font-family:“Nunito”，无衬线；} h1 { font-size:66px；颜色:# fff边距-底部:26px} H2 { font-size:30px；颜色:rgba(255，255，255，0.8)；字母间距:0；行高:46px边距-底部:54px} p，a，span</p>
</blockquote>
<p>结论</p>
<h2 id="conclusion">在本教程中，我们介绍了如何使用Alpine，并用该框架构建了一个示例图片库组件。虽然它可能不会完全取代其他框架，但它可以与React或Vue结合使用，无需编写太多JavaScript就能快速构建组件原型。要了解Alpine的更多信息，请务必查看该框架的<a href="https://alpinejs.dev/" target="_blank" rel="noopener">网站</a>。</h2>
<p>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</h2><p>更多来自LogRocket的精彩文章:</p><div class="code-block code-block-54">
<hr/>
<h3>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</h3>

<hr/></div>
<p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p><p>Build confidently — <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>