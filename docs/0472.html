<html>
<head>
<title>React Native end-to-end testing with Detox - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>利用Detox - LogRocket博客对本地端到端测试做出反应</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/react-native-end-to-end-testing-detox/#0001-01-01">https://blog.logrocket.com/react-native-end-to-end-testing-detox/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>本文最后更新于2022年1月28日，旨在解决React原生工具的错误和更新。</em></p>
<p>端到端测试是一种在web生态系统中广泛使用的技术，它使用了像<a href="https://github.com/cypress-io/cypress"> Cypress </a>和<a href="https://github.com/GoogleChrome/puppeteer">puppet er</a>这样的框架和库。但是对于移动应用程序，端到端测试并不常见。我有一个理论，大多数移动开发者认为测试移动应用很难，需要大量的设置和配置，因此他们跳过了测试。</p>
<p>在本文中，我们将介绍如何在React原生应用中实现端到端测试框架<a href="https://github.com/wix/Detox"> Detox </a>，编写几个交互测试，最后将Detox集成到您的开发工作流中。为了简洁起见，我们将只关注iOS流程。我们开始吧！</p>
<p>你可以在<a href="https://github.com/EmaSuriano/e2e-react-native-detox"> GitHub库</a>获得该项目的完整代码。</p>
<h3>目录</h3>

<h2 id="what-end-end-testing">什么是端到端测试？</h2>
<p>与单元测试相反，端到端测试旨在尽可能多地覆盖应用程序的功能，模拟实际的用户操作。您的测试覆盖的领域越多，它就越可靠。因此，端到端测试包括应用程序的所有阶段:设置环境、安装应用程序、初始化、执行例程以及预期事件或行为的发生。</p>
<h3 id="RN-cypress-e2e-testing">使用Cypress进行本地端到端测试</h3>
<p><a href="https://blog.logrocket.com/cypress-io-the-selenium-killer/">使用Cypress </a>的端到端测试看起来像浏览器中的下图:</p>
<p><img data-attachment-id="90115" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/1cypress-e2e-testing-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif" data-orig-size="730,397" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cypress-e2e-testing-browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser-300x163.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif" decoding="async" class="aligncenter wp-image-90115 size-full jetpack-lazy-image" src="../Images/96e1ef433bbcf9d7eb8ca3feffbc3ef6.png" alt="Cypress E2e Testing Browser" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90115" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/1cypress-e2e-testing-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif" data-orig-size="730,397" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cypress-e2e-testing-browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser-300x163.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif" decoding="async" loading="lazy" class="aligncenter wp-image-90115 size-full" src="../Images/96e1ef433bbcf9d7eb8ca3feffbc3ef6.png" alt="Cypress E2e Testing Browser" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/1cypress-e2e-testing-browser.gif"/></noscript>
<p>通过选择元素<code>div</code>、<code>button</code>和<code>input</code>，使用本地选择器<code>getElementById</code>、<code>getElementByName</code>和<code>getElementByClassName</code>，然后触发事件<code>click</code>、<code>change</code>和<code>focus</code>，Cypress能够创建一个Chrome实例，运行一个URL，并开始与网页交互。</p>
<p>在测试中的任何时候，开发人员都可以<code>expect</code>发生一些事情或者<code>assert</code>一些具有特定值的事情。如果所有的期望都是<code>true</code>，测试套件的结果将是成功的。</p>
<h2 id="end-end-testing-mobile-applications">移动应用中的端到端测试</h2>
<p>测试移动应用程序的过程实际上与web应用程序非常相似。让我们来看一下这些步骤:</p>
<ol>
<li>在Android或iOS设备上创建模拟器的实例</li>
<li>安装应用程序</li>
<li>初始化应用程序</li>
<li>执行例程</li>
<li>预期事件</li>
</ol>
<p>在一个移动应用程序中，使用Detox进行的端到端测试看起来像下面的视频:</p>

<p> </p>
<h2 id="what-detox-testing-framework">什么是排毒测试框架？</h2>
<p>Detox是由React原生社区的主要贡献者之一<a href="https://www.wix.engineering/"> Wix </a>开发的端到端移动应用框架。Wix还维护着令人惊叹的项目，如<a href="https://github.com/wix/react-native-navigation"> react-native-navigation </a>和<a href="https://github.com/wix/react-native-ui-lib"> react-native-ui-lib </a>。</p>
<p>Detox提供了很好的抽象来选择和触发元素上的动作。一个普通的测试看起来像下面的代码:</p>
<pre>describe('Login flow', () =&gt; {
  it('should login successfully', async () =&gt; {
    await device.launchApp();
    // getting the reference of an element by ID and expecting to be visible
    await expect(element(by.id('email'))).toBeVisible();

    // Getting the reference and typing
    await element(by.id('email')).typeText('<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8ce6e3e4e2cce9f4ede1fce0e9a2efe3e1">[email protected]</a>');
    await element(by.id('password')).typeText('123456');

    // Getting the reference and executing a tap/press
    await element(by.text('Login')).tap();

    await expect(element(by.text('Welcome'))).toBeVisible();
    await expect(element(by.id('email'))).toNotExist();
  });
});
</pre>
<p>如您所见，语法可读性很强，通过使用async/await，您可以编写同步的、易于理解的测试。让我们开始演示吧！</p>
<h2 id="setting-up-project">设置我们的项目</h2>
<p>为了将重点放在测试而不是设置React Native上，我建议使用<code>react-native init</code>引导您的项目，这将创建一个非常简单和干净的React Native项目。</p>
<p>我们将从安装依赖项并创建一个新项目开始:</p>
<pre>~ npm install react-native -g
~ react-native init testReactNativeDetox

               ######                ######
             ###     ####        ####     ###
            ##          ###    ###          ##
            ##             ####             ##
            ##             ####             ##
            ##           ##    ##           ##
            ##         ###      ###         ##
             ##  ########################  ##
          ######    ###            ###    ######
      ###     ##    ##              ##    ##     ###
   ###         ## ###      ####      ### ##         ###
  ##           ####      ########      ####           ##
 ##             ###     ##########     ###             ##
  ##           ####      ########      ####           ##
   ###         ## ###      ####      ### ##         ###
      ###     ##    ##              ##    ##     ###
          ######    ###            ###    ######
             ##  ########################  ##
            ##         ###      ###         ##
            ##           ##    ##           ##
            ##             ####             ##
            ##             ####             ##
            ##          ###    ###          ##
             ###     ####        ####     ###
               ######                ######


                  Welcome to React Native!
                 Learn Once Write Anywhere

✔ Downloading template
✔ Copying template
✔ Processing template
✔ Installing dependencies
✔ Installing CocoaPods dependencies (this may take a few minutes)

  Run instructions for iOS:
    • cd testReactNativeDetox &amp;&amp; react-native run-ios
    - or -
    • Open testReactNativeDetox/ios/testReactNativeDetox.xcworkspace in Xcode or run "xed -b ios"
    • Hit the Run button

  Run instructions for Android:
    • Have an Android emulator running (quickest way to get started), or a device connected.
    • cd testReactNativeDetox &amp;&amp; react-native run-android
</pre>
<p>在这一步之后，您可以通过执行下面的代码来尝试在模拟器中运行应用程序:</p>
<pre>~ cd testReactNativeDetox
~ react-native run-ios
</pre>
<p>您应该会看到如下所示的输出:</p>
<p><img data-attachment-id="90117" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/2emulator-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png" data-orig-size="730,1460" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emulator-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-150x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-512x1024.png" decoding="async" class="aligncenter wp-image-90117 size-full jetpack-lazy-image" src="../Images/419365c40c4cecf426fd15a22abd2c84.png" alt="Emulator Output" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-150x300.png 150w, https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-512x1024.png 512w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90117" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/2emulator-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png" data-orig-size="730,1460" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="emulator-output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-150x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-512x1024.png" decoding="async" loading="lazy" class="aligncenter wp-image-90117 size-full" src="../Images/419365c40c4cecf426fd15a22abd2c84.png" alt="Emulator Output" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-150x300.png 150w, https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output-512x1024.png 512w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/2emulator-output.png"/></noscript>
<h2 id="running-react-native-tests-detox">使用Detox运行React本地测试</h2>
<p>在我们开始使用Detox测试React本地应用程序之前，您需要具备以下条件:</p>
<ul>
<li>安装了Xcode </li>
<li><a href="https://brew.sh/">安装并更新自制软件</a></li>
<li>Node.js已安装。使用命令<code>brew update &amp;&amp; brew install node</code></li>
<li><code>applesimutils</code>已安装。使用<code>brew tap wix/brew;brew install applesimutils;</code></li>
<li><code>detox-cli</code>已安装。使用<code>npm install -g detox-cli</code></li>
</ul>
<p>首先将排毒添加为项目的依赖项:</p>
<pre>~ yarn add detox -D
</pre>
<p>在CLI中，您会发现一个可以自动设置项目的命令。您需要运行以下程序:</p>
<pre>~  detox init -r jest

detox[34202] INFO:  [init.js] Created a file at path: e2e/config.json
detox[34202] INFO:  [init.js] Created a file at path: e2e/init.js
detox[34202] INFO:  [init.js] Created a file at path: e2e/firstTest.spec.js
detox[34202] INFO:  [init.js] Patching package.json at path: /Users/USERNAME/Git/testReactNativeDetox/package.json
detox\[34202] INFO:  [init.js]   json["detox"\]["test-runner"] = "jest";
</pre>
<p>上面的代码将创建一个名为<code>e2e</code>的新文件夹，其中包含一个基本测试和一些初始配置，如<code>init.js</code>，这是告诉Jest启动模拟器的文件。让我们修改初始测试，检查前两个部分是否可见:</p>
<pre>describe('Example', () =&gt; {
  beforeEach(async () =&gt; {
    await device.launchApp();
  });

  it('should have "Step One" section', async () =&gt; {
    await expect(element(by.text('Step One'))).toBeVisible();
  });

  it('should have "See Your Changes" section', async () =&gt; {
    await expect(element(by.text('See Your Changes'))).toBeVisible();
  });
});
</pre>
<p>接下来，您需要在您的<code>package.json</code>或<code>.detoxrc.json</code>文件中添加排毒配置。如果您使用的是<code>package.json</code>，您需要添加一个<code>detox</code>部分，并添加如下所示的所有配置。将以下对象添加到<code>detox</code>键中，每次出现时用您的应用程序的名称替换<code>testReactNativeDetox</code>的名称:</p>
<pre>{
  "detox": {
    "test-runner": "jest",
    "configurations": {
      "ios.release": {
        "binaryPath": "./ios/build/Build/Products/Release-iphonesimulator/testReactNativeDetox.app",
        "build": "xcodebuild -workspace ios/testReactNativeDetox.xcworkspace -configuration release -scheme testReactNativeDetox -sdk iphonesimulator -derivedDataPath ios/build",
        "type": "ios.simulator",
        "name": "iPhone X"
      }
    }
  }
}</pre>
<p>要构建应用程序，请运行以下命令:</p>
<pre>~ detox build
</pre>
<p>如果您的构建失败并显示消息<code>clang:error: linker command failed with exit code 1 (use-v to see invocation)</code>，请参考GitHub问题中的<a href="https://github.com/facebook/react-native/issues/4210#issuecomment-171944483">解决方案，并尝试再次运行该命令。请记住，每当您对应用程序进行更改并想要测试它时，您都需要执行上面的构建过程。</a></p>
<p>如果上面的命令仍然不起作用，请检查您是否替换了<code>package.json</code>中所有出现的项目名称。如果这样做也失败了，尝试打开Xcode并自己构建调试版本。</p>
<p>最后，我们将运行测试:</p>
<pre>~ detox test

 PASS  e2e/firstTest.spec.js (7.514s)
  Example
    ✓ should have "Step One" section (260ms)
    ✓ should have "See Your Changes" section (278ms)
</pre>
<p>您应该会收到如下所示的输出:</p>
<p><img data-attachment-id="90119" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/3run-detox-test/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif" data-orig-size="730,668" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="run-detox-test" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test-300x275.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif" decoding="async" class="aligncenter wp-image-90119 size-full jetpack-lazy-image" src="../Images/26b6293e19c3b4fb95416606f291dfe2.png" alt="Run Detox Test" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90119" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/3run-detox-test/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif" data-orig-size="730,668" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="run-detox-test" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test-300x275.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif" decoding="async" loading="lazy" class="aligncenter wp-image-90119 size-full" src="../Images/26b6293e19c3b4fb95416606f291dfe2.png" alt="Run Detox Test" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/3run-detox-test.gif"/></noscript>
<h2 id="improving-our-ui-with-an-image-carousel">用图像轮播改善我们的用户界面</h2>
<p>为了改进我们的UI，让我们添加一个彩色的图像转盘。为了节省时间，我决定使用社区构建的现有carousel组件。对于这个演示，我使用了<a href="https://github.com/oliviertassinari/react-swipeable-views">react-swipe able-views-native</a>。<br/>为了生成随机的颜色，我使用了<a href="https://github.com/davidmerfield/randomColor"> randomColor </a>。</p>
<p>将两个库作为项目的依赖项安装:</p>
<pre>~ yarn add react-swipeable-views-native randomcolor
</pre>
<p>然后，我们将对我们的<code>App.js</code>文件做一些修改:</p>
<pre>import React, {Fragment} from 'react';
import {
  SafeAreaView,
  StyleSheet,
  ScrollView,
  View,
  Text,
  TextInput,
  Button,
  StatusBar,
} from 'react-native';
import {
  Header,
  LearnMoreLinks,
  Colors,
  DebugInstructions,
  ReloadInstructions,
} from 'react-native/Libraries/NewAppScreen';
import randomColor from 'randomcolor';
import SwipeableViews from 'react-swipeable-views-native';
const Slide = ({children}) =&gt; (
  &lt;View
    style={[
      styles.slide,
      {backgroundColor: randomColor({luminosity: 'light'})},
    ]}&gt;
    {children}
  &lt;/View&gt;
);
const App = () =&gt; {
  return (
    &lt;Fragment&gt;
      &lt;StatusBar barStyle="dark-content" /&gt;
      &lt;SafeAreaView&gt;
        &lt;ScrollView
          contentInsetAdjustmentBehavior="automatic"
          style={styles.scrollView}&gt;
          &lt;Header /&gt;
          {global.HermesInternal == null ? null : (
            &lt;View style={styles.engine}&gt;
              &lt;Text style={styles.footer}&gt;Engine: Hermes&lt;/Text&gt;
            &lt;/View&gt;
          )}
          &lt;View style={styles.body}&gt;
            &lt;SwipeableViews testID="slides"&gt;
              &lt;Slide&gt;
                &lt;Text style={styles.sectionTitle}&gt;Step One&lt;/Text&gt;
                &lt;Text style={styles.sectionDescription}&gt;
                  Edit &lt;Text style={styles.highlight}&gt;App.js&lt;/Text&gt; to change
                  this screen and then come back to see your edits.
                &lt;/Text&gt;
              &lt;/Slide&gt;
              &lt;Slide&gt;
                &lt;Text style={styles.sectionTitle}&gt;See Your Changes&lt;/Text&gt;
                &lt;Text style={styles.sectionDescription}&gt;
                  &lt;ReloadInstructions /&gt;
                &lt;/Text&gt;
              &lt;/Slide&gt;
              &lt;Slide&gt;
                &lt;Text style={styles.sectionTitle}&gt;Debug&lt;/Text&gt;
                &lt;Text style={styles.sectionDescription}&gt;
                  &lt;DebugInstructions /&gt;
                &lt;/Text&gt;
                &lt;Button onPress={() =&gt; alert('Clicked!')} title="Click here!" /&gt;
              &lt;/Slide&gt;
              &lt;Slide&gt;
                &lt;Text style={styles.sectionTitle}&gt;Learn More&lt;/Text&gt;
                &lt;TextInput
                  testID="docsInput"
                  multiline
                  style={styles.sectionDescription}&gt;
                  Read the docs to discover what to do next:
                &lt;/TextInput&gt;
              &lt;/Slide&gt;
            &lt;/SwipeableViews&gt;
            &lt;LearnMoreLinks /&gt;
          &lt;/View&gt;
        &lt;/ScrollView&gt;
      &lt;/SafeAreaView&gt;
    &lt;/Fragment&gt;
  );
};
const styles = StyleSheet.create({
  scrollView: {
    backgroundColor: Colors.lighter,
  },
  engine: {
    position: 'absolute',
    right: 0,
  },
  body: {
    backgroundColor: Colors.white,
  },
  sectionTitle: {
    fontSize: 24,
    fontWeight: '600',
    color: Colors.black,
  },
  sectionDescription: {
    marginTop: 8,
    fontSize: 18,
    fontWeight: '400',
    color: Colors.dark,
  },
  highlight: {
    fontWeight: '700',
  },
  footer: {
    color: Colors.dark,
    fontSize: 12,
    fontWeight: '600',
    padding: 4,
    paddingRight: 12,
    textAlign: 'right',
  },
  slide: {
    padding: 24,
    height: 200,
    display: 'flex',
    justifyContent: 'center',
  },
});
export default App;
</pre>
<p>为了支持滑动行为，我们将所有的部分包装在<code>SwipeableViews</code>中。然后，我们将每个部分包装在一个名为<code>Slide</code>的自定义<code>View</code>中，它实现了类似<code>padding</code>和<code>backgroundColor</code>的属性。最后，我们在最后两张幻灯片中添加了一个<code>Button</code>和一个<code>TextInput</code>组件。</p>
<p>结果如下:</p>
<p><img data-attachment-id="90121" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/4enable-swiping/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif" data-orig-size="472,957" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="enable-swiping" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping-148x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif" decoding="async" class="aligncenter wp-image-90121 size-full jetpack-lazy-image" src="../Images/26e308d0facb30fe33976e4aaedbf7b6.png" alt="Enable Swiping" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90121" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/4enable-swiping/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif" data-orig-size="472,957" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="enable-swiping" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping-148x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif" decoding="async" loading="lazy" class="aligncenter wp-image-90121 size-full" src="../Images/26e308d0facb30fe33976e4aaedbf7b6.png" alt="Enable Swiping" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/4enable-swiping.gif"/></noscript>
<h2 id="writing-detox-tests">写排毒测试</h2>
<p>为了更简单，让我们在<code>package.json</code>中添加两个新的<code>scripts</code>:</p>
<pre>{
  "scripts": {
    "e2e:test": "detox test -c ios.release",
    "e2e:build": "detox build -c ios.release"
  }
}
</pre>
<p>既然应用程序已经更改，您需要创建一个新的构建，以便使用修改后的版本运行测试。执行以下命令:</p>
<pre>~ yarn e2e:build
</pre>
<p>这个过程可能需要一些时间。同时，让我们快速浏览一下现有的测试:</p>
<pre>describe('Example', () =&gt; {
  beforeEach(async () =&gt; {
    await device.launchApp();
  });

  it('should show "Step One"', async () =&gt; {
    await expect(element(by.text('Step One'))).toBeVisible();
  });

  it('should show "See Your Changes"', async () =&gt; {
    await expect(element(by.text('See Your Changes'))).toBeVisible(); // THIS TEST WILL FAIL!
  });
});
</pre>
<p><code>See Your Changes</code>部分现在位于转盘的第二张幻灯片中，用户只有在滑动时才能看到。所以第二次测试肯定会失败。让我们把排毒移到那张幻灯片上:</p>
<pre>describe('Example', () =&gt; {
  // previous tests here

  it('should render "See Your Changes" in the second slide', async () =&gt; {
    // getting the reference of the slides and make a swipe
    await element(by.id('slides')).swipe('left');
    await expect(element(by.text('See Your Changes'))).toBeVisible(); // no this will pass!
    await element(by.id('slides')).swipe('right');
  });
});
</pre>
<p>我们可以使用<code>by.id()</code>,因为我们在<code>App</code>组件中使用了<code>testID</code>道具。此时，您可以使用以下命令执行端到端测试，它们应该会通过:</p>
<pre>~ yarn e2e:test

 PASS  e2e/firstTest.spec.js (7.514s)
  Example
    ✓ should have "Step One" section (260ms)
    ✓ should render "See Your Changes" in the second slide (993ms)
</pre>
<p><img data-attachment-id="90132" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/second-test-fail-detox/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif" data-orig-size="730,666" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="second-test-fail-detox" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox-300x274.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif" decoding="async" class="aligncenter wp-image-90132 size-full jetpack-lazy-image" src="../Images/221a04c4c20dfdb6851a6476e16745dc.png" alt="Second Test Fail Detox" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90132" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/second-test-fail-detox/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif" data-orig-size="730,666" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="second-test-fail-detox" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox-300x274.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif" decoding="async" loading="lazy" class="aligncenter wp-image-90132 size-full" src="../Images/221a04c4c20dfdb6851a6476e16745dc.png" alt="Second Test Fail Detox" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/second-test-fail-detox.gif"/></noscript>
<p>让我们再添加几个测试来涵盖以下场景:</p>
<ul>
<li>测试转盘是否允许用户在幻灯片中来回移动</li>
<li>移动第三张幻灯片并与<code>Button</code>互动</li>
<li>移动最后一张幻灯片并与<code>TextInput</code>互动</li>
</ul>
<pre>describe('Example', () =&gt; {
  // previous tests here

  it('should enable swiping back and forth', async () =&gt; {
    await expect(element(by.text('Step One'))).toBeVisible();
    await element(by.id('slides')).swipe('left');
    await element(by.id('slides')).swipe('right');
    await expect(element(by.text('Step One'))).toBeVisible();
  });

  it('should render "Debug" and have a Button to click in the third slide', async () =&gt; {
    await element(by.id('slides')).swipe('left');
    await element(by.id('slides')).swipe('left');
    await expect(element(by.text('Debug'))).toBeVisible();

    await element(by.text('Click here!')).tap();
    await expect(element(by.text('Clicked!'))).toBeVisible();
    await element(by.text('OK')).tap();
  });

  it('should render "Learn More" and change text in the fourth slide', async () =&gt; {
    await element(by.id('slides')).swipe('left');
    await element(by.id('slides')).swipe('left');
    await element(by.id('slides')).swipe('left');
    await expect(element(by.text('Learn More'))).toBeVisible();

    const docsInput = element(by.id('docsInput'));

    await expect(docsInput).toBeVisible();

    await docsInput.clearText();
    await docsInput.typeText('Maybe later!');

    await expect(docsInput).toHaveText('Maybe later!');
  });
});
</pre>
<p>让我们再次运行测试:</p>
<pre>~ yarn e2e:test

 PASS  e2e/firstTest.spec.js (22.128s)
  Example
    ✓ should have "Step One" section (268ms)
    ✓ should render "See Your Changes" in the second slide (982ms)
    ✓ should enable swiping back and forth (1861ms)
    ✓ should render "Debug" and have a Button to click in the third slide (2710ms)
    ✓ should render "Learn More" and change text in the fourth slide (9964ms)
</pre>
<p>您的应用程序现在应该如下所示:</p>
<p><img data-attachment-id="90130" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/full-e2e-test-detox/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif" data-orig-size="730,661" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="full-e2e-test-detox" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox-300x272.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif" decoding="async" class="aligncenter wp-image-90130 size-full jetpack-lazy-image" src="../Images/edfb0f7424240b871a4ba57da18899c1.png" alt="Full e2e Test Detox" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90130" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/full-e2e-test-detox/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif" data-orig-size="730,661" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="full-e2e-test-detox" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox-300x272.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif" decoding="async" loading="lazy" class="aligncenter wp-image-90130 size-full" src="../Images/edfb0f7424240b871a4ba57da18899c1.png" alt="Full e2e Test Detox" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/full-e2e-test-detox.gif"/></noscript>
<h2 id="running-e2e-test-in-ci">在CI中运行E2E测试</h2>
<p>在CI内部运行测试是很重要的，基本上消除了手工测试的需要，并防止将bug发布到产品中。对于这个例子，我决定使用<a href="https://travis-ci.org/"> TravisCI </a>，因为它与GitHub 有着<a href="https://blog.logrocket.com/continuous-integration-and-deployment-with-travis-ci/">般惊人的集成，并且还为开源项目提供了无限的计划。</a></p>
<p>如果您使用GitHub，您可以安装<a href="https://github.com/marketplace/travis-ci"> Travis应用程序</a>，创建一个新的计划，并允许它访问您的存储库。之后，您需要在您的项目中创建一个名为<code>.travis.yml</code>的新文件，它定义了您想要在CI中运行的步骤。</p>
<p>我稍微调整了一下<a href="https://github.com/wix/Detox/blob/master/docs/Guide.RunningOnCI.md#-running-detox-on-travis-ci">官方排毒文档</a>中的CI配置。下面是在我的情况下工作的配置:</p>
<pre>language: objective-c
osx_image: xcode10.2

branches:
  only:
    - master

env:
  global:
    - NODE_VERSION=stable

install:
  - brew tap wix/brew
  - brew install applesimutils
  - curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash
  - export NVM_DIR="$HOME/.nvm" &amp;&amp; [ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; . "$NVM_DIR/nvm.sh"
  - nvm install $NODE_VERSION
  - nvm use $NODE_VERSION
  - nvm alias default $NODE_VERSION

  - npm install -g react-native-cli
  - npm install -g detox-cli
  - npm install
  - cd ios; pod install; cd -;

script:
  - npm run e2e:ci
</pre>
<p>最后，将命令<code>e2e:ci</code>添加到您的<code>package.json</code>中。<code>detox build</code>命令将构建应用程序，<code>detox test</code>将运行测试，<code>--cleanup</code>标志将关闭仿真器以完成执行:</p>
<pre>{
  "scripts": {
    "e2e:test": "detox test -c ios.release",
    "e2e:build": "detox build -c ios.release",
    "e2e:ci": "npm run e2e:build &amp;&amp; npm run e2e:test -- --cleanup"
  }
}
</pre>
<p>一旦您将所有的更改都推送到您的<code>master</code>分支，尝试打开一个新的拉请求。您应该会看到添加了一个新的pull request checker，我们称之为Travis，它运行排毒测试:</p>
<p><img data-attachment-id="90127" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/travis-run-detox-tests/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png" data-orig-size="730,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests-300x222.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png" decoding="async" class="aligncenter wp-image-90127 size-full jetpack-lazy-image" src="../Images/d2050b6dfc23e8ff7b03dc207a1d97fb.png" alt="Travis Run Detox Tests" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests-300x222.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="90127" data-permalink="https://blog.logrocket.com/react-native-end-to-end-testing-detox/travis-run-detox-tests/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png" data-orig-size="730,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests-300x222.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png" decoding="async" loading="lazy" class="aligncenter wp-image-90127 size-full" src="../Images/d2050b6dfc23e8ff7b03dc207a1d97fb.png" alt="Travis Run Detox Tests" srcset="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png 730w, https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests-300x222.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/travis-run-detox-tests.png"/></noscript>
<p>您可以在Travis 中访问该拉取请求的<a href="https://travis-ci.org/github/EmaSuriano/e2e-react-native-detox/builds/585643904">完整日志。</a></p>
<h2 id="conclusion">结论</h2>
<p>我强烈建议您尝试使用Detox来测试您的React本地应用程序。排毒是一个了不起的端到端的移动测试解决方案。使用了一段时间后，我认为它有以下优点和缺点:</p>
<ul>
<li>用于匹配器和触发特定动作的非常好的抽象语法</li>
<li>与Jest的完美融合</li>
<li>在CI中运行测试的能力</li>
</ul>
<p>有时，您可能会遇到配置错误，找到合适的解决方案可能需要一些时间。解决这个问题的最好方法是去深入研究一下GitHub的问题。我希望你喜欢这篇文章，快乐编码！</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:即时重现React原生应用中的问题。</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>是一款React原生监控解决方案，可帮助您即时重现问题、确定bug的优先级并了解React原生应用的性能。</p><p>LogRocket还可以向你展示用户是如何与你的应用程序互动的，从而帮助你提高转化率和产品使用率。LogRocket的产品分析功能揭示了用户不完成特定流程或不采用新功能的原因。</p><p>开始主动监控您的React原生应用— <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">免费试用LogRocket】。</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>