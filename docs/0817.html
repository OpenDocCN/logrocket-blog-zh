<html>
<head>
<title>Getting started with react-redux-firebase - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>react-redux-firebase - LogRocket博客入门</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/getting-started-react-redux-firebase/#0001-01-01">https://blog.logrocket.com/getting-started-react-redux-firebase/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>本文于2021年11月20日更新，以包含Redux Toolkit的信息。</em></p>
<p>Firebase是一个流行的BaaS(后端即服务)，它允许web和移动开发者实现常见的后端任务，如用户认证、存储和创建数据库。</p>
<p>另一方面，Redux 是JavaScript应用程序的可预测状态容器，用于更有效地管理应用程序状态。<a href="https://blog.logrocket.com/when-and-when-not-to-use-redux-41807f29a7fb/" target="_blank" rel="noopener">它通常与React </a>一起使用，React是一个基于组件的UI库。</p>
<h2>什么是react-redux-firebase？</h2>
<p><a href="http://react-redux-firebase.com/" target="_blank" rel="noopener"> react-redux-firebase </a>是一个为firebase提供redux绑定的库，从而更容易地将Firebase与Redux和react一起使用。它还附带了一些钩子，使得实现一些Firebase功能变得更加容易。</p>
<p>在本文中，我们将学习如何使用react-redux-firebase通过firebase的云Firestore构建一个简单的待办事项应用程序，并且我们将在此过程中添加用户身份验证。</p>
<p><strong>注意:</strong> Redux现在推荐新项目使用Redux Toolkit。为了您的方便，我们将在必要时添加RTK替代方案。</p>

<div class="podcast-container">
<div class="podcast-embed">
<h2>我们不只是写Redux，我们也谈论它。现在听着:</h2>
<p>或者以后订阅</p>
<h3>先决条件</h3>

</div>
</div>
<h2>在阅读本文之前，您需要事先了解一些事情:</h2>
<p>你必须懂得反应，最好是中级水平</p>
<ul>
<li>你必须对react-redux或<span> redux-toolkit </span>有所了解</li>
<li>Firebase的基本知识(Firestore和身份验证)</li>
<li>React路由器的基本知识</li>
<li>在React中设置</li>
</ul>
<h2>首先，创建一个新的React项目:</h2>
<p>现在，安装以下依赖项:</p>
<pre>npx create-react-app overcomplicated-todo-app</pre>
<p>Redux</p>
<ul>
<li>反应还原</li>
<li>重火力点</li>
<li>反应-还原-燃烧基</li>
<li>redux-firestore</li>
<li>反应-路由器-dom</li>
<li><span> redux-toolkit </span></li>
<li>在您的终端中运行以下命令来安装这些依赖项:</li>
</ul>
<p>安装完依赖项后，我们需要设置Firebase。</p>
<pre class="language-javascript hljs">npm install --save react-redux-firebase firebase
npm install --save redux react-redux
npm install --save <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4a382f2e3f32672c23382f393e25382f0a262b3e2f393e">[email protected]</a>
npm install react-router-dom</pre>
<p>设置Firebase</p>
<h2>进入<a href="https://firebase.google.com/"> Firebase网站</a>，点击<strong>开始</strong>。您将被带到一个页面，在那里您可以创建一个新项目。完成后，您应该会看到一个类似下图的仪表板页面。</h2>
<p><img data-attachment-id="80622" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/firebase-get-started-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg" data-orig-size="730,321" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-get-started-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page-300x132.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg" decoding="async" class="aligncenter wp-image-80622 size-full jetpack-lazy-image" src="../Images/99c4a15f4b4d8b2f82aa43e0a38486df.png" alt="The Firebase Get Started Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page-300x132.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg"/></p>
<p>我们将在这个项目中使用两个Firebase服务:身份验证服务和云Firestore服务。我们先来设置一下云Firestore。</p><noscript><img data-lazy-fallback="1" data-attachment-id="80622" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/firebase-get-started-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg" data-orig-size="730,321" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firebase-get-started-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page-300x132.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-80622 size-full" src="../Images/99c4a15f4b4d8b2f82aa43e0a38486df.png" alt="The Firebase Get Started Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page-300x132.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/firebase-get-started-page.jpeg"/></noscript>
<p>从侧面菜单中选择<strong>数据库</strong>选项。您应该能够选择Firebase提供的两种数据库服务之一:云Firestore或实时数据库。在本文中，我们将使用云Firestore。</p>
<p><img data-attachment-id="80624" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/cloud-firestore-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg" data-orig-size="730,260" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="cloud-firestore-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page-300x107.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg" decoding="async" class="aligncenter wp-image-80624 size-full jetpack-lazy-image" src="../Images/85f2fe544aa9225caaee5061a53cd6aa.png" alt="Cloud Firestore Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page-300x107.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg"/></p>
<p>现在创建一个云Firestore数据库。您应该会看到一个设置数据库安全规则的模型。选择<strong>开始测试模式</strong>。您应该准备好一个空数据库供使用。它应该是这样的:</p><noscript><img data-lazy-fallback="1" data-attachment-id="80624" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/cloud-firestore-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg" data-orig-size="730,260" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="cloud-firestore-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page-300x107.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-80624 size-full" src="../Images/85f2fe544aa9225caaee5061a53cd6aa.png" alt="Cloud Firestore Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page-300x107.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/cloud-firestore-page.jpeg"/></noscript>
<p><img data-attachment-id="15100" data-permalink="https://blog.logrocket.com/user-authentication-firebase-react-apps/empty-database-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg" data-orig-size="728,421" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="getting-started-react-redux-firebase-empty-database-pageux-" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page-300x173.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg" decoding="async" class="aligncenter wp-image-15100 size-full jetpack-lazy-image" src="../Images/b7351329f83a1dfefac4e041116dffc3.png" alt="Empty Database Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg 728w, https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page-300x173.jpeg 300w" data-lazy-sizes="(max-width: 728px) 100vw, 728px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg"/></p>
<p>现在我们已经准备好了数据库，让我们设置身份验证。从侧面菜单中，选择<strong>认证</strong>选项。现在，选择<strong>登录方式</strong>选项卡。你应该有这样的东西:</p><noscript><img data-lazy-fallback="1" data-attachment-id="15100" data-permalink="https://blog.logrocket.com/user-authentication-firebase-react-apps/empty-database-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg" data-orig-size="728,421" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="getting-started-react-redux-firebase-empty-database-pageux-" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page-300x173.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-15100 size-full" src="../Images/b7351329f83a1dfefac4e041116dffc3.png" alt="Empty Database Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg 728w, https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page-300x173.jpeg 300w" sizes="(max-width: 728px) 100vw, 728px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/empty-database-page.jpeg"/></noscript>
<p><img data-attachment-id="80632" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/sign-in-method-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="react-redux-firebase-sign-in-method-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page-300x165.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg" decoding="async" class="aligncenter wp-image-80632 size-full jetpack-lazy-image" src="../Images/eaae8a4c964c018f880daf7c8f882476.png" alt="Sign-in Method Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page-300x165.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg"/></p>
<p>在这里，你可以为不同的提供商设置认证，包括谷歌、脸书和GitHub。在我们的应用程序中，我们希望启用谷歌认证和电子邮件/密码认证。让我们先设置Google身份验证，然后单击Google选项。</p><noscript><img data-lazy-fallback="1" data-attachment-id="80632" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/sign-in-method-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg" data-orig-size="730,402" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="react-redux-firebase-sign-in-method-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page-300x165.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-80632 size-full" src="../Images/eaae8a4c964c018f880daf7c8f882476.png" alt="Sign-in Method Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page-300x165.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/sign-in-method-page.jpeg"/></noscript>
<p><img data-attachment-id="80634" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/google-authentication-setup-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg" data-orig-size="730,379" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="react-redux-firebase-google-authentication-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup-300x156.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg" decoding="async" class="aligncenter wp-image-80634 size-full jetpack-lazy-image" src="../Images/45d730a79431680dd8f3832c3d7be682.png" alt="Google Authentication Setup Page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup-300x156.jpeg 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg"/></p>
<p>您现在可以通过切换右上角的按钮来启用Google身份验证。您还需要提供一个项目支持电子邮件。</p><noscript><img data-lazy-fallback="1" data-attachment-id="80634" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/google-authentication-setup-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg" data-orig-size="730,379" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="react-redux-firebase-google-authentication-setup" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup-300x156.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-80634 size-full" src="../Images/45d730a79431680dd8f3832c3d7be682.png" alt="Google Authentication Setup Page" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg 730w, https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup-300x156.jpeg 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/google-authentication-setup.jpeg"/></noscript>
<p>既然已经设置了云Firestore和身份验证，我们需要获取项目的配置细节。我们需要这个来把我们的代码和我们的Firebase项目联系起来。</p>
<p>要获取我们的Firebase配置详细信息，请返回到项目概述页面，并向Firebase项目添加一个web应用程序。注册应用程序后，您应该可以获得JavaScript对象形式的配置详细信息:</p>
<p>现在打开您的<code>index.js</code>文件，并在那里初始化您的Firebase项目。我们还需要初始化Firestore:</p>
<pre class="language-javascript hljs">const firebaseConfig = {
  apiKey: 'AIzaXXXXXXXXXXXXXXXXXXXXXXX',
  authDomain: 'test-XXXX.firebaseapp.com',
  databaseURL: 'https://test-XXXXXX.firebaseio.com',
  projectId: 'test-XXXX',
  storageBucket: 'test-XXXX.appspot.com',
  messagingSenderId: 'XXXXXXX',
  appId: "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
};</pre>
<p>请注意，如果您正在创建一个依赖于Firebase的产品，将Firebase配置细节存储为环境变量通常更安全。</p>
<pre>import firebase from "firebase/app";
import "firebase/auth";
import "firebase/firestore";

const firebaseConfig = {
  ...firebaseConfigurationDetails
};

firebase.initializeApp(firebaseConfig);
firebase.firestore();</pre>
<p>进入代码</p>
<h2>现在是编码的时候了。这是项目结构:</h2>
<p><img data-attachment-id="80637" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/project-structure-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg" data-orig-size="216,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-redux-firebase-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1-184x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg" decoding="async" class="aligncenter wp-image-80637 size-full jetpack-lazy-image" src="../Images/a9e8ff52dd6ec17ed79ca2cd32c950f3.png" alt="Our Project Structure" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg 216w, https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1-184x300.jpeg 184w" data-lazy-sizes="(max-width: 216px) 100vw, 216px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg"/></p>
<p>你可以选择你喜欢的任何方式来构建你的项目，但这是对我有用的。</p><noscript><img data-lazy-fallback="1" data-attachment-id="80637" data-permalink="https://blog.logrocket.com/getting-started-react-redux-firebase/project-structure-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg" data-orig-size="216,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-redux-firebase-project-structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1-184x300.jpeg" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg" decoding="async" loading="lazy" class="aligncenter wp-image-80637 size-full" src="../Images/a9e8ff52dd6ec17ed79ca2cd32c950f3.png" alt="Our Project Structure" srcset="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg 216w, https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1-184x300.jpeg 184w" sizes="(max-width: 216px) 100vw, 216px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/04/project-structure-1.jpeg"/></noscript>
<p>如您所见，我们有一个名为<code>reducers.js</code>的减速器文件。在这里，我们将把我们的reducer合并成一个，并将其导出为Redux存储的根reducer。</p>
<p>为了让我们的项目工作，除了我们自己创建的那些之外，我们还需要两个reducers(在本例中，一个也没有)。这些是来自react-redux-firebase的<code>firebaseReducer</code>和来自redux-firestore的<code>firestoreReducer</code>。如果你使用和我一样的项目结构，你的<code>reducers.js</code>应该是这样的:</p>
<p>使用Redux工具包</p>
<pre class="language-javascript hljs">import {combineReducers} from "redux";
import {firebaseReducer} from "react-redux-firebase";
import {firestoreReducer} from "redux-firestore";
export const rootReducer = combineReducers({
    firebase: firebaseReducer,
    firestore: firestoreReducer
});</pre>
<h3>对于使用Redux Toolkit的项目，我们将在<code>src/</code>目录中创建一个<code>store.js</code>文件，如下所示:</h3>
<p>在项目中使用react-redux-firebase</p>
<pre class="language-javascript hljs">import { configureStore } from '@reduxjs/toolkit'
import {actionTypes, firebaseReducer} from "react-redux-firebase";
import {firestoreReducer} from "redux-firestore";

export const store = configureStore({
  reducer: {
    firebaseReducer,
    firestoreReducer,
  },
  middleware: (getDefaultMiddleware) =&gt; getDefaultMiddleware({
    serializableCheck: {
        ignoredActions: [actionTypes.LOGIN, actionTypes.AUTH_LINK_ERROR]
    }
  }),
})</pre>
<h2>现在，打开<code>index.js</code>文件，这样我们就可以完全设置react-redux-firebase。首先，让我们写出react-redux-firebase (RRF)的配置。为此，我们将创建一个名为<code>rrfConfig</code>的对象。RRF将认证用户的数据存储在云Firestore或Firebase的实时数据库中，无论你选择使用哪个。</h2>
<p>在<code>rrfConfig</code>中，我们可以决定存储这些数据的集合或对象的名称。姑且称我们的集合为<code>users</code>。</p>
<p>此外，因为我们希望使用Cloud Firestore来存储用户的数据，所以我们必须将<code>useFirestoreForProfile</code>属性设置为<code>true</code>。我们的<code>rrfConfig</code>现在应该是这样的:</p>
<p>像使用Redux的应用程序一样，我们必须创建一个Redux商店来保存我们的应用程序状态。该存储将根缩减器和初始状态作为参数。现在，我们必须分别从contact-redux、contact-redux-fire base和contact-router-DOM中导入<code>Provider</code>组件、<code>ReactReduxFirebaseProvider</code>组件和<code>BrowserRouter</code>组件。</p>
<pre class="language-javascript hljs">const rrfConfig = {
  userProfile: "users",
  useFirestoreForProfile: true,
};</pre>
<p>这些组件将包装<code>App</code>组件。我们现在必须定义<code>ReactReduxFirebaseProvider</code>的道具，我们将把它写成一个对象，稍后适当地展开。我们的<code>index.js</code>文件现在应该是这样的:</p>
<p>现在我们已经设置了RRF，我想列出各种组件和路线，并定义它们的功能。</p>
<pre class="language-javascript hljs">import React from "react";
import ReactDOM from "react-dom";
import firebase from "firebase/app";
import "firebase/auth";
import "firebase/firestore";
import { createStore } from "redux";
import { Provider } from "react-redux";
import { ReactReduxFirebaseProvider } from "react-redux-firebase";
import { createFirestoreInstance } from "redux-firestore";
import { rootReducer } from "./ducks/reducers";
import App from "./App";
import { BrowserRouter } from "react-router-dom";

const firebaseConfig = {
  ...firebaseConfigurationDetails
};

const rrfConfig = {
  userProfile: "users",
  useFirestoreForProfile: true,
};

firebase.initializeApp(firebaseConfig);
firebase.firestore();

const initialState = {};
const store = createStore(rootReducer, initialState);

const rrfProps = {
  firebase,
  config: rrfConfig,
  dispatch: store.dispatch,
  createFirestoreInstance, //since we are using Firestore
};

ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;Provider store={store}&gt;
      &lt;ReactReduxFirebaseProvider {...rrfProps}&gt;
        &lt;BrowserRouter&gt;
          &lt;App /&gt;
        &lt;/BrowserRouter&gt;
      &lt;/ReactReduxFirebaseProvider&gt;
    &lt;/Provider&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById("root")
);</pre>
<p><code>AddTodo</code>组件允许用户添加新的待办事项</p>
<ul>
<li><code>PrivateRoute</code>组件防止其子组件被未经认证的用户访问</li>
<li><code>TodoItem</code>组件定义了每个待办事项的外观和功能</li>
<li><code>SignIn</code>路线允许用户登录谷歌</li>
<li><code>Todos</code>路线为认证用户显示待办事项列表</li>
<li>构建我们的组件和路线</li>
</ul>
<h2><code>SignIn</code>路线</h2>
<h3>正如我们上面讨论的，这是用户使用Google登录的地方。我们将使用<code>useFirebase</code>钩子，RRF提供了一个<code>firebase</code>对象。这样，我们就可以实现一些基本的Firebase功能，比如推送到一个数据库并使用不同的身份验证提供者登录。</h3>
<p>我们将使用这个对象的login方法来实现Google登录功能。此方法将接受一个对象作为参数，在该对象中将定义登录的提供者和方法。</p>
<p>在用户登录后，我们将使用react-router中的<code>useHistory</code>钩子以编程方式导航到<code>todos</code>路线。您的<code>SignIn</code>组件应该与此非常相似:</p>
<p><code>PrivateRoute</code>组件</p>
<pre class="language-javascript hljs">import React from "react";
import { useFirebase } from "react-redux-firebase";
import { useHistory } from "react-router-dom";
const SignIn = () =&gt; {
  const firebase = useFirebase();
  const history = useHistory();

  const signInWithGoogle = () =&gt; {
    firebase
      .login({
        provider: "google",
        type: "popup",
      })
      .then(() =&gt; {
        history.push("/todos");
      });
  };
  return (
    &lt;div&gt;
      &lt;h1&gt;Sign In&lt;/h1&gt;
      &lt;button
        onClick={(event) =&gt; {
          event.preventDefault();
          signInWithGoogle();
        }}
      &gt;
        Sign In with Google
      &lt;/button&gt;
    &lt;/div&gt;
  );
};
export default SignIn;</pre>
<h3>只有当用户通过身份验证时，该路由才会呈现其组件，因此我们需要一种方法来确定用户是否已经登录。对此，RRF有两个函数可供我们使用:<code>isLoaded</code>和<code>isEmpty</code>。</h3>
<p><code>isLoaded</code>检查auth是否已经加载，我们可以用<code>isEmpty</code>检查auth是否为空。<code>PrivateRoute</code>将呈现一个路由组件，如果用户已经登录，它将依次呈现其子组件，如果用户没有登录，将从react-router呈现一个重定向组件。</p>
<p>下面是<code>PrivateRoute</code>应该是什么样子:</p>
<p>注意，我们使用react-redux的<code>useSelector</code>钩子来获取<code>auth</code>对象。选择器只是一个函数，它接受Redux状态作为参数，并返回从该状态派生的数据。</p>
<pre class="language-javascript hljs">import React from "react";
import { Route, Redirect } from "react-router-dom";
import { isLoaded, isEmpty } from "react-redux-firebase";
import { useSelector } from "react-redux";
const PrivateRoute = ({ children, ...remainingProps }) =&gt; {
  const auth = useSelector(state =&gt; state.firebase.auth);
  return (
    &lt;Route
      {...remainingProps}
      render={({ location }) =&gt;
        isLoaded(auth) &amp;&amp; !isEmpty(auth) ? (
          children
        ) : (
          &lt;Redirect
            to={{
              pathname: "/",
              state: { from: location },
            }}
          /&gt;
        )
      }
    /&gt;
  );
};
export default PrivateRoute;</pre>
<p><code>AddTodo</code>组件</p>
<h3>因为RRF在一个<code>users</code>集合中为每个经过身份验证的用户创建了一个文档，所以我们将在每个用户文档中创建另一个名为<code>todos</code>的集合。在那里，每个待办事项都可以存储为一个具有自己唯一ID的文档。</h3>
<p>更多来自LogRocket的精彩文章:</p><div class="code-block code-block-54">
<hr/>
<h3>如果您不熟悉文档、收藏等。，在Firestore工作，可以查看<a href="https://firebase.google.com/docs/firestore"> Firebase docs </a>。我们将使用另一个名为<code>useFirestore</code>的RRF钩子，它返回一个我们可以用来执行Firestore操作的<code>firestore</code>对象。</h3>

<hr/></div>
<p>每个待办事项将包含三个属性:</p>
<p><code>isDone</code>:表示待办任务是否已经完成</p>
<ul>
<li><code>title</code>:待办事项的标题</li>
<li><code>todoID</code>:用于标识每个待办事项的唯一ID</li>
<li>因此，在添加了新的待办事项后，我们将获取Firebase分配给该项目的文档的ID，并将其设置为待办事项的<code>todoID</code>属性值。下面是<code>AddTodo</code>应该是什么样子:</li>
</ul>
<p><code>TodoItem</code>组件</p>
<pre class="language-javascript hljs">import React, { useState } from "react";
import { useFirestore } from "react-redux-firebase";
import { useSelector } from "react-redux";
const AddTodo = () =&gt; {
  const [presentToDo, setPresentToDo] = useState("");
  const firestore = useFirestore();
  const { uid } = useSelector((state) =&gt; state.firebase.auth);
  const handleChange = ({ currentTarget: { name, value } }) =&gt; {
    if (name === "addTodo") {
      setPresentToDo(value);
    }
  };
  const addNewTodo = (todo) =&gt; {
    firestore
      .collection("users")
      .doc(uid)
      .collection("todos")
      .add({
        title: todo,
        isDone: false,
      })
      .then((docRef) =&gt; {
        docRef.update({
          todoID: docRef.id,
        });
      });
    setPresentToDo("");
  };
  return (
    &lt;div&gt;
      &lt;form action=""&gt;
        &lt;input
          type="text"
          name="addTodo"
          value={presentToDo}
          onChange={handleChange}
        /&gt;
        &lt;button
          onClick={(event) =&gt; {
            event.preventDefault();
            addNewTodo(presentToDo);
          }}
        &gt;
          Add Todo
        &lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
};
export default AddTodo;</pre>
<h3><code>TodoItem</code>组件由待办事项的标题和一个复选框组成，用于指示待办事项任务是否已经完成。当用户选中复选框时，<code>todoItem</code>会在Cloud Firestore中更新。您的<code>TodoItem</code>组件应该是这样的:</h3>
<p><code>Todos</code>路线</p>
<pre class="language-javascript hljs">import React, { useState } from "react";
import { useFirestore } from "react-redux-firebase";
import { useSelector } from "react-redux";
const ToDoItem = ({ isDone, title, todoID }) =&gt; {
  const [isTodoItemDone, setTodoItemDone] = useState(isDone);
    const firestore = useFirestore();
    const {uid} = useSelector(state =&gt; state.firebase.auth);
  console.log(isTodoItemDone);
  const handleChange = (event) =&gt; {
    if (event.currentTarget.type === "checkbox") {
      setTodoItemDone(!isTodoItemDone);
      firestore.collection("users").doc(uid).collection("todos").doc(todoID).update({
          isDone: !isTodoItemDone
      })
    }
  };
  return (
    &lt;div style={{
        textDecoration: isTodoItemDone &amp;&amp; "line-through",
        opacity: isTodoItemDone ? 0.5 : 1,

    }}&gt;
      &lt;input
        type="checkbox"
        name=""
        id=""
        onChange={handleChange}
        checked={isTodoItemDone}
      /&gt;
      {title}
    &lt;/div&gt;
  );
};
export default ToDoItem;</pre>
<h3><code>Todos</code>路线显示用户的姓名和所有待办事项的列表。为了获得所有的待办事项，我们将使用一个名为<code>useFirestoreConnect</code>的钩子，它将一个对象作为参数，监听/取消监听所提供的云Firestore路径，并使数据在我们的Redux状态下可用。然后我们可以用<code>useSelector</code>钩子从Redux状态访问这些数据。</h3>
<p>因为我们正在监听一个子集合，所以我们必须使用传递给我们的<code>useFirestoreConnect</code>钩子的对象的<code>storeAs</code>属性。</p>
<p>该对象将有一个<code>collection</code>属性，其中的值是我们正在监听的集合的路径。<code>Todos</code>路线也将包含<code>AddTodo</code>部分。以下是<code>Todos</code>路线的代码:</p>
<p>现在，我们可以将所有组件和路线拼凑到我们的<code>App.js</code>文件中:</p>
<pre class="language-javascript hljs">import React from "react";
import { useSelector } from "react-redux";
import AddTodo from "../Components/AddTodo";
import { useFirestoreConnect } from "react-redux-firebase";
import ToDoItem from "../Components/TodoItem";
const Todos = () =&gt; {
  const { displayName, uid } = useSelector((state) =&gt; state.firebase.auth);
  useFirestoreConnect({
    collection: `users/${uid}/todos`,
    storeAs: "todos",
  });
  const todos = useSelector((state) =&gt; state.firestore.data.todos);
  console.log(todos);
  return (
    &lt;div&gt;
      &lt;h3&gt;Hello {displayName}&lt;/h3&gt;
      &lt;h4&gt;Todos&lt;/h4&gt;
      &lt;AddTodo /&gt;
      &lt;ul
        style={{
          listStyleType: "none",
        }}
      &gt;
        {todos &amp;&amp;
          Object.values(todos).map((todo) =&gt; (
            &lt;li&gt;
              &lt;ToDoItem
                title={todo.title}
                isDone={todo.isDone}
                todoID={todo.todoID}
              /&gt;
            &lt;/li&gt;
          ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
};
export default Todos;</pre>
<p>结论</p>
<pre>import React from 'react';
import PrivateRoute from "./UI/Components/PrivateRoute";
import Todos from "./UI/Routes/Todos";
import SignIn from "./UI/Routes/SignIn";
import {Switch, Route} from "react-router-dom";
function App() {
  return (
    &lt;div style = {{
      textAlign: "center"
    }}&gt;
      &lt;h1&gt;Redux Todo App&lt;/h1&gt;
      &lt;Switch&gt;
        &lt;PrivateRoute path = "/todos"&gt;
          &lt;Todos /&gt;
        &lt;/PrivateRoute&gt;
        &lt;Route path = "/"&gt;
        &lt;SignIn /&gt;
        &lt;/Route&gt;
      &lt;/Switch&gt;

    &lt;/div&gt;
  );
}
export default App;</pre>
<h2>就这样，我们结束了！用户应该能够登录添加待办事项，并在完成任务后检查这些待办事项。</h2>
<p>注意，在实际应用中，你应该设置安全规则，以进一步确保用户数据的安全。如果你想进一步探索这个库，你可以查看文档。你可以在这里找到这个项目的资源库<a href="https://github.com/NodeJSs/react-redux-firebase-article">，在这里</a>找到Redux Toolkit fork <a href="https://github.com/zsajjad/react-redux-firebase-article/blob/master/src/App.js" target="_blank" rel="noopener">，在这里</a>找到live项目<a href="https://react-redux-firebase-todo.netlify.com/">。</a></p>
<p>使用LogRocket消除传统反应错误报告的噪音</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p><p vwo-el-id="28675661060">Focus on the React bugs that matter —
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">try LogRocket today</a>.
</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>