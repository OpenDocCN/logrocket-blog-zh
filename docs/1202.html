<html>
<head>
<title>First steps with Koa.js - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Koa.js - LogRocket博客的第一步</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/first-steps-with-koa-js/#0001-01-01">https://blog.logrocket.com/first-steps-with-koa-js/#0001-01-01</a></blockquote><div><article class="article-post">
<p>说到web开发，您可能会选择一个框架来启动和运行您的后端API。除了Node具有用于构建web服务器的良好内置机制之外，另一方面，框架通过提供良好的特性(如中间件、路由机制等)来促进这项工作。</p>
<p>在Node.js领域的网络开发方面，Express 是目前为止<a href="https://www.npmtrends.com/express-vs-koa-vs-restify-vs-fastify-vs-hapi-vs-sails" target="_blank" rel="noopener noreferrer">的领导者</a>。它也是最古老的，创建于2009年，这可能是它成熟到如此受社区喜爱的原因之一。</p>
<p>Koa.js 是另一个获得越来越多空间的伟大选择。但他们实际上不是竞争对手。Koa是由Express后面的同一个团队设计的，这是前端社区的普遍趋势，就拿<a href="https://deno.land/" target="_blank" rel="noopener noreferrer"> Deno </a>来说吧，它的创作者就是Node后面的同一个mind。</p>
<p>就编码而言，Koa被创建得更小、更快、更有表现力。谈到web APIs的开发，Express很棒，但是它缺乏一点表现力，仍然会导致我们提交一些可以避免的样板代码，正如我们几分钟后将在实践中看到的那样。</p>
<p>它的设计重点是异步函数，使它们更简单，这样您就可以更容易地操纵回调和处理代码流中的错误。</p>
<p>在这篇文章的最后，我们将有一个应用程序，使用框架的一些好的特性从基于Koa的API中检索信息。模拟数据将从名为<a href="https://randomuser.me/" target="_blank" rel="noopener noreferrer">https://randomuser.me/</a>的虚假数据生成网站中检索。所以，让我们开始吧！</p>
<h2>设置和配置</h2>
<p>像Node universe中的其他东西一样，设置起来既快又容易。确保您已经安装了<a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">节点</a>，选择一个您喜欢的文件夹来开发这个示例，并在其中运行以下命令:</p>
<pre>npm init
npm i koa koa-router koa-ejs axios
</pre>
<p>填写命令行将向您询问的有关节点项目的信息。我把它们都留为空白，但是你想说什么都可以。</p>
<p>前三个依赖项与Koa相关，是框架核心的第一个依赖项。</p>
<p>koa路由器相当于快速路由系统。是的，它包含在需要单独添加到package.json的第二个包中。</p>
<p>Koa-ejs是额外奖励。它是一个Koa中间件，增加了对<a href="https://github.com/mde/ejs" target="_blank" rel="noopener noreferrer"> ejs </a>项目所有特性的支持。这样，我们可以在后端web应用程序中嵌入JavaScript模板，而不需要客户端项目。换句话说，它呈现了我们网页的HTML输出。</p>
<p>最后，著名的Axios库在这里，因为我们需要调用一个外部API，randomuser.me。</p>
<p>现在，在项目的根目录下创建一个新的index.js文件。将以下代码放入其中:</p>
<pre>const koa = require("koa");
const path = require("path");
const render = require("koa-ejs");
const koaRouter = require("koa-router");
const axios = require("axios");

const app = new koa();
const router = new koaRouter();

render(app, {
    root: path.join(__dirname, "views"),
    layout: "index",
    viewExt: "html",
});

router.get("hello", "/", (ctx) =&gt; {
    ctx.body = "&lt;h1&gt;Hello World, Koa folks!&lt;/h1&gt;";
});

router.get("users", "/users", async (ctx) =&gt; {
    const result = await axios.get("https://randomuser.me/api?results=5");

    return ctx.render("index", {
        users: result.data.results,
    });
});

app.use(router.routes()).use(router.allowedMethods());

const PORT = process.env.PORT || 3000;
app.listen(PORT, () =&gt; console.log(`running on port ${PORT}`));
</pre>
<p>清单的前几行与我们刚刚安装的依赖项的导入相关。主Koa及其路由器对象都需要通过new操作符进行实例化。</p>
<p>来自koa-ejs的render函数在这里描述了我们的ejs模板系统的参数(仍有待构建)。它接收的第一个参数是最近创建的Koa app对象，第二个参数是另一个对象，其中包含的信息包括放置ejs模板的根文件夹、布局主文件以及这些文件的扩展名(HTML)。这是最基本的配置，但是您可以在这里找到其他可用的参数<a href="https://github.com/koajs/ejs" target="_blank" rel="noopener noreferrer"/>。</p>
<p>接下来，我们创建两个端点。第一个只是映射到根端点的简单Hello World，而第二个稍微复杂一点，返回附加到模板输入的随机用户列表。</p>
<p>注意在Koa和Express上路由端点是多么的相似。第一个参数要求端点的规范名称，第二个参数要求映射到该端点的路径字符串。主要区别在于处理响应处理的回调函数(第三个参数),它由ctx对象Koa上下文操纵。</p>
<p>与Express不同，Koa上下文将节点的请求和响应对象包含在一个单独的对象中，这简化了方法。由于它们被如此频繁地使用，树袋熊的创造者们发现最好是粘在一起:</p>
<pre>app.use(async ctx =&gt; {
  ctx; // This is the context
  ctx.request; // This is a Koa request
  ctx.response; // This is a Koa response
});</pre>
<p>但是，没有必要总是单独调用请求或响应对象来访问它们的属性。例如，如果您想要访问请求的正文，只需直接这样做:</p>
<pre>ctx.body; // It delegates to Koa’s ctx.request</pre>
<p>为了方便起见，Koa神奇地将任何属性的访问委托给它们各自的对等物。</p>
<p>Koa还允许您决定是否要使用异步函数。我们以第二个端点为例。注意，我们在回调函数中调用一个外部URL来获取随机用户数组，并将其直接发送到我们的koa-ejs模板(我们将在几分钟内构建它)。</p>
<p>与基于承诺的Express方法相比，这是一种更干净的方法。对于Express，我们会有这样的内容:</p>
<pre>app.get('/users', (req, res, next) =&gt; {
  axios.get("https://randomuser.me/api?results=5").then((result) =&gt; {
    res.status(200).json(result.data.results);
  }).catch((err) =&gt; next(err));
});</pre>
<p>乍一看可能没问题，因为这个例子很简单。然而，如果您的开发变得更加复杂，比如添加了从数据库中检索数据的功能，事情就会变得棘手:</p>
<pre>app.get('/users', (req, res, next) =&gt; {
  MyDatabaseObj.findByPk(myPk).then(data =&gt; 
    if (!data) {
      return res.status(404).send({});
    }

    axios.get("https://randomuser.me/api?results=5&amp;id=" + data.id).then((result) =&gt; {
      res.status(200).json(result.data.results);
    }).catch((err) =&gt; next(err));    
  );
});
</pre>
<p>这种风格会导致开发人员嵌套许多代码块，很难维护。</p>
<p>回到index.js代码，它的其余部分与您使用Express所做的非常相似。Koa中间件必须通过<code>use()</code>方法进行陈述。要启动并运行服务器，只需通过<code>listen()</code>方法启动它。很像吧？</p>
<h2>模板</h2>
<p>现在我们已经完成了API的创建，让我们继续学习ejs模板。首先，您需要在项目的根目录下创建一个名为views的新文件夹。并在其中创建名为index.html的主文件。</p>
<p>由于将模板系统分解成最小部分不是本文的重点，我们将坚持使用单个文件作为模板。这是您应该添加到其中的代码:</p>
<pre>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;First Steps with Koa&lt;/title&gt;
        &lt;link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        /&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class="container"&gt;
            &lt;div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"&gt;
                &lt;h1 class="display-4"&gt;Koa.js&lt;/h1&gt;
                &lt;p class="lead"&gt;
                    A simple list of users retrieved from
                    &lt;a href="https://randomuser.me/"&gt;randomuser.me&lt;/a&gt;
                &lt;/p&gt;
            &lt;/div&gt;

            &lt;div class="list-group"&gt;
                &lt;% users.forEach( function(user) { %&gt;
                &lt;div class="list-group-item"&gt;
                    &lt;div class="d-flex w-100 justify-content-between"&gt;
                        &lt;h5 class="mb-1"&gt;
                            &lt;%= user.name.title %&gt; &lt;%= user.name.first %&gt; &lt;%= user.name.last
                            %&gt;
                        &lt;/h5&gt;
                        &lt;small
                            &gt;Registered at: &lt;%= new
                            Date(user.registered.date).toISOString().split('T')[0] %&gt;&lt;/small
                        &gt;
                    &lt;/div&gt;
                    &lt;p class="mb-1"&gt;
                        &lt;strong&gt;Address:&lt;/strong&gt;
                        &lt;%= user.location.street.number %&gt; &lt;%= user.location.street.name
                        %&gt;, &lt;%= user.location.city %&gt; &lt;%= user.location.postcode %&gt; - &lt;%=
                        user.location.country %&gt;
                    &lt;/p&gt;
                    &lt;small&gt;Phone: &lt;%= user.phone %&gt;&lt;/small&gt;
                &lt;/div&gt;
                &lt;% }); %&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>请注意，这是普通的HTML，所以这里没有什么新内容。就在开头，在head标签中，我们添加了<a href="https://www.bootstrapcdn.com/" target="_blank" rel="noopener noreferrer"> Bootstrap的</a> CSS样式表。这将有助于在我们的示例页面中输入样式。</p>
<p>koa-ejs库利用表达式来区分HTML和JavaScript代码。</p>
<p>每当您想要打开一个新的JavaScript代码块时，用<code>&lt;% ... %&gt;</code>操作符包装代码。否则，如果您想将一些值直接打印到HTML中，请使用<code>&lt;%= … %&gt;</code>操作符。请记住，像任何其他JavaScript代码块一样，您的代码块需要正确地打开和关闭，就像您通常在JavaScript代码文件中所做的那样。</p>
<p>继续下去，看看我们正在做的迭代。这是普通的JavaScript代码，非常简单。</p>
<p>现在，让我们来测试一下。在控制台上发出<code>node index.js</code>命令运行应用程序，并在浏览器上键入<a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer"> http://localhost:3000/ </a>地址。这将产生以下输出:</p>
<p><img data-attachment-id="26322" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/helloworldkoa/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png" data-orig-size="860,370" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="helloworldkoa" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png" decoding="async" class="aligncenter size-full wp-image-26322 jetpack-lazy-image" src="../Images/0747e4ac9f4c70e24cb6b1da289f185a.png" alt="Hello world, koa folks!" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png 860w, https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-300x129.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-768x330.png 768w" data-lazy-sizes="(max-width: 860px) 100vw, 860px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="26322" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/helloworldkoa/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png" data-orig-size="860,370" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="helloworldkoa" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-26322" src="../Images/0747e4ac9f4c70e24cb6b1da289f185a.png" alt="Hello world, koa folks!" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png 860w, https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-300x129.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa-768x330.png 768w" sizes="(max-width: 860px) 100vw, 860px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/helloworldkoa.png"/></noscript>
<p>然后，将地址改为<a href="http://localhost:3000/users" target="_blank" rel="noopener noreferrer">http://localhost:3000/users</a>。每次刷新浏览器时，您都会看到用户列表发生变化。</p>
<h2><img data-attachment-id="26324" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/populatedlistofrandomusers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png" data-orig-size="512,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="populatedlistofrandomusers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png" decoding="async" class="aligncenter size-full wp-image-26324 jetpack-lazy-image" src="../Images/79a7c070120ba90979290b7f942500c0.png" alt="populated list of random users " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png 512w, https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers-300x292.png 300w" data-lazy-sizes="(max-width: 512px) 100vw, 512px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png"/> <noscript> <img data-lazy-fallback="1" data-attachment-id="26324" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/populatedlistofrandomusers/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png" data-orig-size="512,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="populatedlistofrandomusers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers-300x292.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-26324" src="../Images/79a7c070120ba90979290b7f942500c0.png" alt="populated list of random users " srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png 512w, https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers-300x292.png 300w" sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/populatedlistofrandomusers.png"/> </noscript> <br/>那错误呢？</h2>
<p>错误是web应用程序中非常重要的一部分。尽管您可以在每个端点上单独处理它们，就像Express一样，Koa也允许您创建一个集中式中间件来处理您的应用程序错误。</p>
<p>请看下面的代码片段:</p>
<pre>app.use(async (ctx, next) =&gt; {
    try {
        await next();
    } catch (err) {
        console.error(err);
        ctx.body = "Ops, something wrong happened:&lt;br&gt;" + err.message;
    }
});</pre>
<p>这个中间件必须放在所有其他中间件之前，这样您就可以获取并记录您的应用程序可能面临的任何类型的错误，包括与其他中间件相关的错误。</p>
<p>如果您有多个JavaScript文件，其中映射了端点，那么您可以将这个中间件集中在一个地方，并将其导出到所有这些文件。</p>
<h2>日志呢？</h2>
<p>是的，Koa还有另一个包，它为开发和调试处理更细粒度的日志机制。</p>
<p>为此，您需要首先安装适当的依赖项:</p>
<pre>npm i koa-logger</pre>
<p>并将以下内容添加到index.js中:</p>
<pre>// At the beginning of the file
const Logger = require("koa-logger");

...

app.use(Logger())
    .use(router.routes())
    .use(router.allowedMethods());</pre>
<p>确保<code>Logger</code>中间件也是第一个添加的，否则，Koa不会监听来自您的路由和HTTP调用的日志。</p>
<p>当您重新启动应用程序并再次访问端点时，您可能会看到类似以下内容的日志:</p>
<p><img data-attachment-id="26338" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/runnningport/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png" data-orig-size="1560,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="runnningport" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-300x63.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1024x215.png" decoding="async" class="aligncenter size-full wp-image-26338 jetpack-lazy-image" src="../Images/ccd70dd9c8e4e29b1f94328a8e1d7b41.png" alt="" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png 1560w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-300x63.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1024x215.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-768x161.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1536x323.png 1536w" data-lazy-sizes="(max-width: 1560px) 100vw, 1560px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="26338" data-permalink="https://blog.logrocket.com/first-steps-with-koa-js/runnningport/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png" data-orig-size="1560,328" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="runnningport" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-300x63.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1024x215.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-26338" src="../Images/ccd70dd9c8e4e29b1f94328a8e1d7b41.png" alt="" srcset="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png 1560w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-300x63.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1024x215.png 1024w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-768x161.png 768w, https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport-1536x323.png 1536w" sizes="(max-width: 1560px) 100vw, 1560px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/10/runnningport.png"/></noscript>
<h2>结论</h2>
<p>这只是简单介绍了Koa.js的强大功能，以及它如何让代码组织变得更加清晰。要了解它的更多好处，可以使用常见的框架，如用于数据库处理的Sequelize、用于测试的Jasmine等。是必须的，或者你可以测试它是否包含在你当前的项目中。只要创造一个岔口，并去争取它！</p>
<p>Koa还提供了对一系列附加特性的支持，比如CSRF和JWT (JSON Web Tokens)、访问日志、字符集转换、缓存、缩小器和压缩器等等。请务必参考官方的<a href="https://github.com/koajs" target="_blank" rel="noopener noreferrer"> GitHub项目</a>以获得更多相关信息。祝你好运！</p><div class="code-block code-block-28">
<div class="blog-plug inline-plug js-libraries-plug"><h2>您是否添加了新的JS库来提高性能或构建新特性？如果他们反其道而行之呢？</h2><p>毫无疑问，前端变得越来越复杂。当您向应用程序添加新的JavaScript库和其他依赖项时，您将需要更多的可见性，以确保您的用户不会遇到未知的问题。</p>
<p>LogRocket 是一个前端应用程序监控解决方案，可以让您回放JavaScript错误，就像它们发生在您自己的浏览器中一样，这样您就可以更有效地对错误做出反应。</p><a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/e8a0ab42befa3b3b1ae08c1439527dc6.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/errors-screenshot.png"/></noscript></a>
<a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p><a href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>可以与任何应用程序完美配合，不管是什么框架，并且有插件可以记录来自Redux、Vuex和@ngrx/store的额外上下文。您可以汇总并报告问题发生时应用程序的状态，而不是猜测问题发生的原因。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>自信地构建— <a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">开始免费监控</a>。</p></div>


</div>

<p class="clearfix"/>
 <p class="clearfix"/>
</article>

</div>    
</body>
</html>