<html>
<head>
<title>Adding spinners and notifications to your React app - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>向React app - LogRocket博客添加微调器和通知</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/spinners-notifications-react-app/#0001-01-01">https://blog.logrocket.com/spinners-notifications-react-app/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>编者按:</strong>这篇文章最后一次更新是在2022年7月21日更新代码，包括更多关于特色微调器和通知库的最新信息，还包括关于SVG和CSS选项的信息。</em></p>
<p>为了使您的web项目更具交互性和用户友好性，您可能希望添加一些额外的UI特性，比如显示加载状态的微调器，或者指示应用程序事件的通知。</p>
<p>今天，我们将探讨如何实现这些功能。我们不会简单地展示一些例子，而是将重点放在如何将它们集成到一个全栈项目中。</p>
<h3>内容</h3>

<h2 id="before-we-start">在我们开始之前…</h2>
<p>那么我们到底要讨论什么呢？</p>
<p>首先，我们将回顾向我们的项目添加一个微调器(例如，指示装载)所需的所有必要步骤。</p>
<p>然后，我们将在项目中只使用一个“通知容器”来管理通知，并学习如何使用它们来显示消息。为此，我们将讨论两个不同的npm包，以便对它们进行一些比较。</p>
<p>在这里，我将使用一个现有的MERN项目，我们可以添加这些功能，看看结果。我不打算深入讨论这个现有的项目，因为我们在这里的目的只是展示上述功能的实现和集成。</p>
<p>事实上，我们已经为那个项目准备了一个很好的教程，它解释了你需要理解的一切。如果你愿意，可以从<a href="https://blog.logrocket.com/mern-stack-tutorial/" target="_blank" rel="noopener">这里</a>开始读。</p>
<h2 id="resources">资源</h2>
<p><a href="https://github.com/nurislam03/MERN_A_to_Z" target="_blank" rel="noopener">这里的</a>是项目服务端的GitHub回购，<a href="https://github.com/codezri/MERN_A_to_Z_Client" target="_blank" rel="noopener">这里是客户端的回购</a>。只是克隆或下载它们，无论你喜欢什么。</p>
<p>在运行API服务器之前，您需要在本地或云上创建一个MongoDB实例来存储web应用程序的数据。如果你想在云上创建一个，你可以在<a href="https://www.mongodb.com/atlas/database" target="_blank" rel="noopener"> MongoDB Atlas </a>上创建一个免费的MongoDB集群。将数据库连接字符串添加到<code>config/default.json</code>文件中。</p>
<p>使用<code>README.md</code>文件中提供的说明或下面提供的说明启动web应用程序后端。要开始运行服务器，请确保您在<code>MERN_A_to_Z/</code>目录中，并键入以下命令:</p>
<pre class="language-shell hljs">npm install
npm run app
# --- or ---
yarn install
yarn app
</pre>
<p>以上命令将在端口<code>8082</code>上安装依赖项并启动RESTful API服务器。我们只需要运行的服务器。之后，我们不需要在那里做任何改变。</p>
<p>要启动客户端应用程序的开发服务器，请确保您位于<code>MERN_A_to_Z_Client/mern_a_to_z_client/</code>目录中，并键入以下命令:</p>
<pre class="language-shell hljs">npm install
npm start
# --- or --- 
yarn install
yarn start
</pre>
<p>我们将严格按照我们的客户项目工作；所有的变化都将发生在那里。</p>
<p>现在项目的服务器端和客户端都已经运行了，请访问<a href="http://localhost://3000" rel="nofollow"> http://localhost://3000 </a>查看项目实况。你会看到如下网页应用:<img data-attachment-id="125217" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/the-book-store-web-app-preview/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png" data-orig-size="840,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The Book Store Web App Preview" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png" decoding="async" class="size-full wp-image-125217 alignnone jetpack-lazy-image" src="../Images/b70fc18125a47ed1813d00ed24fadc4d.png" alt="The Book Store Web App Preview" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png 840w, https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-300x193.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-768x495.png 768w" data-lazy-sizes="(max-width: 840px) 100vw, 840px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125217" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/the-book-store-web-app-preview/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png" data-orig-size="840,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The Book Store Web App Preview" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-300x193.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png" decoding="async" loading="lazy" class="size-full wp-image-125217 alignnone" src="../Images/b70fc18125a47ed1813d00ed24fadc4d.png" alt="The Book Store Web App Preview" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png 840w, https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-300x193.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview-768x495.png 768w" sizes="(max-width: 840px) 100vw, 840px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/The-Book-Store-Web-App-Preview.png"/></noscript>
<h2 id="adding-gif-based-spinner-animation">添加基于GIF的旋转器动画</h2>
<p>在这里，我将为我们现有的MERN项目添加一个装载旋转器。首先，我们将添加一个传统的基于GIF的spinner动画，稍后，我们将使用一个流行的包来添加现代的基于CSS动画的spinner。我们将更新我们的<code>ShowBookList.js</code>文件，在<code>ShowBookList</code>组件中添加一个加载微调器。</p>
<p>因此，在组件文件夹中创建一个名为<code>common</code>的文件夹。路径应该是这样的:<code>MERN_A_to_Z_Client/mern_a_to_z_client/src/components/common</code>。现在，在<code>common</code>文件夹中，创建一个名为<code>Spinner.js</code>的文件，并为加载微调器添加一个. gif文件。</p>
<p>你可以找到不同种类的。gif文件全网免费；您可以使用基于web的工具来生成它们，也可以使用源代码附带的工具。</p>
<p>现在，用下面的代码更新您的<code>Spinner.js</code>:</p>
<pre class="language-js hljs">import React from 'react';
import spinner from './spinner.gif';

function Spinner() {
  return (
    &lt;div&gt;
      &lt;img
        src={spinner}
        style={{ width: '100px', margin: 'auto', display: 'block' }}
        alt="Loading..."
      /&gt;
    &lt;/div&gt;
  );
};

export default Spinner;
</pre>
<p>在这里，我们导入。gif文件(<code>import spinner from './spinner.gif';</code>)。如果你使用你自己的，不同的微调文件，用你想添加的文件名替换<code>spinner.gif</code>。</p>
<p>现在，用下面的代码更新您的<code>ShowBookList.js</code>文件:</p>
<pre class="language-js hljs">import React, { useState, useEffect } from 'react';
import '../App.css';
import axios from 'axios';
import { Link } from 'react-router-dom';
import BookCard from './BookCard';
import Spinner from './common/Spinner';

function ShowBookList() {

  let [books, setBooks] = useState([]);
  let [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    axios
      .get('/books')
      .then(res =&gt; {
        setBooks(res.data);
        setLoading(false);
      })
      .catch(err =&gt;{
        console.log('Error from ShowBookList');
      })
  }, []);

  let listContent;

  if(loading) {
    listContent = &lt;div className="list-msg"&gt;&lt;Spinner/&gt;&lt;/div&gt;;
  }
  else if(books.length === 0) {
    listContent = &lt;div className="list-msg"&gt;ℹ️ No books added. Click the 'Add New Book' button to add one.&lt;/div&gt;;
  }
  else {
    listContent = books.map((book, k) =&gt;
      &lt;BookCard book={book} key={k} /&gt;
    );
  }

  return (
    &lt;div className="ShowBookList"&gt;
      &lt;div className="container"&gt;
        &lt;div className="row"&gt;
          &lt;div className="col-md-12"&gt;
            &lt;br /&gt;
            &lt;h2 className="display-4 text-center"&gt;Book List&lt;/h2&gt;
          &lt;/div&gt;

          &lt;div className="col-md-11"&gt;
            &lt;Link to="/create-book" className="btn btn-outline-warning float-right"&gt;
              + Add New Book
            &lt;/Link&gt;
            &lt;br /&gt;
            &lt;br /&gt;
            &lt;hr /&gt;
          &lt;/div&gt;

        &lt;/div&gt;

        &lt;div className="list"&gt;
              { listContent }
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default ShowBookList;
</pre>
<p>在这里，我们从<code>common/Spinner.js</code>导入我们的<code>Spinner</code>组件，并使用<code>ShowBookList</code>函数中的一些逻辑为<code>listContent</code>赋值。我们还用<code>let [loading, setLoading] = useState(false)</code>语句添加了一个初始设置为<code>false</code>的加载状态。</p>
<p>你不需要遵循同样的逻辑；你可以用自己的方式写，很明显，根据你的项目类型会有所不同。</p>
<p>现在，运行项目并访问:<a href="http://localhost:3000/" rel="nofollow"> http://localhost:3000/ </a></p>
<p>在很短的时间内，您将会看到如下所示的装载微调器。这是通过API获取数据的延迟时间。这意味着该微调器将一直显示，直到状态变量<code>loading</code>变为<code>false</code>。</p>
<p>我通过注释掉<code>setLoading(false);</code>语句记录了下面的预览，因为加载状态的改变是瞬间的——我们只能在非常慢的网络连接和低端设备上长时间看到微调器。</p>
<p><img data-attachment-id="125221" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/books-list-with-loading-spinner/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Books List With Loading Spinner" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif" decoding="async" class="size-full wp-image-125221 aligncenter jetpack-lazy-image" src="../Images/99051b3ec51c8826f57fc792334f4908.png" alt="Books List With Loading Spinner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125221" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/books-list-with-loading-spinner/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Books List With Loading Spinner" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif" decoding="async" loading="lazy" class="size-full wp-image-125221 aligncenter" src="../Images/99051b3ec51c8826f57fc792334f4908.png" alt="Books List With Loading Spinner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Books-List-With-Loading-Spinner.gif"/></noscript>
<p>您可以调整微调器的背景颜色，当然也可以使用定制的微调器。在这里，我的目标只是展示我们何时何地可以使用GIF spinners，以及我们如何设置它。</p>
<h2 id="adding-modern-spinners-react-spinners">用反作用旋转器添加现代旋转器</h2>
<p>有很多工具可以生成漂亮的GIF旋转器动画，它们为添加旋转器到React应用程序提供了一个很好的解决方案。但是gif现在已经有点过时了，因为有更好的方法，比如CSS动画和动画SVG。此外，GIF像任何其他图像文件一样具有相当大的下载大小(例如，我们的示例spinner GIF的大小是26.3 KB)。</p>
<p>流行的<a href="https://github.com/davidhu2000/react-spinners" target="_blank" rel="noopener"> react-spinners </a>包为react应用程序提供了许多内置的可定制的基于CSS的spinners。让我们用一个现代的轻量级的spinner替换我们以前基于GIF的spinner！</p>
<p>首先，安装react-spinners包:</p>
<pre class="language-shell hljs">npm install react-spinners
# --- or ---
yarn add react-spinners
</pre>
<p>接下来，用下面的代码更新之前创建的<code>Spinner.js</code>:</p>
<pre class="language-js hljs">import React from 'react';
import ClipLoader from 'react-spinners/ClipLoader';

function Spinner() {
  return (
    &lt;div style={{ width: '100px', margin: 'auto', display: 'block' }}&gt;
      &lt;ClipLoader color="#52bfd9" size={100}/&gt;
    &lt;/div&gt;
  );
};

export default Spinner;
</pre>
<p>现在，您将看到基于CSS-DOM的微调器动画，如以下预览所示:</p>
<p><img data-attachment-id="125225" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/a-spinner-animation-added-with-react-spinners/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="A Spinner Animation Added With react-spinners" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif" decoding="async" class="size-full wp-image-125225 aligncenter jetpack-lazy-image" src="../Images/819677a36018b8ff4980845453be676e.png" alt="A Spinner Animation Added With react-spinners" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125225" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/a-spinner-animation-added-with-react-spinners/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="A Spinner Animation Added With react-spinners" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif" decoding="async" loading="lazy" class="size-full wp-image-125225 aligncenter" src="../Images/819677a36018b8ff4980845453be676e.png" alt="A Spinner Animation Added With react-spinners" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/A-Spinner-Animation-Added-With-react-spinners.gif"/></noscript>
<p>你可以用<code>color</code>道具根据你的应用主题定制你的微调器。同样，你可以用<code>size</code>、<code>width</code>和<code>height</code>道具对微调器做更多的调整。</p>
<p>在这里，我们使用书店应用程序的<code>ClipLoader</code>微调器组件进行演示，但是您可以从内置的<a href="https://www.davidhu.io/react-spinners/" target="_blank" rel="noopener">组件列表</a>中选择不同的加载动画。尝试使用几个定制的微调器！</p>
<p>react-spinners包呈现普通的DOM元素。如果你需要使用基于SVG的spinner动画，你可以使用<a href="https://github.com/fakiolinho/react-loading" target="_blank" rel="noopener"> react-loading </a>和react-loader-spinner包。</p>
<h2 id="configuring-notifications-react-notifications">使用反应通知配置通知</h2>
<p>现在我将展示如何在我们的<a href="https://blog.logrocket.com/10-mistakes-react-developers-make/" target="_blank" rel="noopener"> React </a>项目中处理通知。首先我们将使用<a href="https://www.npmjs.com/package/react-notifications" target="_blank" rel="noopener"> react-notifications </a>，顾名思义，它是react的通知组件。</p>
<h3>软件包安装</h3>
<p>转到客户端项目目录(<code>MERN_A_to_Z_Client/mern_a_to_z_client/</code>)并安装以下npm包:</p>
<pre class="language-shell hljs">npm install react-notifications
# --- or ---
yarn add react-notifications
</pre>
<p>再次运行该项目。</p>
<h3>设置通知容器</h3>
<p>现在更新<code>App.js</code>文件。从react-notifications和<code>notifications.css</code>文件导入<code>NotificationContainer</code>:</p>
<pre class="language-css hljs">import React from 'react';
import { BrowserRouter, Route, Routes } from 'react-router-dom';

// React Notification
import 'react-notifications/lib/notifications.css';
import { NotificationContainer } from 'react-notifications';

import CreateBook from './components/CreateBook';
import ShowBookList from './components/ShowBookList';
import ShowBookDetails from './components/ShowBookDetails';
import UpdateBookInfo from './components/UpdateBookInfo';

import './App.css';

function App() {
  return (
    &lt;BrowserRouter&gt;
      &lt;Routes&gt;
        &lt;Route exact path='/' element={&lt;ShowBookList/&gt;} /&gt;
        &lt;Route path='/create-book' element={&lt;CreateBook/&gt;} /&gt;
        &lt;Route path='/edit-book/:id' element={&lt;UpdateBookInfo/&gt;} /&gt;
        &lt;Route path='/show-book/:id' element={&lt;ShowBookDetails/&gt;} /&gt;
      &lt;/Routes&gt;
      &lt;NotificationContainer/&gt;
    &lt;/BrowserRouter&gt;
  );
}

export default App;
</pre>
<p>到目前为止，一切顺利——我们已经完成了对<code>NotificationContainer</code>的设置。</p>
<blockquote><p>确保在应用程序中只使用一个<code>NotificationContainer</code>组件。</p></blockquote>
<p>现在是时候传递来自不同组件的通知来显示它们的消息了。</p>
<h2 id="setting-notifications-from-components">从组件设置通知</h2>
<p>在这里，您只需从react-notifications导入<code>NotificationManager</code>。之后，您就可以通过<code>NotificationManager</code>传递通知了。</p>
<p>看看我在<code>CreateBook.js</code>文件中所做的更改，以传递来自<code>CreateBook</code>组件的通知。</p>
<p>打开<code>CreateBook.js</code>并用以下代码更新它:</p>
<pre class="language-js hljs">import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import axios from 'axios';

// React Notification
import { NotificationManager } from 'react-notifications';

import '../App.css';

function CreateBook() {

  let [book, setBook] = useState({
    title: '',
    isbn:'',
    author:'',
    description:'',
    published_date:'',
    publisher:''
  });
  let navigate = useNavigate();

  function onChange(e) {
    setBook({...book, [e.target.name]: e.target.value});
  };

  function onSubmit(e) {
    e.preventDefault();

    axios
      .post('/books', book)
      .then(res =&gt; {
        navigate('/');
        NotificationManager.success('You have added a new book!', 'Successful!', 2000);
      })
      .catch(err =&gt; {
        NotificationManager.error('Error while creating new book!', 'Error!');
      })
  };

  return (
    &lt;div className="CreateBook"&gt;
      &lt;div className="container"&gt;
        &lt;div className="row"&gt;
          &lt;div className="col-md-8 m-auto"&gt;
            &lt;br /&gt;
            &lt;Link to="/" className="btn btn-outline-warning float-left"&gt;
                Show Book List
            &lt;/Link&gt;
          &lt;/div&gt;
          &lt;div className="col-md-8 m-auto"&gt;
            &lt;h1 className="display-4 text-center"&gt;Add Book&lt;/h1&gt;
            &lt;p className="lead text-center"&gt;
                Create new book
            &lt;/p&gt;

            &lt;form noValidate onSubmit={onSubmit}&gt;
              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Title of the Book'
                  name='title'
                  className='form-control'
                  value={book.title}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;
              &lt;br /&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='ISBN'
                  name='isbn'
                  className='form-control'
                  value={book.isbn}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Author'
                  name='author'
                  className='form-control'
                  value={book.author}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Describe this book'
                  name='description'
                  className='form-control'
                  value={book.description}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;div className='form-group'&gt;
                &lt;input
                  type='date'
                  placeholder='published_date'
                  name='published_date'
                  className='form-control'
                  value={book.published_date}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;
              &lt;div className='form-group'&gt;
                &lt;input
                  type='text'
                  placeholder='Publisher of this Book'
                  name='publisher'
                  className='form-control'
                  value={book.publisher}
                  onChange={onChange}
                /&gt;
              &lt;/div&gt;

              &lt;input
                  type="submit"
                  className="btn btn-outline-warning btn-block mt-4"
              /&gt;
            &lt;/form&gt;
        &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

export default CreateBook;
</pre>
<p>运行项目并访问<a href="http://localhost:3000/create-book" rel="nofollow">http://localhost:3000/create-book</a>。现在，在创建一本新书后，您将看到如下消息。如果系统未能添加新书，您也会收到一条错误消息。</p>
<p><img data-attachment-id="125230" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/book-store-app-notifications/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Book Store App Notifications" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif" decoding="async" class="size-full wp-image-125230 aligncenter jetpack-lazy-image" src="../Images/602e09bd2a8d69b8b398d20d16f06f48.png" alt="Book Store App Notifications" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125230" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/book-store-app-notifications/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Book Store App Notifications" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif" decoding="async" loading="lazy" class="size-full wp-image-125230 aligncenter" src="../Images/602e09bd2a8d69b8b398d20d16f06f48.png" alt="Book Store App Notifications" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Book-Store-App-Notifications.gif"/></noscript>
<p>您可以在项目的不同组件中应用相同的方法。根据通知类型，通知将以不同的颜色显示:信息、成功、警告和错误。</p>
<p>您还可以随消息传递五个不同的参数:<code>message</code>、<code>title</code>、<code>timeOut</code>、<code>callback</code>和<code>priority</code>。</p>
<h3>可用的<code>NotificationManager</code>API</h3>
<p>对于这个包，有以下四种不同类型的API可供我们使用:</p>
<pre class="language-js hljs">info
success
warning
error
</pre>
<p>这里有一个<code>success</code>类型的例子。对于给定的场景，只需将<code>success</code>替换为适当的通知类型:</p>
<pre class="language-js hljs">NotificationManager.success(message, title, timeOut, callback, priority);
</pre>
<p>通知类型后面的参数描述如下:<br/> <code>message</code>:我们要传递的消息。它必须是字符串。<br/> <code>title</code>:通知的标题。同样，它的类型是string。<br/> <code>timeOut</code>:弹出超时，单位毫秒。这一定是个整数。<br/> <code>callback</code>:我们可以通过一个函数(type功能)通过通知。它在弹出窗口被点击后执行。<br/> <code>priority</code>:这是一个布尔参数。通过将优先级设置为true，我们可以在任何时候将任何通知推到顶部。</p>
<h2 id="configuring-notifications-react-toastify">使用react-toastify配置通知</h2>
<p>既然我们已经讨论了反应通知，让我们继续讨论<a href="https://www.npmjs.com/package/react-toastify" target="_blank" rel="noopener">反应通知</a>。这两个包的目的相似，但是react-toastify比react-notifications有更多的内置特性，而且它对定制也更开放。</p>
<p>根据撰写本文时的每周下载记录，React-toastify比react-notifications更受欢迎。</p>
<p>React-toastify具有许多特性，其中包括:</p>
<ul>
<li>易于集成</li>
<li>用户化</li>
<li>允许用户通过滑动来关闭显示的通知</li>
<li>一个别致的进度条，显示通知的剩余时间</li>
</ul>
<p>对于这一部分，我想创建一个新项目来展示整个设置。让我们使用create-react-app来获得react项目的初始设置。</p>
<pre class="language-shell hljs">npx create-react-app react-notification-example
</pre>
<p>从项目目录(<code>react-notification-example</code>)，运行项目:</p>
<pre class="language-shell hljs">npm start
# --- or ---
yarn start
</pre>
<p>现在，打开<code>App.js</code>文件，用下面的代码更新它:</p>
<pre class="language-js hljs">import React, { useState } from 'react';
import './App.css';

function App() {
  let [totalSize, setTotalSize] = useState(0);
  let [sizeLimit] = useState(100);

  function addDownloadTask(size) {
    if(totalSize + size &lt;= sizeLimit) {
      setTotalSize(totalSize + size);
    }
  };

  function reset() {
    setTotalSize(0);
  }

  return (
    &lt;div className="App"&gt;
        &lt;header className="App-header"&gt;
          &lt;div&gt;
            &lt;button onClick={() =&gt; addDownloadTask(40)}&gt;
              Download A(40GB)
            &lt;/button&gt;

            &lt;button onClick={() =&gt; addDownloadTask(80)}&gt;
              Download B(80GB)
            &lt;/button&gt;

            &lt;button onClick={() =&gt; addDownloadTask(30)}&gt;
              Download C(30GB)
            &lt;/button&gt;
          &lt;/div&gt;

          &lt;div&gt;
            &lt;button onClick={reset}&gt;
              Reset
            &lt;/button&gt;
          &lt;/div&gt;

          &lt;b&gt;
            Download Limit: {sizeLimit} GB
          &lt;/b&gt;

          &lt;h1&gt;
            Total File Size: {totalSize} GB
          &lt;/h1&gt;
        &lt;/header&gt;
    &lt;/div&gt;
  );
}

export default App;
</pre>
<p>此更新将更改您的<a href="http://localhost:3000/" rel="nofollow"> http://localhost:3000/ </a>的视图，您应该会在浏览器上看到以下页面:</p>
<p><img data-attachment-id="125232" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/our-app-in-a-web-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png" data-orig-size="840,542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Our App In A Web Browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-300x194.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png" decoding="async" class="size-full wp-image-125232 aligncenter jetpack-lazy-image" src="../Images/e1b66539ea2e538854cb90134d832cae.png" alt="Our App In A Web Browser" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png 840w, https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-300x194.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-768x496.png 768w" data-lazy-sizes="(max-width: 840px) 100vw, 840px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125232" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/our-app-in-a-web-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png" data-orig-size="840,542" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Our App In A Web Browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-300x194.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png" decoding="async" loading="lazy" class="size-full wp-image-125232 aligncenter" src="../Images/e1b66539ea2e538854cb90134d832cae.png" alt="Our App In A Web Browser" srcset="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png 840w, https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-300x194.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser-768x496.png 768w" sizes="(max-width: 840px) 100vw, 840px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/Our-App-In-A-Web-Browser.png"/></noscript>
<p>在这里，您有三个选项可以通过点击下载三个不同的文件。点击其中任何一项，<strong>总文件大小</strong>将显示更新后的数字(您已下载的总GB数)。我们将下载限制设置为100。当然，你可以更改它们，还有一个<strong>重置</strong>按钮来重置总下载大小。</p>
<blockquote><p>这个应用没有任何服务器功能，那些<strong>下载</strong>按钮不会下载任何文件。它只是一个计算总下载文件大小的计数器。这足以说明react-toastify的用途。</p></blockquote>
<h3>反应-加热装置</h3>
<p>从您的项目文件夹(<code>react-notification-example</code>)中，运行您的首选包管理器的命令来安装react-toastify:</p>
<pre class="language-shell hljs">npm install react-toastify
# -- or ---
yarn add react-toastify
</pre>
<p>现在，用这两行代码更新<code>App.js</code>,导入react-toastify所需的内容:</p>
<pre class="language-js hljs">import { ToastContainer, toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
</pre>
<p>之后，在你的应用程序树的<code>App</code>函数<em>中添加一次</em>函数<code>ToastContainer</code>。如果您不确定将它放在哪里，那么在应用程序中呈现根组件将是最好的选择。</p>
<pre class="language-css hljs">&lt;ToastContainer position="top-right"/&gt;
</pre>
<p>位置在这里是可选的，但是默认的位置值是浏览器的右上角。如果需要，您可以用以下任一项替换位置值:</p>
<ul>
<li><code>top-left</code></li>
<li><code>top-right</code></li>
<li><code>top-center</code></li>
<li><code>bottom-left</code></li>
<li><code>bottom-right</code></li>
<li><code>bottom-center</code></li>
</ul>
<p>现在你可以设置通知通过<code>ToastContainer</code>。我在<code>addDownloadTask</code>和<code>reset</code>函数中添加了三种不同类型的通知——<code>success</code>、<code>error</code>和<code>info</code>。</p>
<p>我们最终的<code>App.js</code>文件应该是这样的:</p>
<pre class="language-js hljs">import React, { useState } from 'react';

// React Toastify
import { ToastContainer, toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';

import './App.css';

function App() {
  let [totalSize, setTotalSize] = useState(0);
  let [sizeLimit] = useState(100);

  function addDownloadTask(size) {
    if(totalSize + size &lt;= sizeLimit) {
      setTotalSize(totalSize + size);
      toast.success(`You have downloaded a ${size} GB file successfully!`);
    }
    else {
      toast.error('Download limit exceeded!');
    }
  }

  function reset() {
    setTotalSize(0);
    toast.info('Download counter was initialized to 0');
  }

  return (
    &lt;div className="App"&gt;
        &lt;header className="App-header"&gt;
          &lt;div&gt;
            &lt;button onClick={() =&gt; addDownloadTask(40)}&gt;
              Download A(40GB)
            &lt;/button&gt;

            &lt;button onClick={() =&gt; addDownloadTask(80)}&gt;
              Download B(80GB)
            &lt;/button&gt;

            &lt;button onClick={() =&gt; addDownloadTask(30)}&gt;
              Download C(30GB)
            &lt;/button&gt;
          &lt;/div&gt;

          &lt;div&gt;
            &lt;button onClick={reset}&gt;
              Reset
            &lt;/button&gt;
          &lt;/div&gt;

          &lt;b&gt;
            Download Limit: {sizeLimit} GB
          &lt;/b&gt;

          &lt;h1&gt;
            Total File Size: {totalSize} GB
          &lt;/h1&gt;
        &lt;/header&gt;
        &lt;ToastContainer/&gt;
    &lt;/div&gt;
  );
}

export default App;
</pre>
<p>每次成功下载后，您都会收到以下<code>success</code>通知:</p>
<p><img data-attachment-id="125234" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-success-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Success Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif" decoding="async" class="size-full wp-image-125234 aligncenter jetpack-lazy-image" src="../Images/c294bc98f9cf822491f3bc8b9ea1ba74.png" alt="File Download Success Notification" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125234" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-success-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Success Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif" decoding="async" loading="lazy" class="size-full wp-image-125234 aligncenter" src="../Images/c294bc98f9cf822491f3bc8b9ea1ba74.png" alt="File Download Success Notification" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Success-Notification.gif"/></noscript>
<p>如果您仔细查看通知，您会看到通知中有一个进度条。这表示通知的剩余显示时间。</p>
<p>当您在超过或达到下载限制后尝试执行下载时，您会收到以下<code>error</code>通知:</p>
<p><img data-attachment-id="125236" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-error-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Error Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif" decoding="async" class="size-full wp-image-125236 aligncenter jetpack-lazy-image" src="../Images/1aecbde1479d99aff819a117956e3b77.png" alt="File Download Error Notification" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125236" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-error-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Error Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif" decoding="async" loading="lazy" class="size-full wp-image-125236 aligncenter" src="../Images/1aecbde1479d99aff819a117956e3b77.png" alt="File Download Error Notification" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Error-Notification.gif"/></noscript>
<p>当您按下<strong>复位</strong>按钮时，会显示<code>info</code>通知:</p>
<p><img data-attachment-id="125238" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-info-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Info Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif" decoding="async" class="size-full wp-image-125238 aligncenter jetpack-lazy-image" src="../Images/132679e962037c630cff3e312af72634.png" alt="File Download Info Notification" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="125238" data-permalink="https://blog.logrocket.com/spinners-notifications-react-app/attachment/file-download-info-notification/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif" data-orig-size="730,467" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="File Download Info Notification" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification-300x192.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif" decoding="async" loading="lazy" class="size-full wp-image-125238 aligncenter" src="../Images/132679e962037c630cff3e312af72634.png" alt="File Download Info Notification" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/09/File-Download-Info-Notification.gif"/></noscript>
<p>您也可以通过简单地点按它来消除任何通知，或者您可以向左或向右滑动它们。</p>
<p>React-toastify是完全可定制的，还有许多更令人兴奋的功能来满足您的所有需求。你可以在这里查看完整的文档。</p>
<p>像任何其他npm包一样，这些通知包也有备选方案。例如，您可以使用以下替代包在React中显示这些toaster通知:</p>

<h2>结论</h2>
<p>今天我们已经讨论了添加一个微调器和两个不同的包来管理React项目中的通知。由于可定制性和有效的大小，考虑在传统gif上使用纯基于CSS或基于SVG的旋转动画。然而，如果不太影响包的大小，使用较小的GIF微调器也可以。如今，一些开发人员倾向于使用类似脸书的内容加载器(也称为框架加载器或占位符加载器)而不是spinners。然而，与现代的骨骼加载器相比，spinners提供了标准的和最小的动画UI元素。</p>
<p>这两个通知包都很受欢迎并且可以定制。React-notifications比react-toasty简单，但我会推荐react-toasty而不是react-notifications，因为前者更受欢迎，并且有更多可定制的选项来支持react-notifications的所有相同功能。</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">使用LogRocket消除传统反应错误报告的噪音</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>是一款React analytics解决方案，可保护您免受数百个误报错误警报的影响，只针对少数真正重要的项目。LogRocket告诉您React应用程序中实际影响用户的最具影响力的bug和UX问题。</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>自动聚合客户端错误、反应错误边界、还原状态、缓慢的组件加载时间、JS异常、前端性能指标和用户交互。然后，LogRocket使用机器学习来通知您影响大多数用户的最具影响力的问题，并提供您修复它所需的上下文。</p><p vwo-el-id="28675661060">关注重要的React bug—<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">今天就试试LogRocket】。</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>