<html>
<head>
<title>Building an ecommerce site with jamstack-ecommerce - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>用jamstack建立一个电子商务网站</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/building-ecommerce-site-jamstack-ecommerce/#0001-01-01">https://blog.logrocket.com/building-ecommerce-site-jamstack-ecommerce/#0001-01-01</a></blockquote><div><article class="article-post">
<p>在过去的十年中，各种类型的企业都开始建立电子商务平台，以增加销售额，并在全球范围内获得新客户。企业主和开发者都采用了Shopify、WooCommerce、Magento、openCart和PrestaShop等来构建他们的电子商务产品。</p>
<p>但是在本教程中，我们将探索一种使用JAMstack构建电子商务平台的新方法。</p>
<h2>JAMstack</h2>
<p>JAMstack中的JAM代表JavaScript、API和标记。这个堆栈提供了一种更简单的方法来构建web应用程序。JAMstack始于2016年，当时一群开发者聚集在一起，他们认为静态网站应该完全静态。</p>
<p>到2017年，JAMstack开始被更广泛的开发人员群体采用，第一批企业JAMstack项目公布。2018年，第一届JAMstack大会举行，从那以后，Netlify、Gatsby和Contentful等工具一直在帮助推广该堆栈，社区正在快速增长。</p>
<p>JAMstack提供:</p>
<ul>
<li>性能提高，因为预构建的标记文件和资产通过内容交付网络(CDN)提供</li>
<li>更安全的web应用程序，因为没有攻击者可以利用的服务器或数据库漏洞</li>
<li>更便宜的托管，因为托管静态文件通常更便宜，甚至完全免费</li>
<li>随着用户群或应用程序的增长，轻松扩展应用程序</li>
</ul>
<h2>我们将会建造什么</h2>
<p>在本教程中，我们将使用<a href="https://github.com/jamstack-cms/jamstack-ecommerce">jam stack-ecommerce</a>starter模板构建一个简单的时尚电子商务平台。它是用Gatsby框架构建的，并使用Tailwind CSS进行样式化。</p>
<p>Gatsby是一个基于React的开源框架，用于创建网站和应用程序。使用Gatsby，您可以集成来自API、数据库、CMS、静态文件等的数据。，或者一次多个源。Gatsby有2000多个插件，默认内置了性能、可伸缩性和安全性。</p>
<h2>设置盖茨比</h2>
<p>在安装Gatsby之前，您需要正确安装和设置Node.js。要安装Gatsby:</p>
<pre>npm install -g gatsby-cli</pre>
<p>要确保Gatsby安装正确并查看所有可用的命令:</p>
<pre><code>gatsby --help
</code></pre>
<p>要创建Gatsby项目:</p>
<pre>gatsby new jamstack-commerce</pre>
<p>这将继续安装所有必要的依赖项。一旦创建了Gatsby项目，在终端中导航到项目文件夹并运行:</p>
<pre>gatsby develop</pre>
<p>只要您的开发服务器正在运行，您就可以在<code><a href="http://localhost:8000/" rel="nofollow">http://localhost:8000/</a></code>访问本地站点。</p>
<h2>jam stack-电子商务</h2>
<p>开始使用jamstack-ecommerce starter模板:</p>
<pre>git clone https://github.com/jamstack-cms/jamstack-ecommerce.git jamstack_fashion</pre>
<h3>项目结构</h3>
<p>开箱即用，典型的Gatsby项目将包含以下文件和文件夹:</p>
<ul>
<li>包含所有与你将在我们的应用程序前端看到的内容相关的代码，如网站标题、页面模板等。</li>
<li><code>/components</code>–包含用于以编程方式创建页面的模板</li>
<li><code>/context</code>–包含在我们的应用中使用的上下文逻辑</li>
<li><code>/images</code>–包含应用程序页面上使用的图像</li>
<li><code>/layouts</code>–包含我们的应用程序使用的基本布局和布局样式</li>
<li><code>/pages</code>—<code>src/pages</code>下的组件自动变成页面，路径基于它们的文件名</li>
<li><code>/styles</code>–包含在我们的应用程序页面上使用的CSS样式规则和指令</li>
<li><code>/templates</code>—<code>src/templates</code>下的组件是用于在我们的应用程序中创建应用程序页面的页面模板</li>
<li><code>/providers</code>–包含与我们的应用程序逻辑相关的所有代码，例如获取和解析数据以及所有其他API操作</li>
<li><code>/static</code>–包含应用程序中使用的所有静态资产，如字体、产品图片等。</li>
<li><code>/snippets</code>–包含不同处理器的支付逻辑等逻辑</li>
<li><code>/utils</code>–包含我们应用中使用的所有其他较小的功能和逻辑</li>
<li>Gatsby希望在这个文件中找到Gatsby浏览器API的任何用法，如果有的话。这允许自定义/扩展影响浏览器的默认Gatsby设置</li>
<li><code>gatsby-config.js</code>–这是Gatsby站点的主配置文件。在这里你可以指定关于你的站点的信息(元数据),比如站点标题和描述，你想要包含哪些Gatsby插件等等。</li>
<li>Gatsby希望在这个文件中找到Gatsby节点API的任何用法(如果有的话)。这允许定制/扩展影响站点构建过程的默认Gatsby设置。</li>
<li>Gatsby希望在这个文件中找到Gatsby服务器端呈现API的任何用法，如果有的话。这允许定制影响服务器端呈现的默认Gatsby设置</li>
</ul>
<h2>安装顺风CSS</h2>
<p>我们将使用Tailwind CSS来设计我们的应用程序。要安装Tailwind:</p>
<pre># Using npm
npm install tailwindcss
# Using Yarn
yarn add tailwindcss</pre>
<h2>添加静态文件</h2>
<p>我们时尚网站上的每个产品都会有它的产品形象。让我们删除<code>static/images</code>文件夹中的所有图像，并添加我们的图像。您可以根据自己的意愿，按照类别名称、产品类型等对它们进行进一步分类。</p>
<p>如果您想要使用自定义字体，请用您的自定义字体替换<code>static/fonts</code>文件夹中的内容。现在，我们的<code>/static</code>文件夹看起来像这样:</p>
<pre>|-- /static
    |-- /fonts
    |-- /images
        |-- /product_image.png</pre>
<p>要添加您的站点徽标和图标，您可以替换位于<code>src/images</code>文件夹中的站点徽标和图标。文件夹<code>static</code>中的文件将在<code>public</code>文件夹中构建和服务。</p>
<h2>添加库存数据</h2>
<p>使用jamstack-ecommerce starter模板，每个产品都是一个库存项目，它们都被硬编码到一个简单的数组中。通过更改<code>providers/inventoryProvider</code>中的清单提供者，可以很容易地重新配置为从Shopify等远程源或另一个CMS或数据源获取。</p>
<p>对于我们的时尚网站，让我们硬编码我们的时尚库存。用下面的清单替换清单。确保将正确的路径添加到产品图像中。</p>
<p>库存模式将遵循以下约定。根据您的需要，您可以决定扩展该方案或删除某些字段。</p>
<pre>type Product {
  id: ID!
  categories: [String]!
  price: Float!
  name: String!
  image: String!
  description: String!
  currentInventory: Int!
  brand: String
}</pre>
<p>我们在<code>providers/inventory.js</code>中的库存数组将如下所示:</p>
<pre>let inventory = [
  // Arrivals
  { categories: ['new arrivals', 'men'], name: 'Blue Stripes', price: '1000', image: '../images/products/man1.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 4 },
  { categories: ['new arrivals', 'men'], name: 'Checkers', price: '1000', image: '../images/products/man2.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne' , currentInventory: 2 },
  { categories: ['new arrivals', 'men'], name: 'Black Leather Jacket', price: '800', image: '../images/products/man3.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 8 },
  { categories: ['new arrivals', 'men'], name: 'Corperate Blue', price: '900', image: '../images/products/man4.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 10},
  { categories: ['new arrivals', 'women'], name: 'Red Gown', price: '1200', image: '../images/products/woman1.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne' , currentInventory: 7 },
  { categories: ['new arrivals', 'women'], name: 'Brown Stripe Armless', price: '500', image: '../images/products/woman2.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 13},
  { categories: ['new arrivals', 'women'], name: 'America 88', price: '650', image: '../images/products/woman3.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 9},
  { categories: ['new arrivals', 'women'], name: 'Peach Belt Gown', price: '1230', image: '../images/productswoman4.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum', brand: 'Jason Bourne', currentInventory: 24 },
  //Outdoor
  { categories: ['outdoor'], name: 'Grey Top', price: '800', image: '../images/products/outdoor1.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 43 },
  { categories: ['outdoor'], name: 'Red Mini Gown', price: '900', image: '../images/products/outdoor2.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne' , currentInventory: 2},
  { categories: ['outdoor'], name: 'Outdoor Chiffon', price: '1200', image: '../images/products/outdoor3.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 14 },
  // Women
  { categories: ['women'], name: 'Red Gown', price: '300', image: '../images/products/woman1.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 12 },
  { categories: ['women'], name: 'Brown Stripe Armless', price: '825', image: '../images/products/woman2.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 13},
  { categories: ['women'], name: 'America 88', price: '720', image: '../images/products/woman3.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 33},
  { categories: ['women'], name: 'Peach Belt Gown', price: '2000', image: '../images/products/woman4.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 23 },
  { categories: ['women'], name: 'Blue Sweater', price: '1100', image: '../images/products/woman5.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.' , brand: 'Jason Bourne', currentInventory: 13},
  { categories: ['women'], name: 'Black Female Singlet', price: '600', image: '../images/products/woman6.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 15 },
  // Men
  { categories: ['men'], name: 'Blue Stripes', price: '775', image: '../images/products/man1.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 44 },
  { categories: ['men'], name: 'Checkers', price: '1200', image: '../images/products/man2.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 17 },
  { categories: ['men'], name: 'Black Leather Jacket', price: '1600', image: '../images/products/man3.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 28 },
  { categories: ['men'], name: 'Corporate Blue', price: '550', image: '../images/products/man4.jpg', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero vulputate rutrum.', brand: 'Jason Bourne', currentInventory: 31 },  // { 
]</pre>
<p>如上所述，我们的库存模式要求每个库存项目都有一个:</p>
<ul>
<li>种类</li>
<li>产品名称</li>
<li>价格</li>
<li>产品仿制</li>
<li>产品描述</li>
<li>商标名称</li>
<li>当前库存编号</li>
</ul>
<p>根据上面的库存列表，我们创建了四个类别:</p>
<ul>
<li>新来的</li>
<li>户外的</li>
<li>男人</li>
<li>女人</li>
</ul>
<p>您可以根据需要添加更多类别。一个库存项目也可以属于多个类别。</p>
<h2>货币面额</h2>
<p>根据您的偏好，您可能需要更改商店货币。要分配我们网站使用的另一种货币，请在您的库存提供商中将<code>DENOMINATION</code>变量更改为您首选的货币面额符号。</p>
<pre>import inventory from './inventory';
async function getInventory() {
  return new Promise((resolve, reject) =&gt; {
    resolve(inventory)
  })
}
const DENOMINATION = '£'
export { DENOMINATION, getInventory as default }</pre>
<p>默认情况下，使用的货币单位是美元，<code>$</code>。</p>
<h2>主题</h2>
<p>我们需要为我们的应用程序创建一个主题。有了主题，我们就能够定义我们的主要和次要颜色。这些颜色将用于设计我们的应用程序，尤其是组件，如行动按钮、购物车物品等。</p>
<p>从项目根中打开主题文件<code>src/theme.js</code>，并根据您的选择编辑主要和次要颜色:</p>
<pre>const colors = {
  primary: '#000000',
  secondary: '#00baa6'
}
export {
  colors
}</pre>
<h2>工地布置</h2>
<p>jamstack-ecommerce starter模板带有一个现代的UI布局，你可能会发现你不需要对它做太多的修改。如果你想给你的网站一个新的布局或者修改现有的布局，那么<code>src/pages/index.js</code>文件就是网站的登陆页面。</p>
<p>出于本教程的考虑，我已经修改了默认布局，添加了更多类别和一个趋势部分，显示其他客户正在购买的商品。将<code>src/pages/index.js</code>的内容替换为以下内容:</p>
<pre>import React from "react"
import SEO from "../components/seo"
import { Center, Footer, Tag, Showcase, DisplaySmall, DisplayMedium } from '../components'
import CartLink from '../components/CartLink'
import { titleIfy, slugify } from '../../utils/helpers'
import { graphql } from 'gatsby'
const Home = ({ data: gqlData }) =&gt; {
  const { inventoryInfo, categoryInfo: { data }} = gqlData
  const categories = data.slice(0, 8)
  const inventory = inventoryInfo.data.slice(0, 8)
  return (
    &lt;&gt;
      &lt;CartLink /&gt;
      &lt;SEO title="Home" /&gt;
      &lt;div className="w-full"&gt;
        &lt;div className="bg-green-200
        lg:h-hero
        p-6 pb-10 smpb-6
        flex lg:flex-row flex-col"&gt;
          &lt;div className="pt-4 pl-2 sm:pt-12 sm:pl-12 flex flex-col"&gt;
            &lt;Tag
              year="2020"
              category="Men"
            /&gt;
            &lt;Center
              price="200"
              title={inventory[1].name}
              link={slugify(inventory[1].name)}
            /&gt;
            &lt;Footer
              designer="Jason Bourne"
            /&gt;
          &lt;/div&gt;
          &lt;div className="flex flex-1 justify-center items-center relative"&gt;
              &lt;Showcase
                imageSrc={inventory[1].image}
              /&gt;
              &lt;div className="absolute
              w-48 h-48 sm:w-72 sm:h-72 xl:w-88 xl:h-88
              bg-white z-0 rounded-full" /&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div className="my-4 lg:my-8 flex flex-col lg:flex-row justify-between"&gt;
        &lt;DisplayMedium imageSrc={categories[0].image} subtitle={`${categories[0].itemCount} items`} title={titleIfy(categories[0].name)} link={slugify(categories[0].name)} /&gt;
        &lt;DisplayMedium imageSrc={categories[1].image} subtitle={`${categories[1].itemCount} items`} title={titleIfy(categories[1].name)} link={slugify(categories[1].name)} /&gt;
      &lt;/div&gt;
      &lt;div className="my-4 lg:my-8 flex flex-col lg:flex-row justify-between"&gt;
        &lt;DisplayMedium imageSrc={categories[2].image} subtitle={`${categories[2].itemCount} items`} title={titleIfy(categories[2].name)} link={slugify(categories[2].name)} /&gt;
        &lt;DisplayMedium imageSrc={categories[3].image} subtitle={`${categories[3].itemCount} items`} title={titleIfy(categories[3].name)} link={slugify(categories[3].name)} /&gt;
      &lt;/div&gt;
      &lt;div className="pt-10 pb-6 flex flex-col items-center"&gt;
        &lt;h2 className="text-4xl mb-3"&gt;Trending Now&lt;/h2&gt;
        &lt;p className="text-gray-600 text-sm"&gt;See what others are buying this summer.&lt;/p&gt;
      &lt;/div&gt;
      &lt;div className="my-8 flex flex-col lg:flex-row justify-between"&gt;
        &lt;DisplaySmall imageSrc={inventory[0].image} title={inventory[0].name} subtitle={inventory[0].categories[0]} link={slugify(inventory[0].name)} /&gt;
        &lt;DisplaySmall imageSrc={inventory[4].image} title={inventory[4].name} subtitle={inventory[4].categories[0]} link={slugify(inventory[4].name)} /&gt;
        &lt;DisplaySmall imageSrc={inventory[1].image} title={inventory[1].name} subtitle={inventory[1].categories[0]} link={slugify(inventory[1].name)} /&gt;
        &lt;DisplaySmall imageSrc={inventory[5].image} title={inventory[5].name} subtitle={inventory[5].categories[0]} link={slugify(inventory[5].name)} /&gt;
      &lt;/div&gt;
    &lt;/&gt;
  )
}
export const pageQuery = graphql`
  query {
    navInfo {
      data
    }
    categoryInfo {
      data {
        name
        image
        itemCount
      }
    }
    inventoryInfo {
      data {
        image
        name
        categories
        description
        id
      }
    }
  }
`
export default Home</pre>
<p>综上所述，我们使用GraphQL来查询我们的库存，以获取类别和库存项目。英雄部分使用三个组件:<code>Tag</code>、<code>C``enter</code>、<code>Footer</code>、<code>Showcase</code>。每个必需的组件属性也被传递。</p>
<p>我们使用<code>DisplayMedium</code>组件创建两个部分来向用户显示我们的类别，最后，我们使用<code>DisplaySmall</code>组件显示趋势项。</p>
<p>显示的库存项目可以很容易地更改，因为它们是硬编码的。</p><div class="code-block code-block-54">
<hr/>
<h3>更多来自LogRocket的精彩文章:</h3>

<hr/></div>
<h2>运行我们的应用</h2>
<p>现在我们已经完全构建了所有组件，让我们来看看我们的应用程序:</p>
<pre>gatsby develop</pre>
<p>这将编译我们的应用程序，并将其作为一个公共文件夹放在<code>localhost:8000</code>上。在您的浏览器中打开该链接，您应该会看到类似下面的内容:</p>
<p><img decoding="async" src="../Images/4cd23683a644df9405c1a2a9c598abdf.png" alt="" data-lazy-src="https://paper-attachments.dropbox.com/s_D193F6FCD933764614F97A6239C2198112FCBA310DB839387E5C619F2CAC2711_1599300733188_zp89Eo7.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://paper-attachments.dropbox.com/s_D193F6FCD933764614F97A6239C2198112FCBA310DB839387E5C619F2CAC2711_1599300733188_zp89Eo7.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/4cd23683a644df9405c1a2a9c598abdf.png" alt="" data-original-src="https://paper-attachments.dropbox.com/s_D193F6FCD933764614F97A6239C2198112FCBA310DB839387E5C619F2CAC2711_1599300733188_zp89Eo7.png"/></noscript>
<h2>搜索引擎优化</h2>
<p>没有SEO，电子商务平台是不完整的。使用JAMstack，我们能够使用<a href="https://github.com/nfl/react-helmet"> React头盔</a>轻松实现SEO。React头盔根据每个页面的内容定制页面元数据，以提高SEO。要安装:</p>
<pre>npm install --save gatsby-plugin-react-helmet react-helmet</pre>
<p>然后将其导入我们的代码，如下所示:</p>
<pre>import { Helmet } from "react-helmet";</pre>
<p>创建<code>src/components/seo.js</code>文件:</p>
<pre>import React from "react"
import PropTypes from "prop-types"
import Helmet from "react-helmet"
import { useStaticQuery, graphql } from "gatsby"
function SEO({ description, lang, meta, title }) {
  const { site } = useStaticQuery(
    graphql`
      query {
        site {
          siteMetadata {
            title
            description
            author
          }
        }
      }
    `
  )
  const metaDescription = description || site.siteMetadata.description
  return (
    &lt;Helmet
      htmlAttributes={{
        lang,
      }}
      title={title}
      titleTemplate={`%s | ${site.siteMetadata.title}`}
      meta={[
        {
          name: `description`,
          content: metaDescription,
        },
        {
          property: `og:title`,
          content: title,
        },
        {
          property: `og:description`,
          content: metaDescription,
        },
        {
          property: `og:type`,
          content: `website`,
        },
        {
          name: `twitter:card`,
          content: `summary`,
        },
        {
          name: `twitter:creator`,
          content: site.siteMetadata.author,
        },
        {
          name: `twitter:title`,
          content: title,
        },
        {
          name: `twitter:description`,
          content: metaDescription,
        },
      ].concat(meta)}
    /&gt;
  )
}
SEO.defaultProps = {
  lang: `en`,
  meta: [],
  description: ``,
}
SEO.propTypes = {
  description: PropTypes.string,
  lang: PropTypes.string,
  meta: PropTypes.arrayOf(PropTypes.object),
  title: PropTypes.string.isRequired,
}
export default SEO</pre>
<p>Gatsby最近推出了<code>useStaticQuery</code>，这是一个新功能，允许我们使用React Hooks来实时查询GraphQL。这允许我们的React组件通过GraphQL查询检索数据，该查询将被解析、评估并注入到组件中。</p>
<p>使用<code>useStaticQuery</code>钩子，我们从我们的<code>gatsby-config.js</code>中查询站点标题、描述和作者。上面的代码查询GraphQL API以获取网站的元数据，包括标题、描述和作者。然后它将标题传递到<code>title</code>道具和<code>meta</code>数组中。每个条目都有带元属性名的<code>name</code>和值的<code>content</code>。</p>
<p>元数据可以在<code>gatsby-config.js</code>文件中更改，而<code>SEO</code>组件可以在任何地方使用。</p>
<h2>在生产中部署</h2>
<p>现在，我们已经做好了一切工作，我们需要部署我们的网站，并使它活起来:</p>
<pre>gatsby build</pre>
<p>这将创建一个名为<code>public</code>的文件夹。<code>public</code>文件夹将包含准备在生产环境中部署的网站。你可以按照这个<a href="https://www.gatsbyjs.com/docs/deploying-and-hosting/">指南</a>在Netlify、Surge、AWS、Digital Ocean、Azure、GitLab、Heroku、Firebase等上进行部署。</p>
<h2>结论</h2>
<p>JAMstack相对较新，但可能性是无限的。这是一套新的新兴技术，采用率越来越高。它带来了构建web应用程序的新体验。</p><div class="code-block code-block-22">
<div class="blog-plug inline-plug ecomm-plug"><h2><a href="https://lp.logrocket.com/blg/ecommerce-signup"> LogRocket </a>:看看用户为什么不完成你的电子商务流程中的一个步骤的技术和UX原因。</h2><a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d60d88871d85e76e0dcca90f4bbaf78c.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/12/insights-step-2-lg.png"/></noscript></a><p>LogRocket 就像是一个网络和移动应用程序和网站的DVR，记录你的电子商务应用程序上发生的一切。LogRocket没有猜测用户不转化的原因，而是主动揭示了阻止你转化的根本原因，比如JavaScript错误或死点击。LogRocket还可以监控应用的性能，报告客户端CPU负载、客户端内存使用等指标。</p><p>开始主动监控您的电子商务应用程序— <a class="signup" href="https://lp.logrocket.com/blg/ecommerce-signup" target="_blank" rel="noopener noreferrer">免费试用</a>。</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>