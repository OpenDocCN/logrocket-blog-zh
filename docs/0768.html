<html>
<head>
<title>Faster than webpack: JavaScript bundling with esbuild - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>比webpack更快:与esbuild - LogRocket博客的JavaScript捆绑</h1>
<blockquote>原文：<a href="https://blog.logrocket.com/fast-javascript-bundling-with-esbuild/#0001-01-01">https://blog.logrocket.com/fast-javascript-bundling-with-esbuild/#0001-01-01</a></blockquote><div><div class="mainheading">

<div class="row post-top-meta hidden-md-down">

<div class="col-md-10 col-xs-12">
<a class="text-capitalize link-dark" href="https://blog.logrocket.com/author/ibrahimandaw/">
Ibrahima Ndaw <span class="btn follow">Follow</span></a>
<span class="author-description d-block">JavaScript enthusiast, full-stack developer, and blogger who also dabbles in UI/UX design.</span>
 </div>
</div>
<h1 class="posttitle">比webpack更快:用esbuild捆绑JavaScript</h1>
<h2 class="post-subtitle"/>
<p><span class="post-date"><time class="post-date">2020年4月2日</time> </span> <span class="dot"/> <span class="readingtime"> 2分钟读完</span> <span class="wordcount"> 561 </span> <span class="logrocket_editor"/></p>
</div>
<article class="article-post">
<p><a href="https://www.cs.cornell.edu/courses/cs3110/2019sp/textbook/modules/modular_programming.html" target="_blank" rel="noopener noreferrer">模块化编程</a>是一种软件设计技术，通过这种技术，程序的各种功能被细分为单独开发的代码模块。现代编程很大程度上依赖于模块化，这就是为什么你需要一个模块捆绑器来把所有独立的文件合并成一个文件。</p>
<p>JavaScript社区中有一些可用的捆绑器，比如<a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer"> WebPack </a>、<a href="https://rollupjs.org/guide/en/" target="_blank" rel="noopener noreferrer"> Rollup </a>和<a href="https://parceljs.org/" target="_blank" rel="noopener noreferrer">package</a>。然而，它们不够快，因为它们是用JavaScript构建的，众所周知，这在性能方面还有很多不足之处。幸运的是，有一个用Go构建的新捆绑器比其他捆绑器运行得更快。</p>
<p>在本指南中，我们将探索<a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener noreferrer"> esbuild </a>，这是一个JavaScript捆绑器和精简器，它打包JS代码以便在web上分发。我们将研究它如何能够如此快速地工作，并讨论为什么您应该在2020年及以后关注这个工具。</p>
<h2 id="whatisesbuildandwhyisitsofast">什么是esbuild，为什么它这么快？</h2>
<p>esbuild是由Evan Wallace创建的JavaScript bundler。代码本身是在考虑速度的情况下用Go编写的，显然开发人员尽可能地避免了不必要的分配。</p>
<h2 id="comparingesbuildtootherbundlersbenchmark">将esbuild与其他捆扎机进行比较(基准测试)</h2>
<p>esbuild完全并行解析、打印和源映射生成。所有这些特性结合起来使得esbuild非常快。也就是说，为了帮助您为下一个JavaScript项目选择最佳捆绑器，让我们将esbuild与市场上的其他工具进行比较。</p>
<p>为了对这些捆绑器进行基准测试，我将使用Wallace在他的<a href="https://github.com/evanw/esbuild" target="_blank" rel="noopener noreferrer"> GitHub repo </a>中发布的相同标准。这些数字可能会因计算机的不同而有所不同，但不会相差太多。</p>
<p>这里的用例是将<a href="https://threejs.org/" target="_blank" rel="noopener noreferrer"> Three.js </a>库复制10次，并将其捆绑到一个没有任何缓存的文件中。测试是在六核2019 MacBook Pro上进行的，内存为16gb。</p>
<p><img data-attachment-id="16192" data-permalink="https://blog.logrocket.com/fast-javascript-bundling-with-esbuild/javascript-bundler-benchmarking/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png" data-orig-size="655,229" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Benchmark comparison of JavaScript bundlers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking-300x105.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png" decoding="async" class="aligncenter size-full wp-image-16192 jetpack-lazy-image" src="../Images/d8d7603c4824baaf2e7e6736eeb0c4d0.png" alt="Benchmark Comparison of JavaScript Bundlers" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png 655w, https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking-300x105.png 300w" data-lazy-sizes="(max-width: 655px) 100vw, 655px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="16192" data-permalink="https://blog.logrocket.com/fast-javascript-bundling-with-esbuild/javascript-bundler-benchmarking/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png" data-orig-size="655,229" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Benchmark comparison of JavaScript bundlers" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking-300x105.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-16192" src="../Images/d8d7603c4824baaf2e7e6736eeb0c4d0.png" alt="Benchmark Comparison of JavaScript Bundlers" srcset="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png 655w, https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking-300x105.png 300w" sizes="(max-width: 655px) 100vw, 655px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/03/javascript-bundler-benchmarking.png"/></noscript>
<p>基准测试的结果令人震惊:由于使用了<a href="https://blog.logrocket.com/functional-programming-in-go/" target="_blank" rel="noopener noreferrer"> Go语言</a>，esbuild比其他捆绑软件快10到100倍。</p>
<p>顺便说一下，您可以在您的机器上运行这个基准测试，并亲自查看。安装<a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer"> Go语言工具链</a>并运行以下命令:</p>
<pre>make bench-three
</pre>
<h2 id="isesbuildproductionready">esbuild可以投入生产了吗？</h2>
<p>这位捆绑者的速度是无可争议的。但是它可以生产了吗？</p>
<p>目前，esbuild是一个小型开源项目；它是由一个人开发和维护的。这在很大程度上是设计使然。根据作者所说:“我个人并不想运行一个大型的开源项目，所以我现在并不寻求贡献。”</p>
<p>尽管这将不可避免地减慢工具的开发，但它已经是一个强大的捆绑器，对常见的JS模块、JSX到JavaScript的转换等提供了强大的支持。然而，它尚未用于生产；现在这样做是有风险的，很可能会发现一些错误。</p>
<p>也就是说，esbuild有巨大的潜力来简化JavaScript中捆绑模块的传统缓慢任务，值得在您的下一个项目中尝试。</p>
<h2 id="conclusion">结论</h2>
<p>如果没有别的，esbuild证明了我们当前的JavaScript构建工具不够快。鉴于esbuild和其他bundlers在性能方面的差距如此之大，我希望这个工具将有助于改进JS生态系统中的构建工具。</p>
<p>即使esbuild还没有准备好投入生产，它也是值得关注的。我强烈推荐查看Github repo 来更深入地了解文档。</p><div class="code-block code-block-27">
<div class="blog-plug inline-plug vanilla-javascript-cta"><h2>通过理解上下文，更容易地调试JavaScript错误</h2>
<p>调试代码总是一项单调乏味的任务。但是你越了解自己的错误，就越容易改正。</p>
<p>LogRocket 让你以新的独特的方式理解这些错误。我们的前端监控解决方案跟踪用户与您的JavaScript前端的互动，让您能够准确找出导致错误的用户行为。</p>
<a href="https://lp.logrocket.com/blg/javascript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/cbfed9be3defcb505e662574769a7636.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/reproduce-javascript-errors.gif"/></noscript></a>
<p>LogRocket记录控制台日志、页面加载时间、堆栈跟踪、慢速网络请求/响应(带有标题+正文)、浏览器元数据和自定义日志。理解您的JavaScript代码的影响从来没有这么简单过！</p>
<a class="signup" href="https://lp.logrocket.com/blg/javascript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>
 
</div>    
</body>
</html>